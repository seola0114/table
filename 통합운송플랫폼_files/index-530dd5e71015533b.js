try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="c3bf8cad-cc9e-4970-8c11-c5c6f454716b",e._sentryDebugIdIdentifier="sentry-dbid-c3bf8cad-cc9e-4970-8c11-c5c6f454716b")}catch(e){}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[332],{54897:function(e,t,a){"use strict";var l,r=a(11855);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},s.apply(null,arguments)}t.A=function(e){return r.createElement("svg",s({xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 24 24"},e),l||(l=r.createElement("path",{d:"m9.825 17.925-5.75-5.734a.24.24 0 0 1 0-.35l.78-.777c.1-.1.25-.1.35 0l4.86 4.847 8.73-8.836c.1-.1.25-.1.35 0l.78.778c.1.1.1.249 0 .349l-9.75 9.723c-.1.1-.25.1-.35 0"})))}},17314:function(e,t,a){"use strict";var l,r=a(11855);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},s.apply(null,arguments)}t.A=function(e){return r.createElement("svg",s({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},e),l||(l=r.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M20.75 4H17V2c0-.55-.45-1-1-1H8c-.55 0-1 .45-1 1v2H3.25c-.14 0-.25.11-.25.25v1.1c0 .14.11.25.25.25H4L5 21c0 .55.45 1 1 1h12c.55 0 1-.45 1-1l1-15.4h.75c.14 0 .25-.11.25-.25v-1.1c0-.14-.11-.25-.25-.25M8.6 2.6h6.8V4H8.6zm8.8 17.8H6.6l-1-14.8h12.8zM10.6 8H9v10h1.6zm2.8 0H15v10h-1.6z",clipRule:"evenodd"})))}},37372:function(e,t,a){"use strict";var l,r=a(11855);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},s.apply(null,arguments)}t.A=function(e){return r.createElement("svg",s({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},e),l||(l=r.createElement("path",{fill:"currentColor",d:"M21.95 11c-.5-5.05-4.79-9-9.99-9-2.9 0-5.52 1.23-7.36 3.2V3.25c0-.14-.11-.25-.25-.25h-1.1c-.14 0-.25.11-.25.25v4.5c0 .14.11.25.25.25h4.5c.14 0 .25-.11.25-.25v-1.1c0-.14-.11-.25-.25-.25H5.69a8.38 8.38 0 0 1 6.27-2.8c4.31 0 7.88 3.24 8.37 7.4a8.3 8.3 0 0 1 0 2c-.49 4.16-4.06 7.4-8.37 7.4s-7.76-3.13-8.35-7.19a.23.23 0 0 0-.24-.21H2.26a.26.26 0 0 0-.26.29C2.63 18.2 6.86 22 11.96 22s9.49-3.95 9.99-9c.03-.33.05-.66.05-1s-.02-.67-.05-1"})))}},33092:function(e,t,a){"use strict";var l,r=a(11855);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},s.apply(null,arguments)}t.A=function(e){return r.createElement("svg",s({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},e),l||(l=r.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M16.283 3.29 20.7 7.707l.01.01c.19.18.29.44.29.7v11.584c0 .55-.45.999-1 .999H4c-.55 0-1-.45-1-1V4c0-.55.45-1 1-1h11.583c.26 0 .51.1.7.29m-2.889 4.108V4.599H8.597v2.799zM4.6 19.39h14.792V8.657l-4.058-4.058h-.34v3.398c0 .55-.45 1-1 1H7.998c-.55 0-1-.45-1-1V4.6H4.6zm4.398-5.397c0-1.66 1.339-2.998 2.998-2.998s2.998 1.339 2.998 2.998-1.339 2.998-2.998 2.998a2.994 2.994 0 0 1-2.998-2.998m1.599 0c0 .77.63 1.4 1.399 1.4.77 0 1.4-.63 1.4-1.4s-.63-1.4-1.4-1.4-1.4.63-1.4 1.4",clipRule:"evenodd"})))}},73639:function(e,t,a){"use strict";var l,r=a(11855);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},s.apply(null,arguments)}t.A=function(e){return r.createElement("svg",s({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},e),l||(l=r.createElement("path",{fill:"currentColor",d:"m20.93 19.8-5.45-5.45C16.44 13.16 17 11.65 17 10c0-3.87-3.13-7-7-7s-7 3.13-7 7 3.13 7 7 7c1.65 0 3.16-.56 4.35-1.52l5.45 5.45c.09.09.25.09.35 0l.78-.78c.09-.1.09-.26 0-.35M10 15.4c-2.98 0-5.4-2.42-5.4-5.4S7.02 4.6 10 4.6s5.4 2.42 5.4 5.4c0 1.2-.39 2.31-1.06 3.21-.32.43-.7.81-1.13 1.13-.9.67-2.01 1.06-3.21 1.06"})))}},31627:function(e,t,a){"use strict";var l,r=a(11855);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},s.apply(null,arguments)}t.A=function(e){return r.createElement("svg",s({xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 14 14"},e),l||(l=r.createElement("path",{d:"M10.296 5.49 7.11 9.204a.143.143 0 0 1-.222 0L3.704 5.489c-.081-.093-.011-.239.111-.239h6.376c.122 0 .186.146.11.24z"})))}},87881:function(e,t,a){"use strict";var l,r=a(11855);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},s.apply(null,arguments)}t.A=function(e){return r.createElement("svg",s({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},e),l||(l=r.createElement("path",{fill:"currentColor",d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m4.93 13.79c.09.1.09.26 0 .36l-.78.78c-.1.09-.26.09-.36 0L12 13.14l-3.79 3.79c-.1.09-.26.09-.36 0l-.78-.78a.274.274 0 0 1 0-.36L10.86 12 7.07 8.21a.274.274 0 0 1 0-.36l.78-.78c.1-.09.26-.09.36 0L12 10.86l3.79-3.79c.1-.09.26-.09.36 0l.78.78c.09.1.09.26 0 .36L13.14 12z"})))}},56901:function(e,t,a){"use strict";var l,r=a(11855);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},s.apply(null,arguments)}t.A=function(e){return r.createElement("svg",s({xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 24 24"},e),l||(l=r.createElement("path",{d:"m9.825 17.925-5.75-5.734a.24.24 0 0 1 0-.35l.78-.777c.1-.1.25-.1.35 0l4.86 4.847 8.73-8.836c.1-.1.25-.1.35 0l.78.778c.1.1.1.249 0 .349l-9.75 9.723c-.1.1-.25.1-.35 0"})))}},48825:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return a(7176)}])},75101:function(e,t,a){"use strict";a.d(t,{v:function(){return l}});const l={toOrderDispatchSubmit:e=>{const t=[...e],{purchaseList:a,salesList:l,purchaseTotal:r,salesTotal:s}=e.reduce(((e,t)=>{const a="SALES"===t.type?"salesCostType":"purchaseCostType",l={...t,finalAmount:t.rateAmount,actualAmount:t.rateAmount,[a]:t.costCode},r=Number(t.rateAmount||0);return"PURCHASE"===t.type?(e.purchaseList.push(l),e.purchaseTotal+=r):"SALES"===t.type&&(e.salesList.push(l),e.salesTotal+=r),e}),{purchaseList:[],salesList:[],purchaseTotal:0,salesTotal:0});return{purchaseTotalExtraAmount:r,salesTotalExtraAmount:s,transferRateInfoExtraList:t,purchaseTransferRateInfoExtraList:a,salesTransferRateInfoExtraList:l}}}},38662:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});var l=a(11855),r=a(12417);function s(e){let{mutationKey:t="GetCommonMdmAdminList",inputValue:a,isFocused:s}=e;const[n,o]=(0,l.useState)([]),{isSuccess:i,mutateAsync:d,data:c}=(0,r.Ic)(t),u=(0,l.useCallback)((async e=>{e?await d({keyword:e,isContainCoordinate:!0}):o([])}),[d]);return(0,l.useEffect)((()=>{if(!s)return;const e=setTimeout((()=>{u(a)}),300);return()=>clearTimeout(e)}),[a,s]),(0,l.useEffect)((()=>{if(i){let e=[];e=c.map(((e,t)=>({id:t,label:e.address1,...e}))),o(e)}}),[i,c]),{options:n,setOptions:o}}},29219:function(e,t,a){"use strict";a.d(t,{a:function(){return s}});var l=a(11855),r=a(12417);function s(){const{isSuccess:e,data:t}=(0,r.fB)({page:0});return{mdmAdminOptions:(0,l.useMemo)((()=>e&&t.itemList?((null==t?void 0:t.itemList)||[]).map((e=>({id:e.mdmEmpNo,label:"".concat(e.name,"(").concat(e.mdmEmpNo,")"),tag:e.name,empNo:e.mdmEmpNo}))):[]),[t])}}},82510:function(e,t,a){"use strict";a.d(t,{V:function(){return s}});var l=a(11855),r=a(12417);function s(e){let{mutationKey:t,mdmStatusType:a,isActived:s,requestProps:n}=e;const{mutateAsync:o,isSuccess:i,data:d,isLoading:c}=(0,r.NN)(t),u=(0,l.useMemo)((()=>i&&d.itemList?((null==d?void 0:d.itemList)||[]).map((e=>({id:e.vendorId,label:"".concat(e.name,"(").concat(e.mdmCode,"/").concat(e.representativeName,"/").concat(e.registrationNumber,")"),tag:e.name}))):[]),[d]),m=async()=>{const e={page:0,...n};a&&(e.mdmStatusType=a),await o(e)};return(0,l.useLayoutEffect)((()=>{s&&m()}),[s]),{vendorOptions:u,isLoadingVendorPartnerList:c,dataVendorPartnerList:d,handleSearch:m}}},12417:function(e,t,a){"use strict";a.d(t,{DS:function(){return C},EX:function(){return y},Gc:function(){return p},Hx:function(){return b},IX:function(){return I},Ic:function(){return i},Ij:function(){return c},NN:function(){return d},QK:function(){return A},Tr:function(){return o},Ui:function(){return m},V_:function(){return f},X7:function(){return R},a$:function(){return v},bt:function(){return x},cJ:function(){return T},fB:function(){return h},fu:function(){return n},jb:function(){return N},lM:function(){return u},rW:function(){return g},x0:function(){return E}});var l=a(45476),r=a(32312),s=a(83445);const n=e=>{let{mutationKey:t="MetaAllV2"}=e;return(0,l.n)([t],(async e=>(await s.q.api((t=>t.ApiCommonV2MetaAll(e)))).data.result))},o=()=>(0,r.I)(["MetaAllKeyV2"],(async()=>(await s.q.api((e=>e.ApiCommonV2MetaAllKeys()))).data.result)),i=e=>(0,l.n)([null!=e?e:"CustomerPlaceSearchAddress"],(async e=>(await s.q.api((t=>t.ApiCommonV1SearchAddress(e)))).data.result)),d=e=>(0,l.n)([null!=e?e:"VendorPartnerList"],(async e=>(await s.q.api((t=>t.ApiVendorV1CommonList(e)))).data.result)),c=e=>{let{request:t,enabled:a=!0}=e;return(0,r.I)({queryKey:["useCustomerListQuery/CustomerList",t],queryFn:async()=>(await s.q.api((e=>e.ApiCustomerV1CommonList(t)))).data.result,staleTime:18e4,cacheTime:18e4,enabled:a})},u=()=>(0,l.n)(["useCustomerCommonListMultiMutation"],(async e=>(await s.q.api((t=>t.ApiCustomerV1CommonListMulti(e)))).data.result)),m=e=>(0,r.I)({queryKey:["useCustomerCommonListMultiQuery",e],queryFn:async()=>{if(!e)throw new Error("request가 필요합니다.");return(await s.q.api((t=>t.ApiCustomerV1CommonListMulti(e)))).data.result},enabled:!0}),p=e=>(0,l.n)([null!=e?e:"MdmItemListMutation"],(async e=>(await s.q.api((t=>t.ApiCommonV1MdmItemList(e)))).data.result)),h=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return(0,r.I)({queryKey:["useSearchAdminList/MdmAdminList",e],queryFn:async()=>(await s.q.api((t=>t.ApiCommonV1MdmAdminList(e)))).data.result,staleTime:18e4,cacheTime:18e4,enabled:t})},f=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return(0,r.I)({queryKey:["useManagerList/ManagerList"],queryFn:async()=>(await s.q.api((e=>e.ApiAdminV1UserList()))).data.result,staleTime:18e4,cacheTime:18e4,enabled:e})},C=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return(0,r.I)({queryKey:["useGetAdminUserList/HeadAdminList"],queryFn:async()=>(await s.q.api((e=>e.ApiAdminV1HeadList()))).data.result,staleTime:18e4,cacheTime:18e4,enabled:e})},x=()=>(0,l.n)(["useMdmCorporationListMutation"],(async e=>(await s.q.api((t=>t.ApiCommonV1MdmCorporationList(e)))).data.result)),N=()=>(0,l.n)(["MemberSearch"],(async e=>(await s.q.api((t=>t.ApiCommonV1MdmCustomerList(e)))).data.result)),y=()=>(0,l.n)(["useSearchCommonMdmNodeListMutation"],(async e=>(await s.q.api((t=>t.ApiCommonV1MdmNodeList(e)))).data.result)),E=()=>(0,l.n)(["useCustomerPlaceAvailableNodeListMutation"],(async e=>(await s.q.api((t=>t.ApiV1CustomerPlaceAvailableNode(e)))).data.result)),v=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return(0,r.I)({queryKey:["useServiceCodeList/HeadAdminList"],queryFn:async e=>(await s.q.api((t=>t.ApiCommonV1SettlementServiceCode(e)))).data.result,staleTime:18e4,cacheTime:18e4,enabled:e})},A=()=>(0,l.n)(["usePurchaseMdmCostCenterListMutation"],(async e=>(await s.q.api((t=>t.ApiCommonV1PurchaseMdmCostCenterList(e)))).data.result)),g=()=>(0,l.n)(["useVendorCommonListMultiMutation"],(async e=>(await s.q.api((t=>t.ApiVendorV1CommonListMulti(e)))).data.result)),T=e=>(0,l.n)([null!=e?e:"useVendorVehicleMonthlyMutation"],(async e=>(await s.q.api((t=>t.ApiVendorVehicleV1MonthlyList(e)))).data.result)),I=e=>(0,l.n)([null!=e?e:"usePurchaseGlAccountTypeMutation"],(async()=>(await s.q.api((e=>e.ApiCommonV1PurchaseGlAccountType()))).data.result)),b=e=>(0,l.n)([null!=e?e:"useSalesGlAccountTypeMutation"],(async()=>(await s.q.api((e=>e.ApiCommonV1SalesGlAccountType()))).data.result)),R=e=>(0,l.n)([null!=e?e:"useGetVendorListMutation"],(async e=>(await s.q.api((t=>t.ApiCommonV1MdmVendorList(e)))).data.result))},59238:function(e,t,a){"use strict";a.d(t,{X:function(){return n}});var l=a(7694),r=a(82923),s=a(98404);const n=(0,r.vt)()((0,l.a)(((e,t)=>({commonMetaV2List:{},setCommonMetaV2List:async a=>{var l,r;const n=Object.entries(a).reduce(((e,t)=>{let[a,l]=t;return e[a]=l.map((e=>({id:e.key,label:e.value}))),e}),{});n[s.k.DAY_CODE]=null===(l=n[s.k.DAY_CODE])||void 0===l?void 0:l.sort(((e,t)=>"말일"===e.id?-1:"말일"===t.id?1:Number(e.id)-Number(t.id))),e({commonMetaV2List:{...null===(r=t())||void 0===r?void 0:r.commonMetaV2List,...n}})},commonCustomerInfoOption:[],setCommonCustomerInfoOption:t=>{e({commonCustomerInfoOption:t})},commonCustomerAllInfoOption:[],setCommonCustomerAllInfoOption:t=>{e({commonCustomerAllInfoOption:t})},commonVendorInfoOption:[],setCommonVendorInfoOption:t=>{e({commonVendorInfoOption:t})},commonServiceInfoOption:[],setCommonServiceInfoOption:t=>{e({commonServiceInfoOption:t})},commonMdmItemInfoOption:[],setCommonMdmItemInfoOption:t=>{e({commonMdmItemInfoOption:t})},getMetaLabel:(e,a)=>{const l=(t().commonMetaV2List[e]||[]).find((e=>e.id===a));return(null==l?void 0:l.label)||(null==l?void 0:l.value)||(null==l?void 0:l.commonCodeName)||""}})),{name:"MetaAllStore"}))},98404:function(e,t,a){"use strict";var l;a.d(t,{k:function(){return l}}),function(e){e.CONTRACT_STATUS_CODE="CONTRACT_STATUS_CODE",e.ROUND_UP_DOWN_CODE="ROUND_UP_DOWN_CODE",e.TAX_TYPE_CODE="TAX_TYPE_CODE",e.ITEM_CODE="ITEM_CODE",e.GL_CATEGORY_CODE="GL_CATEGORY_CODE",e.PAYMENT_CONDITION_CODE="PAYMENT_CONDITION_CODE",e.NODE_CODE="NODE_CODE",e.RATE_CATEGORY_CODE="RATE_CATEGORY_CODE",e.VEHICLE_TON_CODE="VEHICLE_TON_CODE",e.CONTRACT_TERMINATION_REASON_CODE="CONTRACT_TERMINATION_REASON_CODE",e.CONTRACT_CANCEL_TERMINATION_REASON_CODE="CONTRACT_CANCEL_TERMINATION_REASON_CODE",e.VAT_ROUND_UP_DOWN_CODE="VAT_ROUND_UP_DOWN_CODE",e.DAY_CODE="DAY_CODE",e.MATERIAL_CODE="MATERIAL_CODE",e.APPROVAL_SECTOR_CODE="APPROVAL_SECTOR_CODE",e.SETTLEMENT_WND_REFERENCE_CODE="SETTLEMENT_WND_REFERENCE_CODE",e.INDUSTRY_CODE="INDUSTRY_CODE",e.COMMON_MDM_CORPORATION_CODE="COMMON_MDM_CORPORATION_CODE",e.COMMON_MDM_PAYMENT_CONDITION_SALES_CODE="COMMON_MDM_PAYMENT_CONDITION_SALES_CODE",e.COMMON_MDM_PAYMENT_CONDITION_PURCHASE_CODE="COMMON_MDM_PAYMENT_CONDITION_PURCHASE_CODE",e.CONTRACT_CATEGORY_CODE="CONTRACT_CATEGORY_CODE",e.OPERATION_CLASSIFICATION_CODE="OPERATION_CLASSIFICATION_CODE",e.EQUIPMENT_CLASSIFICATION_CODE="EQUIPMENT_CLASSIFICATION_CODE",e.COMMON_MDM_COST_CENTER_PURCHASE_CODE="COMMON_MDM_COST_CENTER_PURCHASE_CODE",e.COMMON_MDM_COST_CENTER_SALES_CODE="COMMON_MDM_COST_CENTER_SALES_CODE",e.COMMON_VENDOR_CODE="COMMON_VENDOR_CODE",e.COMMON_CUSTOMER_CODE="COMMON_CUSTOMER_CODE",e.APPROVAL_STATUS_TYPE="APPROVAL_STATUS_TYPE",e.BUSINESS_SIZE_TYPE="BUSINESS_SIZE_TYPE",e.LOAD_LIMIT_TYPE="LOAD_LIMIT_TYPE",e.COMMON_GROUP_CODE_TYPE="COMMON_GROUP_CODE_TYPE",e.CUSTOMER_TYPE="CUSTOMER_TYPE",e.FSC_STATUS_TYPE="FSC_STATUS_TYPE",e.TAX_TYPE="TAX_TYPE",e.VEHICLE_TYPE="VEHICLE_TYPE",e.MDM_STATUS_TYPE="MDM_STATUS_TYPE",e.LOAD_UNLOAD_TYPE="LOAD_UNLOAD_TYPE",e.LOAD_UNLOAD_METHOD_TYPE="LOAD_UNLOAD_METHOD_TYPE",e.VENDOR_TYPE="VENDOR_TYPE",e.BUSINESS_TYPE="BUSINESS_TYPE",e.HISTORY_CRUD_TYPE="HISTORY_CRUD_TYPE",e.CUSTOMER_ID="customerId",e.VENDOR_ID="vendorId",e.CONTRACT_CATEGORY_TYPE="CONTRACT_CATEGORY_TYPE",e.SALES_COST_TYPE="SALES_COST_TYPE",e.PURCHASE_COST_TYPE="PURCHASE_COST_TYPE",e.PURCHASE_GL_ACCOUNT_TYPE="PURCHASE_GL_ACCOUNT_TYPE",e.ORDER_STATUS_TYPE="ORDER_STATUS_TYPE",e.MANUAL_APPROVAL_STATUS_TYPE="MANUAL_APPROVAL_STATUS_TYPE",e.WND_REFERENCE_TYPE="WND_REFERENCE_TYPE",e.BANK_TYPE_CODE="BANK_TYPE_CODE",e.SETTLEMENT_MANAGER_SEARCH_TYPE="SETTLEMENT_MANAGER_SEARCH_TYPE",e.SALES_UN_BILLING_REASON_TYPE="SALES_UN_BILLING_REASON_TYPE",e.VENDOR_FI_TYPE="VENDOR_FI_TYPE",e.CUSTOMER_FI_TYPE="CUSTOMER_FI_TYPE",e.SALES_VAT_TYPE="SALES_VAT_TYPE",e.PURCHASE_VAT_TYPE="PURCHASE_VAT_TYPE",e.COMMON_MDM_COST_CENTER_CODE="COMMON_MDM_COST_CENTER_CODE",e.SALES_DOCUMENT_TYPE="SALES_DOCUMENT_TYPE",e.SERVICE_TYPE="SERVICE_TYPE",e.GOV_GRAIN_PACKAGE_UNIT_TYPE="GOV_GRAIN_PACKAGE_UNIT_TYPE",e.GOV_GRAIN_REGION_TYPE="GOV_GRAIN_REGION_TYPE",e.GOV_GRAIN_TRANSPORT_TYPE="GOV_GRAIN_TRANSPORT_TYPE",e.GOV_GRAIN_ITEM_DETAIL_TYPE="GOV_GRAIN_ITEM_DETAIL_TYPE",e.GOV_GRAIN_REGION_SUB_TYPE="GOV_GRAIN_REGION_SUB_TYPE",e.GOV_GRAIN_USAGE_TYPE="GOV_GRAIN_USAGE_TYPE",e.GOV_GRAIN_CREATION_CHANNEL_TYPE="GOV_GRAIN_CREATION_CHANNEL_TYPE",e.DOCUMENT_TYPE="DOCUMENT_TYPE",e.COMMON_MDM_COST_CENTER_CATEGORY_CODE="COMMON_MDM_COST_CENTER_CATEGORY_CODE",e.UN_BILLING_STANDARD_TYPE="UN_BILLING_STANDARD_TYPE",e.UN_BILLING_STANDARD_DETAIL_TYPE="UN_BILLING_STANDARD_DETAIL_TYPE",e.UN_BILLING_STANDARD_REASON_TYPE="UN_BILLING_STANDARD_REASON_TYPE",e.TEMPERATURE_TYPE="TEMPERATURE_TYPE",e.SETTLEMENT_DAY_TYPE="SETTLEMENT_DAY_TYPE",e.COMMON_MDM_SERVICE_CODE="COMMON_MDM_SERVICE_CODE",e.COMMON_MDM_SERVICE2_CODE="COMMON_MDM_SERVICE2_CODE",e.CUSTOMER_AND_VENDOR_TYPE="CUSTOMER_AND_VENDOR_TYPE"}(l||(l={}))},4988:function(e,t,a){"use strict";var l;a.d(t,{_:function(){return l}}),function(e){e.CUSTOM_DATE="customDate",e.CUSTOM_SELECT="customSelect",e.CUSTOM_SELECT_FREE_SOLO_WITH_EDITABLE="customSelectFreeSoloWithEditable",e.CUSTOM_SELECT_TIME="customSelectTime",e.CUSTOM_NODE_MODAL="customNodeModal",e.CUSTOM_ADDRESS="customAddress",e.CUSTOM_CUSTOMER="customCustomer",e.CUSTOM_Y_OR_N="customYorN",e.CUSTOM_INPUT_TEXT="customInputText",e.CUSTOM_INPUT_NUMBER="customInputNumber",e.CUSTOM_INPUT_NUMBER_DEMICAL="customInputNumberDecimal",e.VIEW_MODE_DATE="viewModeDate",e.VIEW_MODE_PHONE_NUMBER="viewModePhoneNumber",e.VIEW_MODE_YYYYMMDD="YYYY-MM-DD",e.VIEW_MODE_YYYYMMDDHHMM="YYYY-MM-DD hh:mm",e.VIEW_MODE_YYYYMMDD_DDD="YYYY-MM-DD ddd",e.VIEW_MODE_YYYYMMDD_HH_MM_SS="YYYY-MM-DD HH:mm:ss",e.VIEW_MODE_Y_OR_N="viewModeYorN",e.VIEW_MODE_ALL_META="viewModeAllMeta",e.VIEW_MODE_VEHICLE_TON="viewModeVehicleTon",e.VIEW_MODE_ID="viewModeId"}(l||(l={}))},56393:function(e,t,a){"use strict";a.d(t,{q:function(){return s}});var l=a(78353),r=a(31592);class s{static formatAddress(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return[null!=e?e:"",null!=t?t:"",null!=a?a:""].filter((e=>""!==e.trim())).join(" ")}static toList(e){return e&&e.customerPlaceInfoList?e.customerPlaceInfoList.map(((e,t)=>{const a=e.addressInfo?e.addressInfo:l.zZ;var s,n,o,i,d;return{__check__:!1,id:t+1,addressInfo:a,basicAddress:this.formatAddress(null==a?void 0:a.roadAddress1,null==a?void 0:a.roadAddress2,""),detailAddress:null!==(s=a.detailAddress)&&void 0!==s?s:"",postCode:null!==(n=a.zipCode)&&void 0!==n?n:"",phoneNumber:(0,r._v)(e.phoneNumber),managerPhoneNumber:(0,r._v)(e.managerPhoneNumber),smsReceiptStatus:e.isReceiveSms?"Y":"N",deliveryTimeFixed:e.isDeliveryTimeFixed?"Y":"N",lat:null!==(o=a.lat)&&void 0!==o?o:0,lng:null!==(i=a.lng)&&void 0!==i?i:0,zipCode:null!==(d=a.zipCode)&&void 0!==d?d:"",city:a.city,state:a.state,country:a.country,oldAddress:this.formatAddress(null==a?void 0:a.address1,null==a?void 0:a.address2,a.detailAddress),newAddress:this.formatAddress(null==a?void 0:a.roadAddress1,null==a?void 0:a.roadAddress2,a.detailAddress),isError:!1,...e,name:e.name.slice(0,20)}})):[]}}},78353:function(e,t,a){"use strict";a.d(t,{Ni:function(){return r},bl:function(){return s},zZ:function(){return l}});const l={address1:"",address2:"",roadAddress1:"",roadAddress2:"",detailAddress:"",zipCode:"",admCode:"",lat:0,lng:0},r={__check__:!1,id:0,customerPlaceId:void 0,customerId:0,customerName:"",name:"",addressInfo:l,basicAddress:"",detailAddress:"",nodeName:"",nodeId:0,loadUnloadType:"",loadUnloadTypeName:"",managerName:"",phoneNumber:"",managerPhoneNumber:"",smsReceiptStatus:"N",vehicleTypeCode:"",tonLimitCode:"",loadLimitType:"",loadUnloadMethodType:"",deliveryTimeFixed:"N",deliveryStartTime:"",deliveryEndTime:"",customerOperatingTime:"",lat:0,lng:0,city:"",state:"",country:"",zipCode:"",newAddress:"",oldAddress:"",isError:!1},s={customerId:0,clientName:"",loadUnloadType:"",detailAddress:""}},12948:function(e,t,a){"use strict";a.d(t,{EY:function(){return s},Fc:function(){return n},GV:function(){return o},Q2:function(){return d},lE:function(){return i}});var l=a(45476),r=a(83445);const s=()=>(0,l.n)(["useGovGrainInstructionListMutation"],(async e=>(await r.q.api((t=>t.ApiV1GovGrainInstructionList(e)))).data.result)),n=()=>(0,l.n)(["useGovGrainInstructionDeleteMutation"],(async e=>(await r.q.api((t=>t.ApiV1GovGrainInstructionDelete(e)))).data.result)),o=()=>(0,l.n)(["useGovGrainInstructionExcelUploadMutation"],(async e=>(await r.q.api((t=>t.ApiV1GovGrainInstructionExcelUpload(e)))).data.result)),i=()=>(0,l.n)(["useGovGrainInstructionExcelValidateMutation"],(async e=>(await r.q.api((t=>t.ApiV1GovGrainInstructionExcelValidate(e)))).data.result)),d=()=>(0,l.n)(["useGovGrainInstructionExcelSaveMutation"],(async e=>(await r.q.api((t=>t.ApiV1GovGrainInstructionExcelSave(e)))).data.result))},53467:function(e,t,a){"use strict";a.d(t,{AA:function(){return n},Tt:function(){return i},e6:function(){return s},nP:function(){return l},qW:function(){return r},z9:function(){return o}});const l={contractSalesName:"",contractSalesId:""},r={departureNodeCode:"",departureNodeName:"",departureNodeAddress:"",departureUserAddress:"",departureCustomerPlaceId:null,arrivalNodeCode:"",arrivalNodeName:"",arrivalNodeAddress:"",arrivalUserAddress:"",arrivalCustomerPlaceId:null,orderItemCode:"",requestVehicleType:"",requestVehicleTonCode:"",purchaseInfoRateCode:"",departureManagerName:"",departureManagerPhoneNumber:"",arrivalManagerName:"",arrivalManagerPhoneNumber:""},s={orderCorporationCode:"",salesCostCenterCode:"",purchaseCostCenterCode:""},n={},o={vendorVehicleId:null,equipmentManageNo:"",vendorVehiclePlateNumber:"",vendorVehicleDriverUserName:"",vendorVehicleDriverUserPhoneNumber:"",vendorType:""},i={govGrainRegionType:"",govGrainRegionSubType:"",govGrainItemDetailType:"",govGrainUsageType:"",govGrainPackageUnitType:"",govGrainTransportType:"",govGrainInstructionId:"",govGrainCreationChannelType:""}},87727:function(e,t,a){"use strict";a.d(t,{i:function(){return l}});const l=(e,t)=>e.reduce(((e,a)=>(e[a]=t,e)),{})},39263:function(e,t,a){"use strict";a.d(t,{$0:function(){return C},AW:function(){return f},Eq:function(){return h},Yf:function(){return u},bJ:function(){return m},hM:function(){return p},v2:function(){return c}});var l=a(46377),r=a(59300),s=a.n(r);const n="DEPARTURE",o="ARRIVAL",i=(e,t)=>({...e.find((e=>{let{placeType:a}=e;return a===t}))}),d=e=>{const{nodeCode:t,name:a,nodeAddress:l,userAddress:r,loadUnloadMethodType:s,managerName:n,managerPhoneNumber:o,customerPlaceId:i=null}=e;return{nodeCode:t,name:a,nodeAddress:l,userAddress:r,loadUnloadMethodType:s,managerName:n,managerPhoneNumber:o,customerPlaceId:i}},c=e=>{if(!Array.isArray(e)||!e.length)throw new Error("유효하지 않은 상하차지 정보입니다.");const t=i(e,n),a=i(e,o),l=(e=>e.filter((e=>{let{placeType:t}=e;return"WAYPOINT"===t})))(e);if(!t||!a)throw new Error("상차지 또는 하차지 정보를 찾을 수 없습니다.");const r=d(t),s=(e=>{const{arrivalRequestDate:t,arrivalRequestTime:a,quantity:l,weight:r,itemCode:s}=e;return{arrivalRequestDate:t,arrivalRequestTime:a,quantity:l,weight:r,itemCode:s}})(t),c=d(a),u=(e=>{const{arrivalRequestDate:t,arrivalRequestTime:a}=e;return{arrivalRequestDate:t,arrivalRequestTime:a}})(a);return{departureOrderSalesPlaceInfo:t,arrivalOrderSalesPlaceInfo:a,waypointPlaceInfoList:l,departureNodeCode:"".concat(r.nodeCode,"-").concat(r.customerPlaceId),arrivalNodeCode:"".concat(c.nodeCode,"-").concat(c.customerPlaceId),departureNodeName:r.name,departureNodeAddress:r.nodeAddress,departureUserAddress:r.userAddress,departureCustomerPlaceId:r.customerPlaceId,arrivalNodeName:c.name,arrivalNodeAddress:c.nodeAddress,arrivalUserAddress:c.userAddress,arrivalCustomerPlaceId:c.customerPlaceId,departureRequestDate:s.arrivalRequestDate,departureRequestTime:s.arrivalRequestTime,arrivalRequestDate:u.arrivalRequestDate,arrivalRequestTime:u.arrivalRequestTime,orderItemCode:s.itemCode,orderQuantity:s.quantity,orderWeight:s.weight,departureLoadUnloadMethodType:r.loadUnloadMethodType,arrivalLoadUnloadMethodType:c.loadUnloadMethodType,departureManagerName:r.managerName,departureManagerPhoneNumber:r.managerPhoneNumber,arrivalManagerName:c.managerName,arrivalManagerPhoneNumber:c.managerPhoneNumber}},u=e=>{const{departureOrderSalesPlaceInfo:t,arrivalOrderSalesPlaceInfo:a,waypointPlaceInfoList:l,departureNodeCode:r,arrivalNodeCode:n,departureNodeName:o,departureNodeAddress:i,departureUserAddress:d,departureCustomerPlaceId:c,arrivalNodeName:u,arrivalNodeAddress:m,arrivalUserAddress:p,arrivalCustomerPlaceId:h,departureRequestDate:f,departureRequestTime:C,arrivalRequestDate:x,arrivalRequestTime:N,orderItemCode:y,orderQuantity:E,orderWeight:v,departureLoadUnloadMethodType:A,arrivalLoadUnloadMethodType:g,departureManagerName:T,departureManagerPhoneNumber:I,arrivalManagerName:b,arrivalManagerPhoneNumber:R}=e,S={departureRequestDate:s()(f).format("YYYY-MM-DD"),departureRequestTime:C,arrivalRequestDate:s()(x).format("YYYY-MM-DD"),arrivalRequestTime:N};return[{...t,arrivalRequestDate:S.departureRequestDate,arrivalRequestTime:S.departureRequestTime,quantity:E,loadUnloadMethodType:A,weight:v,itemCode:y,nodeCode:r.split("-")[0],name:o,nodeAddress:i,userAddress:d,customerPlaceId:c,managerName:T,managerPhoneNumber:I},...l,{...a,arrivalRequestDate:S.arrivalRequestDate,arrivalRequestTime:S.arrivalRequestTime,loadUnloadMethodType:g,nodeCode:n.split("-")[0],name:u,nodeAddress:m,userAddress:p,customerPlaceId:h,managerName:b,managerPhoneNumber:R}]},m=(e,t)=>{const a=(e,t)=>e.map((e=>{const a="PURCHASE"===t?e.purchaseCostType:e.salesCostType;return{...e,costCode:a,type:t}}));return[...a(e,"PURCHASE"),...a(t,"SALES")].sort(((e,t)=>e.createdAt-t.createdAt)).map(((e,t)=>({...e,no:t+1})))},p=(e,t)=>{const a={};for(const l of Object.keys(e)){const r=l.charAt(0).toUpperCase()+l.slice(1);a["".concat(t).concat(r)]=e[l]}return a},h=(e,t,a)=>{const l={};for(const r of Object.keys(e)){const s=a+r.charAt(0).toUpperCase()+r.slice(1);l[r]=s in t?t[s]:e[r]}return l},f=(e,t)=>{let{fields:a=[],prefixes:l=[]}=t;return Object.fromEntries(Object.entries(e).filter((e=>{let[t]=e;const r=a.includes(t),s=l.some((e=>t.startsWith(e)));return!r&&!s})))},C=e=>((0,l.N_)(null,e),{salesInfoActualAmount:(0,l.N_)(null,e),salesInfoFinalAmount:(0,l.N_)(null,e)})},30117:function(e,t,a){"use strict";a.d(t,{CV:function(){return d},P8:function(){return c},bs:function(){return p},kQ:function(){return m},z1:function(){return u}});var l=a(39263),r=a(59300),s=a.n(r),n=a(31592),o=a(30429),i=a(53467);const d=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"DEPARTURE";const t=s()().format("YYYY-MM-DD"),a=s()((0,n.Z5)(new Date,30)).format("HH:mm");let l="PICKUP";switch(e){case"ARRIVAL":l="DROP";break;case"WAYPOINT":l="PICKUP"}return{arrivalAt:null,arrivalRequestDate:t,arrivalRequestTime:a,departureAt:null,departureRequestDate:t,departureRequestTime:a,isReceiveSms:!1,itemCode:"",itemName:"",loadUnloadMethodType:"FORKLIFT",loadUnloadType:l,managerName:null,managerPhoneNumber:null,name:"",nodeCode:"",phoneNumber:null,placeType:e,quantity:"1",sequence:0,weight:"1",nodeAddress:"",userAddress:""}},c=function(){const e={orderStatusType:"DISPATCH_REQUEST",contractCategoryType:"SECTION",contractPurchaseId:"",contractSalesId:"",customerId:arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",distance:0,estimateDistance:"0",inclusionPurchaseSettlement:"INCLUDE",loadQuantity:0,orderCorporationCode:"",orderSalesPlaceInfoList:[d("DEPARTURE"),d("ARRIVAL")],purchaseCostCenterCode:"",purchaseTransferRateInfo:{actualAmount:"0",costCode:"0",createdAt:null,finalAmount:"0",isExtra:!1,quantity:"1",rateAmount:"0",rateCode:null,remark:null},salesTransferRateInfo:{actualAmount:"0",costCode:"0",createdAt:null,finalAmount:"0",isExtra:!1,quantity:"1",rateAmount:"0",rateCode:null,remark:null},requestVehicleNumber:"1",requestVehicleTonCode:null,requestVehicleType:null,salesCostCenterCode:"",salesRateCode:"",vendorId:null,vendorVehicleId:null,vesselName:null};return t=e,{...t,...(0,l.v2)(t.orderSalesPlaceInfoList),...(0,l.hM)(t.purchaseTransferRateInfo||{actualAmount:"0",costCode:"0",createdAt:null,finalAmount:"0",isExtra:!1,quantity:"0",rateAmount:"0",rateCode:null,remark:null},"purchaseInfo"),...(0,l.hM)(t.salesTransferRateInfo||{actualAmount:"0",costCode:"0",createdAt:null,finalAmount:"0",isExtra:!1,quantity:"0",rateAmount:"0",rateCode:null,remark:null},"salesInfo")};var t},u=function(){return{rateType:"trans",amount:"0",note:"",type:arguments.length>0&&void 0!==arguments[0]?arguments[0]:"SALES",actualAmount:"0",costCode:"TRANSPORT_FEE",createdAt:null,finalAmount:0,isExtra:!0,quantity:1,rateAmount:"0",rateCode:null,remark:null}},m=e=>{const t=s()(),a=s()(e.departureRequestDate||new Date),l=s()(e.arrivalRequestDate||new Date),r=a.diff(t,"day");"날짜 차이: ".concat(r,"일");const n=l.subtract(r,"day");return"하차일자: ".concat(n),{isLink:!1,orderNumber:null,orderStatusType:o.Inv.DISPATCH_REQUEST,orderSalesId:null,orderTransferId:null,orderTransferDispatchId:null,salesInfoOrderTransferRateId:null,salesInfoOrderTransferId:null,purchaseInfoOrderTransferDispatchRateId:null,purchaseInfoOrderTransferDispatchId:null,arrivalOrderSalesPlaceInfo:{...e.arrivalOrderSalesPlaceInfo,orderTransferPlaceId:null},departureOrderSalesPlaceInfo:{...e.departureOrderSalesPlaceInfo,orderTransferPlaceId:null},waypointPlaceInfoList:e.waypointPlaceInfoList.map((e=>({...e,orderTransferPlaceId:null}))),departureRequestDate:t.format("YYYY-MM-DD"),arrivalRequestDate:n.format("YYYY-MM-DD"),vendorId:null,...i.z9,dispatchNumber:null,orderCreatedByName:"",dispatchByName:"",customerName:"",customerMdmCode:"",customerBusinessRegistrationNumber:"",vendorName:"",vendorMdmCode:"",vendorBusinessRegistrationNumber:"",receiptCount:"",taxInvoiceCount:"",orderCreatedAt:"",businessGroupName:"",purchaseInfoActualAmount:"0",purchaseInfoCostCode:"0",purchaseInfoCreatedAt:null,purchaseInfoFinalAmount:"0",purchaseInfoFinalAmountEdit:!1,purchaseInfoIsExtra:!1,purchaseInfoQuantity:e.purchaseInfoQuantity,purchaseInfoRateAmount:"0",purchaseInfoRateAmountEditable:!1,purchaseInfoRemark:null,purchaseTransferRateInfo:null,salesTotalExtraAmount:0,purchaseTotalExtraAmount:0,purchaseTransferRateInfoExtraList:[],salesTransferRateInfoExtraList:[],transferRateInfoExtraList:[],isSalesSettlementComplete:!1,isPurchaseSettlementComplete:!1}},p={model:{_id_:"totalCount",isLink:"hiddenAggregation",orderStatusType:"hiddenAggregation",customerId:"hiddenAggregation",contractCategoryType:"hiddenAggregation",contractSalesName:"hiddenAggregation",salesInfoRateCode:"hiddenAggregation",departureNodeId:"hiddenAggregation",departureNodeCode:"hiddenAggregation",departureUserAddress:"hiddenAggregation",arrivalNodeId:"hiddenAggregation",arrivalNodeCode:"hiddenAggregation",arrivalNodeAddress:"hiddenAggregation",arrivalUserAddress:"hiddenAggregation",departureRequestDate:"hiddenAggregation",departureRequestTime:"hiddenAggregation",arrivalRequestDate:"hiddenAggregation",arrivalRequestTime:"hiddenAggregation",distance:"hiddenAggregation",orderItemCode:"hiddenAggregation",requestVehicleType:"hiddenAggregation",requestVehicleTonCode:"orderDispatchTotalTons",requestVehicleNumber:"hiddenAggregation",orderQuantity:"orderDispatchSum",orderWeight:"orderDispatchSum",salesInfoQuantity:"orderDispatchSum",salesInfoRateAmount:"orderDispatchSum",salesInfoActualAmount:"orderDispatchSalesActualAmount",salesTotalExtraAmount:"orderDispatchSum",salesTotalAmount:"orderDispatchSalesTotalAmount",purchaseInfoRateCode:"hiddenAggregation",vendorId:"hiddenAggregation",vendorVehiclePlateNumber:"hiddenAggregation",vendorType:"hiddenAggregation",equipmentManageNo:"hiddenAggregation",purchaseInfoQuantity:"orderDispatchSum",purchaseInfoRateAmount:"orderDispatchSum",purchaseInfoActualAmount:"orderDispatchPurchaseActualAmount",purchaseInfoFinalAmount:"orderDispatchSum",purchaseTotalExtraAmount:"orderDispatchSum",purchaseTotalAmount:"orderDispatchPurchaseTotalAmount",baseUnitPrice:"orderDispatchSum",additionalAmountDiff:"orderDispatchAdditionalAmountDiff",expectedEffectPi:"orderDispatchExpectedEffectPi",departureLoadUnloadMethodType:"hiddenAggregation",arrivalLoadUnloadMethodType:"hiddenAggregation",orderCorporationCode:"hiddenAggregation",salesCostCenterCode:"hiddenAggregation",purchaseCostCenterCode:"hiddenAggregation",vesselName:"hiddenAggregation",remark:"hiddenAggregation",inclusionPurchaseSettlement:"hiddenAggregation",waypointCount:"hiddenAggregation",vendorVehicleDriverUserPhoneNumber:"hiddenAggregation",customerName:"hiddenAggregation",loadQuantity:"hiddenAggregation",departureManagerName:"hiddenAggregation",departureManagerPhoneNumber:"hiddenAggregation",arrivalManagerName:"hiddenAggregation",arrivalManagerPhoneNumber:"hiddenAggregation",industryCode:"hiddenAggregation",serviceCode:"hiddenAggregation",serviceCode2:"hiddenAggregation",govGrainRegionType:"hiddenAggregation",govGrainRegionSubType:"hiddenAggregation",govGrainItemDetailType:"hiddenAggregation",govGrainUsageType:"hiddenAggregation",govGrainPackageUnitType:"hiddenAggregation",govGrainTransportType:"hiddenAggregation",govGrainInstructionName:"hiddenAggregation",govGrainCreationChannelType:"hiddenAggregation"}}},72050:function(e,t,a){"use strict";a.d(t,{Z:function(){return l},e:function(){return r}});const l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;const a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2]?/[^0-9.-]/g:/[^0-9.]/g;let l=String(e).replace(a,"");l.indexOf("-")>0&&(l=l.replace(/-/g,""));const r=l.indexOf(".");if(-1!==r&&(l=l.substring(0,r+1)+l.substring(r+1).replace(/\./g,"")),l.startsWith(".")&&(l="0"+l),/^0[0-9]+/.test(l)&&(l=l.replace(/^0+/,"")),t>0&&l.includes(".")){const[e,a]=l.split(".");l=e+"."+a.slice(0,t)}else 0===t&&(l=l.replace(/\./g,""));return l},r=e=>{const t=String(e);if(!t||"-"===t)return t;const a=t.startsWith("-"),l=a?t.substring(1):t,[r,s]=l.split(".");let n=r.replace(/\B(?=(\d{3})+(?!\d))/g,",");return void 0!==s&&(n+="."+s),a&&(n="-"+n),n}},46377:function(e,t,a){"use strict";a.d(t,{$U:function(){return m},Lu:function(){return u},N_:function(){return o},Nk:function(){return n},Yv:function(){return i},am:function(){return c},k7:function(){return s},p$:function(){return d}});var l=a(59300),r=a.n(l);const s=e=>{try{const t=r()("".concat(e.departureRequestDate," ").concat(e.departureRequestTime)),a=r()("".concat(e.arrivalRequestDate," ").concat(e.arrivalRequestTime)).diff(t,"minute");return a/60}catch(e){throw new Error("상하차 시간 계산 중 오류가 발생했습니다.")}},n=(e,t)=>{try{let a=!0;return e&&("NONE"===e?a=!1:"0"!==t&&0!==t&&null!=t&&""!==t||(a=!1)),a}catch(e){throw new Error("매입 매출 요율 금액 입력 조건 확인 중 오류가 발생했습니다.")}},o=(e,t)=>{try{let e=0;const a=t.salesInfoRateCode;return e="3"===a||"10"===a?t.salesInfoRateAmount:"4"===a?t.salesInfoRateAmount*s(t):t.salesInfoRateAmount*Number(t.salesInfoQuantity),isNaN(e)?0:Math.round(1e3*e)/1e3}catch(e){throw new Error("매출 금액 계산 중 오류가 발생했습니다.")}},i=(e,t)=>{try{let e=0;const a=t.purchaseInfoRateCode;return e="3"===a||"10"===a?t.purchaseInfoRateAmount:"4"===a?t.purchaseInfoRateAmount*s(t):t.purchaseInfoRateAmount*Number(t.purchaseInfoQuantity),isNaN(e)?0:Math.round(1e3*e)/1e3}catch(e){throw new Error("매입 금액 계산 중 오류가 발생했습니다.")}},d=(e,t)=>{try{if(null==t.salesTotalExtraAmount)return null;const a=o(e,t)+Number(t.salesTotalExtraAmount||0);return Math.round(1e3*a)/1e3}catch(e){throw new Error("총 매출 금액 계산 중 오류가 발생했습니다.")}},c=(e,t)=>{try{if(null==t.purchaseTotalExtraAmount)return null;const e=Number(t.purchaseInfoFinalAmount||0)+Number(t.purchaseTotalExtraAmount||0);return Math.round(1e3*e)/1e3}catch(e){throw new Error("총 매입 금액 계산 중 오류가 발생했습니다.")}},u=(e,t)=>{try{if(null==t.salesTotalExtraAmount||null==t.purchaseTotalExtraAmount)return null;const{salesTotalExtraAmount:e,purchaseTotalExtraAmount:a}=t,l=Number(e||0)-Number(a||0);return Number.isNaN(l)?0:Math.round(1e3*l)/1e3}catch(e){throw new Error("총 매입 금액 계산 중 오류가 발생했습니다.")}},m=(e,t)=>{try{const{baseUnitPrice:e,purchaseInfoFinalAmount:a}=t,l=Number(e||0)-Number(a||0);return Number.isNaN(l)?0:Math.round(1e3*l)/1e3}catch(e){throw new Error("기대효과 계산 중 오류가 발생했습니다.")}}},56740:function(e,t,a){"use strict";a.d(t,{X:function(){return o}});var l=a(39263),r=a(46377),s=a(75101);const n={actualAmount:"0",costCode:"0",createdAt:null,finalAmount:"0",isExtra:!1,quantity:"0",rateAmount:"0",rateCode:null,remark:null},o={toListRequest:(e,t)=>{let a=e.orderStatusType;Array.isArray(a)&&a.includes("DELIVERY_START")&&(a=[...a.filter((e=>"DELIVERY_START"!==e)),"PICKUP_COMPLETE","DROP_MOVING"]);let l="string"==typeof e.commonMdmCorporationCode?[e.commonMdmCorporationCode]:[];return l&&(null==l?void 0:l.length)||(l=t),{mdmCorporationCodeList:l,departureRequestAtFrom:e.startDate,departureRequestAtTo:e.endDate,plateNumber:e.plateNumber,orderStatusTypeList:a,vendorType:e.operationClassificationCode,customerId:"number"==typeof e.customerId?[e.customerId]:[],vendorId:e.vendorId,searchCreatedByName:e.searchCreatedByName,searchDispatchByName:e.searchDispatchByName,itemCode:"ALL"===e.itemCode?null:e.itemCode,requestedThings:e.requestedThings,vesselName:e.vesselName,isLinkClassification:e.isLinkClassification?"Y"===e.isLinkClassification:null,inclusionPurchaseSettlement:e.inclusionPurchaseSettlement?"INCLUDE"===e.inclusionPurchaseSettlement:null,searchDeparture:e.searchDeparture,searchArrival:e.searchArrival,searchKeyword:e.searchKeyword,businessGroupId:e.businessGroupId,includeGovGrain:e.includeGovGrain,includeWD:e.includeWD}},toListOrderItem:e=>{var t,a;const o=(0,l.bJ)(e.purchaseTransferRateInfoExtraList||[],e.salesTransferRateInfoExtraList||[]),{purchaseTotalExtraAmount:i,salesTotalExtraAmount:d}=s.v.toOrderDispatchSubmit(o);return{...e,requestVehicleNumber:e.requestVehicleNumber||1,...(0,l.v2)(e.orderSalesPlaceInfoList||[]),waypointPlaceInfoList:e.orderSalesPlaceInfoList.filter((e=>{let{placeType:t}=e;return"WAYPOINT"===t})),...(0,l.hM)(e.purchaseTransferRateInfo||{...n},"purchaseInfo"),...(0,l.hM)(e.salesTransferRateInfo||{...n},"salesInfo"),purchaseInfoRateAmountEditable:(0,r.Nk)(e.contractCategoryType,null===(t=e.purchaseTransferRateInfo)||void 0===t?void 0:t.rateAmount),salesInfoRateAmountEditable:(0,r.Nk)(e.contractCategoryType,null===(a=e.salesTransferRateInfo)||void 0===a?void 0:a.rateAmount),purchaseInfoFinalAmountEdit:!0,transferRateInfoExtraList:o,purchaseTotalExtraAmount:i,salesTotalExtraAmount:d}},toListResult:e=>e.map(((e,t)=>o.toListOrderItem(e))),toSaveOrderItem:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ONE";const a=(0,l.$0)(e),r={orderCreationChannelType:t,...e,...a},s={...r,orderSalesPlaceInfoList:(0,l.Yf)(r),salesTransferRateInfo:(0,l.Eq)(r.salesTransferRateInfo||{...n},r,"salesInfo"),purchaseTransferRateInfo:(0,l.Eq)(r.purchaseTransferRateInfo||{...n},r,"purchaseInfo")};return(0,l.AW)(s,{fields:["arrivalOrderSalesPlaceInfo","departureOrderSalesPlaceInfo","id","orderItemCode","orderQuantity","orderWeight","transferRateInfoExtraList"],prefixes:["__","_","arrival","departure","purchaseInfo","salesInfo","requestVehicleTonCodeOption"]})},toSaveOrderRequest:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ONE";const{orderList:a,includeWD:l,includeGovGrain:r}=e;return{includeWD:l,includeGovGrain:r,orderTransferInfoList:a.map((e=>o.toSaveOrderItem(e,t)))}}}},47310:function(e,t,a){"use strict";a.d(t,{$N:function(){return g},Ch:function(){return i},Fn:function(){return T},GP:function(){return R},Ib:function(){return A},Px:function(){return E},SH:function(){return h},T7:function(){return u},Vj:function(){return c},Wv:function(){return d},bc:function(){return I},cA:function(){return S},f0:function(){return y},g6:function(){return v},ge:function(){return x},lQ:function(){return f},nN:function(){return N},p6:function(){return m},rG:function(){return C},si:function(){return o},uE:function(){return b},xT:function(){return p}});var l=a(45476),r=a(83445),s=a(56740),n=a(70278);const o=()=>(0,l.n)(["useGetOrderDispatchList"],(async e=>(await r.q.api((t=>t.ApiV1OrderTransferList(e)))).data.result)),i=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ONE";const a=s.X.toSaveOrderRequest(e,t);return(await r.q.api((e=>e.ApiV1OrderTransferSave(a)))).data.result},d=()=>(0,l.n)(["orderDispatch/orderDispatchManager/useOrderDispatchExcelDownloadMutation"],(async e=>(await r.q.api((t=>t.ApiV1OrderTransferExcelList(e,{format:"blob"})))).data)),c=()=>(0,l.n)(["orderDispatch/orderDispatchManager/getOrderTransferOptionList"],(async e=>(await r.q.api((t=>t.ApiV1OrderTransferOption(e)))).data.result)),u=async e=>{const t=await r.q.api((t=>t.ApiV1ContractListSectioned(e)));var a;return n.q.toList(null!==(a=t.data.result.contractInfoList)&&void 0!==a?a:[])},m=async e=>(await r.q.api((t=>t.ApiVendorVehicleV1List(e)))).data.result,p=async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];var a,l;const s=await r.q.api((t=>t.ApiCustomerV1CommonList(e)));var n,o;return t?null!==(n=null===(a=s.data.result)||void 0===a?void 0:a.itemList)&&void 0!==n?n:[]:null!==(o=null===(l=s.data.result)||void 0===l?void 0:l.itemList[0])&&void 0!==o?o:null},h=async e=>(await r.q.api((t=>t.ApiV1CustomerPlaceSave(e)))).data.result,f=()=>(0,l.n)(["orderDispatch/orderDispatchManager/useOrderDispatchConfirmMutation"],(async e=>await r.q.api((t=>t.ApiV1OrderTransferConfirmDispatch(e))))),C=()=>(0,l.n)(["orderDispatch/orderDispatchManager/useOrderDispatchCancelMutation"],(async e=>await r.q.api((t=>t.ApiV1OrderTransferCancelDispatch(e))))),x=()=>(0,l.n)(["orderDispatch/orderDispatchManager/useOrderDispatchVendorAssignMutation"],(async e=>await r.q.api((t=>t.ApiV1OrderTransferVendorAssign(e))))),N=()=>(0,l.n)(["orderDispatch/orderDispatchManager/useOrderDispatchVendorCancelMutation"],(async e=>await r.q.api((t=>t.ApiV1OrderTransferVendorCancel(e))))),y=()=>(0,l.n)(["orderDispatch/orderDispatchManager/useOrderTransferConfirmResultMutation"],(async e=>await r.q.api((t=>t.ApiV1OrderTransferConfirmResult(e))))),E=()=>(0,l.n)(["orderDispatch/orderDispatchManager/useOrderTransferConfirmResultCancelMutation"],(async e=>await r.q.api((t=>t.ApiV1OrderTransferConfirmResultCancel(e))))),v=()=>(0,l.n)(["orderDispatch/orderDispatchManager/useOrderTransferCancelMutation"],(async e=>await r.q.api((t=>t.ApiV1OrderTransferCancel(e))))),A=()=>(0,l.n)(["orderDispatch/orderDispatchManager/useOrderTranferForceCancelMutation"],(async e=>await r.q.api((t=>t.ApiV1OrderTransferForceCancel(e))))),g=async e=>(await r.q.api((t=>t.ApiV1OrderTransferSettlementPurchaseExclude(e)))).data.result,T=async e=>(await r.q.api((t=>t.ApiV1OrderTransferMatchingSend(e)))).data.result,I=()=>(0,l.n)(["orderDispatch/orderDispatchManager/useSaveOrderDispatchSplit"],(async e=>(await r.q.api((t=>t.ApiV1OrderTransferSplit(e)))).data.result)),b=()=>(0,l.n)(["orderDispatch/orderDispatchManager/useCancelOrderDispatchSplit"],(async e=>(await r.q.api((t=>t.ApiV1OrderTransferSplitCancel(e)))).data.result)),R=()=>(0,l.n)(["orderDispatch/orderDispatchManager/useCalculateOrderDispatchSplit"],(async e=>(await r.q.api((t=>t.ApiV1OrderTransferSplitCalculate(e)))).data.result)),S=()=>(0,l.n)(["orderDispatch/orderDispatchManager/useGetOrderDispatchSplit"],(async e=>(await r.q.api((t=>t.ApiV1OrderTransferSplit(e)))).data.result))},70278:function(e,t,a){"use strict";a.d(t,{q:function(){return n}});var l=a(59300),r=a.n(l),s=a(31592);class n{static formatPeriod(e,t){return e&&t?"".concat(r()(e).format("YYYY.MM.DD")," ~ ").concat(r()(t).format("YYYY.MM.DD")):""}static extractSalesInfo(e){return{...null!=e?e:{},period:this.formatPeriod(null==e?void 0:e.contractStartAt,null==e?void 0:e.contractEndAt)}}static extractPurchaseInfo(e){return{...null!=e?e:{},period:this.formatPeriod(null==e?void 0:e.contractStartAt,null==e?void 0:e.contractEndAt)}}static toList(e){return e.map(((e,t)=>{const a=this.extractSalesInfo(e.contractSalesInfo),l=this.extractPurchaseInfo(e.contractPurChaseInfo);return{no:t+1,id:(0,s.uR)(),contractSalesId:null==a?void 0:a.contractSalesId,contractPurchaseId:null==l?void 0:l.contractPurchaseId,contractSales:(null==a?void 0:a.contractSalesId)?"매출":"",contractPurchase:(null==l?void 0:l.contractPurchaseId)?"매입":"",contractNumberSales:a.contractNo,contractNumberPurchase:l.contractNo,contractNameSales:a.contractName,contractNamePurchase:l.contractName,customerName:a.customerName,deliveryHub:l.vendorName,statusSales:a.contractStatusName,statusPurchase:l.contractStatusName,statusKeySales:a.contractStatusCode,statusKeyPurchase:l.contractStatusCode,periodSales:a.period,periodPurchase:l.period,salesOrgSales:a.salesCostCenterName,salesOrgPurchase:l.salesCostCenterName,purchaseOrgSales:a.purchaseCostCenterName,purchaseOrgPurchase:l.purchaseCostCenterName,humanResourceCorpSales:a.humanResourceCorporationName,humanResourceCorpPurchase:l.humanResourceCorporationName,managerSales:a.contractManagerEmpName,managerPurchase:l.contractManagerEmpName,upperMgrSales:a.contractApproverEmpName,upperMgrPurchase:l.contractApproverEmpName,orderCorporationCode:a.humanResourceCorporationCode,purchaseCostCenterCode:a.purchaseCostCenterCode,salesCostCenterCode:a.salesCostCenterCode}}))}}},30429:function(e,t,a){"use strict";var l,r,s,n,o,i,d,c,u,m,p,h,f,C,x,N,y,E,v,A,g,T,I,b,R,S,_,w,O,M,D,j,P,L,B,U,V,F,G,k,Y,q,W,H,K,z,X,Q,Z,J,$,ee,te,ae,le,re,se,ne,oe,ie,de,ce,ue,me,pe,he,fe,Ce,xe,Ne,ye,Ee,ve,Ae,ge,Te,Ie,be,Re,Se,_e,we,Oe,Me,De,je,Pe,Le,Be,Ue,Ve,Fe,Ge,ke,Ye,qe,We,He,Ke,ze,Xe,Qe,Ze,Je,$e,et,tt,at,lt,rt,st,nt,ot,it,dt,ct,ut,mt,pt,ht,ft,Ct,xt,Nt,yt,Et,vt,At,gt,Tt,It,bt,Rt,St,_t,wt,Ot,Mt,Dt,jt,Pt,Lt,Bt,Ut,Vt,Ft,Gt,kt,Yt,qt,Wt,Ht,Kt,zt,Xt,Qt,Zt,Jt,$t,ea,ta,aa,la,ra,sa,na,oa,ia,da,ca,ua,ma,pa,ha,fa,Ca,xa,Na,ya,Ea,va,Aa,ga,Ta,Ia,ba,Ra,Sa,_a,wa,Oa,Ma,Da,ja,Pa,La,Ba,Ua,Va,Fa,Ga,ka,Ya,qa,Wa,Ha,Ka,za,Xa,Qa,Za,Ja,$a,el,tl,al,ll,rl,sl,nl,ol,il,dl,cl,ul,ml,pl,hl,fl,Cl,xl,Nl,yl,El,vl,Al,gl,Tl,Il,bl,Rl,Sl,_l,wl,Ol,Ml,Dl,jl,Pl,Ll,Bl,Ul,Vl,Fl,Gl,kl,Yl,ql,Wl,Hl,Kl,zl,Xl,Ql,Zl,Jl,$l,er,tr,ar,lr,rr,sr,nr,or,ir,dr,cr,ur,mr,pr,hr,fr,Cr,xr,Nr,yr,Er,vr,Ar,gr,Tr,Ir,br,Rr,Sr,_r,wr,Or,Mr,Dr,jr,Pr,Lr,Br,Ur,Vr,Fr,Gr,kr,Yr,qr,Wr,Hr,Kr,zr,Xr,Qr,Zr,Jr,$r,es,ts,as,ls,rs,ss,ns,os,is,ds,cs,us,ms,ps,hs,fs,Cs,xs,Ns,ys,Es,vs,As,gs,Ts,Is,bs,Rs,Ss,_s,ws,Os,Ms,Ds,js,Ps,Ls,Bs,Us,Vs,Fs,Gs,ks,Ys,qs,Ws,Hs,Ks,zs,Xs,Qs,Zs,Js,$s,en,tn,an,ln,rn,sn,nn,on,dn,cn,un,mn,pn;a.d(t,{$1u:function(){return Gr},$Qo:function(){return ie},$om:function(){return Vr},ARE:function(){return ql},B19:function(){return X},Bgv:function(){return _},CZq:function(){return Pe},Fqe:function(){return hs},GIn:function(){return Wl},HOe:function(){return xl},IHB:function(){return zl},Inv:function(){return nl},Ire:function(){return Ll},JP5:function(){return _a},L7M:function(){return it},LAR:function(){return ae},LRS:function(){return cs},Lnz:function(){return fl},M7p:function(){return ms},MFT:function(){return Ys},MZz:function(){return Ne},Orb:function(){return kl},P7O:function(){return rs},PgO:function(){return Ls},Pyl:function(){return js},R7H:function(){return Ms},RGd:function(){return Hl},RJg:function(){return al},UYR:function(){return qt},VMk:function(){return Jl},VMq:function(){return es},VQo:function(){return Tr},WDI:function(){return hl},Wf1:function(){return Cl},Y13:function(){return m},Zhc:function(){return f},Zhf:function(){return Ur},aU$:function(){return P},axo:function(){return $l},bDY:function(){return Qs},bNJ:function(){return dt},c0l:function(){return ps},cZF:function(){return Dt},eF_:function(){return Ar},eFu:function(){return as},h5w:function(){return ur},iq8:function(){return Nl},jRO:function(){return Yl},kLk:function(){return Ps},lHX:function(){return Cs},mUs:function(){return xt},n2j:function(){return Gl},nwF:function(){return Oa},ofn:function(){return J},p8F:function(){return oe},pqD:function(){return Pl},q1C:function(){return h},rOZ:function(){return $r},siW:function(){return Kl},tP_:function(){return Fr},v3K:function(){return os},vYj:function(){return pl},w8c:function(){return L},wSo:function(){return qs},wxT:function(){return zs},xHC:function(){return $},xRy:function(){return rl},y4m:function(){return us},y7m:function(){return S},yJE:function(){return ts},yOu:function(){return U},yPk:function(){return yl},zMr:function(){return ft},zXm:function(){return V},zji:function(){return $e}}),function(e){e.DRIVING="DRIVING",e.NON_DRIVING="NON_DRIVING",e.HOLDING="HOLDING",e.DISCONNECTING="DISCONNECTING"}(l||(l={})),function(e){e.DRIVER="DRIVER",e.PARTNER="PARTNER",e.NORMAL_PARTNER="NORMAL_PARTNER",e.CONSIGNMENT="CONSIGNMENT",e.BRANCH="BRANCH"}(r||(r={})),function(e){e.CARGO="CARGO",e.WING_BODY="WING_BODY",e.CARGO_WING="CARGO_WING",e.TRACTOR="TRACTOR",e.DUMP="DUMP",e.ALL_TYPES="ALL_TYPES",e.MULTIPLE_TYPES="MULTIPLE_TYPES",e.CARGO_TRACTOR="CARGO_TRACTOR",e.TANK_LORRY="TANK_LORRY",e.REFRIGERATED="REFRIGERATED",e.FREEZER="FREEZER",e.DARMAS="DARMAS",e.LABOR="LABOR"}(s||(s={})),function(e){e.CARGO="CARGO",e.WING_BODY="WING_BODY",e.CARGO_WING="CARGO_WING",e.TRACTOR="TRACTOR",e.DUMP="DUMP",e.ALL_TYPES="ALL_TYPES",e.MULTIPLE_TYPES="MULTIPLE_TYPES",e.CARGO_TRACTOR="CARGO_TRACTOR",e.TANK_LORRY="TANK_LORRY",e.REFRIGERATED="REFRIGERATED",e.FREEZER="FREEZER",e.DARMAS="DARMAS",e.LABOR="LABOR"}(n||(n={})),function(e){e.DRIVER="DRIVER",e.PARTNER="PARTNER",e.NORMAL_PARTNER="NORMAL_PARTNER",e.CONSIGNMENT="CONSIGNMENT",e.BRANCH="BRANCH"}(o||(o={})),function(e){e.DRIVING="DRIVING",e.NON_DRIVING="NON_DRIVING",e.HOLDING="HOLDING",e.DISCONNECTING="DISCONNECTING"}(i||(i={})),function(e){e.CARGO="CARGO",e.WING_BODY="WING_BODY",e.CARGO_WING="CARGO_WING",e.TRACTOR="TRACTOR",e.DUMP="DUMP",e.ALL_TYPES="ALL_TYPES",e.MULTIPLE_TYPES="MULTIPLE_TYPES",e.CARGO_TRACTOR="CARGO_TRACTOR",e.TANK_LORRY="TANK_LORRY",e.REFRIGERATED="REFRIGERATED",e.FREEZER="FREEZER",e.DARMAS="DARMAS",e.LABOR="LABOR"}(d||(d={})),function(e){e.DRIVER="DRIVER",e.PARTNER="PARTNER",e.NORMAL_PARTNER="NORMAL_PARTNER",e.CONSIGNMENT="CONSIGNMENT",e.BRANCH="BRANCH"}(c||(c={})),function(e){e.DEPARTURE="DEPARTURE",e.ARRIVAL="ARRIVAL",e.WAYPOINT="WAYPOINT"}(u||(u={})),function(e){e.LARGE="LARGE",e.SME="SME",e.INDIVIDUAL="INDIVIDUAL"}(m||(m={})),function(e){e.VENDOR_NORMAL="VENDOR_NORMAL",e.VENDOR_SIMPLIFIED_NO_TAX="VENDOR_SIMPLIFIED_NO_TAX",e.VENDOR_NO_TAX="VENDOR_NO_TAX",e.VENDOR_CLOSING="VENDOR_CLOSING",e.VENDOR_NON_PROFIT="VENDOR_NON_PROFIT",e.VENDOR_OUT_OF="VENDOR_OUT_OF",e.VENDOR_SIMPLIFIED="VENDOR_SIMPLIFIED"}(p||(p={})),function(e){e.A="A",e.B="B",e.C="C",e.D="D",e.E="E"}(h||(h={})),function(e){e.A1="A1",e.D1="D1",e.ZZ="ZZ",e.D9="D9",e.F9="F9",e.C1="C1"}(f||(f={})),function(e){e.NONE="NONE",e.REQUEST="REQUEST",e.RETURN="RETURN",e.COMPLETE="COMPLETE",e.RE_REQUEST="RE_REQUEST",e.RE_RETURN="RE_RETURN"}(C||(C={})),function(e){e.NONE="NONE",e.REQUEST="REQUEST",e.RETURN="RETURN",e.COMPLETE="COMPLETE",e.RE_REQUEST="RE_REQUEST",e.RE_RETURN="RE_RETURN"}(x||(x={})),function(e){e.CORPORATE="CORPORATE",e.INDIVIDUAL="INDIVIDUAL"}(N||(N={})),function(e){e.BUSINESS_LICENSE="BUSINESS_LICENSE",e.COPY_OF_BANKBOOK="COPY_OF_BANKBOOK",e.DRIVER_LICENSE="DRIVER_LICENSE",e.CARGO_TRANSPORT_WORKER_CERTIFICATE="CARGO_TRANSPORT_WORKER_CERTIFICATE",e.VEHICLE_REGISTRATION="VEHICLE_REGISTRATION",e.LOAD_LIABILITY_INSURANCE="LOAD_LIABILITY_INSURANCE",e.ETC="ETC",e.CONTRACT="CONTRACT",e.CARGO_TRANSPORT_BUSINESS_LICENSE="CARGO_TRANSPORT_BUSINESS_LICENSE",e.PAYMENT_GUARANTEE_INSURANCE="PAYMENT_GUARANTEE_INSURANCE",e.RECEIPT="RECEIPT",e.WEIGHING_SHEET="WEIGHING_SHEET",e.TAX_INVOICE="TAX_INVOICE"}(y||(y={})),function(e){e.CORPORATE="CORPORATE",e.INDIVIDUAL="INDIVIDUAL"}(E||(E={})),function(e){e.DRIVER="DRIVER",e.PARTNER="PARTNER",e.NORMAL_PARTNER="NORMAL_PARTNER",e.CONSIGNMENT="CONSIGNMENT",e.BRANCH="BRANCH"}(v||(v={})),function(e){e.LARGE="LARGE",e.SME="SME",e.INDIVIDUAL="INDIVIDUAL"}(A||(A={})),function(e){e.VENDOR_NORMAL="VENDOR_NORMAL",e.VENDOR_SIMPLIFIED_NO_TAX="VENDOR_SIMPLIFIED_NO_TAX",e.VENDOR_NO_TAX="VENDOR_NO_TAX",e.VENDOR_CLOSING="VENDOR_CLOSING",e.VENDOR_NON_PROFIT="VENDOR_NON_PROFIT",e.VENDOR_OUT_OF="VENDOR_OUT_OF",e.VENDOR_SIMPLIFIED="VENDOR_SIMPLIFIED"}(g||(g={})),function(e){e.A="A",e.B="B",e.C="C",e.D="D",e.E="E"}(T||(T={})),function(e){e.A1="A1",e.D1="D1",e.ZZ="ZZ",e.D9="D9",e.F9="F9",e.C1="C1"}(I||(I={})),function(e){e.NONE="NONE",e.REQUEST="REQUEST",e.RETURN="RETURN",e.COMPLETE="COMPLETE",e.RE_REQUEST="RE_REQUEST",e.RE_RETURN="RE_RETURN"}(b||(b={})),function(e){e.BUSINESS_LICENSE="BUSINESS_LICENSE",e.COPY_OF_BANKBOOK="COPY_OF_BANKBOOK",e.DRIVER_LICENSE="DRIVER_LICENSE",e.CARGO_TRANSPORT_WORKER_CERTIFICATE="CARGO_TRANSPORT_WORKER_CERTIFICATE",e.VEHICLE_REGISTRATION="VEHICLE_REGISTRATION",e.LOAD_LIABILITY_INSURANCE="LOAD_LIABILITY_INSURANCE",e.ETC="ETC",e.CONTRACT="CONTRACT",e.CARGO_TRANSPORT_BUSINESS_LICENSE="CARGO_TRANSPORT_BUSINESS_LICENSE",e.PAYMENT_GUARANTEE_INSURANCE="PAYMENT_GUARANTEE_INSURANCE",e.RECEIPT="RECEIPT",e.WEIGHING_SHEET="WEIGHING_SHEET",e.TAX_INVOICE="TAX_INVOICE"}(R||(R={})),function(e){e.CORPORATE="CORPORATE",e.INDIVIDUAL="INDIVIDUAL"}(S||(S={})),function(e){e.LARGE="LARGE",e.SME="SME",e.INDIVIDUAL="INDIVIDUAL"}(_||(_={})),function(e){e.VENDOR_NORMAL="VENDOR_NORMAL",e.VENDOR_SIMPLIFIED_NO_TAX="VENDOR_SIMPLIFIED_NO_TAX",e.VENDOR_NO_TAX="VENDOR_NO_TAX",e.VENDOR_CLOSING="VENDOR_CLOSING",e.VENDOR_NON_PROFIT="VENDOR_NON_PROFIT",e.VENDOR_OUT_OF="VENDOR_OUT_OF",e.VENDOR_SIMPLIFIED="VENDOR_SIMPLIFIED"}(w||(w={})),function(e){e.NONE="NONE",e.REQUEST="REQUEST",e.RETURN="RETURN",e.COMPLETE="COMPLETE",e.RE_REQUEST="RE_REQUEST",e.RE_RETURN="RE_RETURN"}(O||(O={})),function(e){e.NONE="NONE",e.REQUEST="REQUEST",e.RETURN="RETURN",e.COMPLETE="COMPLETE",e.RE_REQUEST="RE_REQUEST",e.RE_RETURN="RE_RETURN"}(M||(M={})),function(e){e.CORPORATE="CORPORATE",e.INDIVIDUAL="INDIVIDUAL"}(D||(D={})),function(e){e.NONE="NONE",e.REQUEST="REQUEST",e.RETURN="RETURN",e.COMPLETE="COMPLETE",e.RE_REQUEST="RE_REQUEST",e.RE_RETURN="RE_RETURN"}(j||(j={})),function(e){e.CARGO="CARGO",e.WING_BODY="WING_BODY",e.CARGO_WING="CARGO_WING",e.TRACTOR="TRACTOR",e.DUMP="DUMP",e.ALL_TYPES="ALL_TYPES",e.MULTIPLE_TYPES="MULTIPLE_TYPES",e.CARGO_TRACTOR="CARGO_TRACTOR",e.TANK_LORRY="TANK_LORRY",e.REFRIGERATED="REFRIGERATED",e.FREEZER="FREEZER",e.DARMAS="DARMAS",e.LABOR="LABOR"}(P||(P={})),function(e){e.LARGE="LARGE",e.SME="SME",e.INDIVIDUAL="INDIVIDUAL"}(L||(L={})),function(e){e.VENDOR_NORMAL="VENDOR_NORMAL",e.VENDOR_SIMPLIFIED_NO_TAX="VENDOR_SIMPLIFIED_NO_TAX",e.VENDOR_NO_TAX="VENDOR_NO_TAX",e.VENDOR_CLOSING="VENDOR_CLOSING",e.VENDOR_NON_PROFIT="VENDOR_NON_PROFIT",e.VENDOR_OUT_OF="VENDOR_OUT_OF",e.VENDOR_SIMPLIFIED="VENDOR_SIMPLIFIED"}(B||(B={})),function(e){e.A="A",e.B="B",e.C="C",e.D="D",e.E="E"}(U||(U={})),function(e){e.A1="A1",e.D1="D1",e.ZZ="ZZ",e.D9="D9",e.F9="F9",e.C1="C1"}(V||(V={})),function(e){e.NONE="NONE",e.REQUEST="REQUEST",e.RETURN="RETURN",e.COMPLETE="COMPLETE",e.RE_REQUEST="RE_REQUEST",e.RE_RETURN="RE_RETURN"}(F||(F={})),function(e){e.NONE="NONE",e.REQUEST="REQUEST",e.RETURN="RETURN",e.COMPLETE="COMPLETE",e.RE_REQUEST="RE_REQUEST",e.RE_RETURN="RE_RETURN"}(G||(G={})),function(e){e.CORPORATE="CORPORATE",e.INDIVIDUAL="INDIVIDUAL"}(k||(k={})),function(e){e.CARGO="CARGO",e.WING_BODY="WING_BODY",e.CARGO_WING="CARGO_WING",e.TRACTOR="TRACTOR",e.DUMP="DUMP",e.ALL_TYPES="ALL_TYPES",e.MULTIPLE_TYPES="MULTIPLE_TYPES",e.CARGO_TRACTOR="CARGO_TRACTOR",e.TANK_LORRY="TANK_LORRY",e.REFRIGERATED="REFRIGERATED",e.FREEZER="FREEZER",e.DARMAS="DARMAS",e.LABOR="LABOR"}(Y||(Y={})),function(e){e.CORPORATE="CORPORATE",e.INDIVIDUAL="INDIVIDUAL"}(q||(q={})),function(e){e.LARGE="LARGE",e.SME="SME",e.INDIVIDUAL="INDIVIDUAL"}(W||(W={})),function(e){e.VENDOR_NORMAL="VENDOR_NORMAL",e.VENDOR_SIMPLIFIED_NO_TAX="VENDOR_SIMPLIFIED_NO_TAX",e.VENDOR_NO_TAX="VENDOR_NO_TAX",e.VENDOR_CLOSING="VENDOR_CLOSING",e.VENDOR_NON_PROFIT="VENDOR_NON_PROFIT",e.VENDOR_OUT_OF="VENDOR_OUT_OF",e.VENDOR_SIMPLIFIED="VENDOR_SIMPLIFIED"}(H||(H={})),function(e){e.A="A",e.B="B",e.C="C",e.D="D",e.E="E"}(K||(K={})),function(e){e.A1="A1",e.D1="D1",e.ZZ="ZZ",e.D9="D9",e.F9="F9",e.C1="C1"}(z||(z={})),function(e){e.NONE="NONE",e.REQUEST="REQUEST",e.RETURN="RETURN",e.COMPLETE="COMPLETE",e.RE_REQUEST="RE_REQUEST",e.RE_RETURN="RE_RETURN"}(X||(X={})),function(e){e.CARGO="CARGO",e.WING_BODY="WING_BODY",e.CARGO_WING="CARGO_WING",e.TRACTOR="TRACTOR",e.DUMP="DUMP",e.ALL_TYPES="ALL_TYPES",e.MULTIPLE_TYPES="MULTIPLE_TYPES",e.CARGO_TRACTOR="CARGO_TRACTOR",e.TANK_LORRY="TANK_LORRY",e.REFRIGERATED="REFRIGERATED",e.FREEZER="FREEZER",e.DARMAS="DARMAS",e.LABOR="LABOR"}(Q||(Q={})),function(e){e.BUSINESS_LICENSE="BUSINESS_LICENSE",e.COPY_OF_BANKBOOK="COPY_OF_BANKBOOK",e.DRIVER_LICENSE="DRIVER_LICENSE",e.CARGO_TRANSPORT_WORKER_CERTIFICATE="CARGO_TRANSPORT_WORKER_CERTIFICATE",e.VEHICLE_REGISTRATION="VEHICLE_REGISTRATION",e.LOAD_LIABILITY_INSURANCE="LOAD_LIABILITY_INSURANCE",e.ETC="ETC",e.CONTRACT="CONTRACT",e.CARGO_TRANSPORT_BUSINESS_LICENSE="CARGO_TRANSPORT_BUSINESS_LICENSE",e.PAYMENT_GUARANTEE_INSURANCE="PAYMENT_GUARANTEE_INSURANCE",e.RECEIPT="RECEIPT",e.WEIGHING_SHEET="WEIGHING_SHEET",e.TAX_INVOICE="TAX_INVOICE"}(Z||(Z={})),function(e){e.CORPORATE="CORPORATE",e.INDIVIDUAL="INDIVIDUAL"}(J||(J={})),function(e){e.LARGE="LARGE",e.SME="SME",e.INDIVIDUAL="INDIVIDUAL"}($||($={})),function(e){e.VENDOR_NORMAL="VENDOR_NORMAL",e.VENDOR_SIMPLIFIED_NO_TAX="VENDOR_SIMPLIFIED_NO_TAX",e.VENDOR_NO_TAX="VENDOR_NO_TAX",e.VENDOR_CLOSING="VENDOR_CLOSING",e.VENDOR_NON_PROFIT="VENDOR_NON_PROFIT",e.VENDOR_OUT_OF="VENDOR_OUT_OF",e.VENDOR_SIMPLIFIED="VENDOR_SIMPLIFIED"}(ee||(ee={})),function(e){e.DRIVER="DRIVER",e.PARTNER="PARTNER",e.NORMAL_PARTNER="NORMAL_PARTNER",e.CONSIGNMENT="CONSIGNMENT",e.BRANCH="BRANCH"}(te||(te={})),function(e){e.NONE="NONE",e.REQUEST="REQUEST",e.RETURN="RETURN",e.COMPLETE="COMPLETE",e.RE_REQUEST="RE_REQUEST",e.RE_RETURN="RE_RETURN"}(ae||(ae={})),function(e){e.CORPORATE="CORPORATE",e.INDIVIDUAL="INDIVIDUAL"}(le||(le={})),function(e){e.DRIVER="DRIVER",e.PARTNER="PARTNER",e.NORMAL_PARTNER="NORMAL_PARTNER",e.CONSIGNMENT="CONSIGNMENT",e.BRANCH="BRANCH"}(re||(re={})),function(e){e.NONE="NONE",e.REQUEST="REQUEST",e.RETURN="RETURN",e.COMPLETE="COMPLETE",e.RE_REQUEST="RE_REQUEST",e.RE_RETURN="RE_RETURN"}(se||(se={})),function(e){e.A1="A1",e.D1="D1",e.ZZ="ZZ",e.D9="D9",e.F9="F9",e.C1="C1"}(ne||(ne={})),function(e){e.DRIVER="DRIVER",e.PARTNER="PARTNER",e.NORMAL_PARTNER="NORMAL_PARTNER",e.CONSIGNMENT="CONSIGNMENT",e.BRANCH="BRANCH"}(oe||(oe={})),function(e){e.NONE="NONE",e.REQUEST="REQUEST",e.RETURN="RETURN",e.COMPLETE="COMPLETE",e.RE_REQUEST="RE_REQUEST",e.RE_RETURN="RE_RETURN"}(ie||(ie={})),function(e){e.CARGO="CARGO",e.WING_BODY="WING_BODY",e.CARGO_WING="CARGO_WING",e.TRACTOR="TRACTOR",e.DUMP="DUMP",e.ALL_TYPES="ALL_TYPES",e.MULTIPLE_TYPES="MULTIPLE_TYPES",e.CARGO_TRACTOR="CARGO_TRACTOR",e.TANK_LORRY="TANK_LORRY",e.REFRIGERATED="REFRIGERATED",e.FREEZER="FREEZER",e.DARMAS="DARMAS",e.LABOR="LABOR"}(de||(de={})),function(e){e.CARGO="CARGO",e.WING_BODY="WING_BODY",e.CARGO_WING="CARGO_WING",e.TRACTOR="TRACTOR",e.DUMP="DUMP",e.ALL_TYPES="ALL_TYPES",e.MULTIPLE_TYPES="MULTIPLE_TYPES",e.CARGO_TRACTOR="CARGO_TRACTOR",e.TANK_LORRY="TANK_LORRY",e.REFRIGERATED="REFRIGERATED",e.FREEZER="FREEZER",e.DARMAS="DARMAS",e.LABOR="LABOR"}(ce||(ce={})),function(e){e.CARGO="CARGO",e.WING_BODY="WING_BODY",e.CARGO_WING="CARGO_WING",e.TRACTOR="TRACTOR",e.DUMP="DUMP",e.ALL_TYPES="ALL_TYPES",e.MULTIPLE_TYPES="MULTIPLE_TYPES",e.CARGO_TRACTOR="CARGO_TRACTOR",e.TANK_LORRY="TANK_LORRY",e.REFRIGERATED="REFRIGERATED",e.FREEZER="FREEZER",e.DARMAS="DARMAS",e.LABOR="LABOR"}(ue||(ue={})),function(e){e.CARGO="CARGO",e.WING_BODY="WING_BODY",e.CARGO_WING="CARGO_WING",e.TRACTOR="TRACTOR",e.DUMP="DUMP",e.ALL_TYPES="ALL_TYPES",e.MULTIPLE_TYPES="MULTIPLE_TYPES",e.CARGO_TRACTOR="CARGO_TRACTOR",e.TANK_LORRY="TANK_LORRY",e.REFRIGERATED="REFRIGERATED",e.FREEZER="FREEZER",e.DARMAS="DARMAS",e.LABOR="LABOR"}(me||(me={})),function(e){e.DRIVER="DRIVER",e.PARTNER="PARTNER",e.NORMAL_PARTNER="NORMAL_PARTNER",e.CONSIGNMENT="CONSIGNMENT",e.BRANCH="BRANCH"}(pe||(pe={})),function(e){e.CARGO="CARGO",e.WING_BODY="WING_BODY",e.CARGO_WING="CARGO_WING",e.TRACTOR="TRACTOR",e.DUMP="DUMP",e.ALL_TYPES="ALL_TYPES",e.MULTIPLE_TYPES="MULTIPLE_TYPES",e.CARGO_TRACTOR="CARGO_TRACTOR",e.TANK_LORRY="TANK_LORRY",e.REFRIGERATED="REFRIGERATED",e.FREEZER="FREEZER",e.DARMAS="DARMAS",e.LABOR="LABOR"}(he||(he={})),function(e){e.CARGO="CARGO",e.WING_BODY="WING_BODY",e.CARGO_WING="CARGO_WING",e.TRACTOR="TRACTOR",e.DUMP="DUMP",e.ALL_TYPES="ALL_TYPES",e.MULTIPLE_TYPES="MULTIPLE_TYPES",e.CARGO_TRACTOR="CARGO_TRACTOR",e.TANK_LORRY="TANK_LORRY",e.REFRIGERATED="REFRIGERATED",e.FREEZER="FREEZER",e.DARMAS="DARMAS",e.LABOR="LABOR"}(fe||(fe={})),function(e){e.CARGO="CARGO",e.WING_BODY="WING_BODY",e.CARGO_WING="CARGO_WING",e.TRACTOR="TRACTOR",e.DUMP="DUMP",e.ALL_TYPES="ALL_TYPES",e.MULTIPLE_TYPES="MULTIPLE_TYPES",e.CARGO_TRACTOR="CARGO_TRACTOR",e.TANK_LORRY="TANK_LORRY",e.REFRIGERATED="REFRIGERATED",e.FREEZER="FREEZER",e.DARMAS="DARMAS",e.LABOR="LABOR"}(Ce||(Ce={})),function(e){e.DRIVER="DRIVER",e.PARTNER="PARTNER",e.NORMAL_PARTNER="NORMAL_PARTNER",e.CONSIGNMENT="CONSIGNMENT",e.BRANCH="BRANCH"}(xe||(xe={})),function(e){e.DRIVER="DRIVER",e.PARTNER="PARTNER",e.NORMAL_PARTNER="NORMAL_PARTNER",e.CONSIGNMENT="CONSIGNMENT",e.BRANCH="BRANCH"}(Ne||(Ne={})),function(e){e.DIRECT="DIRECT",e.CONSIGN="CONSIGN",e.BRANCH="BRANCH",e.BUSINESS_USE="BUSINESS_USE",e.ON_DEMAND="ON_DEMAND",e.BROKERAGE="BROKERAGE",e.GLS_VEHICLE="GLS_VEHICLE",e.DRIVER="DRIVER",e.PARTNER="PARTNER"}(ye||(ye={})),function(e){e.DIRECT="DIRECT",e.CONSIGN="CONSIGN",e.BRANCH="BRANCH",e.BUSINESS_USE="BUSINESS_USE",e.ON_DEMAND="ON_DEMAND",e.BROKERAGE="BROKERAGE",e.GLS_VEHICLE="GLS_VEHICLE",e.DRIVER="DRIVER",e.PARTNER="PARTNER"}(Ee||(Ee={})),function(e){e.CARGO="CARGO",e.WING_BODY="WING_BODY",e.CARGO_WING="CARGO_WING",e.TRACTOR="TRACTOR",e.DUMP="DUMP",e.ALL_TYPES="ALL_TYPES",e.MULTIPLE_TYPES="MULTIPLE_TYPES",e.CARGO_TRACTOR="CARGO_TRACTOR",e.TANK_LORRY="TANK_LORRY",e.REFRIGERATED="REFRIGERATED",e.FREEZER="FREEZER",e.DARMAS="DARMAS",e.LABOR="LABOR"}(ve||(ve={})),function(e){e.DRIVER="DRIVER",e.PARTNER="PARTNER",e.NORMAL_PARTNER="NORMAL_PARTNER",e.CONSIGNMENT="CONSIGNMENT",e.BRANCH="BRANCH"}(Ae||(Ae={})),function(e){e.CARGO="CARGO",e.WING_BODY="WING_BODY",e.CARGO_WING="CARGO_WING",e.TRACTOR="TRACTOR",e.DUMP="DUMP",e.ALL_TYPES="ALL_TYPES",e.MULTIPLE_TYPES="MULTIPLE_TYPES",e.CARGO_TRACTOR="CARGO_TRACTOR",e.TANK_LORRY="TANK_LORRY",e.REFRIGERATED="REFRIGERATED",e.FREEZER="FREEZER",e.DARMAS="DARMAS",e.LABOR="LABOR"}(ge||(ge={})),function(e){e.CARGO="CARGO",e.WING_BODY="WING_BODY",e.CARGO_WING="CARGO_WING",e.TRACTOR="TRACTOR",e.DUMP="DUMP",e.ALL_TYPES="ALL_TYPES",e.MULTIPLE_TYPES="MULTIPLE_TYPES",e.CARGO_TRACTOR="CARGO_TRACTOR",e.TANK_LORRY="TANK_LORRY",e.REFRIGERATED="REFRIGERATED",e.FREEZER="FREEZER",e.DARMAS="DARMAS",e.LABOR="LABOR"}(Te||(Te={})),function(e){e.DRIVER="DRIVER",e.PARTNER="PARTNER",e.NORMAL_PARTNER="NORMAL_PARTNER",e.CONSIGNMENT="CONSIGNMENT",e.BRANCH="BRANCH"}(Ie||(Ie={})),function(e){e.CARGO="CARGO",e.WING_BODY="WING_BODY",e.CARGO_WING="CARGO_WING",e.TRACTOR="TRACTOR",e.DUMP="DUMP",e.ALL_TYPES="ALL_TYPES",e.MULTIPLE_TYPES="MULTIPLE_TYPES",e.CARGO_TRACTOR="CARGO_TRACTOR",e.TANK_LORRY="TANK_LORRY",e.REFRIGERATED="REFRIGERATED",e.FREEZER="FREEZER",e.DARMAS="DARMAS",e.LABOR="LABOR"}(be||(be={})),function(e){e.CARGO="CARGO",e.WING_BODY="WING_BODY",e.CARGO_WING="CARGO_WING",e.TRACTOR="TRACTOR",e.DUMP="DUMP",e.ALL_TYPES="ALL_TYPES",e.MULTIPLE_TYPES="MULTIPLE_TYPES",e.CARGO_TRACTOR="CARGO_TRACTOR",e.TANK_LORRY="TANK_LORRY",e.REFRIGERATED="REFRIGERATED",e.FREEZER="FREEZER",e.DARMAS="DARMAS",e.LABOR="LABOR"}(Re||(Re={})),function(e){e.CARGO="CARGO",e.WING_BODY="WING_BODY",e.CARGO_WING="CARGO_WING",e.TRACTOR="TRACTOR",e.DUMP="DUMP",e.ALL_TYPES="ALL_TYPES",e.MULTIPLE_TYPES="MULTIPLE_TYPES",e.CARGO_TRACTOR="CARGO_TRACTOR",e.TANK_LORRY="TANK_LORRY",e.REFRIGERATED="REFRIGERATED",e.FREEZER="FREEZER",e.DARMAS="DARMAS",e.LABOR="LABOR"}(Se||(Se={})),function(e){e.CARGO="CARGO",e.WING_BODY="WING_BODY",e.CARGO_WING="CARGO_WING",e.TRACTOR="TRACTOR",e.DUMP="DUMP",e.ALL_TYPES="ALL_TYPES",e.MULTIPLE_TYPES="MULTIPLE_TYPES",e.CARGO_TRACTOR="CARGO_TRACTOR",e.TANK_LORRY="TANK_LORRY",e.REFRIGERATED="REFRIGERATED",e.FREEZER="FREEZER",e.DARMAS="DARMAS",e.LABOR="LABOR"}(_e||(_e={})),function(e){e.CARGO="CARGO",e.WING_BODY="WING_BODY",e.CARGO_WING="CARGO_WING",e.TRACTOR="TRACTOR",e.DUMP="DUMP",e.ALL_TYPES="ALL_TYPES",e.MULTIPLE_TYPES="MULTIPLE_TYPES",e.CARGO_TRACTOR="CARGO_TRACTOR",e.TANK_LORRY="TANK_LORRY",e.REFRIGERATED="REFRIGERATED",e.FREEZER="FREEZER",e.DARMAS="DARMAS",e.LABOR="LABOR"}(we||(we={})),function(e){e.DRIVER="DRIVER",e.PARTNER="PARTNER",e.NORMAL_PARTNER="NORMAL_PARTNER",e.CONSIGNMENT="CONSIGNMENT",e.BRANCH="BRANCH"}(Oe||(Oe={})),function(e){e.CARGO="CARGO",e.WING_BODY="WING_BODY",e.CARGO_WING="CARGO_WING",e.TRACTOR="TRACTOR",e.DUMP="DUMP",e.ALL_TYPES="ALL_TYPES",e.MULTIPLE_TYPES="MULTIPLE_TYPES",e.CARGO_TRACTOR="CARGO_TRACTOR",e.TANK_LORRY="TANK_LORRY",e.REFRIGERATED="REFRIGERATED",e.FREEZER="FREEZER",e.DARMAS="DARMAS",e.LABOR="LABOR"}(Me||(Me={})),function(e){e.CARGO="CARGO",e.WING_BODY="WING_BODY",e.CARGO_WING="CARGO_WING",e.TRACTOR="TRACTOR",e.DUMP="DUMP",e.ALL_TYPES="ALL_TYPES",e.MULTIPLE_TYPES="MULTIPLE_TYPES",e.CARGO_TRACTOR="CARGO_TRACTOR",e.TANK_LORRY="TANK_LORRY",e.REFRIGERATED="REFRIGERATED",e.FREEZER="FREEZER",e.DARMAS="DARMAS",e.LABOR="LABOR"}(De||(De={})),function(e){e.CARGO="CARGO",e.WING_BODY="WING_BODY",e.CARGO_WING="CARGO_WING",e.TRACTOR="TRACTOR",e.DUMP="DUMP",e.ALL_TYPES="ALL_TYPES",e.MULTIPLE_TYPES="MULTIPLE_TYPES",e.CARGO_TRACTOR="CARGO_TRACTOR",e.TANK_LORRY="TANK_LORRY",e.REFRIGERATED="REFRIGERATED",e.FREEZER="FREEZER",e.DARMAS="DARMAS",e.LABOR="LABOR"}(je||(je={})),function(e){e.NONE="NONE",e.SAVE_REQUEST="SAVE_REQUEST",e.SAVE_COMPLETE="SAVE_COMPLETE",e.SAVE_RETURN="SAVE_RETURN",e.DELETE_REQUEST="DELETE_REQUEST",e.DELETE_COMPLETE="DELETE_COMPLETE",e.DELETE_RETURN="DELETE_RETURN"}(Pe||(Pe={})),function(e){e.SERVICE_COMPLETED="SERVICE_COMPLETED",e.DOCUMENT_NOT_CONFIRMED="DOCUMENT_NOT_CONFIRMED",e.CUSTOMER_CLOSING_SCHEDULE_DIFFERENCE="CUSTOMER_CLOSING_SCHEDULE_DIFFERENCE",e.DISPUTE_OCCURED="DISPUTE_OCCURED",e.OUT_OF_CONTRACT="OUT_OF_CONTRACT"}(Le||(Le={})),function(e){e.SHIP_WORK_CARRIED_OVER="SHIP_WORK_CARRIED_OVER",e.WAREHOUSE_NOT_SHIPPED="WAREHOUSE_NOT_SHIPPED",e.TRANSPORT_NOT_COMPLETED="TRANSPORT_NOT_COMPLETED"}(Be||(Be={})),function(e){e.COST="COST",e.INVOICE="INVOICE",e.AGREEMENT="AGREEMENT",e.RATE_TABLE="RATE_TABLE",e.TRANSACTION_DETAIL="TRANSACTION_DETAIL",e.BILL_OF_LADING="BILL_OF_LADING",e.SHIP_WORK_LIST="SHIP_WORK_LIST",e.ORDER_APPROVAL="ORDER_APPROVAL",e.QUOTATION="QUOTATION",e.ETC="ETC"}(Ue||(Ue={})),function(e){e.SERVICE_COMPLETED="SERVICE_COMPLETED",e.DOCUMENT_NOT_CONFIRMED="DOCUMENT_NOT_CONFIRMED",e.CUSTOMER_CLOSING_SCHEDULE_DIFFERENCE="CUSTOMER_CLOSING_SCHEDULE_DIFFERENCE",e.DISPUTE_OCCURED="DISPUTE_OCCURED",e.OUT_OF_CONTRACT="OUT_OF_CONTRACT"}(Ve||(Ve={})),function(e){e.SHIP_WORK_CARRIED_OVER="SHIP_WORK_CARRIED_OVER",e.WAREHOUSE_NOT_SHIPPED="WAREHOUSE_NOT_SHIPPED",e.TRANSPORT_NOT_COMPLETED="TRANSPORT_NOT_COMPLETED"}(Fe||(Fe={})),function(e){e.COST="COST",e.INVOICE="INVOICE",e.AGREEMENT="AGREEMENT",e.RATE_TABLE="RATE_TABLE",e.TRANSACTION_DETAIL="TRANSACTION_DETAIL",e.BILL_OF_LADING="BILL_OF_LADING",e.SHIP_WORK_LIST="SHIP_WORK_LIST",e.ORDER_APPROVAL="ORDER_APPROVAL",e.QUOTATION="QUOTATION",e.ETC="ETC"}(Ge||(Ge={})),function(e){e.NONE="NONE",e.WAITING="WAITING",e.COMPLETE="COMPLETE",e.RETURN="RETURN"}(ke||(ke={})),function(e){e.NONE="NONE",e.WAITING="WAITING",e.COMPLETE="COMPLETE",e.RETURN="RETURN"}(Ye||(Ye={})),function(e){e.TRANSPORT_FEE="TRANSPORT_FEE",e.LABOR_FEE="LABOR_FEE",e.STANDBY_FEE="STANDBY_FEE",e.INFO_USAGE_FEE="INFO_USAGE_FEE",e.ETC_FEE="ETC_FEE",e.BROKERAGE_FEE="BROKERAGE_FEE",e.VIA="VIA"}(qe||(qe={})),function(e){e.TRANSPORT_FEE="TRANSPORT_FEE"}(We||(We={})),function(e){e._1A="_1A",e._3A="_3A",e.YY="YY",e._1C="_1C",e._1E="_1E",e._1D="_1D",e._1B="_1B",e._1G="_1G",e._1H="_1H",e._2A="_2A",e._3B="_3B",e._3K="_3K",e._3N="_3N",e.YX="YX"}(He||(He={})),function(e){e.TRANSPORT_FEE="TRANSPORT_FEE",e.LABOR_FEE="LABOR_FEE",e.STANDBY_FEE="STANDBY_FEE",e.INFO_USAGE_FEE="INFO_USAGE_FEE",e.ETC_FEE="ETC_FEE",e.BROKERAGE_FEE="BROKERAGE_FEE",e.VIA="VIA"}(Ke||(Ke={})),function(e){e.TRANSPORT_FEE="TRANSPORT_FEE"}(ze||(ze={})),function(e){e._1A="_1A",e._3A="_3A",e.YY="YY",e._1C="_1C",e._1E="_1E",e._1D="_1D",e._1B="_1B",e._1G="_1G",e._1H="_1H",e._2A="_2A",e._3B="_3B",e._3K="_3K",e._3N="_3N",e.YX="YX"}(Xe||(Xe={})),function(e){e.ORDER_CREATE="ORDER_CREATE",e.ORDER_DISPATCH="ORDER_DISPATCH"}(Qe||(Qe={})),function(e){e.SALES_MDM_COST_CENTER_CODE="SALES_MDM_COST_CENTER_CODE",e.PURCHASE_MDM_COST_CENTER_CODE="PURCHASE_MDM_COST_CENTER_CODE"}(Ze||(Ze={})),function(e){e.SALES_MDM_COST_CENTER_CODE="SALES_MDM_COST_CENTER_CODE",e.PURCHASE_MDM_COST_CENTER_CODE="PURCHASE_MDM_COST_CENTER_CODE"}(Je||(Je={})),function(e){e.PICKUP="PICKUP",e.DELIVERY_COMPLETE="DELIVERY_COMPLETE"}($e||($e={})),function(e){e.ORDER_CREATE="ORDER_CREATE",e.ORDER_DISPATCH="ORDER_DISPATCH"}(et||(et={})),function(e){e.EXCEL="EXCEL",e.ONE="ONE",e.MULTI="MULTI",e.CONTRACT_EXCEL_UPLOAD="CONTRACT_EXCEL_UPLOAD",e.GRID_COPY="GRID_COPY",e.NON_CONTRACT_EXCEL_UPLOAD="NON_CONTRACT_EXCEL_UPLOAD",e.EXTERNAL_INTERFACE="EXTERNAL_INTERFACE",e.ONE_WND="ONE_WND",e.MULTI_WND="MULTI_WND",e.CONTRACT_EXCEL_UPLOAD_WND="CONTRACT_EXCEL_UPLOAD_WND",e.GRID_COPY_WND="GRID_COPY_WND",e.NON_CONTRACT_EXCEL_UPLOAD_WND="NON_CONTRACT_EXCEL_UPLOAD_WND",e.EXTERNAL_INTERFACE_WND="EXTERNAL_INTERFACE_WND",e.CONTRACT_EXCEL_UPLOAD_BY_CUSTOMER_PLACE="CONTRACT_EXCEL_UPLOAD_BY_CUSTOMER_PLACE",e.NON_CONTRACT_EXCEL_UPLOAD_GOVERNMENT="NON_CONTRACT_EXCEL_UPLOAD_GOVERNMENT",e.CHAT="CHAT"}(tt||(tt={})),function(e){e._1A="_1A",e._3A="_3A",e.YY="YY",e._1C="_1C",e._1E="_1E",e._1D="_1D",e._1B="_1B",e._1G="_1G",e._1H="_1H",e._2A="_2A",e._3B="_3B",e._3K="_3K",e._3N="_3N",e.YX="YX"}(at||(at={})),function(e){e.SALES_CUSTOMER_CHANGE="SALES_CUSTOMER_CHANGE",e.SALES_UN_BILLING="SALES_UN_BILLING"}(lt||(lt={})),function(e){e.WAITING="WAITING",e.COMPLETE="COMPLETE",e.RETURN="RETURN"}(rt||(rt={})),function(e){e.MID_MONTH_CLOSING="MID_MONTH_CLOSING",e.WAREHOUSE_DISPATCH="WAREHOUSE_DISPATCH",e.POD_CONFIRMED="POD_CONFIRMED",e.AFTER_TOTAL_COMPLETION="AFTER_TOTAL_COMPLETION",e.PER_VESSEL="PER_VESSEL",e.EXTRA_REQUEST="EXTRA_REQUEST"}(st||(st={})),function(e){e.ORDER_CREATE="ORDER_CREATE",e.ORDER_DISPATCH="ORDER_DISPATCH"}(nt||(nt={})),function(e){e.ORDER_CREATE="ORDER_CREATE",e.ORDER_DISPATCH="ORDER_DISPATCH"}(ot||(ot={})),function(e){e.WAITING="WAITING",e.COMPLETE="COMPLETE",e.RETURN="RETURN"}(it||(it={})),function(e){e.WAITING="WAITING",e.COMPLETE="COMPLETE",e.RETURN="RETURN"}(dt||(dt={})),function(e){e._1A="_1A",e._3A="_3A",e.YY="YY",e._1C="_1C",e._1E="_1E",e._1D="_1D",e._1B="_1B",e._1G="_1G",e._1H="_1H",e._2A="_2A",e._3B="_3B",e._3K="_3K",e._3N="_3N",e.YX="YX"}(ct||(ct={})),function(e){e.EXCEL="EXCEL",e.ONE="ONE",e.MULTI="MULTI",e.CONTRACT_EXCEL_UPLOAD="CONTRACT_EXCEL_UPLOAD",e.GRID_COPY="GRID_COPY",e.NON_CONTRACT_EXCEL_UPLOAD="NON_CONTRACT_EXCEL_UPLOAD",e.EXTERNAL_INTERFACE="EXTERNAL_INTERFACE",e.ONE_WND="ONE_WND",e.MULTI_WND="MULTI_WND",e.CONTRACT_EXCEL_UPLOAD_WND="CONTRACT_EXCEL_UPLOAD_WND",e.GRID_COPY_WND="GRID_COPY_WND",e.NON_CONTRACT_EXCEL_UPLOAD_WND="NON_CONTRACT_EXCEL_UPLOAD_WND",e.EXTERNAL_INTERFACE_WND="EXTERNAL_INTERFACE_WND",e.CONTRACT_EXCEL_UPLOAD_BY_CUSTOMER_PLACE="CONTRACT_EXCEL_UPLOAD_BY_CUSTOMER_PLACE",e.NON_CONTRACT_EXCEL_UPLOAD_GOVERNMENT="NON_CONTRACT_EXCEL_UPLOAD_GOVERNMENT",e.CHAT="CHAT"}(ut||(ut={})),function(e){e.DISPATCH_REQUEST="DISPATCH_REQUEST",e.DISPATCH_PLAN="DISPATCH_PLAN",e.CONFIRM_ASSIGNMENT="CONFIRM_ASSIGNMENT",e.CONFIRM_DISPATCH="CONFIRM_DISPATCH",e.PICKUP_COMPLETE="PICKUP_COMPLETE",e.DROP_MOVING="DROP_MOVING",e.DELIVERY_COMPLETE="DELIVERY_COMPLETE",e.REQUEST_RESULT_CONFIRM="REQUEST_RESULT_CONFIRM",e.CONFIRM_RESULT="CONFIRM_RESULT",e.ORDER_CANCEL="ORDER_CANCEL",e.DELIVERY_CANCEL="DELIVERY_CANCEL"}(mt||(mt={})),function(e){e.SALES="SALES",e.PURCHASE="PURCHASE"}(pt||(pt={})),function(e){e.DISPATCH_REQUEST="DISPATCH_REQUEST",e.DISPATCH_PLAN="DISPATCH_PLAN",e.CONFIRM_ASSIGNMENT="CONFIRM_ASSIGNMENT",e.CONFIRM_DISPATCH="CONFIRM_DISPATCH",e.PICKUP_COMPLETE="PICKUP_COMPLETE",e.DROP_MOVING="DROP_MOVING",e.DELIVERY_COMPLETE="DELIVERY_COMPLETE",e.REQUEST_RESULT_CONFIRM="REQUEST_RESULT_CONFIRM",e.CONFIRM_RESULT="CONFIRM_RESULT",e.ORDER_CANCEL="ORDER_CANCEL",e.DELIVERY_CANCEL="DELIVERY_CANCEL"}(ht||(ht={})),function(e){e.PICKUP="PICKUP",e.PAYMENT="PAYMENT"}(ft||(ft={})),function(e){e.SALES="SALES",e.PURCHASE="PURCHASE"}(Ct||(Ct={})),function(e){e.PICKUP="PICKUP",e.DELIVERY_COMPLETE="DELIVERY_COMPLETE"}(xt||(xt={})),function(e){e.DRIVER="DRIVER",e.PARTNER="PARTNER",e.NORMAL_PARTNER="NORMAL_PARTNER",e.CONSIGNMENT="CONSIGNMENT",e.BRANCH="BRANCH"}(Nt||(Nt={})),function(e){e.DRIVER="DRIVER",e.PARTNER="PARTNER",e.NORMAL_PARTNER="NORMAL_PARTNER",e.CONSIGNMENT="CONSIGNMENT",e.BRANCH="BRANCH"}(yt||(yt={})),function(e){e.EXCEL="EXCEL",e.ONE="ONE",e.MULTI="MULTI",e.CONTRACT_EXCEL_UPLOAD="CONTRACT_EXCEL_UPLOAD",e.GRID_COPY="GRID_COPY",e.NON_CONTRACT_EXCEL_UPLOAD="NON_CONTRACT_EXCEL_UPLOAD",e.EXTERNAL_INTERFACE="EXTERNAL_INTERFACE",e.ONE_WND="ONE_WND",e.MULTI_WND="MULTI_WND",e.CONTRACT_EXCEL_UPLOAD_WND="CONTRACT_EXCEL_UPLOAD_WND",e.GRID_COPY_WND="GRID_COPY_WND",e.NON_CONTRACT_EXCEL_UPLOAD_WND="NON_CONTRACT_EXCEL_UPLOAD_WND",e.EXTERNAL_INTERFACE_WND="EXTERNAL_INTERFACE_WND",e.CONTRACT_EXCEL_UPLOAD_BY_CUSTOMER_PLACE="CONTRACT_EXCEL_UPLOAD_BY_CUSTOMER_PLACE",e.NON_CONTRACT_EXCEL_UPLOAD_GOVERNMENT="NON_CONTRACT_EXCEL_UPLOAD_GOVERNMENT",e.CHAT="CHAT"}(Et||(Et={})),function(e){e.TRANSPORT_FEE="TRANSPORT_FEE",e.ETC_FEE="ETC_FEE",e.KOSIS_FEE="KOSIS_FEE",e.SERVICE_OUTSOURCING_FEE="SERVICE_OUTSOURCING_FEE",e.CUSTOMS_FEE="CUSTOMS_FEE",e.PERFORMANCE_OUTSOURCING_FEE="PERFORMANCE_OUTSOURCING_FEE",e.PORT_RENT_FEE="PORT_RENT_FEE",e.RAILWAY_FEE="RAILWAY_FEE",e.WORK_OUTSOURCING_FEE="WORK_OUTSOURCING_FEE",e.WELFARE_OUTSOURCING_FEE="WELFARE_OUTSOURCING_FEE",e.LABOR_TAX_OUTSOURCING_FEE="LABOR_TAX_OUTSOURCING_FEE",e.FIXED_EMPLOYEE_OUTSOURCING_FEE="FIXED_EMPLOYEE_OUTSOURCING_FEE",e.MARINE_FREIGHT_FEE="MARINE_FREIGHT_FEE",e.RENT_BUILDING_FEE="RENT_BUILDING_FEE",e.SERVICE_OUTSOURCING_ETC_FEE="SERVICE_OUTSOURCING_ETC_FEE",e.RENT_LAND_FEE="RENT_LAND_FEE",e.REPAIR_BUILDING_FEE="REPAIR_BUILDING_FEE",e.RENT_PALETTE_FEE="RENT_PALETTE_FEE",e.RENT_MACHINE_FEE="RENT_MACHINE_FEE",e.REPAIR_HEAVY_EQUIPMENT_FEE="REPAIR_HEAVY_EQUIPMENT_FEE",e.RENT_HEAVY_EQUIPMENT_FEE="RENT_HEAVY_EQUIPMENT_FEE",e.REPAIR_TRUCK_FEE="REPAIR_TRUCK_FEE",e.FUEL_SHIP_FEE="FUEL_SHIP_FEE",e.REPAIR_SHIP_FEE="REPAIR_SHIP_FEE",e.SUPPLY_GENERAL_FEE="SUPPLY_GENERAL_FEE",e.TEMP_WORKER_OUTSOURCING_FEE="TEMP_WORKER_OUTSOURCING_FEE",e.REPAIR_MACHINE_FEE="REPAIR_MACHINE_FEE",e.REPAIR_STRUCTURE_FEE="REPAIR_STRUCTURE_FEE",e.TRANSPORT_BONUS_FEE="TRANSPORT_BONUS_FEE",e.DISPOSAL_OUTSOURCING_FEE="DISPOSAL_OUTSOURCING_FEE",e.TRANSPORT_FUEL_FEE="TRANSPORT_FUEL_FEE",e.FUEL_HEAVY_EQUIPMENT_FEE="FUEL_HEAVY_EQUIPMENT_FEE",e.FUEL_TRUCK_FEE="FUEL_TRUCK_FEE",e.FUEL_MACHINE_FEE="FUEL_MACHINE_FEE"}(vt||(vt={})),function(e){e.GL_ACCOUNT="GL_ACCOUNT",e.MATERIAL="MATERIAL",e.MDM_COST_CENTER_CODE="MDM_COST_CENTER_CODE",e.CUSTOMER="CUSTOMER",e.NONE_WND_TARGET="NONE_WND_TARGET",e.VENDOR_BROKER="VENDOR_BROKER",e.VENDOR="VENDOR"}(At||(At={})),function(e){e.GL_ACCOUNT="GL_ACCOUNT",e.MATERIAL="MATERIAL",e.MDM_COST_CENTER_CODE="MDM_COST_CENTER_CODE",e.CUSTOMER="CUSTOMER",e.NONE_WND_TARGET="NONE_WND_TARGET",e.VENDOR_BROKER="VENDOR_BROKER",e.VENDOR="VENDOR"}(gt||(gt={})),function(e){e.GL_ACCOUNT="GL_ACCOUNT",e.MATERIAL="MATERIAL",e.MDM_COST_CENTER_CODE="MDM_COST_CENTER_CODE",e.CUSTOMER="CUSTOMER",e.NONE_WND_TARGET="NONE_WND_TARGET",e.VENDOR_BROKER="VENDOR_BROKER",e.VENDOR="VENDOR"}(Tt||(Tt={})),function(e){e.WAITING="WAITING",e.COMPLETE="COMPLETE",e.RETURN="RETURN"}(It||(It={})),function(e){e.NONE="NONE",e.SAVE_REQUEST="SAVE_REQUEST",e.SAVE_COMPLETE="SAVE_COMPLETE",e.SAVE_RETURN="SAVE_RETURN",e.DELETE_REQUEST="DELETE_REQUEST",e.DELETE_COMPLETE="DELETE_COMPLETE",e.DELETE_RETURN="DELETE_RETURN"}(bt||(bt={})),function(e){e.WAITING="WAITING",e.COMPLETE="COMPLETE",e.RETURN="RETURN"}(Rt||(Rt={})),function(e){e.WAITING="WAITING",e.COMPLETE="COMPLETE",e.RETURN="RETURN"}(St||(St={})),function(e){e.WAITING="WAITING",e.COMPLETE="COMPLETE",e.RETURN="RETURN"}(_t||(_t={})),function(e){e.WAITING="WAITING",e.COMPLETE="COMPLETE",e.RETURN="RETURN"}(wt||(wt={})),function(e){e.WAITING="WAITING",e.COMPLETE="COMPLETE",e.RETURN="RETURN"}(Ot||(Ot={})),function(e){e.NONE="NONE",e.WAITING="WAITING",e.COMPLETE="COMPLETE",e.RETURN="RETURN"}(Mt||(Mt={})),function(e){e.NONE="NONE",e.WAITING="WAITING",e.COMPLETE="COMPLETE",e.RETURN="RETURN"}(Dt||(Dt={})),function(e){e.TRANSPORT_FEE="TRANSPORT_FEE",e.LABOR_FEE="LABOR_FEE",e.STANDBY_FEE="STANDBY_FEE",e.TOLL_FEE="TOLL_FEE",e.PILOTAGE_FEE="PILOTAGE_FEE",e.ETC_FEE="ETC_FEE",e.KOSIS_FEE="KOSIS_FEE",e.VIA="VIA",e.INFO_USAGE_FEE="INFO_USAGE_FEE",e.BROKERAGE_FEE="BROKERAGE_FEE"}(jt||(jt={})),function(e){e.TRANSPORT_FEE="TRANSPORT_FEE",e.ETC_FEE="ETC_FEE",e.KOSIS_FEE="KOSIS_FEE",e.SERVICE_OUTSOURCING_FEE="SERVICE_OUTSOURCING_FEE",e.CUSTOMS_FEE="CUSTOMS_FEE",e.PERFORMANCE_OUTSOURCING_FEE="PERFORMANCE_OUTSOURCING_FEE",e.PORT_RENT_FEE="PORT_RENT_FEE",e.RAILWAY_FEE="RAILWAY_FEE",e.WORK_OUTSOURCING_FEE="WORK_OUTSOURCING_FEE",e.WELFARE_OUTSOURCING_FEE="WELFARE_OUTSOURCING_FEE",e.LABOR_TAX_OUTSOURCING_FEE="LABOR_TAX_OUTSOURCING_FEE",e.FIXED_EMPLOYEE_OUTSOURCING_FEE="FIXED_EMPLOYEE_OUTSOURCING_FEE",e.MARINE_FREIGHT_FEE="MARINE_FREIGHT_FEE",e.RENT_BUILDING_FEE="RENT_BUILDING_FEE",e.SERVICE_OUTSOURCING_ETC_FEE="SERVICE_OUTSOURCING_ETC_FEE",e.RENT_LAND_FEE="RENT_LAND_FEE",e.REPAIR_BUILDING_FEE="REPAIR_BUILDING_FEE",e.RENT_PALETTE_FEE="RENT_PALETTE_FEE",e.RENT_MACHINE_FEE="RENT_MACHINE_FEE",e.REPAIR_HEAVY_EQUIPMENT_FEE="REPAIR_HEAVY_EQUIPMENT_FEE",e.RENT_HEAVY_EQUIPMENT_FEE="RENT_HEAVY_EQUIPMENT_FEE",e.REPAIR_TRUCK_FEE="REPAIR_TRUCK_FEE",e.FUEL_SHIP_FEE="FUEL_SHIP_FEE",e.REPAIR_SHIP_FEE="REPAIR_SHIP_FEE",e.SUPPLY_GENERAL_FEE="SUPPLY_GENERAL_FEE",e.TEMP_WORKER_OUTSOURCING_FEE="TEMP_WORKER_OUTSOURCING_FEE",e.REPAIR_MACHINE_FEE="REPAIR_MACHINE_FEE",e.REPAIR_STRUCTURE_FEE="REPAIR_STRUCTURE_FEE",e.TRANSPORT_BONUS_FEE="TRANSPORT_BONUS_FEE",e.DISPOSAL_OUTSOURCING_FEE="DISPOSAL_OUTSOURCING_FEE",e.TRANSPORT_FUEL_FEE="TRANSPORT_FUEL_FEE",e.FUEL_HEAVY_EQUIPMENT_FEE="FUEL_HEAVY_EQUIPMENT_FEE",e.FUEL_TRUCK_FEE="FUEL_TRUCK_FEE",e.FUEL_MACHINE_FEE="FUEL_MACHINE_FEE"}(Pt||(Pt={})),function(e){e.A1="A1",e.D1="D1",e.ZZ="ZZ",e.D9="D9",e.F9="F9",e.C1="C1"}(Lt||(Lt={})),function(e){e.TRANSPORT_FEE="TRANSPORT_FEE",e.LABOR_FEE="LABOR_FEE",e.STANDBY_FEE="STANDBY_FEE",e.TOLL_FEE="TOLL_FEE",e.PILOTAGE_FEE="PILOTAGE_FEE",e.ETC_FEE="ETC_FEE",e.KOSIS_FEE="KOSIS_FEE",e.VIA="VIA",e.INFO_USAGE_FEE="INFO_USAGE_FEE",e.BROKERAGE_FEE="BROKERAGE_FEE"}(Bt||(Bt={})),function(e){e.TRANSPORT_FEE="TRANSPORT_FEE",e.ETC_FEE="ETC_FEE",e.KOSIS_FEE="KOSIS_FEE",e.SERVICE_OUTSOURCING_FEE="SERVICE_OUTSOURCING_FEE",e.CUSTOMS_FEE="CUSTOMS_FEE",e.PERFORMANCE_OUTSOURCING_FEE="PERFORMANCE_OUTSOURCING_FEE",e.PORT_RENT_FEE="PORT_RENT_FEE",e.RAILWAY_FEE="RAILWAY_FEE",e.WORK_OUTSOURCING_FEE="WORK_OUTSOURCING_FEE",e.WELFARE_OUTSOURCING_FEE="WELFARE_OUTSOURCING_FEE",e.LABOR_TAX_OUTSOURCING_FEE="LABOR_TAX_OUTSOURCING_FEE",e.FIXED_EMPLOYEE_OUTSOURCING_FEE="FIXED_EMPLOYEE_OUTSOURCING_FEE",e.MARINE_FREIGHT_FEE="MARINE_FREIGHT_FEE",e.RENT_BUILDING_FEE="RENT_BUILDING_FEE",e.SERVICE_OUTSOURCING_ETC_FEE="SERVICE_OUTSOURCING_ETC_FEE",e.RENT_LAND_FEE="RENT_LAND_FEE",e.REPAIR_BUILDING_FEE="REPAIR_BUILDING_FEE",e.RENT_PALETTE_FEE="RENT_PALETTE_FEE",e.RENT_MACHINE_FEE="RENT_MACHINE_FEE",e.REPAIR_HEAVY_EQUIPMENT_FEE="REPAIR_HEAVY_EQUIPMENT_FEE",e.RENT_HEAVY_EQUIPMENT_FEE="RENT_HEAVY_EQUIPMENT_FEE",e.REPAIR_TRUCK_FEE="REPAIR_TRUCK_FEE",e.FUEL_SHIP_FEE="FUEL_SHIP_FEE",e.REPAIR_SHIP_FEE="REPAIR_SHIP_FEE",e.SUPPLY_GENERAL_FEE="SUPPLY_GENERAL_FEE",e.TEMP_WORKER_OUTSOURCING_FEE="TEMP_WORKER_OUTSOURCING_FEE",e.REPAIR_MACHINE_FEE="REPAIR_MACHINE_FEE",e.REPAIR_STRUCTURE_FEE="REPAIR_STRUCTURE_FEE",e.TRANSPORT_BONUS_FEE="TRANSPORT_BONUS_FEE",e.DISPOSAL_OUTSOURCING_FEE="DISPOSAL_OUTSOURCING_FEE",e.TRANSPORT_FUEL_FEE="TRANSPORT_FUEL_FEE",e.FUEL_HEAVY_EQUIPMENT_FEE="FUEL_HEAVY_EQUIPMENT_FEE",e.FUEL_TRUCK_FEE="FUEL_TRUCK_FEE",e.FUEL_MACHINE_FEE="FUEL_MACHINE_FEE"}(Ut||(Ut={})),function(e){e.A1="A1",e.D1="D1",e.ZZ="ZZ",e.D9="D9",e.F9="F9",e.C1="C1"}(Vt||(Vt={})),function(e){e.DRIVER="DRIVER",e.PARTNER="PARTNER",e.NORMAL_PARTNER="NORMAL_PARTNER",e.CONSIGNMENT="CONSIGNMENT",e.BRANCH="BRANCH"}(Ft||(Ft={})),function(e){e.WAITING="WAITING",e.COMPLETE="COMPLETE",e.RETURN="RETURN"}(Gt||(Gt={})),function(e){e.DRIVER="DRIVER",e.PARTNER="PARTNER",e.NORMAL_PARTNER="NORMAL_PARTNER",e.CONSIGNMENT="CONSIGNMENT",e.BRANCH="BRANCH"}(kt||(kt={})),function(e){e.A1="A1",e.D1="D1",e.ZZ="ZZ",e.D9="D9",e.F9="F9",e.C1="C1"}(Yt||(Yt={})),function(e){e.DRIVER="DRIVER",e.PARTNER="PARTNER",e.NORMAL_PARTNER="NORMAL_PARTNER",e.CONSIGNMENT="CONSIGNMENT",e.BRANCH="BRANCH"}(qt||(qt={})),function(e){e.EXCEL="EXCEL",e.ONE="ONE",e.MULTI="MULTI",e.CONTRACT_EXCEL_UPLOAD="CONTRACT_EXCEL_UPLOAD",e.GRID_COPY="GRID_COPY",e.NON_CONTRACT_EXCEL_UPLOAD="NON_CONTRACT_EXCEL_UPLOAD",e.EXTERNAL_INTERFACE="EXTERNAL_INTERFACE",e.ONE_WND="ONE_WND",e.MULTI_WND="MULTI_WND",e.CONTRACT_EXCEL_UPLOAD_WND="CONTRACT_EXCEL_UPLOAD_WND",e.GRID_COPY_WND="GRID_COPY_WND",e.NON_CONTRACT_EXCEL_UPLOAD_WND="NON_CONTRACT_EXCEL_UPLOAD_WND",e.EXTERNAL_INTERFACE_WND="EXTERNAL_INTERFACE_WND",e.CONTRACT_EXCEL_UPLOAD_BY_CUSTOMER_PLACE="CONTRACT_EXCEL_UPLOAD_BY_CUSTOMER_PLACE",e.NON_CONTRACT_EXCEL_UPLOAD_GOVERNMENT="NON_CONTRACT_EXCEL_UPLOAD_GOVERNMENT",e.CHAT="CHAT"}(Wt||(Wt={})),function(e){e.A1="A1",e.D1="D1",e.ZZ="ZZ",e.D9="D9",e.F9="F9",e.C1="C1"}(Ht||(Ht={})),function(e){e.CARGO="CARGO",e.WING_BODY="WING_BODY",e.CARGO_WING="CARGO_WING",e.TRACTOR="TRACTOR",e.DUMP="DUMP",e.ALL_TYPES="ALL_TYPES",e.MULTIPLE_TYPES="MULTIPLE_TYPES",e.CARGO_TRACTOR="CARGO_TRACTOR",e.TANK_LORRY="TANK_LORRY",e.REFRIGERATED="REFRIGERATED",e.FREEZER="FREEZER",e.DARMAS="DARMAS",e.LABOR="LABOR"}(Kt||(Kt={})),function(e){e.CARGO="CARGO",e.WING_BODY="WING_BODY",e.CARGO_WING="CARGO_WING",e.TRACTOR="TRACTOR",e.DUMP="DUMP",e.ALL_TYPES="ALL_TYPES",e.MULTIPLE_TYPES="MULTIPLE_TYPES",e.CARGO_TRACTOR="CARGO_TRACTOR",e.TANK_LORRY="TANK_LORRY",e.REFRIGERATED="REFRIGERATED",e.FREEZER="FREEZER",e.DARMAS="DARMAS",e.LABOR="LABOR"}(zt||(zt={})),function(e){e.ROOT_TEMPERATURE="ROOT_TEMPERATURE",e.REFRIGERATED="REFRIGERATED",e.FROZEN="FROZEN"}(Xt||(Xt={})),function(e){e.FIXED="FIXED",e.LAST="LAST"}(Qt||(Qt={})),function(e){e.CARGO="CARGO",e.WING_BODY="WING_BODY",e.CARGO_WING="CARGO_WING",e.TRACTOR="TRACTOR",e.DUMP="DUMP",e.ALL_TYPES="ALL_TYPES",e.MULTIPLE_TYPES="MULTIPLE_TYPES",e.CARGO_TRACTOR="CARGO_TRACTOR",e.TANK_LORRY="TANK_LORRY",e.REFRIGERATED="REFRIGERATED",e.FREEZER="FREEZER",e.DARMAS="DARMAS",e.LABOR="LABOR"}(Zt||(Zt={})),function(e){e.DRIVER="DRIVER",e.PARTNER="PARTNER",e.NORMAL_PARTNER="NORMAL_PARTNER",e.CONSIGNMENT="CONSIGNMENT",e.BRANCH="BRANCH"}(Jt||(Jt={})),function(e){e.CARGO="CARGO",e.WING_BODY="WING_BODY",e.CARGO_WING="CARGO_WING",e.TRACTOR="TRACTOR",e.DUMP="DUMP",e.ALL_TYPES="ALL_TYPES",e.MULTIPLE_TYPES="MULTIPLE_TYPES",e.CARGO_TRACTOR="CARGO_TRACTOR",e.TANK_LORRY="TANK_LORRY",e.REFRIGERATED="REFRIGERATED",e.FREEZER="FREEZER",e.DARMAS="DARMAS",e.LABOR="LABOR"}($t||($t={})),function(e){e.ROOT_TEMPERATURE="ROOT_TEMPERATURE",e.REFRIGERATED="REFRIGERATED",e.FROZEN="FROZEN"}(ea||(ea={})),function(e){e.FIXED="FIXED",e.LAST="LAST"}(ta||(ta={})),function(e){e.INTEGER_ROUND_UP="INTEGER_ROUND_UP",e.INTEGER_ROUND_DOWN="INTEGER_ROUND_DOWN",e.DECIMAL_ROUND="DECIMAL_ROUND",e.DECIMAL_TRUNCATE="DECIMAL_TRUNCATE",e.NONE="NONE"}(aa||(aa={})),function(e){e.TRANSPORT_FEE="TRANSPORT_FEE",e.LABOR_FEE="LABOR_FEE",e.STANDBY_FEE="STANDBY_FEE",e.TOLL_FEE="TOLL_FEE",e.PILOTAGE_FEE="PILOTAGE_FEE",e.ETC_FEE="ETC_FEE",e.KOSIS_FEE="KOSIS_FEE",e.VIA="VIA",e.INFO_USAGE_FEE="INFO_USAGE_FEE",e.BROKERAGE_FEE="BROKERAGE_FEE"}(la||(la={})),function(e){e.TRANSPORT_FEE="TRANSPORT_FEE",e.LABOR_FEE="LABOR_FEE",e.STANDBY_FEE="STANDBY_FEE",e.INFO_USAGE_FEE="INFO_USAGE_FEE",e.ETC_FEE="ETC_FEE",e.BROKERAGE_FEE="BROKERAGE_FEE",e.VIA="VIA"}(ra||(ra={})),function(e){e.SECTION="SECTION",e.DISTANCE="DISTANCE",e.NONE="NONE"}(sa||(sa={})),function(e){e.CARGO="CARGO",e.WING_BODY="WING_BODY",e.CARGO_WING="CARGO_WING",e.TRACTOR="TRACTOR",e.DUMP="DUMP",e.ALL_TYPES="ALL_TYPES",e.MULTIPLE_TYPES="MULTIPLE_TYPES",e.CARGO_TRACTOR="CARGO_TRACTOR",e.TANK_LORRY="TANK_LORRY",e.REFRIGERATED="REFRIGERATED",e.FREEZER="FREEZER",e.DARMAS="DARMAS",e.LABOR="LABOR"}(na||(na={})),function(e){e.CARGO="CARGO",e.WING_BODY="WING_BODY",e.CARGO_WING="CARGO_WING",e.TRACTOR="TRACTOR",e.DUMP="DUMP",e.ALL_TYPES="ALL_TYPES",e.MULTIPLE_TYPES="MULTIPLE_TYPES",e.CARGO_TRACTOR="CARGO_TRACTOR",e.TANK_LORRY="TANK_LORRY",e.REFRIGERATED="REFRIGERATED",e.FREEZER="FREEZER",e.DARMAS="DARMAS",e.LABOR="LABOR"}(oa||(oa={})),function(e){e.INCLUDE="INCLUDE",e.EXCLUDE="EXCLUDE"}(ia||(ia={})),function(e){e.SUDO="SUDO",e.YEONGDONG="YEONGDONG",e.CHUNGCHEONG="CHUNGCHEONG",e.YEONGNAM="YEONGNAM",e.HONAM="HONAM"}(da||(da={})),function(e){e.SEOUL="SEOUL",e.INCHEON="INCHEON",e.GYEONGGI="GYEONGGI",e.GANGWON="GANGWON",e.GYEONGBUK="GYEONGBUK",e.GYEONGNAM="GYEONGNAM",e.DAEGU="DAEGU",e.ULSAN="ULSAN",e.BUSAN="BUSAN",e.CHUNGBUK="CHUNGBUK",e.CHUNGNAM="CHUNGNAM",e.DAEJEON="DAEJEON",e.SEJONG="SEJONG",e.JEONBUK="JEONBUK",e.JEONNAM="JEONNAM",e.GWANGJU="GWANGJU",e.JEJU="JEJU"}(ca||(ca={})),function(e){e.RAW_GRAIN="RAW_GRAIN",e.REFINED_GRAIN="REFINED_GRAIN",e.PACKAGING="PACKAGING",e.PALLET="PALLET"}(ua||(ua={})),function(e){e.MATERIAL="MATERIAL",e.WELFARE="WELFARE",e.SCHOOL_MEAL="SCHOOL_MEAL",e.MILITARY="MILITARY",e.GOVERNMENT="GOVERNMENT",e.PROCESSING="PROCESSING",e.ALCOHOL="ALCOHOL",e.OVERSEAS_AID="OVERSEAS_AID",e.ETC="ETC",e.PACKAGING="PACKAGING",e.PALLET="PALLET"}(ma||(ma={})),function(e){e.KG10="KG_10",e.KG20="KG_20",e.KG40="KG_40",e.KG800="KG_800",e.KG1000="KG_1000",e.PP40="PP_40",e.PP20="PP_20",e.PP_TON="PP_TON",e.JI20="JI_20",e.JI10="JI_10",e.PE10="PE_10",e.PE40="PE_40",e.PALLET="PALLET"}(pa||(pa={})),function(e){e.ROAD="ROAD",e.SEA="SEA",e.HANDLING="HANDLING",e.RAIL="RAIL"}(ha||(ha={})),function(e){e.INTEGRATION_DISPATCH_CENTER="INTEGRATION_DISPATCH_CENTER",e.BRANCH_OFFICE="BRANCH_OFFICE",e.AGENCY="AGENCY"}(fa||(fa={})),function(e){e.EXCEL="EXCEL",e.ONE="ONE",e.MULTI="MULTI",e.CONTRACT_EXCEL_UPLOAD="CONTRACT_EXCEL_UPLOAD",e.GRID_COPY="GRID_COPY",e.NON_CONTRACT_EXCEL_UPLOAD="NON_CONTRACT_EXCEL_UPLOAD",e.EXTERNAL_INTERFACE="EXTERNAL_INTERFACE",e.ONE_WND="ONE_WND",e.MULTI_WND="MULTI_WND",e.CONTRACT_EXCEL_UPLOAD_WND="CONTRACT_EXCEL_UPLOAD_WND",e.GRID_COPY_WND="GRID_COPY_WND",e.NON_CONTRACT_EXCEL_UPLOAD_WND="NON_CONTRACT_EXCEL_UPLOAD_WND",e.EXTERNAL_INTERFACE_WND="EXTERNAL_INTERFACE_WND",e.CONTRACT_EXCEL_UPLOAD_BY_CUSTOMER_PLACE="CONTRACT_EXCEL_UPLOAD_BY_CUSTOMER_PLACE",e.NON_CONTRACT_EXCEL_UPLOAD_GOVERNMENT="NON_CONTRACT_EXCEL_UPLOAD_GOVERNMENT",e.CHAT="CHAT"}(Ca||(Ca={})),function(e){e.UNBAN="UNBAN",e.NONE="NONE"}(xa||(xa={})),function(e){e.DEPARTURE="DEPARTURE",e.ARRIVAL="ARRIVAL",e.WAYPOINT="WAYPOINT"}(Na||(Na={})),function(e){e.PICKUP="PICKUP",e.DROP="DROP",e.PICKUP_DROP="PICKUP_DROP"}(ya||(ya={})),function(e){e.FORKLIFT="FORKLIFT",e.MANUAL="MANUAL",e.CRANE="CRANE",e.UNSPECIFIED="UNSPECIFIED",e.FORKLIFT_MANUAL="FORKLIFT_MANUAL",e.WHEEL_LOADER="WHEEL_LOADER",e.EXCAVATOR="EXCAVATOR",e.REACH_STACKER="REACH_STACKER",e.MACHINERY="MACHINERY",e.PAYLOADER="PAYLOADER",e.CONVEYOR_BELT="CONVEYOR_BELT",e.HOIST="HOIST"}(Ea||(Ea={})),function(e){e.SECTION="SECTION",e.DISTANCE="DISTANCE",e.NONE="NONE"}(va||(va={})),function(e){e.CARGO="CARGO",e.WING_BODY="WING_BODY",e.CARGO_WING="CARGO_WING",e.TRACTOR="TRACTOR",e.DUMP="DUMP",e.ALL_TYPES="ALL_TYPES",e.MULTIPLE_TYPES="MULTIPLE_TYPES",e.CARGO_TRACTOR="CARGO_TRACTOR",e.TANK_LORRY="TANK_LORRY",e.REFRIGERATED="REFRIGERATED",e.FREEZER="FREEZER",e.DARMAS="DARMAS",e.LABOR="LABOR"}(Aa||(Aa={})),function(e){e.SUDO="SUDO",e.YEONGDONG="YEONGDONG",e.CHUNGCHEONG="CHUNGCHEONG",e.YEONGNAM="YEONGNAM",e.HONAM="HONAM"}(ga||(ga={})),function(e){e.SEOUL="SEOUL",e.INCHEON="INCHEON",e.GYEONGGI="GYEONGGI",e.GANGWON="GANGWON",e.GYEONGBUK="GYEONGBUK",e.GYEONGNAM="GYEONGNAM",e.DAEGU="DAEGU",e.ULSAN="ULSAN",e.BUSAN="BUSAN",e.CHUNGBUK="CHUNGBUK",e.CHUNGNAM="CHUNGNAM",e.DAEJEON="DAEJEON",e.SEJONG="SEJONG",e.JEONBUK="JEONBUK",e.JEONNAM="JEONNAM",e.GWANGJU="GWANGJU",e.JEJU="JEJU"}(Ta||(Ta={})),function(e){e.RAW_GRAIN="RAW_GRAIN",e.REFINED_GRAIN="REFINED_GRAIN",e.PACKAGING="PACKAGING",e.PALLET="PALLET"}(Ia||(Ia={})),function(e){e.MATERIAL="MATERIAL",e.WELFARE="WELFARE",e.SCHOOL_MEAL="SCHOOL_MEAL",e.MILITARY="MILITARY",e.GOVERNMENT="GOVERNMENT",e.PROCESSING="PROCESSING",e.ALCOHOL="ALCOHOL",e.OVERSEAS_AID="OVERSEAS_AID",e.ETC="ETC",e.PACKAGING="PACKAGING",e.PALLET="PALLET"}(ba||(ba={})),function(e){e.KG10="KG_10",e.KG20="KG_20",e.KG40="KG_40",e.KG800="KG_800",e.KG1000="KG_1000",e.PP40="PP_40",e.PP20="PP_20",e.PP_TON="PP_TON",e.JI20="JI_20",e.JI10="JI_10",e.PE10="PE_10",e.PE40="PE_40",e.PALLET="PALLET"}(Ra||(Ra={})),function(e){e.ROAD="ROAD",e.SEA="SEA",e.HANDLING="HANDLING",e.RAIL="RAIL"}(Sa||(Sa={})),function(e){e.CONTRACT="CONTRACT",e.CUSTOMER_PLACE="CUSTOMER_PLACE"}(_a||(_a={})),function(e){e.CARGO="CARGO",e.WING_BODY="WING_BODY",e.CARGO_WING="CARGO_WING",e.TRACTOR="TRACTOR",e.DUMP="DUMP",e.ALL_TYPES="ALL_TYPES",e.MULTIPLE_TYPES="MULTIPLE_TYPES",e.CARGO_TRACTOR="CARGO_TRACTOR",e.TANK_LORRY="TANK_LORRY",e.REFRIGERATED="REFRIGERATED",e.FREEZER="FREEZER",e.DARMAS="DARMAS",e.LABOR="LABOR"}(wa||(wa={})),function(e){e.DISPATCH_REQUEST="DISPATCH_REQUEST",e.DISPATCH_PLAN="DISPATCH_PLAN",e.CONFIRM_ASSIGNMENT="CONFIRM_ASSIGNMENT",e.CONFIRM_DISPATCH="CONFIRM_DISPATCH",e.PICKUP_COMPLETE="PICKUP_COMPLETE",e.DROP_MOVING="DROP_MOVING",e.DELIVERY_COMPLETE="DELIVERY_COMPLETE",e.REQUEST_RESULT_CONFIRM="REQUEST_RESULT_CONFIRM",e.CONFIRM_RESULT="CONFIRM_RESULT",e.ORDER_CANCEL="ORDER_CANCEL",e.DELIVERY_CANCEL="DELIVERY_CANCEL"}(Oa||(Oa={})),function(e){e.SECTION="SECTION",e.DISTANCE="DISTANCE",e.NONE="NONE"}(Ma||(Ma={})),function(e){e.CARGO="CARGO",e.WING_BODY="WING_BODY",e.CARGO_WING="CARGO_WING",e.TRACTOR="TRACTOR",e.DUMP="DUMP",e.ALL_TYPES="ALL_TYPES",e.MULTIPLE_TYPES="MULTIPLE_TYPES",e.CARGO_TRACTOR="CARGO_TRACTOR",e.TANK_LORRY="TANK_LORRY",e.REFRIGERATED="REFRIGERATED",e.FREEZER="FREEZER",e.DARMAS="DARMAS",e.LABOR="LABOR"}(Da||(Da={})),function(e){e.DRIVER="DRIVER",e.PARTNER="PARTNER",e.NORMAL_PARTNER="NORMAL_PARTNER",e.CONSIGNMENT="CONSIGNMENT",e.BRANCH="BRANCH"}(ja||(ja={})),function(e){e.INCLUDE="INCLUDE",e.EXCLUDE="EXCLUDE"}(Pa||(Pa={})),function(e){e.SUDO="SUDO",e.YEONGDONG="YEONGDONG",e.CHUNGCHEONG="CHUNGCHEONG",e.YEONGNAM="YEONGNAM",e.HONAM="HONAM"}(La||(La={})),function(e){e.SEOUL="SEOUL",e.INCHEON="INCHEON",e.GYEONGGI="GYEONGGI",e.GANGWON="GANGWON",e.GYEONGBUK="GYEONGBUK",e.GYEONGNAM="GYEONGNAM",e.DAEGU="DAEGU",e.ULSAN="ULSAN",e.BUSAN="BUSAN",e.CHUNGBUK="CHUNGBUK",e.CHUNGNAM="CHUNGNAM",e.DAEJEON="DAEJEON",e.SEJONG="SEJONG",e.JEONBUK="JEONBUK",e.JEONNAM="JEONNAM",e.GWANGJU="GWANGJU",e.JEJU="JEJU"}(Ba||(Ba={})),function(e){e.RAW_GRAIN="RAW_GRAIN",e.REFINED_GRAIN="REFINED_GRAIN",e.PACKAGING="PACKAGING",e.PALLET="PALLET"}(Ua||(Ua={})),function(e){e.MATERIAL="MATERIAL",e.WELFARE="WELFARE",e.SCHOOL_MEAL="SCHOOL_MEAL",e.MILITARY="MILITARY",e.GOVERNMENT="GOVERNMENT",e.PROCESSING="PROCESSING",e.ALCOHOL="ALCOHOL",e.OVERSEAS_AID="OVERSEAS_AID",e.ETC="ETC",e.PACKAGING="PACKAGING",e.PALLET="PALLET"}(Va||(Va={})),function(e){e.KG10="KG_10",e.KG20="KG_20",e.KG40="KG_40",e.KG800="KG_800",e.KG1000="KG_1000",e.PP40="PP_40",e.PP20="PP_20",e.PP_TON="PP_TON",e.JI20="JI_20",e.JI10="JI_10",e.PE10="PE_10",e.PE40="PE_40",e.PALLET="PALLET"}(Fa||(Fa={})),function(e){e.ROAD="ROAD",e.SEA="SEA",e.HANDLING="HANDLING",e.RAIL="RAIL"}(Ga||(Ga={})),function(e){e.INTEGRATION_DISPATCH_CENTER="INTEGRATION_DISPATCH_CENTER",e.BRANCH_OFFICE="BRANCH_OFFICE",e.AGENCY="AGENCY"}(ka||(ka={})),function(e){e.DEPARTURE="DEPARTURE",e.ARRIVAL="ARRIVAL",e.WAYPOINT="WAYPOINT"}(Ya||(Ya={})),function(e){e.PICKUP="PICKUP",e.DROP="DROP",e.PICKUP_DROP="PICKUP_DROP"}(qa||(qa={})),function(e){e.FORKLIFT="FORKLIFT",e.MANUAL="MANUAL",e.CRANE="CRANE",e.UNSPECIFIED="UNSPECIFIED",e.FORKLIFT_MANUAL="FORKLIFT_MANUAL",e.WHEEL_LOADER="WHEEL_LOADER",e.EXCAVATOR="EXCAVATOR",e.REACH_STACKER="REACH_STACKER",e.MACHINERY="MACHINERY",e.PAYLOADER="PAYLOADER",e.CONVEYOR_BELT="CONVEYOR_BELT",e.HOIST="HOIST"}(Wa||(Wa={})),function(e){e.DISPATCH_REQUEST="DISPATCH_REQUEST",e.DISPATCH_PLAN="DISPATCH_PLAN",e.CONFIRM_ASSIGNMENT="CONFIRM_ASSIGNMENT",e.CONFIRM_DISPATCH="CONFIRM_DISPATCH",e.PICKUP_COMPLETE="PICKUP_COMPLETE",e.DROP_MOVING="DROP_MOVING",e.DELIVERY_COMPLETE="DELIVERY_COMPLETE",e.REQUEST_RESULT_CONFIRM="REQUEST_RESULT_CONFIRM",e.CONFIRM_RESULT="CONFIRM_RESULT",e.ORDER_CANCEL="ORDER_CANCEL",e.DELIVERY_CANCEL="DELIVERY_CANCEL"}(Ha||(Ha={})),function(e){e.DRIVER="DRIVER",e.PARTNER="PARTNER",e.NORMAL_PARTNER="NORMAL_PARTNER",e.CONSIGNMENT="CONSIGNMENT",e.BRANCH="BRANCH"}(Ka||(Ka={})),function(e){e.DISPATCH_REQUEST="DISPATCH_REQUEST",e.DISPATCH_PLAN="DISPATCH_PLAN",e.CONFIRM_ASSIGNMENT="CONFIRM_ASSIGNMENT",e.CONFIRM_DISPATCH="CONFIRM_DISPATCH",e.PICKUP_COMPLETE="PICKUP_COMPLETE",e.DROP_MOVING="DROP_MOVING",e.DELIVERY_COMPLETE="DELIVERY_COMPLETE",e.REQUEST_RESULT_CONFIRM="REQUEST_RESULT_CONFIRM",e.CONFIRM_RESULT="CONFIRM_RESULT",e.ORDER_CANCEL="ORDER_CANCEL",e.DELIVERY_CANCEL="DELIVERY_CANCEL"}(za||(za={})),function(e){e.CONTRACT="CONTRACT",e.NON_CONTRACT="NON_CONTRACT",e.GOV="GOV",e.FT_ONE_CONTRACT="FT_ONE_CONTRACT",e.FT_ONE_NONE_CONTRACT="FT_ONE_NONE_CONTRACT"}(Xa||(Xa={})),function(e){e.CARGO="CARGO",e.WING_BODY="WING_BODY",e.CARGO_WING="CARGO_WING",e.TRACTOR="TRACTOR",e.DUMP="DUMP",e.ALL_TYPES="ALL_TYPES",e.MULTIPLE_TYPES="MULTIPLE_TYPES",e.CARGO_TRACTOR="CARGO_TRACTOR",e.TANK_LORRY="TANK_LORRY",e.REFRIGERATED="REFRIGERATED",e.FREEZER="FREEZER",e.DARMAS="DARMAS",e.LABOR="LABOR"}(Qa||(Qa={})),function(e){e.RAW_GRAIN="RAW_GRAIN",e.REFINED_GRAIN="REFINED_GRAIN",e.PACKAGING="PACKAGING",e.PALLET="PALLET"}(Za||(Za={})),function(e){e.MATERIAL="MATERIAL",e.WELFARE="WELFARE",e.SCHOOL_MEAL="SCHOOL_MEAL",e.MILITARY="MILITARY",e.GOVERNMENT="GOVERNMENT",e.PROCESSING="PROCESSING",e.ALCOHOL="ALCOHOL",e.OVERSEAS_AID="OVERSEAS_AID",e.ETC="ETC",e.PACKAGING="PACKAGING",e.PALLET="PALLET"}(Ja||(Ja={})),function(e){e.KG10="KG_10",e.KG20="KG_20",e.KG40="KG_40",e.KG800="KG_800",e.KG1000="KG_1000",e.PP40="PP_40",e.PP20="PP_20",e.PP_TON="PP_TON",e.JI20="JI_20",e.JI10="JI_10",e.PE10="PE_10",e.PE40="PE_40",e.PALLET="PALLET"}($a||($a={})),function(e){e.ROAD="ROAD",e.SEA="SEA",e.HANDLING="HANDLING",e.RAIL="RAIL"}(el||(el={})),function(e){e.CARGO="CARGO",e.WING_BODY="WING_BODY",e.CARGO_WING="CARGO_WING",e.TRACTOR="TRACTOR",e.DUMP="DUMP",e.ALL_TYPES="ALL_TYPES",e.MULTIPLE_TYPES="MULTIPLE_TYPES",e.CARGO_TRACTOR="CARGO_TRACTOR",e.TANK_LORRY="TANK_LORRY",e.REFRIGERATED="REFRIGERATED",e.FREEZER="FREEZER",e.DARMAS="DARMAS",e.LABOR="LABOR"}(tl||(tl={})),function(e){e.CARGO="CARGO",e.WING_BODY="WING_BODY",e.CARGO_WING="CARGO_WING",e.TRACTOR="TRACTOR",e.DUMP="DUMP",e.ALL_TYPES="ALL_TYPES",e.MULTIPLE_TYPES="MULTIPLE_TYPES",e.CARGO_TRACTOR="CARGO_TRACTOR",e.TANK_LORRY="TANK_LORRY",e.REFRIGERATED="REFRIGERATED",e.FREEZER="FREEZER",e.DARMAS="DARMAS",e.LABOR="LABOR"}(al||(al={})),function(e){e.CARGO="CARGO",e.WING_BODY="WING_BODY",e.CARGO_WING="CARGO_WING",e.TRACTOR="TRACTOR",e.DUMP="DUMP",e.ALL_TYPES="ALL_TYPES",e.MULTIPLE_TYPES="MULTIPLE_TYPES",e.CARGO_TRACTOR="CARGO_TRACTOR",e.TANK_LORRY="TANK_LORRY",e.REFRIGERATED="REFRIGERATED",e.FREEZER="FREEZER",e.DARMAS="DARMAS",e.LABOR="LABOR"}(ll||(ll={})),function(e){e.CARGO="CARGO",e.WING_BODY="WING_BODY",e.CARGO_WING="CARGO_WING",e.TRACTOR="TRACTOR",e.DUMP="DUMP",e.ALL_TYPES="ALL_TYPES",e.MULTIPLE_TYPES="MULTIPLE_TYPES",e.CARGO_TRACTOR="CARGO_TRACTOR",e.TANK_LORRY="TANK_LORRY",e.REFRIGERATED="REFRIGERATED",e.FREEZER="FREEZER",e.DARMAS="DARMAS",e.LABOR="LABOR"}(rl||(rl={})),function(e){e.DISPATCH_REQUEST="DISPATCH_REQUEST",e.DISPATCH_PLAN="DISPATCH_PLAN",e.CONFIRM_ASSIGNMENT="CONFIRM_ASSIGNMENT",e.CONFIRM_DISPATCH="CONFIRM_DISPATCH",e.PICKUP_COMPLETE="PICKUP_COMPLETE",e.DROP_MOVING="DROP_MOVING",e.DELIVERY_COMPLETE="DELIVERY_COMPLETE",e.REQUEST_RESULT_CONFIRM="REQUEST_RESULT_CONFIRM",e.CONFIRM_RESULT="CONFIRM_RESULT",e.ORDER_CANCEL="ORDER_CANCEL",e.DELIVERY_CANCEL="DELIVERY_CANCEL"}(sl||(sl={})),function(e){e.DISPATCH_REQUEST="DISPATCH_REQUEST",e.DISPATCH_PLAN="DISPATCH_PLAN",e.CONFIRM_ASSIGNMENT="CONFIRM_ASSIGNMENT",e.CONFIRM_DISPATCH="CONFIRM_DISPATCH",e.PICKUP_COMPLETE="PICKUP_COMPLETE",e.DROP_MOVING="DROP_MOVING",e.DELIVERY_COMPLETE="DELIVERY_COMPLETE",e.REQUEST_RESULT_CONFIRM="REQUEST_RESULT_CONFIRM",e.CONFIRM_RESULT="CONFIRM_RESULT",e.ORDER_CANCEL="ORDER_CANCEL",e.DELIVERY_CANCEL="DELIVERY_CANCEL"}(nl||(nl={})),function(e){e.SECTION="SECTION",e.DISTANCE="DISTANCE",e.NONE="NONE"}(ol||(ol={})),function(e){e.DISPATCH_REQUEST="DISPATCH_REQUEST",e.DISPATCH_PLAN="DISPATCH_PLAN",e.CONFIRM_ASSIGNMENT="CONFIRM_ASSIGNMENT",e.CONFIRM_DISPATCH="CONFIRM_DISPATCH",e.PICKUP_COMPLETE="PICKUP_COMPLETE",e.DROP_MOVING="DROP_MOVING",e.DELIVERY_COMPLETE="DELIVERY_COMPLETE",e.REQUEST_RESULT_CONFIRM="REQUEST_RESULT_CONFIRM",e.CONFIRM_RESULT="CONFIRM_RESULT",e.ORDER_CANCEL="ORDER_CANCEL",e.DELIVERY_CANCEL="DELIVERY_CANCEL"}(il||(il={})),function(e){e.DISPATCH_REQUEST="DISPATCH_REQUEST",e.DISPATCH_PLAN="DISPATCH_PLAN",e.CONFIRM_ASSIGNMENT="CONFIRM_ASSIGNMENT",e.CONFIRM_DISPATCH="CONFIRM_DISPATCH",e.PICKUP_COMPLETE="PICKUP_COMPLETE",e.DROP_MOVING="DROP_MOVING",e.DELIVERY_COMPLETE="DELIVERY_COMPLETE",e.REQUEST_RESULT_CONFIRM="REQUEST_RESULT_CONFIRM",e.CONFIRM_RESULT="CONFIRM_RESULT",e.ORDER_CANCEL="ORDER_CANCEL",e.DELIVERY_CANCEL="DELIVERY_CANCEL"}(dl||(dl={})),function(e){e.RECEIPT="RECEIPT",e.WEIGHING_SHEET="WEIGHING_SHEET",e.TAX_INVOICE="TAX_INVOICE"}(cl||(cl={})),function(e){e.DISPATCH_REQUEST="DISPATCH_REQUEST",e.DISPATCH_PLAN="DISPATCH_PLAN",e.CONFIRM_ASSIGNMENT="CONFIRM_ASSIGNMENT",e.CONFIRM_DISPATCH="CONFIRM_DISPATCH",e.PICKUP_COMPLETE="PICKUP_COMPLETE",e.DROP_MOVING="DROP_MOVING",e.DELIVERY_COMPLETE="DELIVERY_COMPLETE",e.REQUEST_RESULT_CONFIRM="REQUEST_RESULT_CONFIRM",e.CONFIRM_RESULT="CONFIRM_RESULT",e.ORDER_CANCEL="ORDER_CANCEL",e.DELIVERY_CANCEL="DELIVERY_CANCEL"}(ul||(ul={})),function(e){e.RECEIPT="RECEIPT",e.WEIGHING_SHEET="WEIGHING_SHEET",e.TAX_INVOICE="TAX_INVOICE"}(ml||(ml={})),function(e){e.CUSTOMER="CUSTOMER",e.VENDOR="VENDOR",e.ETC="ETC",e.ORDER="ORDER"}(pl||(pl={})),function(e){e.PICKUP="PICKUP",e.DROP="DROP",e.PICKUP_DROP="PICKUP_DROP"}(hl||(hl={})),function(e){e.CARGO="CARGO",e.WING_BODY="WING_BODY",e.CARGO_WING="CARGO_WING",e.TRACTOR="TRACTOR",e.DUMP="DUMP",e.ALL_TYPES="ALL_TYPES",e.MULTIPLE_TYPES="MULTIPLE_TYPES",e.CARGO_TRACTOR="CARGO_TRACTOR",e.TANK_LORRY="TANK_LORRY",e.REFRIGERATED="REFRIGERATED",e.FREEZER="FREEZER",e.DARMAS="DARMAS",e.LABOR="LABOR"}(fl||(fl={})),function(e){e.WING="WING",e.BOX="BOX",e.CARGO="CARGO",e.CARGO_WING="CARGO_WING",e.WING_BODY="WING_BODY",e.DUMP="DUMP",e.CONTAINER="CONTAINER",e.SCRAP_METAL="SCRAP_METAL",e.LOG="LOG",e.GRAIN_TRAILER="GRAIN_TRAILER",e.TRACTOR="TRACTOR",e.LIGHT_CARGO="LIGHT_CARGO",e.TANK_LORRY="TANK_LORRY",e.COIL_CHASSIS="COIL_CHASSIS",e.SCRAPMETALV2="SCRAP_METAL_V2",e.HAZARDOUS_CHEMICAL="HAZARDOUS_CHEMICAL",e.BULK_CARGO_TRAILER="BULK_CARGO_TRAILER",e.NO_LIMIT="NO_LIMIT"}(Cl||(Cl={})),function(e){e.FORKLIFT="FORKLIFT",e.MANUAL="MANUAL",e.CRANE="CRANE",e.UNSPECIFIED="UNSPECIFIED",e.FORKLIFT_MANUAL="FORKLIFT_MANUAL",e.WHEEL_LOADER="WHEEL_LOADER",e.EXCAVATOR="EXCAVATOR",e.REACH_STACKER="REACH_STACKER",e.MACHINERY="MACHINERY",e.PAYLOADER="PAYLOADER",e.CONVEYOR_BELT="CONVEYOR_BELT",e.HOIST="HOIST"}(xl||(xl={})),function(e){e.PICKUP="PICKUP",e.DROP="DROP",e.PICKUP_DROP="PICKUP_DROP"}(Nl||(Nl={})),function(e){e.PICKUP="PICKUP",e.DROP="DROP",e.PICKUP_DROP="PICKUP_DROP"}(yl||(yl={})),function(e){e.CARGO="CARGO",e.WING_BODY="WING_BODY",e.CARGO_WING="CARGO_WING",e.TRACTOR="TRACTOR",e.DUMP="DUMP",e.ALL_TYPES="ALL_TYPES",e.MULTIPLE_TYPES="MULTIPLE_TYPES",e.CARGO_TRACTOR="CARGO_TRACTOR",e.TANK_LORRY="TANK_LORRY",e.REFRIGERATED="REFRIGERATED",e.FREEZER="FREEZER",e.DARMAS="DARMAS",e.LABOR="LABOR"}(El||(El={})),function(e){e.WING="WING",e.BOX="BOX",e.CARGO="CARGO",e.CARGO_WING="CARGO_WING",e.WING_BODY="WING_BODY",e.DUMP="DUMP",e.CONTAINER="CONTAINER",e.SCRAP_METAL="SCRAP_METAL",e.LOG="LOG",e.GRAIN_TRAILER="GRAIN_TRAILER",e.TRACTOR="TRACTOR",e.LIGHT_CARGO="LIGHT_CARGO",e.TANK_LORRY="TANK_LORRY",e.COIL_CHASSIS="COIL_CHASSIS",e.SCRAPMETALV2="SCRAP_METAL_V2",e.HAZARDOUS_CHEMICAL="HAZARDOUS_CHEMICAL",e.BULK_CARGO_TRAILER="BULK_CARGO_TRAILER",e.NO_LIMIT="NO_LIMIT"}(vl||(vl={})),function(e){e.FORKLIFT="FORKLIFT",e.MANUAL="MANUAL",e.CRANE="CRANE",e.UNSPECIFIED="UNSPECIFIED",e.FORKLIFT_MANUAL="FORKLIFT_MANUAL",e.WHEEL_LOADER="WHEEL_LOADER",e.EXCAVATOR="EXCAVATOR",e.REACH_STACKER="REACH_STACKER",e.MACHINERY="MACHINERY",e.PAYLOADER="PAYLOADER",e.CONVEYOR_BELT="CONVEYOR_BELT",e.HOIST="HOIST"}(Al||(Al={})),function(e){e.PICKUP="PICKUP",e.DROP="DROP",e.PICKUP_DROP="PICKUP_DROP"}(gl||(gl={})),function(e){e.PICKUP="PICKUP",e.DROP="DROP",e.PICKUP_DROP="PICKUP_DROP"}(Tl||(Tl={})),function(e){e.CARGO="CARGO",e.WING_BODY="WING_BODY",e.CARGO_WING="CARGO_WING",e.TRACTOR="TRACTOR",e.DUMP="DUMP",e.ALL_TYPES="ALL_TYPES",e.MULTIPLE_TYPES="MULTIPLE_TYPES",e.CARGO_TRACTOR="CARGO_TRACTOR",e.TANK_LORRY="TANK_LORRY",e.REFRIGERATED="REFRIGERATED",e.FREEZER="FREEZER",e.DARMAS="DARMAS",e.LABOR="LABOR"}(Il||(Il={})),function(e){e.WING="WING",e.BOX="BOX",e.CARGO="CARGO",e.CARGO_WING="CARGO_WING",e.WING_BODY="WING_BODY",e.DUMP="DUMP",e.CONTAINER="CONTAINER",e.SCRAP_METAL="SCRAP_METAL",e.LOG="LOG",e.GRAIN_TRAILER="GRAIN_TRAILER",e.TRACTOR="TRACTOR",e.LIGHT_CARGO="LIGHT_CARGO",e.TANK_LORRY="TANK_LORRY",e.COIL_CHASSIS="COIL_CHASSIS",e.SCRAPMETALV2="SCRAP_METAL_V2",e.HAZARDOUS_CHEMICAL="HAZARDOUS_CHEMICAL",e.BULK_CARGO_TRAILER="BULK_CARGO_TRAILER",e.NO_LIMIT="NO_LIMIT"}(bl||(bl={})),function(e){e.FORKLIFT="FORKLIFT",e.MANUAL="MANUAL",e.CRANE="CRANE",e.UNSPECIFIED="UNSPECIFIED",e.FORKLIFT_MANUAL="FORKLIFT_MANUAL",e.WHEEL_LOADER="WHEEL_LOADER",e.EXCAVATOR="EXCAVATOR",e.REACH_STACKER="REACH_STACKER",e.MACHINERY="MACHINERY",e.PAYLOADER="PAYLOADER",e.CONVEYOR_BELT="CONVEYOR_BELT",e.HOIST="HOIST"}(Rl||(Rl={})),function(e){e.PICKUP="PICKUP",e.DROP="DROP",e.PICKUP_DROP="PICKUP_DROP"}(Sl||(Sl={})),function(e){e.PICKUP="PICKUP",e.DROP="DROP",e.PICKUP_DROP="PICKUP_DROP"}(_l||(_l={})),function(e){e.TRUNCATE_UNIT="TRUNCATE_UNIT",e.TRUNCATE_TEN="TRUNCATE_TEN",e.TRUNCATE_HUNDRED="TRUNCATE_HUNDRED",e.TRUNCATE_THOUSAND="TRUNCATE_THOUSAND",e.ROUND_UP_UNIT="ROUND_UP_UNIT",e.ROUND_UP_TEN="ROUND_UP_TEN",e.ROUND_UP_HUNDRED="ROUND_UP_HUNDRED",e.ROUND_UP_THOUSAND="ROUND_UP_THOUSAND"}(wl||(wl={})),function(e){e.TRUNCATE_DECIMAL="TRUNCATE_DECIMAL",e.ROUND_UP_DECIMAL="ROUND_UP_DECIMAL",e.ROUND_HALF_UP_DECIMAL="ROUND_HALF_UP_DECIMAL"}(Ol||(Ol={})),function(e){e.TRUNCATE_DECIMAL="TRUNCATE_DECIMAL",e.ROUND_UP_DECIMAL="ROUND_UP_DECIMAL",e.ROUND_HALF_UP_DECIMAL="ROUND_HALF_UP_DECIMAL"}(Ml||(Ml={})),function(e){e.TRUNCATE_UNIT="TRUNCATE_UNIT",e.TRUNCATE_TEN="TRUNCATE_TEN",e.TRUNCATE_HUNDRED="TRUNCATE_HUNDRED",e.TRUNCATE_THOUSAND="TRUNCATE_THOUSAND",e.ROUND_UP_UNIT="ROUND_UP_UNIT",e.ROUND_UP_TEN="ROUND_UP_TEN",e.ROUND_UP_HUNDRED="ROUND_UP_HUNDRED",e.ROUND_UP_THOUSAND="ROUND_UP_THOUSAND"}(Dl||(Dl={})),function(e){e.STATUS_COMPLETE="STATUS_COMPLETE",e.STATUS_CANCEL="STATUS_CANCEL",e.STATUS_EXPIRED="STATUS_EXPIRED"}(jl||(jl={})),function(e){e.STATUS_COMPLETE="STATUS_COMPLETE",e.STATUS_CANCEL="STATUS_CANCEL",e.STATUS_EXPIRED="STATUS_EXPIRED"}(Pl||(Pl={})),function(e){e.SECTION="SECTION",e.DISTANCE="DISTANCE",e.NONE="NONE"}(Ll||(Ll={})),function(e){e.TRANSPORT_FEE="TRANSPORT_FEE",e.LABOR_FEE="LABOR_FEE",e.STANDBY_FEE="STANDBY_FEE",e.INFO_USAGE_FEE="INFO_USAGE_FEE",e.ETC_FEE="ETC_FEE",e.BROKERAGE_FEE="BROKERAGE_FEE",e.VIA="VIA"}(Bl||(Bl={})),function(e){e.CARGO="CARGO",e.WING_BODY="WING_BODY",e.CARGO_WING="CARGO_WING",e.TRACTOR="TRACTOR",e.DUMP="DUMP",e.ALL_TYPES="ALL_TYPES",e.MULTIPLE_TYPES="MULTIPLE_TYPES",e.CARGO_TRACTOR="CARGO_TRACTOR",e.TANK_LORRY="TANK_LORRY",e.REFRIGERATED="REFRIGERATED",e.FREEZER="FREEZER",e.DARMAS="DARMAS",e.LABOR="LABOR"}(Ul||(Ul={})),function(e){e.TRANSPORT_FEE="TRANSPORT_FEE",e.LABOR_FEE="LABOR_FEE",e.STANDBY_FEE="STANDBY_FEE",e.INFO_USAGE_FEE="INFO_USAGE_FEE",e.ETC_FEE="ETC_FEE",e.BROKERAGE_FEE="BROKERAGE_FEE",e.VIA="VIA"}(Vl||(Vl={})),function(e){e.CARGO="CARGO",e.WING_BODY="WING_BODY",e.CARGO_WING="CARGO_WING",e.TRACTOR="TRACTOR",e.DUMP="DUMP",e.ALL_TYPES="ALL_TYPES",e.MULTIPLE_TYPES="MULTIPLE_TYPES",e.CARGO_TRACTOR="CARGO_TRACTOR",e.TANK_LORRY="TANK_LORRY",e.REFRIGERATED="REFRIGERATED",e.FREEZER="FREEZER",e.DARMAS="DARMAS",e.LABOR="LABOR"}(Fl||(Fl={})),function(e){e.SECTION="SECTION",e.DISTANCE="DISTANCE",e.NONE="NONE"}(Gl||(Gl={})),function(e){e.SECTION="SECTION",e.DISTANCE="DISTANCE",e.NONE="NONE"}(kl||(kl={})),function(e){e.TRANSPORT_FEE="TRANSPORT_FEE",e.LABOR_FEE="LABOR_FEE",e.STANDBY_FEE="STANDBY_FEE",e.INFO_USAGE_FEE="INFO_USAGE_FEE",e.ETC_FEE="ETC_FEE",e.BROKERAGE_FEE="BROKERAGE_FEE",e.VIA="VIA"}(Yl||(Yl={})),function(e){e.CARGO="CARGO",e.WING_BODY="WING_BODY",e.CARGO_WING="CARGO_WING",e.TRACTOR="TRACTOR",e.DUMP="DUMP",e.ALL_TYPES="ALL_TYPES",e.MULTIPLE_TYPES="MULTIPLE_TYPES",e.CARGO_TRACTOR="CARGO_TRACTOR",e.TANK_LORRY="TANK_LORRY",e.REFRIGERATED="REFRIGERATED",e.FREEZER="FREEZER",e.DARMAS="DARMAS",e.LABOR="LABOR"}(ql||(ql={})),function(e){e.SECTION="SECTION",e.DISTANCE="DISTANCE",e.NONE="NONE"}(Wl||(Wl={})),function(e){e.SECTION="SECTION",e.DISTANCE="DISTANCE",e.NONE="NONE"}(Hl||(Hl={})),function(e){e.SECTION="SECTION",e.DISTANCE="DISTANCE",e.NONE="NONE"}(Kl||(Kl={})),function(e){e.SECTION="SECTION",e.DISTANCE="DISTANCE",e.NONE="NONE"}(zl||(zl={})),function(e){e.SECTION="SECTION",e.DISTANCE="DISTANCE",e.NONE="NONE"}(Xl||(Xl={})),function(e){e.CARGO="CARGO",e.WING_BODY="WING_BODY",e.CARGO_WING="CARGO_WING",e.TRACTOR="TRACTOR",e.DUMP="DUMP",e.ALL_TYPES="ALL_TYPES",e.MULTIPLE_TYPES="MULTIPLE_TYPES",e.CARGO_TRACTOR="CARGO_TRACTOR",e.TANK_LORRY="TANK_LORRY",e.REFRIGERATED="REFRIGERATED",e.FREEZER="FREEZER",e.DARMAS="DARMAS",e.LABOR="LABOR"}(Ql||(Ql={})),function(e){e.DRIVER="DRIVER",e.PARTNER="PARTNER",e.NORMAL_PARTNER="NORMAL_PARTNER",e.CONSIGNMENT="CONSIGNMENT",e.BRANCH="BRANCH"}(Zl||(Zl={})),function(e){e.TRUNCATE_UNIT="TRUNCATE_UNIT",e.TRUNCATE_TEN="TRUNCATE_TEN",e.TRUNCATE_HUNDRED="TRUNCATE_HUNDRED",e.TRUNCATE_THOUSAND="TRUNCATE_THOUSAND",e.ROUND_UP_UNIT="ROUND_UP_UNIT",e.ROUND_UP_TEN="ROUND_UP_TEN",e.ROUND_UP_HUNDRED="ROUND_UP_HUNDRED",e.ROUND_UP_THOUSAND="ROUND_UP_THOUSAND"}(Jl||(Jl={})),function(e){e.TRUNCATE_DECIMAL="TRUNCATE_DECIMAL",e.ROUND_UP_DECIMAL="ROUND_UP_DECIMAL",e.ROUND_HALF_UP_DECIMAL="ROUND_HALF_UP_DECIMAL"}($l||($l={})),function(e){e.TRUNCATE_UNIT="TRUNCATE_UNIT",e.TRUNCATE_TEN="TRUNCATE_TEN",e.TRUNCATE_HUNDRED="TRUNCATE_HUNDRED",e.TRUNCATE_THOUSAND="TRUNCATE_THOUSAND",e.ROUND_UP_UNIT="ROUND_UP_UNIT",e.ROUND_UP_TEN="ROUND_UP_TEN",e.ROUND_UP_HUNDRED="ROUND_UP_HUNDRED",e.ROUND_UP_THOUSAND="ROUND_UP_THOUSAND"}(er||(er={})),function(e){e.TRUNCATE_DECIMAL="TRUNCATE_DECIMAL",e.ROUND_UP_DECIMAL="ROUND_UP_DECIMAL",e.ROUND_HALF_UP_DECIMAL="ROUND_HALF_UP_DECIMAL"}(tr||(tr={})),function(e){e.STATUS_COMPLETE="STATUS_COMPLETE",e.STATUS_CANCEL="STATUS_CANCEL",e.STATUS_EXPIRED="STATUS_EXPIRED"}(ar||(ar={})),function(e){e.STATUS_COMPLETE="STATUS_COMPLETE",e.STATUS_CANCEL="STATUS_CANCEL",e.STATUS_EXPIRED="STATUS_EXPIRED"}(lr||(lr={})),function(e){e.STATUS_COMPLETE="STATUS_COMPLETE",e.STATUS_CANCEL="STATUS_CANCEL",e.STATUS_EXPIRED="STATUS_EXPIRED"}(rr||(rr={})),function(e){e.SECTION="SECTION",e.DISTANCE="DISTANCE",e.NONE="NONE"}(sr||(sr={})),function(e){e.STATUS_COMPLETE="STATUS_COMPLETE",e.STATUS_CANCEL="STATUS_CANCEL",e.STATUS_EXPIRED="STATUS_EXPIRED"}(nr||(nr={})),function(e){e.TRANSPORT_FEE="TRANSPORT_FEE",e.ETC_FEE="ETC_FEE",e.KOSIS_FEE="KOSIS_FEE",e.SERVICE_OUTSOURCING_FEE="SERVICE_OUTSOURCING_FEE",e.CUSTOMS_FEE="CUSTOMS_FEE",e.PERFORMANCE_OUTSOURCING_FEE="PERFORMANCE_OUTSOURCING_FEE",e.PORT_RENT_FEE="PORT_RENT_FEE",e.RAILWAY_FEE="RAILWAY_FEE",e.WORK_OUTSOURCING_FEE="WORK_OUTSOURCING_FEE",e.WELFARE_OUTSOURCING_FEE="WELFARE_OUTSOURCING_FEE",e.LABOR_TAX_OUTSOURCING_FEE="LABOR_TAX_OUTSOURCING_FEE",e.FIXED_EMPLOYEE_OUTSOURCING_FEE="FIXED_EMPLOYEE_OUTSOURCING_FEE",e.MARINE_FREIGHT_FEE="MARINE_FREIGHT_FEE",e.RENT_BUILDING_FEE="RENT_BUILDING_FEE",e.SERVICE_OUTSOURCING_ETC_FEE="SERVICE_OUTSOURCING_ETC_FEE",e.RENT_LAND_FEE="RENT_LAND_FEE",e.REPAIR_BUILDING_FEE="REPAIR_BUILDING_FEE",e.RENT_PALETTE_FEE="RENT_PALETTE_FEE",e.RENT_MACHINE_FEE="RENT_MACHINE_FEE",e.REPAIR_HEAVY_EQUIPMENT_FEE="REPAIR_HEAVY_EQUIPMENT_FEE",e.RENT_HEAVY_EQUIPMENT_FEE="RENT_HEAVY_EQUIPMENT_FEE",e.REPAIR_TRUCK_FEE="REPAIR_TRUCK_FEE",e.FUEL_SHIP_FEE="FUEL_SHIP_FEE",e.REPAIR_SHIP_FEE="REPAIR_SHIP_FEE",e.SUPPLY_GENERAL_FEE="SUPPLY_GENERAL_FEE",e.TEMP_WORKER_OUTSOURCING_FEE="TEMP_WORKER_OUTSOURCING_FEE",e.REPAIR_MACHINE_FEE="REPAIR_MACHINE_FEE",e.REPAIR_STRUCTURE_FEE="REPAIR_STRUCTURE_FEE",e.TRANSPORT_BONUS_FEE="TRANSPORT_BONUS_FEE",e.DISPOSAL_OUTSOURCING_FEE="DISPOSAL_OUTSOURCING_FEE",e.TRANSPORT_FUEL_FEE="TRANSPORT_FUEL_FEE",e.FUEL_HEAVY_EQUIPMENT_FEE="FUEL_HEAVY_EQUIPMENT_FEE",e.FUEL_TRUCK_FEE="FUEL_TRUCK_FEE",e.FUEL_MACHINE_FEE="FUEL_MACHINE_FEE"}(or||(or={})),function(e){e.TRANSPORT_FEE="TRANSPORT_FEE",e.ETC_FEE="ETC_FEE",e.KOSIS_FEE="KOSIS_FEE",e.SERVICE_OUTSOURCING_FEE="SERVICE_OUTSOURCING_FEE",e.CUSTOMS_FEE="CUSTOMS_FEE",e.PERFORMANCE_OUTSOURCING_FEE="PERFORMANCE_OUTSOURCING_FEE",e.PORT_RENT_FEE="PORT_RENT_FEE",e.RAILWAY_FEE="RAILWAY_FEE",e.WORK_OUTSOURCING_FEE="WORK_OUTSOURCING_FEE",e.WELFARE_OUTSOURCING_FEE="WELFARE_OUTSOURCING_FEE",e.LABOR_TAX_OUTSOURCING_FEE="LABOR_TAX_OUTSOURCING_FEE",e.FIXED_EMPLOYEE_OUTSOURCING_FEE="FIXED_EMPLOYEE_OUTSOURCING_FEE",e.MARINE_FREIGHT_FEE="MARINE_FREIGHT_FEE",e.RENT_BUILDING_FEE="RENT_BUILDING_FEE",e.SERVICE_OUTSOURCING_ETC_FEE="SERVICE_OUTSOURCING_ETC_FEE",e.RENT_LAND_FEE="RENT_LAND_FEE",e.REPAIR_BUILDING_FEE="REPAIR_BUILDING_FEE",e.RENT_PALETTE_FEE="RENT_PALETTE_FEE",e.RENT_MACHINE_FEE="RENT_MACHINE_FEE",e.REPAIR_HEAVY_EQUIPMENT_FEE="REPAIR_HEAVY_EQUIPMENT_FEE",e.RENT_HEAVY_EQUIPMENT_FEE="RENT_HEAVY_EQUIPMENT_FEE",e.REPAIR_TRUCK_FEE="REPAIR_TRUCK_FEE",e.FUEL_SHIP_FEE="FUEL_SHIP_FEE",e.REPAIR_SHIP_FEE="REPAIR_SHIP_FEE",e.SUPPLY_GENERAL_FEE="SUPPLY_GENERAL_FEE",e.TEMP_WORKER_OUTSOURCING_FEE="TEMP_WORKER_OUTSOURCING_FEE",e.REPAIR_MACHINE_FEE="REPAIR_MACHINE_FEE",e.REPAIR_STRUCTURE_FEE="REPAIR_STRUCTURE_FEE",e.TRANSPORT_BONUS_FEE="TRANSPORT_BONUS_FEE",e.DISPOSAL_OUTSOURCING_FEE="DISPOSAL_OUTSOURCING_FEE",e.TRANSPORT_FUEL_FEE="TRANSPORT_FUEL_FEE",e.FUEL_HEAVY_EQUIPMENT_FEE="FUEL_HEAVY_EQUIPMENT_FEE",e.FUEL_TRUCK_FEE="FUEL_TRUCK_FEE",e.FUEL_MACHINE_FEE="FUEL_MACHINE_FEE"}(ir||(ir={})),function(e){e.CLIENT="CLIENT",e.SERVER="SERVER",e.DRIVER_APP_MAINTENANCE="DRIVER_APP_MAINTENANCE",e.OWNER_APP_MAINTENANCE="OWNER_APP_MAINTENANCE",e.DRIVER="DRIVER",e.SERVER_CONFIG="SERVER_CONFIG",e.PARTNER_DRIVER_APP_MAINTENANCE="PARTNER_DRIVER_APP_MAINTENANCE",e.ORDER_EXCEL_TEMPLATE_CONFIG="ORDER_EXCEL_TEMPLATE_CONFIG"}(dr||(dr={})),function(e){e.CLIENT="CLIENT",e.SERVER="SERVER",e.DRIVER_APP_MAINTENANCE="DRIVER_APP_MAINTENANCE",e.OWNER_APP_MAINTENANCE="OWNER_APP_MAINTENANCE",e.DRIVER="DRIVER",e.SERVER_CONFIG="SERVER_CONFIG",e.PARTNER_DRIVER_APP_MAINTENANCE="PARTNER_DRIVER_APP_MAINTENANCE",e.ORDER_EXCEL_TEMPLATE_CONFIG="ORDER_EXCEL_TEMPLATE_CONFIG"}(cr||(cr={})),function(e){e.DRIVER="DRIVER",e.PARTNER="PARTNER",e.NORMAL_PARTNER="NORMAL_PARTNER",e.CONSIGNMENT="CONSIGNMENT",e.BRANCH="BRANCH"}(ur||(ur={})),function(e){e.CARGO="CARGO",e.WING_BODY="WING_BODY",e.CARGO_WING="CARGO_WING",e.TRACTOR="TRACTOR",e.DUMP="DUMP",e.ALL_TYPES="ALL_TYPES",e.MULTIPLE_TYPES="MULTIPLE_TYPES",e.CARGO_TRACTOR="CARGO_TRACTOR",e.TANK_LORRY="TANK_LORRY",e.REFRIGERATED="REFRIGERATED",e.FREEZER="FREEZER",e.DARMAS="DARMAS",e.LABOR="LABOR"}(mr||(mr={})),function(e){e.LARGE="LARGE",e.SME="SME",e.INDIVIDUAL="INDIVIDUAL"}(pr||(pr={})),function(e){e.CUSTOMER_NORMAL="CUSTOMER_NORMAL",e.CUSTOMER_SIMPLIFIED_NO_TAX="CUSTOMER_SIMPLIFIED_NO_TAX",e.CUSTOMER_NO_TAX="CUSTOMER_NO_TAX",e.CUSTOMER_CLOSING="CUSTOMER_CLOSING",e.CUSTOMER_NON_PROFIT="CUSTOMER_NON_PROFIT",e.CUSTOMER_OUT_OF="CUSTOMER_OUT_OF",e.CUSTOMER_SIMPLIFIED="CUSTOMER_SIMPLIFIED"}(hr||(hr={})),function(e){e.VENDOR_NORMAL="VENDOR_NORMAL",e.VENDOR_SIMPLIFIED_NO_TAX="VENDOR_SIMPLIFIED_NO_TAX",e.VENDOR_NO_TAX="VENDOR_NO_TAX",e.VENDOR_CLOSING="VENDOR_CLOSING",e.VENDOR_NON_PROFIT="VENDOR_NON_PROFIT",e.VENDOR_OUT_OF="VENDOR_OUT_OF",e.VENDOR_SIMPLIFIED="VENDOR_SIMPLIFIED"}(fr||(fr={})),function(e){e.A="A",e.B="B",e.C="C",e.D="D",e.E="E"}(Cr||(Cr={})),function(e){e._1A="_1A",e._3A="_3A",e.YY="YY",e._1C="_1C",e._1E="_1E",e._1D="_1D",e._1B="_1B",e._1G="_1G",e._1H="_1H",e._2A="_2A",e._3B="_3B",e._3K="_3K",e._3N="_3N",e.YX="YX"}(xr||(xr={})),function(e){e.A1="A1",e.D1="D1",e.ZZ="ZZ",e.D9="D9",e.F9="F9",e.C1="C1"}(Nr||(Nr={})),function(e){e.BLOCKED="BLOCKED",e.REQUEST="REQUEST"}(yr||(yr={})),function(e){e.CUSTOMER_OWNER="CUSTOMER_OWNER",e.CUSTOMER_NORMAL_OWNER="CUSTOMER_NORMAL_OWNER",e.CUSTOMER_BRANCH="CUSTOMER_BRANCH",e.VENDOR_DRIVER="VENDOR_DRIVER",e.VENDOR_PARTNER="VENDOR_PARTNER",e.VENDOR_NORMAL_PARTNER="VENDOR_NORMAL_PARTNER",e.VENDOR_CONSIGNMENT="VENDOR_CONSIGNMENT",e.VENDOR_BRANCH="VENDOR_BRANCH"}(Er||(Er={})),function(e){e.CUSTOMER_OWNER="CUSTOMER_OWNER",e.CUSTOMER_NORMAL_OWNER="CUSTOMER_NORMAL_OWNER",e.CUSTOMER_BRANCH="CUSTOMER_BRANCH",e.VENDOR_DRIVER="VENDOR_DRIVER",e.VENDOR_PARTNER="VENDOR_PARTNER",e.VENDOR_NORMAL_PARTNER="VENDOR_NORMAL_PARTNER",e.VENDOR_CONSIGNMENT="VENDOR_CONSIGNMENT",e.VENDOR_BRANCH="VENDOR_BRANCH"}(vr||(vr={})),function(e){e.BLOCKED="BLOCKED",e.REQUEST="REQUEST"}(Ar||(Ar={})),function(e){e.CORPORATE="CORPORATE",e.INDIVIDUAL="INDIVIDUAL"}(gr||(gr={})),function(e){e.BUSINESS_LICENSE="BUSINESS_LICENSE",e.COPY_OF_BANKBOOK="COPY_OF_BANKBOOK",e.DRIVER_LICENSE="DRIVER_LICENSE",e.CARGO_TRANSPORT_WORKER_CERTIFICATE="CARGO_TRANSPORT_WORKER_CERTIFICATE",e.VEHICLE_REGISTRATION="VEHICLE_REGISTRATION",e.LOAD_LIABILITY_INSURANCE="LOAD_LIABILITY_INSURANCE",e.ETC="ETC",e.CONTRACT="CONTRACT",e.CARGO_TRANSPORT_BUSINESS_LICENSE="CARGO_TRANSPORT_BUSINESS_LICENSE",e.PAYMENT_GUARANTEE_INSURANCE="PAYMENT_GUARANTEE_INSURANCE",e.RECEIPT="RECEIPT",e.WEIGHING_SHEET="WEIGHING_SHEET",e.TAX_INVOICE="TAX_INVOICE"}(Tr||(Tr={})),function(e){e.CORPORATE="CORPORATE",e.INDIVIDUAL="INDIVIDUAL"}(Ir||(Ir={})),function(e){e.CUSTOMER_OWNER="CUSTOMER_OWNER",e.CUSTOMER_NORMAL_OWNER="CUSTOMER_NORMAL_OWNER",e.CUSTOMER_BRANCH="CUSTOMER_BRANCH",e.VENDOR_DRIVER="VENDOR_DRIVER",e.VENDOR_PARTNER="VENDOR_PARTNER",e.VENDOR_NORMAL_PARTNER="VENDOR_NORMAL_PARTNER",e.VENDOR_CONSIGNMENT="VENDOR_CONSIGNMENT",e.VENDOR_BRANCH="VENDOR_BRANCH"}(br||(br={})),function(e){e.OWNER="OWNER",e.NORMAL_OWNER="NORMAL_OWNER",e.BRANCH="BRANCH"}(Rr||(Rr={})),function(e){e.DRIVER="DRIVER",e.PARTNER="PARTNER",e.NORMAL_PARTNER="NORMAL_PARTNER",e.CONSIGNMENT="CONSIGNMENT",e.BRANCH="BRANCH"}(Sr||(Sr={})),function(e){e.LARGE="LARGE",e.SME="SME",e.INDIVIDUAL="INDIVIDUAL"}(_r||(_r={})),function(e){e.CUSTOMER_NORMAL="CUSTOMER_NORMAL",e.CUSTOMER_SIMPLIFIED_NO_TAX="CUSTOMER_SIMPLIFIED_NO_TAX",e.CUSTOMER_NO_TAX="CUSTOMER_NO_TAX",e.CUSTOMER_CLOSING="CUSTOMER_CLOSING",e.CUSTOMER_NON_PROFIT="CUSTOMER_NON_PROFIT",e.CUSTOMER_OUT_OF="CUSTOMER_OUT_OF",e.CUSTOMER_SIMPLIFIED="CUSTOMER_SIMPLIFIED"}(wr||(wr={})),function(e){e.VENDOR_NORMAL="VENDOR_NORMAL",e.VENDOR_SIMPLIFIED_NO_TAX="VENDOR_SIMPLIFIED_NO_TAX",e.VENDOR_NO_TAX="VENDOR_NO_TAX",e.VENDOR_CLOSING="VENDOR_CLOSING",e.VENDOR_NON_PROFIT="VENDOR_NON_PROFIT",e.VENDOR_OUT_OF="VENDOR_OUT_OF",e.VENDOR_SIMPLIFIED="VENDOR_SIMPLIFIED"}(Or||(Or={})),function(e){e.A="A",e.B="B",e.C="C",e.D="D",e.E="E"}(Mr||(Mr={})),function(e){e._1A="_1A",e._3A="_3A",e.YY="YY",e._1C="_1C",e._1E="_1E",e._1D="_1D",e._1B="_1B",e._1G="_1G",e._1H="_1H",e._2A="_2A",e._3B="_3B",e._3K="_3K",e._3N="_3N",e.YX="YX"}(Dr||(Dr={})),function(e){e.A1="A1",e.D1="D1",e.ZZ="ZZ",e.D9="D9",e.F9="F9",e.C1="C1"}(jr||(jr={})),function(e){e.NONE="NONE",e.REQUEST="REQUEST",e.RETURN="RETURN",e.COMPLETE="COMPLETE",e.RE_REQUEST="RE_REQUEST",e.RE_RETURN="RE_RETURN"}(Pr||(Pr={})),function(e){e.ANNOUNCEMENT="ANNOUNCEMENT",e.EVENT="EVENT"}(Lr||(Lr={})),function(e){e.ANNOUNCEMENT="ANNOUNCEMENT",e.EVENT="EVENT"}(Br||(Br={})),function(e){e.LARGE="LARGE",e.SME="SME",e.INDIVIDUAL="INDIVIDUAL"}(Ur||(Ur={})),function(e){e.CUSTOMER_NORMAL="CUSTOMER_NORMAL",e.CUSTOMER_SIMPLIFIED_NO_TAX="CUSTOMER_SIMPLIFIED_NO_TAX",e.CUSTOMER_NO_TAX="CUSTOMER_NO_TAX",e.CUSTOMER_CLOSING="CUSTOMER_CLOSING",e.CUSTOMER_NON_PROFIT="CUSTOMER_NON_PROFIT",e.CUSTOMER_OUT_OF="CUSTOMER_OUT_OF",e.CUSTOMER_SIMPLIFIED="CUSTOMER_SIMPLIFIED"}(Vr||(Vr={})),function(e){e.A="A",e.B="B",e.C="C",e.D="D",e.E="E"}(Fr||(Fr={})),function(e){e._1A="_1A",e._3A="_3A",e.YY="YY",e._1C="_1C",e._1E="_1E",e._1D="_1D",e._1B="_1B",e._1G="_1G",e._1H="_1H",e._2A="_2A",e._3B="_3B",e._3K="_3K",e._3N="_3N",e.YX="YX"}(Gr||(Gr={})),function(e){e.NONE="NONE",e.REQUEST="REQUEST",e.RETURN="RETURN",e.COMPLETE="COMPLETE",e.RE_REQUEST="RE_REQUEST",e.RE_RETURN="RE_RETURN"}(kr||(kr={})),function(e){e.NONE="NONE",e.REQUEST="REQUEST",e.RETURN="RETURN",e.COMPLETE="COMPLETE",e.RE_REQUEST="RE_REQUEST",e.RE_RETURN="RE_RETURN"}(Yr||(Yr={})),function(e){e.CORPORATE="CORPORATE",e.INDIVIDUAL="INDIVIDUAL"}(qr||(qr={})),function(e){e.OWNER="OWNER",e.NORMAL_OWNER="NORMAL_OWNER",e.BRANCH="BRANCH"}(Wr||(Wr={})),function(e){e.BUSINESS_LICENSE="BUSINESS_LICENSE",e.COPY_OF_BANKBOOK="COPY_OF_BANKBOOK",e.DRIVER_LICENSE="DRIVER_LICENSE",e.CARGO_TRANSPORT_WORKER_CERTIFICATE="CARGO_TRANSPORT_WORKER_CERTIFICATE",e.VEHICLE_REGISTRATION="VEHICLE_REGISTRATION",e.LOAD_LIABILITY_INSURANCE="LOAD_LIABILITY_INSURANCE",e.ETC="ETC",e.CONTRACT="CONTRACT",e.CARGO_TRANSPORT_BUSINESS_LICENSE="CARGO_TRANSPORT_BUSINESS_LICENSE",e.PAYMENT_GUARANTEE_INSURANCE="PAYMENT_GUARANTEE_INSURANCE",e.RECEIPT="RECEIPT",e.WEIGHING_SHEET="WEIGHING_SHEET",e.TAX_INVOICE="TAX_INVOICE"}(Hr||(Hr={})),function(e){e.CORPORATE="CORPORATE",e.INDIVIDUAL="INDIVIDUAL"}(Kr||(Kr={})),function(e){e.OWNER="OWNER",e.NORMAL_OWNER="NORMAL_OWNER",e.BRANCH="BRANCH"}(zr||(zr={})),function(e){e.LARGE="LARGE",e.SME="SME",e.INDIVIDUAL="INDIVIDUAL"}(Xr||(Xr={})),function(e){e.CUSTOMER_NORMAL="CUSTOMER_NORMAL",e.CUSTOMER_SIMPLIFIED_NO_TAX="CUSTOMER_SIMPLIFIED_NO_TAX",e.CUSTOMER_NO_TAX="CUSTOMER_NO_TAX",e.CUSTOMER_CLOSING="CUSTOMER_CLOSING",e.CUSTOMER_NON_PROFIT="CUSTOMER_NON_PROFIT",e.CUSTOMER_OUT_OF="CUSTOMER_OUT_OF",e.CUSTOMER_SIMPLIFIED="CUSTOMER_SIMPLIFIED"}(Qr||(Qr={})),function(e){e.A="A",e.B="B",e.C="C",e.D="D",e.E="E"}(Zr||(Zr={})),function(e){e._1A="_1A",e._3A="_3A",e.YY="YY",e._1C="_1C",e._1E="_1E",e._1D="_1D",e._1B="_1B",e._1G="_1G",e._1H="_1H",e._2A="_2A",e._3B="_3B",e._3K="_3K",e._3N="_3N",e.YX="YX"}(Jr||(Jr={})),function(e){e.NONE="NONE",e.REQUEST="REQUEST",e.RETURN="RETURN",e.COMPLETE="COMPLETE",e.RE_REQUEST="RE_REQUEST",e.RE_RETURN="RE_RETURN"}($r||($r={})),function(e){e.CORPORATE="CORPORATE",e.INDIVIDUAL="INDIVIDUAL"}(es||(es={})),function(e){e.LARGE="LARGE",e.SME="SME",e.INDIVIDUAL="INDIVIDUAL"}(ts||(ts={})),function(e){e.CUSTOMER_NORMAL="CUSTOMER_NORMAL",e.CUSTOMER_SIMPLIFIED_NO_TAX="CUSTOMER_SIMPLIFIED_NO_TAX",e.CUSTOMER_NO_TAX="CUSTOMER_NO_TAX",e.CUSTOMER_CLOSING="CUSTOMER_CLOSING",e.CUSTOMER_NON_PROFIT="CUSTOMER_NON_PROFIT",e.CUSTOMER_OUT_OF="CUSTOMER_OUT_OF",e.CUSTOMER_SIMPLIFIED="CUSTOMER_SIMPLIFIED"}(as||(as={})),function(e){e.OWNER="OWNER",e.NORMAL_OWNER="NORMAL_OWNER",e.BRANCH="BRANCH"}(ls||(ls={})),function(e){e.NONE="NONE",e.REQUEST="REQUEST",e.RETURN="RETURN",e.COMPLETE="COMPLETE",e.RE_REQUEST="RE_REQUEST",e.RE_RETURN="RE_RETURN"}(rs||(rs={})),function(e){e.CORPORATE="CORPORATE",e.INDIVIDUAL="INDIVIDUAL"}(ss||(ss={})),function(e){e.OWNER="OWNER",e.NORMAL_OWNER="NORMAL_OWNER",e.BRANCH="BRANCH"}(ns||(ns={})),function(e){e.NONE="NONE",e.REQUEST="REQUEST",e.RETURN="RETURN",e.COMPLETE="COMPLETE",e.RE_REQUEST="RE_REQUEST",e.RE_RETURN="RE_RETURN"}(os||(os={})),function(e){e._1A="_1A",e._3A="_3A",e.YY="YY",e._1C="_1C",e._1E="_1E",e._1D="_1D",e._1B="_1B",e._1G="_1G",e._1H="_1H",e._2A="_2A",e._3B="_3B",e._3K="_3K",e._3N="_3N",e.YX="YX"}(is||(is={})),function(e){e.OWNER="OWNER",e.NORMAL_OWNER="NORMAL_OWNER",e.BRANCH="BRANCH"}(ds||(ds={})),function(e){e.NONE="NONE",e.REQUEST="REQUEST",e.RETURN="RETURN",e.COMPLETE="COMPLETE",e.RE_REQUEST="RE_REQUEST",e.RE_RETURN="RE_RETURN"}(cs||(cs={})),function(e){e.SUDO="SUDO",e.YEONGDONG="YEONGDONG",e.CHUNGCHEONG="CHUNGCHEONG",e.YEONGNAM="YEONGNAM",e.HONAM="HONAM"}(us||(us={})),function(e){e.SEOUL="SEOUL",e.INCHEON="INCHEON",e.GYEONGGI="GYEONGGI",e.GANGWON="GANGWON",e.GYEONGBUK="GYEONGBUK",e.GYEONGNAM="GYEONGNAM",e.DAEGU="DAEGU",e.ULSAN="ULSAN",e.BUSAN="BUSAN",e.CHUNGBUK="CHUNGBUK",e.CHUNGNAM="CHUNGNAM",e.DAEJEON="DAEJEON",e.SEJONG="SEJONG",e.JEONBUK="JEONBUK",e.JEONNAM="JEONNAM",e.GWANGJU="GWANGJU",e.JEJU="JEJU"}(ms||(ms={})),function(e){e.RAW_GRAIN="RAW_GRAIN",e.REFINED_GRAIN="REFINED_GRAIN",e.PACKAGING="PACKAGING",e.PALLET="PALLET"}(ps||(ps={})),function(e){e.MATERIAL="MATERIAL",e.WELFARE="WELFARE",e.SCHOOL_MEAL="SCHOOL_MEAL",e.MILITARY="MILITARY",e.GOVERNMENT="GOVERNMENT",e.PROCESSING="PROCESSING",e.ALCOHOL="ALCOHOL",e.OVERSEAS_AID="OVERSEAS_AID",e.ETC="ETC",e.PACKAGING="PACKAGING",e.PALLET="PALLET"}(hs||(hs={})),function(e){e.KG10="KG_10",e.KG20="KG_20",e.KG40="KG_40",e.KG800="KG_800",e.KG1000="KG_1000",e.PP40="PP_40",e.PP20="PP_20",e.PP_TON="PP_TON",e.JI20="JI_20",e.JI10="JI_10",e.PE10="PE_10",e.PE40="PE_40",e.PALLET="PALLET"}(fs||(fs={})),function(e){e.ROAD="ROAD",e.SEA="SEA",e.HANDLING="HANDLING",e.RAIL="RAIL"}(Cs||(Cs={})),function(e){e.SUDO="SUDO",e.YEONGDONG="YEONGDONG",e.CHUNGCHEONG="CHUNGCHEONG",e.YEONGNAM="YEONGNAM",e.HONAM="HONAM"}(xs||(xs={})),function(e){e.SEOUL="SEOUL",e.INCHEON="INCHEON",e.GYEONGGI="GYEONGGI",e.GANGWON="GANGWON",e.GYEONGBUK="GYEONGBUK",e.GYEONGNAM="GYEONGNAM",e.DAEGU="DAEGU",e.ULSAN="ULSAN",e.BUSAN="BUSAN",e.CHUNGBUK="CHUNGBUK",e.CHUNGNAM="CHUNGNAM",e.DAEJEON="DAEJEON",e.SEJONG="SEJONG",e.JEONBUK="JEONBUK",e.JEONNAM="JEONNAM",e.GWANGJU="GWANGJU",e.JEJU="JEJU"}(Ns||(Ns={})),function(e){e.RAW_GRAIN="RAW_GRAIN",e.REFINED_GRAIN="REFINED_GRAIN",e.PACKAGING="PACKAGING",e.PALLET="PALLET"}(ys||(ys={})),function(e){e.MATERIAL="MATERIAL",e.WELFARE="WELFARE",e.SCHOOL_MEAL="SCHOOL_MEAL",e.MILITARY="MILITARY",e.GOVERNMENT="GOVERNMENT",e.PROCESSING="PROCESSING",e.ALCOHOL="ALCOHOL",e.OVERSEAS_AID="OVERSEAS_AID",e.ETC="ETC",e.PACKAGING="PACKAGING",e.PALLET="PALLET"}(Es||(Es={})),function(e){e.KG10="KG_10",e.KG20="KG_20",e.KG40="KG_40",e.KG800="KG_800",e.KG1000="KG_1000",e.PP40="PP_40",e.PP20="PP_20",e.PP_TON="PP_TON",e.JI20="JI_20",e.JI10="JI_10",e.PE10="PE_10",e.PE40="PE_40",e.PALLET="PALLET"}(vs||(vs={})),function(e){e.ROAD="ROAD",e.SEA="SEA",e.HANDLING="HANDLING",e.RAIL="RAIL"}(As||(As={})),function(e){e.SUDO="SUDO",e.YEONGDONG="YEONGDONG",e.CHUNGCHEONG="CHUNGCHEONG",e.YEONGNAM="YEONGNAM",e.HONAM="HONAM"}(gs||(gs={})),function(e){e.SEOUL="SEOUL",e.INCHEON="INCHEON",e.GYEONGGI="GYEONGGI",e.GANGWON="GANGWON",e.GYEONGBUK="GYEONGBUK",e.GYEONGNAM="GYEONGNAM",e.DAEGU="DAEGU",e.ULSAN="ULSAN",e.BUSAN="BUSAN",e.CHUNGBUK="CHUNGBUK",e.CHUNGNAM="CHUNGNAM",e.DAEJEON="DAEJEON",e.SEJONG="SEJONG",e.JEONBUK="JEONBUK",e.JEONNAM="JEONNAM",e.GWANGJU="GWANGJU",e.JEJU="JEJU"}(Ts||(Ts={})),function(e){e.RAW_GRAIN="RAW_GRAIN",e.REFINED_GRAIN="REFINED_GRAIN",e.PACKAGING="PACKAGING",e.PALLET="PALLET"}(Is||(Is={})),function(e){e.MATERIAL="MATERIAL",e.WELFARE="WELFARE",e.SCHOOL_MEAL="SCHOOL_MEAL",e.MILITARY="MILITARY",e.GOVERNMENT="GOVERNMENT",e.PROCESSING="PROCESSING",e.ALCOHOL="ALCOHOL",e.OVERSEAS_AID="OVERSEAS_AID",e.ETC="ETC",e.PACKAGING="PACKAGING",e.PALLET="PALLET"}(bs||(bs={})),function(e){e.KG10="KG_10",e.KG20="KG_20",e.KG40="KG_40",e.KG800="KG_800",e.KG1000="KG_1000",e.PP40="PP_40",e.PP20="PP_20",e.PP_TON="PP_TON",e.JI20="JI_20",e.JI10="JI_10",e.PE10="PE_10",e.PE40="PE_40",e.PALLET="PALLET"}(Rs||(Rs={})),function(e){e.ROAD="ROAD",e.SEA="SEA",e.HANDLING="HANDLING",e.RAIL="RAIL"}(Ss||(Ss={})),function(e){e.TRANSPORT_FEE="TRANSPORT_FEE"}(_s||(_s={})),function(e){e.TRANSPORT_FEE="TRANSPORT_FEE",e.ETC_FEE="ETC_FEE",e.KOSIS_FEE="KOSIS_FEE",e.SERVICE_OUTSOURCING_FEE="SERVICE_OUTSOURCING_FEE",e.CUSTOMS_FEE="CUSTOMS_FEE",e.PERFORMANCE_OUTSOURCING_FEE="PERFORMANCE_OUTSOURCING_FEE",e.PORT_RENT_FEE="PORT_RENT_FEE",e.RAILWAY_FEE="RAILWAY_FEE",e.WORK_OUTSOURCING_FEE="WORK_OUTSOURCING_FEE",e.WELFARE_OUTSOURCING_FEE="WELFARE_OUTSOURCING_FEE",e.LABOR_TAX_OUTSOURCING_FEE="LABOR_TAX_OUTSOURCING_FEE",e.FIXED_EMPLOYEE_OUTSOURCING_FEE="FIXED_EMPLOYEE_OUTSOURCING_FEE",e.MARINE_FREIGHT_FEE="MARINE_FREIGHT_FEE",e.RENT_BUILDING_FEE="RENT_BUILDING_FEE",e.SERVICE_OUTSOURCING_ETC_FEE="SERVICE_OUTSOURCING_ETC_FEE",e.RENT_LAND_FEE="RENT_LAND_FEE",e.REPAIR_BUILDING_FEE="REPAIR_BUILDING_FEE",e.RENT_PALETTE_FEE="RENT_PALETTE_FEE",e.RENT_MACHINE_FEE="RENT_MACHINE_FEE",e.REPAIR_HEAVY_EQUIPMENT_FEE="REPAIR_HEAVY_EQUIPMENT_FEE",e.RENT_HEAVY_EQUIPMENT_FEE="RENT_HEAVY_EQUIPMENT_FEE",e.REPAIR_TRUCK_FEE="REPAIR_TRUCK_FEE",e.FUEL_SHIP_FEE="FUEL_SHIP_FEE",e.REPAIR_SHIP_FEE="REPAIR_SHIP_FEE",e.SUPPLY_GENERAL_FEE="SUPPLY_GENERAL_FEE",e.TEMP_WORKER_OUTSOURCING_FEE="TEMP_WORKER_OUTSOURCING_FEE",e.REPAIR_MACHINE_FEE="REPAIR_MACHINE_FEE",e.REPAIR_STRUCTURE_FEE="REPAIR_STRUCTURE_FEE",e.TRANSPORT_BONUS_FEE="TRANSPORT_BONUS_FEE",e.DISPOSAL_OUTSOURCING_FEE="DISPOSAL_OUTSOURCING_FEE",e.TRANSPORT_FUEL_FEE="TRANSPORT_FUEL_FEE",e.FUEL_HEAVY_EQUIPMENT_FEE="FUEL_HEAVY_EQUIPMENT_FEE",e.FUEL_TRUCK_FEE="FUEL_TRUCK_FEE",e.FUEL_MACHINE_FEE="FUEL_MACHINE_FEE"}(ws||(ws={})),function(e){e.ADMIN_PORTAL="ADMIN_PORTAL",e.CUSTOMER_PORTAL="CUSTOMER_PORTAL",e.VENDOR_PORTAL="VENDOR_PORTAL"}(Os||(Os={})),function(e){e.DRIVER="DRIVER",e.PARTNER="PARTNER",e.NORMAL_PARTNER="NORMAL_PARTNER",e.CONSIGNMENT="CONSIGNMENT",e.BRANCH="BRANCH"}(Ms||(Ms={})),function(e){e.DRIVER="DRIVER",e.PARTNER="PARTNER",e.NORMAL_PARTNER="NORMAL_PARTNER",e.CONSIGNMENT="CONSIGNMENT",e.BRANCH="BRANCH"}(Ds||(Ds={})),function(e){e.OWNER="OWNER",e.NORMAL_OWNER="NORMAL_OWNER",e.BRANCH="BRANCH"}(js||(js={})),function(e){e.CUSTOMER="CUSTOMER",e.VENDOR="VENDOR",e.ETC="ETC",e.ORDER="ORDER"}(Ps||(Ps={})),function(e){e.BUSINESS_LICENSE="BUSINESS_LICENSE",e.COPY_OF_BANKBOOK="COPY_OF_BANKBOOK",e.DRIVER_LICENSE="DRIVER_LICENSE",e.CARGO_TRANSPORT_WORKER_CERTIFICATE="CARGO_TRANSPORT_WORKER_CERTIFICATE",e.VEHICLE_REGISTRATION="VEHICLE_REGISTRATION",e.LOAD_LIABILITY_INSURANCE="LOAD_LIABILITY_INSURANCE",e.ETC="ETC",e.CONTRACT="CONTRACT",e.CARGO_TRANSPORT_BUSINESS_LICENSE="CARGO_TRANSPORT_BUSINESS_LICENSE",e.PAYMENT_GUARANTEE_INSURANCE="PAYMENT_GUARANTEE_INSURANCE",e.RECEIPT="RECEIPT",e.WEIGHING_SHEET="WEIGHING_SHEET",e.TAX_INVOICE="TAX_INVOICE"}(Ls||(Ls={})),function(e){e.CUSTOMER="CUSTOMER",e.VENDOR="VENDOR",e.ETC="ETC",e.ORDER="ORDER"}(Bs||(Bs={})),function(e){e.BUSINESS_LICENSE="BUSINESS_LICENSE",e.COPY_OF_BANKBOOK="COPY_OF_BANKBOOK",e.DRIVER_LICENSE="DRIVER_LICENSE",e.CARGO_TRANSPORT_WORKER_CERTIFICATE="CARGO_TRANSPORT_WORKER_CERTIFICATE",e.VEHICLE_REGISTRATION="VEHICLE_REGISTRATION",e.LOAD_LIABILITY_INSURANCE="LOAD_LIABILITY_INSURANCE",e.ETC="ETC",e.CONTRACT="CONTRACT",e.CARGO_TRANSPORT_BUSINESS_LICENSE="CARGO_TRANSPORT_BUSINESS_LICENSE",e.PAYMENT_GUARANTEE_INSURANCE="PAYMENT_GUARANTEE_INSURANCE",e.RECEIPT="RECEIPT",e.WEIGHING_SHEET="WEIGHING_SHEET",e.TAX_INVOICE="TAX_INVOICE"}(Us||(Us={})),function(e){e.ADMIN_PORTAL="ADMIN_PORTAL",e.CUSTOMER_PORTAL="CUSTOMER_PORTAL",e.VENDOR_PORTAL="VENDOR_PORTAL"}(Vs||(Vs={})),function(e){e.ORDER_CONTRACT="ORDER_CONTRACT",e.ORDER_NON_CONTRACT="ORDER_NON_CONTRACT",e.ORDER_NON_CONTRACT_GOV_GRAIN="ORDER_NON_CONTRACT_GOV_GRAIN",e.ORDER_CONTRACT_FT_ONE="ORDER_CONTRACT_FT_ONE",e.ORDER_NON_CONTRACT_FT_ONE="ORDER_NON_CONTRACT_FT_ONE",e.GOV_GRAIN_INSTRUCTION="GOV_GRAIN_INSTRUCTION",e.VEHICLE_REGISTRATION="VEHICLE_REGISTRATION",e.VEHICLE_REGISTRATION_BRANCH="VEHICLE_REGISTRATION_BRANCH",e.MONTHLY_VEHICLE="MONTHLY_VEHICLE"}(Fs||(Fs={})),function(e){e.ADMIN_PORTAL="ADMIN_PORTAL",e.CUSTOMER_PORTAL="CUSTOMER_PORTAL",e.VENDOR_PORTAL="VENDOR_PORTAL"}(Gs||(Gs={})),function(e){e.ORDER_CONTRACT="ORDER_CONTRACT",e.ORDER_NON_CONTRACT="ORDER_NON_CONTRACT",e.ORDER_NON_CONTRACT_GOV_GRAIN="ORDER_NON_CONTRACT_GOV_GRAIN",e.ORDER_CONTRACT_FT_ONE="ORDER_CONTRACT_FT_ONE",e.ORDER_NON_CONTRACT_FT_ONE="ORDER_NON_CONTRACT_FT_ONE",e.GOV_GRAIN_INSTRUCTION="GOV_GRAIN_INSTRUCTION",e.VEHICLE_REGISTRATION="VEHICLE_REGISTRATION",e.VEHICLE_REGISTRATION_BRANCH="VEHICLE_REGISTRATION_BRANCH",e.MONTHLY_VEHICLE="MONTHLY_VEHICLE"}(ks||(ks={})),function(e){e.ADMIN_PORTAL="ADMIN_PORTAL",e.CUSTOMER_PORTAL="CUSTOMER_PORTAL",e.VENDOR_PORTAL="VENDOR_PORTAL"}(Ys||(Ys={})),function(e){e.ORDER_CONTRACT="ORDER_CONTRACT",e.ORDER_NON_CONTRACT="ORDER_NON_CONTRACT",e.ORDER_NON_CONTRACT_GOV_GRAIN="ORDER_NON_CONTRACT_GOV_GRAIN",e.ORDER_CONTRACT_FT_ONE="ORDER_CONTRACT_FT_ONE",e.ORDER_NON_CONTRACT_FT_ONE="ORDER_NON_CONTRACT_FT_ONE",e.GOV_GRAIN_INSTRUCTION="GOV_GRAIN_INSTRUCTION",e.VEHICLE_REGISTRATION="VEHICLE_REGISTRATION",e.VEHICLE_REGISTRATION_BRANCH="VEHICLE_REGISTRATION_BRANCH",e.MONTHLY_VEHICLE="MONTHLY_VEHICLE"}(qs||(qs={})),function(e){e.ADMIN_PORTAL="ADMIN_PORTAL",e.CUSTOMER_PORTAL="CUSTOMER_PORTAL",e.VENDOR_PORTAL="VENDOR_PORTAL"}(Ws||(Ws={})),function(e){e.ORDER_CONTRACT="ORDER_CONTRACT",e.ORDER_NON_CONTRACT="ORDER_NON_CONTRACT",e.ORDER_NON_CONTRACT_GOV_GRAIN="ORDER_NON_CONTRACT_GOV_GRAIN",e.ORDER_CONTRACT_FT_ONE="ORDER_CONTRACT_FT_ONE",e.ORDER_NON_CONTRACT_FT_ONE="ORDER_NON_CONTRACT_FT_ONE",e.GOV_GRAIN_INSTRUCTION="GOV_GRAIN_INSTRUCTION",e.VEHICLE_REGISTRATION="VEHICLE_REGISTRATION",e.VEHICLE_REGISTRATION_BRANCH="VEHICLE_REGISTRATION_BRANCH",e.MONTHLY_VEHICLE="MONTHLY_VEHICLE"}(Hs||(Hs={})),function(e){e.MENU="MENU",e.TAB="TAB"}(Ks||(Ks={})),function(e){e.UNBAN="UNBAN",e.FT_ONE="FT_ONE",e.GOV_GRAIN="GOV_GRAIN"}(zs||(zs={})),function(e){e.ADMIN="ADMIN",e.CUSTOMER_USER="CUSTOMER_USER",e.CUSTOMER_GROUP_USER="CUSTOMER_GROUP_USER",e.VENDOR_USER="VENDOR_USER",e.VENDOR_VEHICLE="VENDOR_VEHICLE",e.SYSTEM="SYSTEM"}(Xs||(Xs={})),function(e){e.HELLO="HELLO",e.HELLO_AUTO_EVIDENCE="HELLO_AUTO_EVIDENCE",e.UNBAN="UNBAN",e.UNBAN_TMS="UNBAN_TMS"}(Qs||(Qs={})),function(e){e.HELLO="HELLO",e.HELLO_AUTO_EVIDENCE="HELLO_AUTO_EVIDENCE",e.UNBAN="UNBAN",e.UNBAN_TMS="UNBAN_TMS"}(Zs||(Zs={})),function(e){e.ALL="ALL",e.ADMIN="ADMIN",e.OWNER="OWNER",e.DRIVER="DRIVER",e.PARTNER="PARTNER"}(Js||(Js={})),function(e){e.PUBLISHED="PUBLISHED",e.OUT_OF_DATE="OUT_OF_DATE",e.SCHEDULED="SCHEDULED",e.TEMP_SAVED="TEMP_SAVED",e.WITHDRAWN="WITHDRAWN"}($s||($s={})),function(e){e.ALL="ALL",e.ADMIN="ADMIN",e.OWNER="OWNER",e.DRIVER="DRIVER",e.PARTNER="PARTNER"}(en||(en={})),function(e){e.PUBLISHED="PUBLISHED",e.OUT_OF_DATE="OUT_OF_DATE",e.SCHEDULED="SCHEDULED",e.TEMP_SAVED="TEMP_SAVED",e.WITHDRAWN="WITHDRAWN"}(tn||(tn={})),function(e){e.ANNOUNCEMENT="ANNOUNCEMENT",e.EVENT="EVENT"}(an||(an={})),function(e){e.ALL="ALL",e.ADMIN="ADMIN",e.OWNER="OWNER",e.DRIVER="DRIVER",e.PARTNER="PARTNER"}(ln||(ln={})),function(e){e.INDIVIDUAL="INDIVIDUAL",e.PARTNER="PARTNER",e.CONSIGNMENT="CONSIGNMENT"}(rn||(rn={})),function(e){e.ALL="ALL",e.ADMIN="ADMIN",e.OWNER="OWNER",e.DRIVER="DRIVER",e.PARTNER="PARTNER"}(sn||(sn={})),function(e){e.INDIVIDUAL="INDIVIDUAL",e.PARTNER="PARTNER",e.CONSIGNMENT="CONSIGNMENT"}(nn||(nn={})),function(e){e.ANNOUNCEMENT="ANNOUNCEMENT",e.EVENT="EVENT"}(on||(on={})),function(e){e.PUBLISHED="PUBLISHED",e.OUT_OF_DATE="OUT_OF_DATE",e.SCHEDULED="SCHEDULED",e.TEMP_SAVED="TEMP_SAVED",e.WITHDRAWN="WITHDRAWN"}(dn||(dn={})),function(e){e.UNBAN="UNBAN",e.FT_ONE="FT_ONE",e.GOV_GRAIN="GOV_GRAIN"}(cn||(cn={})),function(e){e.MENU="MENU",e.TAB="TAB"}(un||(un={})),function(e){e.UNBAN="UNBAN",e.FT_ONE="FT_ONE",e.GOV_GRAIN="GOV_GRAIN"}(mn||(mn={})),function(e){e.MENU="MENU",e.TAB="TAB"}(pn||(pn={}))},45423:function(e,t,a){"use strict";a.d(t,{A:function(){return n}});var l=a(63159),r=a(11855),s=a(63689);function n(e){let{label:t,autocompleteBoxClassName:a,autocompleteClassName:n,componentType:o="autocomplete-filter",params:i,disabled:d=!1}=e;const[c,u]=(0,r.useState)(i?i.row[i.field]:""),m=(0,r.useMemo)((()=>{var e;const t=(null==i||null===(e=i.colDef)||void 0===e?void 0:e.minutesInterval)||30,a=[];for(let e=0;e<24;e++)for(let l=0;l<60;l+=t){const t=String(e).padStart(2,"0"),r=String(l).padStart(2,"0"),s="".concat(t,":").concat(r);a.push({id:s,label:s})}return a}),[]);return(0,r.useEffect)((()=>{i&&u(i.row[i.field])}),[i]),(0,l.jsx)(s.A,{selectedId:c,label:t,placeholder:"선택",options:m,disabled:d,autocompleteBoxClassName:a,autocompleteClassName:n,componentType:o,onChange:(e,t)=>{u(null==t?void 0:t.id),i&&i.api.updateRows([{...i.row,isDirty:!0,[i.field]:null==t?void 0:t.id}])},"data-sentry-element":"TmsBasicAutocomplete","data-sentry-component":"TmsBasicTimeAutocomplete","data-sentry-source-file":"TmsBasicTimeAutocomplete.tsx"})}},70431:function(e,t,a){"use strict";a.d(t,{A:function(){return o}});var l=a(63159),r=(a(11855),a(86073)),s=a(51409),n=a(73639);function o(e){let{onClick:t}=e;return(0,l.jsx)(r.A,{label:"조회",level:s.V.level_3,size:s.M.Small,leftIcon:(0,l.jsx)(n.A,{width:20,height:20,className:"cursor-pointer"}),onClick:t,"data-sentry-element":"TmsBasicButton","data-sentry-component":"ModalSearchButton","data-sentry-source-file":"ModalSearchButton.tsx"})}},77507:function(e,t,a){"use strict";a.d(t,{A:function(){return r}});var l=a(63159);a(11855);function r(e){let{headerName:t,required:a=!1}=e;return(0,l.jsxs)("div",{className:"flex gap-[2px]","data-sentry-component":"GridColumnHeader","data-sentry-source-file":"GridColumnHeader.tsx",children:[(0,l.jsx)("span",{className:"Body5_M text-grey30",children:t}),a&&(0,l.jsx)("span",{className:"bg-decide h-[3px] w-[3px] flex-none rounded-[3px]"})]})}},99958:function(e,t,a){"use strict";a.d(t,{A:function(){return i}});var l=a(63159),r=a(11855),s=a(46706),n=a(72050),o=a(87727);function i(e){let{type:t="string",allowDemical:a=!1,value:i,params:d,defaultReadonly:c=!1,readonly:u,subNodes:m=[],disableInput:p=!1,...h}=e;const f=(0,r.useMemo)((()=>{var e;if(p)return i;const a=(null==d||null===(e=d.row)||void 0===e?void 0:e[d.field])||i||"";return"number"===t?(0,n.e)(a):a}),[i,d]);return(0,l.jsx)(s.A,{value:f,placeholder:c?"자동 입력":u?"":"입력",onKeyDown:e=>{"Space"!==e.code&&"ArrowRight"!==e.key&&"ArrowLeft"!==e.key||e.stopPropagation()},onChange:e=>{let{target:{value:l}}=e;p||(async e=>{let l=e;if("number"===t){var r,s;const t=a?(null==d||null===(r=d.colDef)||void 0===r?void 0:r.demical)||3:0;var i;const o=null===(i=null==d||null===(s=d.colDef)||void 0===s?void 0:s.allowNegative)||void 0===i||i;l=(0,n.Z)(e,t,o)}"edit"===d.cellMode&&await d.api.setEditCellValue({id:d.id,field:d.field,value:l}),d.api.updateRows([{...d.row,isDirty:!0,[d.field]:l,...(0,o.i)(m,l)}])})(l)},slotProps:{input:{readOnly:u,onFocus:e=>{if(p||u)return;const t=e.target;setTimeout((()=>{try{t.select()}catch(e){}}),0)}}},sx:{"& .MuiInputBase-input":{textAlign:"number"===t?"right":""}},...h,"data-sentry-element":"TmsBasicInputMui","data-sentry-component":"GridColumnInput","data-sentry-source-file":"GridColumnInput.tsx"})}},22826:function(e,t,a){"use strict";a.d(t,{A:function(){return u}});var l=a(63159),r=a(46326),s=a.n(r),n=a(11855),o=a(46706),i=a(73639),d=a(30429);const c=s()((()=>Promise.resolve().then(a.bind(a,8372))),{loadableGenerated:{webpack:()=>[8372]},ssr:!1});function u(e){let{params:t,nodeIdFieldName:a="",nodeNameFieldName:r="",loadUnloadTypeName:s="",loadUnloadTypeFieldName:u="",defaultReadonly:m=!1,readonly:p,type:h="all"}=e;const[f,C]=(0,n.useState)(t.row[t.field]),[x,N]=(0,n.useState)(!1),[y,E]=(0,n.useState)(!1);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(o.A,{className:"tms-basic-input-mui",value:f,placeholder:m?"자동 입력":p?"":"입력",onCompositionStart:()=>E(!0),onCompositionEnd:()=>E(!1),onKeyDown:e=>{"Space"!==e.code&&"ArrowRight"!==e.key&&"ArrowLeft"!==e.key||e.stopPropagation(),"Enter"!==e.key||y||N(!0)},onChange:e=>{C(e.target.value)},slotProps:{input:{readOnly:p,endAdornment:(0,l.jsx)(i.A,{width:20,height:20,className:"cursor-pointer ".concat(p&&"text-greyDisabled"),onClick:()=>{p||N(!0)}})}},"data-sentry-element":"TmsBasicInputMui","data-sentry-source-file":"GridColumnNodeSearchInput.tsx"}),x&&(0,l.jsx)(c,{type:h,params:t.row,searchInputValueProps:f,setIsOpened:N,onRowDoubleClickProps:(e,l,n)=>{var o;t.api.updateRows([{...t.row,isDirty:!0,[t.field]:e.row.mdmNodeName,[a]:e.row.mdmNodeCode,[r]:e.row.mdmNodeName,[u]:(null===(o=e.row)||void 0===o?void 0:o.loadUnloadType)===d.yPk.PICKUP_DROP?d.yPk.DROP:e.row.loadUnloadType,[s]:e.row.loadUnloadType}]),C(e.row.mdmNodeName)}})]})}},24490:function(e,t,a){"use strict";a.d(t,{A:function(){return d}});var l=a(63159),r=a(11855),s=a(63689),n=a(46706),o=a(56393),i=a(38662);function d(e){let{params:t,useDynamicField:a=!1}=e;const[d,c]=(0,r.useState)((()=>a?t.row[t.field].addressInfo?{...t.row[t.field].addressInfo}:{...t.row[t.field],label:t.row[t.field].address1,id:""}:{id:"",label:t.row.basicAddress,...t.row.addressInfo})),[u,m]=(0,r.useState)(""),[p,h]=r.useState(!1),{options:f,setOptions:C}=(0,i.Z)({mutationKey:"GridColumnSearchAddress",inputValue:u,isFocused:p});return(0,l.jsx)(s.A,{getOptionLabel:e=>"string"==typeof e?e:o.q.formatAddress(e.address1,e.address2),autocompleteBoxClassName:"flex flex-1",value:d,options:f,onFocus:()=>{h(!0)},autoComplete:!0,includeInputInList:!0,filterSelectedOptions:!0,disablePortal:!0,filterOptions:e=>e,componentType:"autocomplete-table",onChange:(e,l)=>{if(!l)return;C(l?[l,...f]:f),c(l);const r=t.api.getRow(t.id),s=((e,a,l)=>{const r={basicAddress:a.address1,detailAddress:a.detailAddress,addressInfo:a,postCode:a.zipCode};return l?{...e[t.field],...r}:r})(r,l,a);t.api.updateRows([{...r,isDirty:!0,...a?{[t.field]:s}:s}])},inputValue:u,onInputChange:(e,t)=>{u!==t&&m(t)},optionHeight:48,isOptionEqualToValue:(e,t)=>e.id===t.id,renderInput:e=>(0,l.jsx)(n.A,{...e,fullWidth:!0}),renderOption:(e,t)=>(0,l.jsx)("li",{...e,children:(0,l.jsxs)("p",{className:"flex flex-col",children:[(0,l.jsxs)("p",{className:"Body5_B",children:[(0,l.jsx)("span",{className:"Body5_EX ml-[4px]",children:t.address1}),t.address2," ",t.detailAddress&&" (".concat(t.detailAddress,")")]}),(0,l.jsxs)("p",{className:"text-grey50 Body5_M",children:[(0,l.jsx)("span",{className:"Body5_EX ml-[4px]",children:t.roadAddress1}),t.roadAddress2," ",t.detailAddress&&" (".concat(t.detailAddress,")")]})]})}),"data-sentry-element":"TmsBasicAutocomplete","data-sentry-component":"GridColumnSearchAddress","data-sentry-source-file":"GridColumnSearchAddress.tsx"})}},94106:function(e,t,a){"use strict";a.d(t,{A:function(){return N}});var l=a(63159),r=a(11855),s=a(63689),n=a(66555),o=a(30395),i=a.n(o),d=a(35293),c=a(19131),u=a(31627),m=a(87881),p=a(56901),h=a(92556),f=a(29447),C=a(97141);function x(e){let{label:t,value:a,options:s=[],autocompleteBoxClassName:o,autocompleteBoxSize:x=d.A.Medium,autocompleteClassName:N,autocompleteSize:y=d.A.Medium,componentType:E="autocomplete-filter",selectedId:v,onChange:A=()=>null,onKeyDown:g,required:T=!1,isValidation:I=!1,optionsBoxWidth:b=172,optionHeight:R=32,firstOptionType:S=null,readOnly:_=!1,disabled:w,placeholder:O="",...M}=e;return(0,l.jsxs)("div",{className:i()("basic-autocomplete-box flex items-center gap-[8px]",o,x),"data-sentry-component":"TmsBasicNodeAutocomplete","data-sentry-source-file":"TmsBasicNodeAutocomplete.tsx",children:[t&&(0,l.jsx)(c.A,{label:t,required:T}),(0,l.jsx)(n.dYn,{value:a,options:s,renderInput:e=>(0,l.jsx)(C.A,{...e,placeholder:O,className:i()("Body5_M",{"autocomplete-validation":I})}),ListboxComponent:(0,r.forwardRef)((function(e,t){const{children:a,...s}=e,n=R;return(0,l.jsx)("div",{ref:t,...s,children:(0,l.jsx)(f.Y1,{height:Math.min(8,r.Children.count(a))*n,itemCount:r.Children.count(a),itemSize:n,width:"100%",children:e=>{let{index:t,style:r}=e;return(0,l.jsx)("div",{style:r,"data-sentry-component":"renderRow","data-sentry-source-file":"TmsBasicNodeAutocomplete.tsx",children:a[t]})}})})})),getOptionKey:e=>e.id,className:i()("basic-autocomplete basic-autocomplete-css",N,y,E),onKeyDown:e=>{"Space"!==e.code&&"ArrowUp"!==e.key&&"ArrowDown"!==e.key||e.stopPropagation()},onChange:(e,t,a,l)=>{A(e,t,a,l)},popupIcon:!w&&(0,l.jsx)(u.A,{width:"16",height:"16",className:"text-grey60"}),clearIcon:(0,l.jsx)(m.A,{width:"16",height:"16",className:"text-grey60"}),renderOption:(e,t,a)=>{let{selected:r}=a;const{className:s,...n}=e;return(0,l.jsxs)("li",{className:i()("m-0 flex cursor-pointer gap-[8px] !px-[8px] py-[6px]",s),...n,children:[(0,l.jsx)("span",{className:"Body5_M",children:t}),r&&(0,l.jsx)(p.A,{width:20,className:"text-blue50 ml-auto"})]})},slotProps:{popper:{sx:{minWidth:b,border:"1px solid #C9CDD7",borderRadius:"6px",padding:"0",boxShadow:"0 0 12px 0 #0000001A","& .MuiAutocomplete-listbox":{overflowY:"auto",listStyle:"none","&::-webkit-scrollbar":{display:"none"},scrollbarWidth:"none",margin:0,"& div > div > div":{height:"32px!important"}}}}},noOptionsText:(0,l.jsx)(h.A,{type:"select",description_1:"조회 결과가 없습니다.",description_2:"검색어를 확인해 주세요."}),readOnly:_,disabled:w,...M,"data-sentry-element":"BasicAutocomplete","data-sentry-source-file":"TmsBasicNodeAutocomplete.tsx"})]})}function N(e){let{updateIdsRef:t,params:a,options:r=[],readonly:n=!1,onChangeProps:o,disableClearable:i,freeSolo:d=!1}=e;var c,u;const{id:m,field:p,value:h,api:f,cellMode:C}=a,N=o||(async(e,a,l)=>{const r=(d?a:null==a?void 0:a.id)||"";"edit"===l.cellMode&&await l.api.setEditCellValue({id:l.id,field:l.field,value:r},e);const s={...l.row,isDirty:!0,[l.field]:r};l.api.updateRows([s]);const n={...l,row:s};l.api.publishEvent("selectedOnChange",n,e),t&&(t.current=[...t.current,l.id])});var y,E;return(0,l.jsx)(l.Fragment,{children:d?(0,l.jsx)(x,{autocompleteBoxClassName:"flex flex-1",value:null!==(y=null===(c=a.row[a.field])||void 0===c?void 0:c.toString())&&void 0!==y?y:"",componentType:"autocomplete-table",options:r,onChange:(e,t)=>N(e,t,a),disabled:!a.isEditable,readOnly:n,disableClearable:i,optionsBoxWidth:a.colDef.optionsBoxWidth||200,freeSolo:!0}):(0,l.jsx)(s.A,{autocompleteBoxClassName:"flex flex-1",selectedId:null!==(E=null===(u=a.row[a.field])||void 0===u?void 0:u.toString())&&void 0!==E?E:"",componentType:"autocomplete-table",options:r,onChange:(e,t)=>N(e,t,a),disabled:!a.isEditable,readOnly:n,disableClearable:i,optionsBoxWidth:a.colDef.optionsBoxWidth||200,getOptionDisabled:e=>e.disabled})})}},36993:function(e,t,a){"use strict";a.d(t,{A:function(){return o}});var l=a(63159),r=(a(11855),a(54897)),s=a(10346);const n=[{id:"Y",label:"Y"},{id:"N",label:"N"}];function o(e){let{params:t,readonly:a=!1,onChange:o=null}=e;var i,d;return(0,l.jsx)(s.A,{componentType:"selectBox-table",defaultValue:null!==(i=t.row[t.field])&&void 0!==i?i:n[0].id,value:null!==(d=t.row[t.field])&&void 0!==d?d:n[0].id,options:n,optionsBoxWidth:100,onChange:e=>{t.api.updateRows([{...t.row,isDirty:!0,[t.field]:e.target.value}]),o&&o(e.target.value)},readOnly:a,renderValue:e=>(0,l.jsx)("div",{className:"bg-grey90 text-grey40 Body5_M flex h-[20px] w-[20px] min-w-[20px] items-center justify-center rounded-full p-[2px]",children:e}),customerMenuItem:e=>(0,l.jsxs)("li",{className:"flex h-[32px] cursor-pointer items-center gap-[8px]",children:[(0,l.jsx)("div",{className:"bg-grey90 text-grey40 Body5_M flex h-[18px] w-[18px] items-center justify-center rounded-full p-[2px]",children:e.label}),t.row[t.field]===e.id&&(0,l.jsx)(r.A,{width:20,className:"text-blue50 ml-auto"})]}),"data-sentry-element":"TmsBasicSelectBox","data-sentry-component":"GridColumnYesOrNo","data-sentry-source-file":"GridColumnYesOrNo.tsx"})}},4340:function(e,t,a){"use strict";a.d(t,{A:function(){return v}});var l,r,s,n=a(63159),o=a(30395),i=a.n(o),d=a(11855),c=a(31132),u=a(31592),m=a(92556),p=a(4988),h=a(89012),f=a.n(h),C=a(72564),x=a(28372);function N(){return N=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},N.apply(null,arguments)}var y=function(e){return d.createElement("svg",N({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none"},e),l||(l=d.createElement("rect",{width:15,height:15,x:.5,y:.5,fill:"#287EFF",rx:3.5})),r||(r=d.createElement("rect",{width:15,height:15,x:.5,y:.5,stroke:"#2065CC",rx:3.5})),s||(s=d.createElement("path",{fill:"#fff",d:"M11.833 7.467H4.167A.167.167 0 0 0 4 7.633v.734c0 .092.075.166.167.166h7.666A.167.167 0 0 0 12 8.367v-.734a.167.167 0 0 0-.167-.166"})))};function E(e){const{hideMenu:t,colDef:a,color:l,apiRef:r,isPersonalizationEnabled:s,storageKey:o,...i}=e,d=[p._.CUSTOM_SELECT,p._.CUSTOM_Y_OR_N],m=a&&!d.includes(a.type);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c.kkW,{onClick:t,colDef:a,"data-sentry-element":"GridColumnMenuPinningItem","data-sentry-source-file":"TmsBasicDataGrid.tsx"}),m&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c.iRd,{}),(0,n.jsx)(c.rbL,{onClick:t,colDef:a})]}),s&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c.iRd,{}),(0,n.jsx)(c.Plv,{onClick:()=>{r.current.getVisibleColumns();const e=r.current.getVisibleColumns().map((e=>({field:e.field,width:e.width})));t(),u.sV.emit("COLUMN/UPDATE/".concat(o),e)},children:"개인화 등록"}),(0,n.jsx)(c.Plv,{onClick:()=>{t();r.current.getAllColumns().forEach((e=>{r.current.setColumnVisibility(e.field,!0)})),u.sV.emit("COLUMN/UPDATE/".concat(o),null)},children:"개인화 등록 취소"}),(0,n.jsx)(c.Plv,{onClick:()=>{t();u.sV.emit("COLUMN/RESET/".concat(o),(e=>{e.forEach((e=>{r.current.setColumnVisibility(e.field,!0)}))}))},children:"초기 상태로"})]}),(0,n.jsx)(c.iRd,{"data-sentry-element":"BasicDivider","data-sentry-source-file":"TmsBasicDataGrid.tsx"}),a&&a.required?(0,n.jsx)(c.Plv,{disabled:!0,children:"열 숨기기 (필수 컬럼은 숨길 수 없습니다)"}):(0,n.jsx)(c.l9X,{onClick:t,colDef:a}),(0,n.jsx)(c.s3G,{onClick:t,colDef:a,"data-sentry-element":"GridColumnMenuManageItem","data-sentry-source-file":"TmsBasicDataGrid.tsx"})]})}var v=function(e){let{rows:t=[],columns:a=[],sx:l,noRowDescription:r,className:s,style:o,apiRef:u,isUpdateDebounce:p,isPersonalizationEnabled:h=!1,storageKey:N,onRowClick:v=()=>{},...A}=e;const g=(0,d.useRef)(!1),T=(0,d.useRef)(0);return(0,d.useEffect)((()=>{const e=f()(((e,t)=>{e.publishEvent("customRowUpdate",t)}),300),t=(t,a,l)=>{var r,s;const n=l.api.getRowsCount(),o=T.current===n;var i;const d=null!==(i=null===(r=(s=l.api).getCellSelectionModel)||void 0===r?void 0:r.call(s))&&void 0!==i?i:null;d&&Object.keys(d).length>0&&o&&(p?e(l.api,d):l.api.publishEvent("customRowUpdate",d)),T.current=n};let a;(null==u?void 0:u.current)&&!g.current&&(a=u.current.subscribeEvent("rowsSet",t),g.current=!0)}),[u]),(0,n.jsx)(c.JSq,{rows:t,apiRef:u,columns:a,hideFooter:!0,rowHeight:32,columnHeaderHeight:32,localeText:{pinToLeft:"좌열 고정",pinToRight:"우열 고정",unpin:"열 고정 해제",columnMenuFilter:"필터",filterPanelColumns:"컬럼명",filterPanelOperator:"필터 기준",filterOperatorContains:"포함하는",filterOperatorDoesNotContain:"포함하지 않는",filterOperatorEquals:"같은",filterOperatorDoesNotEqual:"같지 않은",filterPanelInputLabel:"값",filterOperatorOnOrAfter:"보다 큰",filterOperatorOnOrBefore:"보다 작은","filterOperator=":"같은","filterOperator!=":"같지 않은","filterOperator>=":"보다 큰","filterOperator<=":"보다 작은",filterOperatorStartsWith:"으로 시작하는",filterOperatorEndsWith:"으로 끝나는",filterOperatorIsEmpty:"비어 있는",filterOperatorIsNotEmpty:"비어 있지 않은",filterOperatorIsAnyOf:"다음 중 하나인",filterPanelInputPlaceholder:"입력",filterPanelAddFilter:"필터 추가",filterPanelRemoveAll:"필터 초기화",columnMenuHideColumn:"컬럼 숨기기",columnMenuManageColumns:"컬럼 관리",columnsManagementSearchTitle:"컬럼명으로 검색",columnsManagementShowHideAllText:"전체 보기/숨기기",columnsManagementReset:""},className:i()("basic-dataGrid",s),style:o,onRowClick:(e,t)=>{t.shiftKey||v(e,t)},slotProps:{baseCheckbox:{icon:(0,n.jsx)(C.A,{}),checkedIcon:(0,n.jsx)(x.A,{}),indeterminateIcon:(0,n.jsx)(y,{})}},sx:{...l,"& .MuiDataGrid-filler--pinnedLeft":{borderRight:0},"& .MuiDataGrid-filler--pinnedRight":{borderLeft:0===t.length?"0":"3px solid #16171B29;"},"& .MuiDataGrid-cellCheckbox":{padding:"0 10px"},"--unstable_DataGrid-radius":0},slots:{columnMenu:e=>(0,n.jsx)(E,{...e,apiRef:u,isPersonalizationEnabled:h,storageKey:N}),noRowsOverlay:()=>(0,n.jsx)(m.A,{description_1:null==r?void 0:r.description_1,description_2:null==r?void 0:r.description_2})},cellSelection:!0,disableRowSelectionOnClick:!0,...A,"data-sentry-element":"BasicDataGrid","data-sentry-component":"TmsBasicDataGrid","data-sentry-source-file":"TmsBasicDataGrid.tsx"})}},58665:function(e,t,a){"use strict";a.d(t,{A:function(){return P}});var l=a(63159),r=a(11855),s=a(4340),n=a(31132),o=a(67918),i=a.n(o),d=a(77507),c=a(4988),u=a(98404),m=a(24490),p=a(22826),h=a(59300),f=a.n(h),C=a(45423),x=a(31592),N=a(78976);function y(e){let{updateIdsRef:t,params:a}=e;return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(N.A,{value:f()(a.row[a.field]),componentType:"date-picker-table",onChange:e=>((e,a)=>{if(!f()(e).isValid())return;const l={...a.row,[a.field]:e,isDirty:!0};a.api.updateRows([l]),t.current=[...t.current,a.id]})(e,a),disabled:!a.isEditable,"data-sentry-element":"TmsBasicDatePicker","data-sentry-source-file":"GridColumnDatePicker.tsx"})})}var E=a(94106),v=a(36993),A=a(59238),g=a(99958),T=a(30395),I=a.n(T),b=a(15072);var R=function(e){let{params:t,children:a}=e;var r,s;const n=null===(s=t.row)||void 0===s||null===(r=s.errorMap)||void 0===r?void 0:r[t.field];return n?(0,l.jsx)(b.A,{title:n,statusType:"error",transitionTime:0,arrowPosition:"left",children:(0,l.jsx)("div",{className:I()("flex h-[31px] w-full items-center",{"border-error border":!!n,"justify-center":!t.colDef.align||"center"===t.colDef.align,"justify-end":"right"===t.colDef.align,"ml-[-10px] !w-[calc(100%+20px)]":!String(t.colDef.type).includes("custom"),"ml-[-10px] !w-[calc(100%+20px)] px-[10px]":"string"===t.colDef.type.toString()}),children:(0,l.jsx)("div",{className:I()("w-full flex-none"),children:a})})}):a};class S{static getInitialState(e){return e.reduce(((e,t)=>("boolean"===t.type?e[t.field]=!1:"number"===t.type?e[t.field]=0:"date"===t.type||"dateTime"===t.type?e[t.field]=new Date:e[t.field]="",e)),{})}}var _=a(41563),w=a.n(_);var O=a(46377);const M=e=>(Math.round(1e3*e)/1e3).toLocaleString(),D=e=>{var t;const{getSelectedRows:a,getAllRows:l}=null!==(t=null==e?void 0:e.current)&&void 0!==t?t:{},r={apply:t=>{if(!(null==e?void 0:e.current))return null;const r=t.field,s=(a().length>0?a():l()).reduce(((e,t)=>{const a=null==t?void 0:t[r];return"number"==typeof a?e+a:e}),0);return M(s)},columnTypes:["string","number",c._.CUSTOM_SELECT]},s={apply:t=>{if(!(null==e?void 0:e.current))return null;const l=a(),r=(l.length>0?l.map((e=>null==e?void 0:e[t.field])):t.values).reduce(((e,t)=>e+(e=>"number"==typeof e?e:Number(String(e).replace(/\D/g,"")))(t)),0);return l.length>0?M(r):r.toLocaleString("en-US")},columnTypes:["string","number",c._.CUSTOM_SELECT]},n={apply:t=>{var a;if(!(null==e?void 0:e.current))return null;const l=Array.from(e.current.getSelectedRows().values());return l.length>0?"총 ".concat(null==l?void 0:l.length,"건"):"총 ".concat(null===(a=t.values)||void 0===a?void 0:a.length,"건")},columnTypes:["string",c._.CUSTOM_SELECT,c._.VIEW_MODE_ID]},o={label:"hiddenAggregation",apply:()=>null,columnTypes:["string","number",c._.VIEW_MODE_ID,c._.CUSTOM_SELECT,c._.CUSTOM_INPUT_TEXT,c._.CUSTOM_DATE,c._.CUSTOM_SELECT_TIME,c._.CUSTOM_INPUT_NUMBER,c._.CUSTOM_INPUT_NUMBER_DEMICAL]},i=["string","number",c._.VIEW_MODE_ID,c._.CUSTOM_SELECT,c._.CUSTOM_INPUT_TEXT,c._.CUSTOM_DATE,c._.CUSTOM_SELECT_TIME,c._.CUSTOM_INPUT_NUMBER,c._.CUSTOM_INPUT_NUMBER_DEMICAL],d=(t,a)=>({label:t,apply:t=>{if(!(null==e?void 0:e.current))return null;const l=t.field,r=Array.from(e.current.getSelectedRows().values());if(r.length>0&&l){const e=r.reduce(((e,t)=>{if(!t)return e;return e+a(l,t)}),0);return M(e)}return 0}}),u=d("orderDispatchSum",((e,t)=>Number(t[e]||0))),m={label:"orderDispatchTotalCount",apply:t=>{var a;if(!(null==e?void 0:e.current))return null;const l=Array.from(e.current.getSelectedRows().values());return l.length>0?"총 ".concat(null==l?void 0:l.length,"건"):"총 ".concat(null===(a=t.values)||void 0===a?void 0:a.length,"건")},columnTypes:i},p=d("orderDispatchSalesTotalAmount",((e,t)=>(0,O.p$)(null,t))),h=d("orderDispatchSalesActualAmount",((e,t)=>(0,O.N_)(null,t)));return{customSumAggregation:r,customSumAggregationV2:s,totalCountAggregation:n,hiddenAggregation:o,orderDispatchSum:u,orderDispatchTotalCount:m,orderDispatchSalesTotalAmount:p,orderDispatchPurchaseTotalAmount:d("orderDispatchPurchaseTotalAmount",((e,t)=>(0,O.am)(null,t))),orderDispatchSalesActualAmount:h,orderDispatchPurchaseActualAmount:d("orderDispatchPurchaseActualAmount",((e,t)=>(0,O.Yv)(null,t))),orderDispatchTotalTons:d("orderDispatchTotalTons",((e,t)=>Number(t[e]||0)/10)),orderDispatchAdditionalAmountDiff:d("orderDispatchAdditionalAmountDiff",((e,t)=>(0,O.Lu)(null,t))),orderDispatchExpectedEffectPi:d("orderDispatchExpectedEffectPi",((e,t)=>(0,O.$U)(null,t)))}},j=(0,r.forwardRef)(((e,t)=>{const{editMode:a,gridApiRef:o,onClickRow:h,checkboxSelection:N,rowSelectionModel:T,isExcelUpload:b,autoRowSelection:_=!1,isErrorMap:O=!1,isUpdateDebounce:M=!1,aggregationFunctionPops:j,onColumnOrderChange:P,onColumnResize:L,aggregationFunctions:B,...U}=e,[V,F]=(0,r.useState)([]),[G,k]=(0,r.useState)(!1),Y=(0,r.useRef)([]),q=(0,r.useRef)([]),W=(0,r.useRef)(!1),{_ensureIdField:H,_isCellEditable:K}=((e,t,a,r,s)=>{const{commonMetaV2List:n,getMetaLabel:o}=(0,A.X)(),h=(e,t)=>{if(t.row._isNew)return!1;if(!Object.hasOwn(e,"defaultEditable"))return!1;const{defaultEditable:a}=e;return"function"==typeof a?!1===a(t):!1===a},N=e=>t=>t.aggregation?t.value?(0,l.jsx)("span",{className:"flex justify-end",children:t.value}):null:e(t);return{_ensureIdField:t=>(t.forEach((t=>{if("__check__"===t.field||"checkboxSelection"===t.type)return;t.headerAlign="left";let A=null;switch(t.required&&(t.renderHeader=()=>(0,l.jsx)(d.A,{headerName:t.headerName,required:t.required})),t.headerWideCell&&(t.headerClassName="".concat(t.headerClassName," height-wide-cell")),t.type){case c._.VIEW_MODE_ID:t.valueGetter=(e,t,a,l)=>l.current.getRowIndexRelativeToVisibleRows(t._id_)+1;break;case c._.VIEW_MODE_YYYYMMDD:case c._.VIEW_MODE_YYYYMMDD_DDD:case c._.VIEW_MODE_YYYYMMDDHHMM:case c._.VIEW_MODE_YYYYMMDD_HH_MM_SS:t.valueFormatter=e=>e?f()(e).locale("ko").format(t.type):"";break;case c._.VIEW_MODE_PHONE_NUMBER:t.valueFormatter=e=>e?(0,x._v)(e):"";break;case c._.VIEW_MODE_Y_OR_N:A=e=>void 0!==e.value&&(0,l.jsx)("div",{className:"bg-grey90 flex h-[20px] w-[20px] items-center justify-center rounded-full p-[2px]",children:"boolean"==typeof e.value?e.value?"Y":"N":e.value});break;case c._.VIEW_MODE_ALL_META:t.valueFormatter=e=>o(t.metaKey,e)||"-";break;case c._.VIEW_MODE_VEHICLE_TON:t.valueFormatter=e=>"".concat(o(u.k.VEHICLE_TON_CODE,e),"톤")||0;break;case c._.CUSTOM_DATE:const r=t=>(0,l.jsx)(y,{updateIdsRef:e,params:t,"data-sentry-element":"GridColumnDatePicker","data-sentry-component":"renderCustomDate","data-sentry-source-file":"useColumnHandlers.tsx"});A=N(r),t.renderEditCell=N(r);break;case c._.CUSTOM_SELECT:const s=r=>{var s,o,i;let d=null!==(i=null===(o=r.row)||void 0===o||null===(s=o._dynamicOptions)||void 0===s?void 0:s[r.field])&&void 0!==i?i:null;try{const e=r.row._isNew;t.metaKey&&(t.options=n[t.metaKey]);const a=Array.isArray(t.options)?t.options:t.options(r);e?d=d||a:t.dynamicOption&&!d&&(d=a),d=d||a}catch(e){d=[]}const c=t.CustomComponent;return c?(0,l.jsx)(c,{updateIdsRef:e,params:r,options:d,onChangeProps:t.onChange,editMode:a}):(0,l.jsx)(E.A,{updateIdsRef:e,params:r,options:d,onChangeProps:t.onChange,disableClearable:!0,editMode:a,freeSolo:Boolean(t.freeSolo),"data-sentry-element":"GridColumnWrappAutocomplete","data-sentry-component":"renderCustomSelectCell","data-sentry-source-file":"useColumnHandlers.tsx"})};A=N(s),t.renderEditCell=N(s);break;case c._.CUSTOM_SELECT_FREE_SOLO_WITH_EDITABLE:A=N((r=>(0,l.jsx)(E.A,{updateIdsRef:e,params:r,options:t.options,onChangeProps:t.onChange,disableClearable:!0,editMode:a,freeSolo:!0})));break;case c._.CUSTOM_SELECT_TIME:A=N((e=>{const t=h(e.colDef,e);return(0,l.jsx)(C.A,{autocompleteBoxClassName:"w-full",componentType:"autocomplete-table",params:e,disabled:t})}));break;case c._.CUSTOM_NODE_MODAL:A=e=>(0,l.jsx)(p.A,{params:e,nodeIdFieldName:t.field,nodeNameFieldName:t.subNodeFieldName,readonly:!t.editable});break;case c._.CUSTOM_ADDRESS:A=e=>(0,l.jsx)(m.A,{params:e,useDynamicField:Boolean(t.dynamicField)},e.field);break;case c._.CUSTOM_Y_OR_N:A=e=>(0,l.jsx)(v.A,{params:e});break;case c._.CUSTOM_INPUT_TEXT:A=N((e=>(0,l.jsx)(g.A,{params:e,defaultReadonly:!1}))),t.renderEditCell=N((e=>(0,l.jsx)(g.A,{params:e,defaultReadonly:!1})));break;case c._.CUSTOM_INPUT_NUMBER:A=N((e=>{const t=h(e.colDef,e);return(0,l.jsx)(g.A,{params:e,type:"number",defaultReadonly:!1,readonly:t})}));break;case c._.CUSTOM_INPUT_NUMBER_DEMICAL:A=N((e=>(0,l.jsx)(g.A,{params:e,type:"number",defaultReadonly:!1,allowDemical:!0})));break;default:t.renderCell&&"function"==typeof t.renderCell&&(A=t.renderCell)}(r||s)&&(t.renderCell=e=>{let a=e.value;return t.valueFormatter&&(a=t.valueFormatter(e.value,e)),(0,l.jsx)(R,{params:e,children:A?A(e):(0,l.jsx)(l.Fragment,{children:a})})}),r||s||!A||(t.renderCell=A);const T=t.cellClassName;t.cellClassName=e=>{var a,l;if("auto-generated-group-footer-root"===e.rowNode.id)return;const s=Object.keys(e.row.errorMap||{}).length>0&&!(null===(a=e.row.errorMap)||void 0===a?void 0:a[e.field]),n=(null===(l=e.colDef)||void 0===l?void 0:l.required)&&e.row.isError&&i().isEmpty(e.value);return I()(T,{"wide-cell":String(t.type).includes("custom"),"cell-actions":"actions"===t.type,"required-cell":t.required,"readonly-cell":t.readonly,"basic-dataGrid-new":!r&&e.row._isNew,"basic-dataGrid-edit":e.row.isDirty,"cell-error":s,"basic-dataGrid-error":n,"cell-y-n":String(t.type)===c._.VIEW_MODE_Y_OR_N})}})),t.some((e=>"_id_"===e.field))?t:[{field:"_id_",headerName:"_id_",hide:!0,editable:!0},...t]),_isCellEditable:e=>{var a;const{colDef:l,row:r,field:s}=e;return"function"==typeof l.defaultEditable?l.defaultEditable(e):!(!1===l.defaultEditable&&!(null==r?void 0:r._isNew))&&(!0!==(null==l?void 0:l.defaultEditable)?null==r?void 0:r._isNew:(null==t||null===(a=t.current)||void 0===a?void 0:a.includes(s))?(null==r?void 0:r._isNew)?l.editable:!l.editable:l.editable)}}})(Y,q,a,b,O),{getUpdateRows:z,getAllRows:X,setInitData:Q,addRow:Z,addRowToFirst:J,addRowWithEditableFields:$,removeSelectedRow:ee,copySelectedRow:te,copySelectedRowV2:ae,updateRows:le,getSelectedRows:re,getUnselectedRows:se,moveUpSelectedRows:ne,moveDownSelectedRows:oe}=((e,t,a,l)=>{const r=t.reduce(((e,t)=>(t.dynamicOption&&e.push(t.field),e)),[]).reduce(((e,t)=>(e[t]=null,e)),{}),s=()=>{const e=a.current.getSelectedRows();return Array.from(e.values())};return{getUpdateRows:()=>{const t=a.current.getRowModels();return Array.from(t.values()).filter((t=>{var a;return null==e||null===(a=e.current)||void 0===a?void 0:a.includes(t._id_)}))||[]},getAllRows:()=>{const e=a.current.getRowModels();return Array.from(e.values())},setInitData:(e,t,a)=>{const s=e.map((e=>t?{...e,_id_:e[t],_isNew:a||!1,_dynamicOptions:r}:{...e,_id_:(0,x.uR)(),_isNew:a||!1,_dynamicOptions:r}));l(s)},addRow:l=>{const s={...S.getInitialState(t),_id_:(0,x.uR)(),_isNew:!0,_dynamicOptions:r,...l};a.current.updateRows([s]),e.current=[...e.current,s._id_]},addRowToFirst:l=>{const s={...S.getInitialState(t),_id_:(0,x.uR)(),_isNew:!0,_dynamicOptions:r,...l},n=a.current.getRowModels(),o=[s,...Array.from(n.values())];return a.current.setRows(o),a.current.scrollToIndexes({rowIndex:0}),e.current=[...e.current,s._id_],s},addRowWithEditableFields:l=>{const s={...S.getInitialState(t),_id_:(0,x.uR)(),_isNew:!0,_dynamicOptions:r,...l};a.current.updateRows([s]),a.current.scrollToIndexes({rowIndex:0}),e.current=[...e.current,s._id_]},removeSelectedRow:function(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const l=Array.from(a.current.getSelectedRows().values()),r=(t?l:l.filter((e=>e._isNew))).map((e=>e._id_)),s=Array.from(a.current.getRowModels().values()).filter((e=>!r.includes(e._id_)));a.current.setRows(s),e.current=e.current.filter((e=>!r.includes(e)))},copySelectedRow:e=>{const t=Array.from(a.current.getRowModels().values()),l=Array.from(a.current.getSelectedRows().values()).map((t=>({...t,_id_:(0,x.uR)(),_isNew:!0,_isCopy:!0,...e})));a.current.updateRows(l),a.current.setRows([...t,...l])},copySelectedRowV2:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const l=Array.from(a.current.getRowModels().values()),r=Array.from(a.current.getSelectedRows().values()).map((t=>({...t,_id_:(0,x.uR)(),_isNew:!0,_isCopy:!0,...e(t)})));a.current.updateRows(r);const s=t?[...r,...l]:[...l,...r];return a.current.setRows(s),r},updateRows:e=>(a.current.updateRows(e),s()),getSelectedRows:s,getUnselectedRows:()=>{const e=Array.from(a.current.getRowModels().values()),t=s();return e.filter((e=>!t.some((t=>t._id_===e._id_))))},moveUpSelectedRows:e=>{const t=Array.from(a.current.getSelectedRows().values()).sort(((e,t)=>e.sequence-t.sequence));if(0===a.current.getRowIndexRelativeToVisibleRows(t[0]._id_))return;"numbering"===e?t.map((e=>{const t=a.current.getRowIndexRelativeToVisibleRows(e._id_);a.current.setRowIndex(e._id_,t-1)})):t.map(((e,t)=>{a.current.setRowIndex(e._id_,t)}));const l=Array.from(a.current.getSortedRows().values());a.current.updateRows(l)},moveDownSelectedRows:e=>{const t=Array.from(a.current.getRowModels().values()),l=Array.from(a.current.getSelectedRows().values()).sort(((e,t)=>t.sequence-e.sequence));if(l[l.length-1].sequence-1===t.length)return;"numbering"===e?l.map((e=>{const t=a.current.getRowIndexRelativeToVisibleRows(e._id_);a.current.setRowIndex(e._id_,t+1)})):l.map((e=>{a.current.setRowIndex(e._id_,t.length)}));const r=Array.from(a.current.getSortedRows().values());a.current.updateRows(r)}}})(Y,e.columns,o,F),{validateRequiredColumns:ie,validateRequiredColumnsV2:de,validateRequired:ce,handleProcessRowUpdate:ue,handleColumnResize:me}=((e,t,a,l)=>({validateRequiredColumns:()=>{var l;const r=null==a||null===(l=a.current)||void 0===l?void 0:l.map((t=>e.current.getRow(t)));let s=-1,n="";return r.some(((e,a)=>{const l=t.filter((e=>e.required)).map((e=>e)).find((t=>{const a=e[t.field];return null==a||""===a}));return!!l&&(s=a,n=l.headerName,!0)}))?{isValid:!1,invalidIndex:s,missingField:n}:{isValid:!0}},validateRequiredColumnsV2:e=>{const a=e.map((e=>{const a={};return t.forEach((t=>{if(t.required){const l=e[t.field];null!=l&&""!==l&&0!==l&&"0"!==l||(a[t.field]="필수 정보를 입력해 주세요.")}})),{...e,errorMap:a}})),l=a.every((e=>{let{errorMap:t}=e;return 0===Object.keys(t).length}));return{rows:a,isValid:l}},validateRequired:()=>{var l;return(null==a||null===(l=a.current)||void 0===l?void 0:l.map((t=>e.current.getRow(t)))).every((e=>t.filter((e=>e.required)).map((e=>e.field)).every((t=>e[t]))))},handleProcessRowUpdate:(t,r,s)=>(w()(t,r)||(t.isDirty=!0,a.current=[...a.current,s.rowId]),l&&e.current&&e.current.selectRow(s.rowId,!0),t),handleColumnResize:e=>{}}))(o,e.columns,Y,_),{totalCountAggregation:pe,customSumAggregation:he,customSumAggregationV2:fe,...Ce}=D(t);(0,r.useEffect)((()=>{Y.current=[]}),[V]);(0,r.useImperativeHandle)(t,(()=>({getUpdateRows:z,getAllRows:X,setInitData:Q,required:G,setRequired:k,rows:V,setRows:F,updateIds:Y.current,addRow:Z,addRowToFirst:J,addRowWithEditableFields:$,removeSelectedRow:ee,copySelectedRow:te,copySelectedRowV2:ae,validateRequired:ce,validateRequiredColumns:ie,validateRequiredColumnsV2:de,handleProcessRowUpdate:ue,handleColumnResize:me,updateRows:le,getSelectedRows:re,getUnselectedRows:se,moveUpSelectedRows:ne,moveDownSelectedRows:oe,apiRef:o.current})),[G,V]);const xe=e=>{const t=Object.keys(e)[0],a=Object.keys(Object.values(e)[0])[0];Array.from(o.current.getRowModels().values()).forEach((e=>{var l;if(e._id_===t)return e.isDirty=!0,void(null===(l=e.errorMap)||void 0===l||delete l[a])}))};return(0,r.useEffect)((()=>{(null==o?void 0:o.current)&&b&&!W.current&&(o.current.subscribeEvent("customRowUpdate",xe),W.current=!0)}),[null==o?void 0:o.current]),(0,l.jsx)(s.A,{apiRef:o,editMode:a,columns:H(e.columns),rows:V,columnBufferPx:50,rowBuffer:15,processRowUpdate:ue,isCellEditable:K,onCellEditCommit:e=>{const{id:t,field:a}=e;o.current.startRowEditMode(t,a)},rowSelectionModel:T,getRowId:e.getRowId?e.getRowId:e=>e._id_,checkboxSelection:N,isUpdateDebounce:M,onColumnResize:L,onColumnOrderChange:P,aggregationFunctions:{...n.qVc,sum:he,sumV2:fe,totalCount:pe,...Ce,...j||{}},...U})}));var P=j},12703:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return y}});var l=a(63159),r=a(31132),s=a(11855),n=a(17314),o=a(86073),i=a(22034),d=a(58665),c=a(4988),u=a(99958),m=a(59238),p=a(98404);var h=a(51409),f=a(3403),C=a(89559),x=a(30117);var N=a(1253);var y=function(e){let{params:t,onSubmit:a,onClose:y,defaultRowField:E}=e;var v,A;const g=null==t||null===(v=t.row)||void 0===v?void 0:v.isSalesSettlementComplete,T=null==t||null===(A=t.row)||void 0===A?void 0:A.isPurchaseSettlementComplete,I=g&&T,b=e=>("SALES"!==e.row.type||!g)&&("PURCHASE"!==e.row.type||!T),R=(0,N.P9)(),S=(0,s.useRef)(null),[_,w]=(0,s.useState)([]),O=(0,s.useMemo)((()=>((e,t,a)=>[{field:"__check__",width:48,minWidth:48,maxWidth:48,sortable:!1,align:"center",disableColumnMenu:!0,editable:!1},{field:"no",headerName:"No.",align:"center",width:48,sortable:!1,filterable:!1,editable:!0,defaultEditable:a,type:c._.VIEW_MODE_ID},{field:"type",headerName:"구분",width:76,editable:!0,defaultEditable:a,filterable:!1,type:c._.CUSTOM_SELECT,options:[{id:"SALES",label:"매출",disabled:e},{id:"PURCHASE",label:"매입",disabled:t}]},{field:"costCode",headerName:"추가 운임 구분",width:110,editable:!0,defaultEditable:a,filterable:!1,type:c._.CUSTOM_SELECT,options:e=>{let{row:t}=e;return m.X.getState().commonMetaV2List["SALES"===t.type?p.k.SALES_COST_TYPE:p.k.PURCHASE_COST_TYPE]}},{field:"rateAmount",headerName:"금액",cellClassName:"wide-cell",width:100,filterable:!1,defaultEditable:a,renderCell:e=>(0,l.jsx)(u.A,{params:e,type:"number",defaultReadonly:!1,readonly:!a(e),allowDemical:!0})},{field:"remark",headerName:"비고",cellClassName:"wide-cell",minWidth:186,flex:1,editable:!0,filterable:!1,defaultEditable:a,renderCell:e=>(0,l.jsx)(u.A,{params:e,type:"string",defaultReadonly:!1,readonly:!a(e)})}])(g,T,b)||[]),[g,T]),M=(0,r.bBi)();var D;const{addRow:j,setInitData:P,removeSelectedRow:L,getAllRows:B}=null!==(D=null==S?void 0:S.current)&&void 0!==D?D:{},[U,V]=(0,s.useState)(!1);return(0,s.useEffect)((()=>{V(!0)}),[]),(0,s.useEffect)((()=>{var e;U&&((null==t||null===(e=t.row[E])||void 0===e?void 0:e.length)?P(null==t?void 0:t.row[E]):P([(0,x.z1)(),(0,x.z1)("PURCHASE")]))}),[U]),(0,l.jsxs)(i.A,{title:"매출/매입 추가 운임",modalWidth:636,modalContentHeight:450,isShowedConfirmButton:!1,onClickCloseButton:()=>y(),"data-sentry-element":"TmsBasicModal","data-sentry-component":"AdditionalFreightModal","data-sentry-source-file":"AdditionalFreightModal.tsx",children:[I?(0,l.jsx)(l.Fragment,{}):(0,l.jsx)("div",{className:"flex gap-[16px]",children:(0,l.jsxs)("div",{className:"flex w-full flex-row justify-between",children:[(0,l.jsx)("div",{className:"flex flex-row justify-start",children:(0,l.jsx)(f.A,{handleAddRow:()=>{let e="SALES";g&&(e="PURCHASE"),j((0,x.z1)(e))}})}),(0,l.jsxs)("div",{className:"flex flex-row justify-end gap-[8px]",children:[(0,l.jsx)(o.A,{label:"삭제",level:h.V.level_4,size:h.M.Small,leftIcon:(0,l.jsx)(n.A,{width:16,height:16,className:"text-red50"}),disabled:!_.length,onClick:()=>{L(!0)}}),(0,l.jsx)(C.A,{handleSave:()=>{const e=B(),{hasInvalidFields:t,invalidItems:l}=(e=>{const t=[];for(const a of e){const e=[];(void 0===a.rateAmount||null===a.rateAmount||""===a.rateAmount||0===a.rateAmount||"0"===a.rateAmount||"string"==typeof a.rateAmount&&""===a.rateAmount.trim())&&e.push("금액"),e.length>0&&t.push({item:a,missingFields:e})}return{hasInvalidFields:t.length>0,invalidItems:t}})(e);t?R({message:"0원은 입력 불가합니다.",type:"caution",delay:3e3}):(a(e),y())}})]})]})}),(0,l.jsx)("div",{className:"mt-[12px] flex h-[406px]",children:(0,l.jsx)(d.A,{ref:S,gridApiRef:M,columns:O,checkboxSelection:!I,isRowSelectable:b,disableColumnMenu:!0,noRowDescription:{description_1:"입력된 매출/매입 추가 운임 정보가 없습니다.",description_2:'"행 추가"를 눌러 운임을 추가해 주세요.'},onCellModesModelChange:()=>{},onRowSelectionModelChange:e=>{w([...e])},"data-sentry-element":"WrappTmsBasicDataGrid","data-sentry-source-file":"AdditionalFreightModal.tsx"})})]})}},8372:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return u}});var l=a(63159),r=a(11855),s=a(41437);var n=[{field:"no",headerName:"No.",align:"center",sortable:!1,width:48},{field:"mdmNodeName",headerName:"노드명",width:160},{field:"mdmNodeCode",headerName:"노드ID",align:"center",width:100},{field:"mdmNodeDescription",headerName:"노드설명",width:182,flex:1},{field:"mdmNodeZipcode",headerName:"우편번호",width:74}],o=a(22034),i=a(70431),d=a(4340),c=a(12417);var u=function(e){let{type:t="all",params:a,searchInputValueProps:u,setIsOpened:m,onRowDoubleClickProps:p}=e;const{mutateAsync:h,isSuccess:f,data:C,isLoading:x}=(0,c.EX)(),{mutateAsync:N,isSuccess:y,data:E,isLoading:v}=(0,c.x0)(),[A,g]=(0,r.useState)([]),[T,I]=(0,r.useState)(u),b=()=>{"all"!==t?(async()=>{await N({customerId:a.customerId,searchNodeName:T,loadUnloadType:a.loadUnloadType?a.loadUnloadType:null})})():(async()=>{await h({nodeName:T})})()};return(0,r.useLayoutEffect)((()=>{b()}),[t]),(0,r.useEffect)((()=>{"all"===t&&f&&g(C.nodeList)}),[C]),(0,r.useEffect)((()=>{"all"!==t&&y&&g(E.nodeList)}),[E]),(0,l.jsxs)(o.A,{title:"노드 조회",onClickCloseButton:()=>m(!1),isShowedConfirmButton:!1,modalWidth:612,modalContentHeight:448,"data-sentry-element":"TmsBasicModal","data-sentry-component":"NodeSearchModal","data-sentry-source-file":"NodeSearchModal.tsx",children:[(0,l.jsxs)("div",{className:"flex",children:[(0,l.jsx)(s.A,{label:"노드명",placeholder:"노드명 입력",classNameInput:"w-[400px] mr-[8px]",value:T,onChange:e=>I(e.target.value),onKeyDown:e=>{"Enter"===e.key&&b()},"data-sentry-element":"TmsBasicInput","data-sentry-source-file":"NodeSearchModal.tsx"}),(0,l.jsx)(i.A,{onClick:b,"data-sentry-element":"ModalSearchButton","data-sentry-source-file":"NodeSearchModal.tsx"})]}),(0,l.jsx)("div",{className:"mt-[12px] flex h-[406px]",children:(0,l.jsx)(d.A,{rows:A,columns:n,disableColumnMenu:!0,onRowDoubleClick:(e,t,a)=>{p(e,t,a),m(!1)},noRowDescription:{description_1:"조회된 노드 정보가 없습니다.",description_2:"조회 조건을 입력하거나, 조건을 다시 확인해 주세요."},getRowId:e=>e.no,loading:"all"===t?x:v,"data-sentry-element":"TmsBasicDataGrid","data-sentry-source-file":"NodeSearchModal.tsx"})})]})}},17818:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return u}});var l=a(63159),r=a(11855),s=a(41437);var n=[{field:"id",headerName:"No.",sortable:!1,align:"center",width:48},{field:"clientType",headerName:"협력사 코드",align:"center",width:88},{field:"mdmCode",sortable:!1,headerName:"MDM 고객코드",width:84},{field:"name",sortable:!1,headerName:"사업자명",width:142},{field:"registrationNumber",sortable:!1,headerName:"사업자 번호",width:142},{field:"representativeName",sortable:!1,headerName:"대표자",width:60}],o=a(22034),i=a(4340),d=a(12417),c=a(70431);function u(e){let{searchInputValueProps:t,setIsOpened:a,onRowDoubleClickProps:u,modalTitle:m="매입처"}=e;const[p,h]=(0,r.useState)([]),[f,C]=(0,r.useState)(t),{mutateAsync:x,isSuccess:N,data:y,isLoading:E}=(0,d.NN)(),v=async()=>{const e={page:0,name:f};await x(e)};return(0,r.useLayoutEffect)((()=>{v()}),[]),(0,r.useEffect)((()=>{N&&(null==y?void 0:y.itemList)&&h(y.itemList.map(((e,t)=>({id:t+1,clientType:e.memberCode,mdmCode:e.mdmCode,registrationNumber:e.registrationNumber,representativeName:e.representativeName,vendorId:e.vendorId,name:e.name}))))}),[y]),(0,l.jsxs)(o.A,{title:"".concat(m," 조회"),onClickCloseButton:()=>a(!1),isShowedConfirmButton:!1,modalWidth:612,modalContentHeight:448,"data-sentry-element":"TmsBasicModal","data-sentry-component":"TransportOfficeModal","data-sentry-source-file":"TransportOfficeModal.tsx",children:[(0,l.jsxs)("div",{className:"flex gap-[16px]",children:[(0,l.jsx)(s.A,{label:"".concat(m),placeholder:"".concat(m," 입력"),classNameInput:"w-[419px]",value:f,onChange:e=>C(e.target.value),onKeyDown:e=>{"Enter"===e.key&&v()},"data-sentry-element":"TmsBasicInput","data-sentry-source-file":"TransportOfficeModal.tsx"}),(0,l.jsx)(c.A,{onClick:v,"data-sentry-element":"ModalSearchButton","data-sentry-source-file":"TransportOfficeModal.tsx"})]}),(0,l.jsx)("div",{className:"mt-[12px] flex h-[406px]",children:(0,l.jsx)(i.A,{rows:p,columns:n,disableColumnMenu:!0,onRowDoubleClick:(e,t,l)=>{u(e,t,l),a(!1)},noRowDescription:{description_1:"조회된 매입처 정보가 없습니다.",description_2:"조회 조건을 입력하거나, 조건을 다시 확인해 주세요."},loading:E,"data-sentry-element":"TmsBasicDataGrid","data-sentry-source-file":"TransportOfficeModal.tsx"})})]})}},6482:function(e,t,a){"use strict";var l=a(63159);a(11855);t.A=e=>{let{width:t,children:a}=e;return(0,l.jsx)("div",{className:"flex flex-col gap-[8px] ".concat(t||"flex-1"," "),"data-sentry-component":"SearchBox","data-sentry-source-file":"SearchBox.tsx",children:a})}},90619:function(e,t,a){"use strict";var l=a(63159),r=(a(11855),a(1948)),s=a(30395),n=a.n(s);t.A=e=>{let{children:t,containerClassName:a}=e;return(0,l.jsxs)("div",{className:"relative w-full flex-wrap","data-sentry-component":"SearchContainer","data-sentry-source-file":"SearchContainer.tsx",children:[(0,l.jsx)("div",{className:n()("flex w-[calc(100%-120px)] gap-[16px] overflow-x-auto px-[40px] py-[16px]",a),children:t}),(0,l.jsxs)("div",{className:"absolute right-0 top-0 flex h-full w-[140px] items-start gap-[4px] bg-white pr-[40px] pt-[16px]",children:[(0,l.jsx)(r.A.ResetButton,{"data-sentry-element":"SearchFilter.ResetButton","data-sentry-source-file":"SearchContainer.tsx"}),(0,l.jsx)(r.A.SearchButton,{"data-sentry-element":"SearchFilter.SearchButton","data-sentry-source-file":"SearchContainer.tsx"})]})]})}},68653:function(e,t,a){"use strict";a.d(t,{G:function(){return r},W:function(){return s}});var l=a(11855);const r=(0,l.createContext)({params:{pageNo:1,pageSize:50,keyword:""},initialParams:void 0,setParams:e=>{},onSearch:e=>{}}),s=()=>(0,l.useContext)(r)},1948:function(e,t,a){"use strict";a.d(t,{A:function(){return fe}});var l=a(63159),r=a(11855),s=a(68653);var n=e=>{let{params:t,setParams:a,children:r,onSearch:n,initialParams:o}=e;return(0,l.jsx)(s.G.Provider,{value:{params:t,setParams:a,onSearch:n,initialParams:o},"data-sentry-element":"SearchFilterContext.Provider","data-sentry-component":"SearchFilterProvider","data-sentry-source-file":"SearchFilterProvider.tsx",children:(0,l.jsx)("div",{className:"search-filter contents",children:r({...t})})})},o=a(78976),i=a(19131),d=a(59300),c=a.n(d),u=a(63689),m=a(86073),p=a(51409),h=a(35293),f=a(30395),C=a.n(f);var x=e=>{let{label:t,options:a=[],optionsClassName:n="!w-[80px]",startDateFiled:d="startDate",startDateFormat:f="YYYY-MM-DD",startDateViews:x=null,endDateFiled:N="endDate",endDateFormat:y="YYYY-MM-DD",endDateViews:E=null,optionsFiled:v="searchType",isQuickButton:A=!1,datePickerClassName:g="",dataPickerContainerClassName:T="",labelContainerClassName:I=""}=e;const{setParams:b,params:R}=(0,s.W)(),[S,_]=(0,r.useState)(c()(new Date)),[w,O]=(0,r.useState)(c()(new Date)),M=0!==a.length,D=e=>{b((t=>({...t,[d]:e.startOf("day").format(),[N]:e.endOf("day").format()})))};return(0,r.useEffect)((()=>{_(c()(R[d])),O(c()(R[N]))}),[R]),(0,l.jsxs)("div",{className:"flex items-center gap-[2px] ".concat(T),"data-sentry-component":"DateRangeSearch","data-sentry-source-file":"DateRangeSearch.tsx",children:[(0,l.jsx)(i.A,{label:t,labelContainerClassName:I,"data-sentry-element":"TmsBasicLabel","data-sentry-source-file":"DateRangeSearch.tsx"}),(0,l.jsxs)("div",{className:"flex flex-row gap-[2px]",children:[M&&(0,l.jsx)(u.A,{autocompleteClassName:"".concat(n),autocompleteSize:h.A.Small,options:a,selectedId:R[v]?R[v]:a[0].id,onChange:(e,t)=>{b({...R,[v]:t.id})}}),A&&(0,l.jsxs)("div",{className:"mr-[6px] flex gap-[4px]",children:[(0,l.jsx)(m.A,{label:"오늘",className:C()("min-w-[42px] flex-none",{"!border-black !text-black":(null==S?void 0:S.format("YYYY-MM-DD"))===(null==w?void 0:w.format("YYYY-MM-DD"))&&(null==S?void 0:S.format("YYYY-MM-DD"))===c()().format("YYYY-MM-DD"),"!text-grey40":!((null==S?void 0:S.format("YYYY-MM-DD"))===(null==w?void 0:w.format("YYYY-MM-DD"))&&(null==S?void 0:S.format("YYYY-MM-DD"))===c()().format("YYYY-MM-DD"))}),level:p.V.level_4,size:p.M.Small,onClick:()=>{D(c()(new Date))}}),(0,l.jsx)(m.A,{label:"내일",className:C()("min-w-[42px]",{"!border-black !text-black":(null==S?void 0:S.format("YYYY-MM-DD"))===(null==w?void 0:w.format("YYYY-MM-DD"))&&(null==S?void 0:S.format("YYYY-MM-DD"))===c()().add(1,"d").format("YYYY-MM-DD"),"!text-grey40":!((null==S?void 0:S.format("YYYY-MM-DD"))===(null==w?void 0:w.format("YYYY-MM-DD"))&&(null==S?void 0:S.format("YYYY-MM-DD"))===c()().add(1,"d").format("YYYY-MM-DD"))}),level:p.V.level_4,size:p.M.Small,onClick:()=>{D(c()().add(1,"day"))}})]}),(0,l.jsx)(o.A,{className:"start-date",datePickerClassName:"w-[120px] ".concat(g),value:S,onChange:e=>{return t=e,b((e=>({...e,[d]:t?c()(t).startOf("day").format():null}))),_(t),void(w.isBefore(t,"day")&&(O(t),b((e=>({...e,[N]:t?c()(t).endOf("day").format():null})))));var t},format:f,views:x,"data-sentry-element":"TmsBasicDatePicker","data-sentry-source-file":"DateRangeSearch.tsx"}),(0,l.jsx)("span",{children:"~"}),(0,l.jsx)(o.A,{className:"end-date",datePickerClassName:"w-[120px] ".concat(g),value:w,onChange:e=>{return t=e,b((e=>({...e,[N]:t?c()(t).endOf("day").format():null}))),void _(t);var t},format:y,views:E,minDate:S,"data-sentry-element":"TmsBasicDatePicker","data-sentry-source-file":"DateRangeSearch.tsx"})]})]})},N=a(50196),y=a(59238),E=a(98404);var v=()=>{const{commonMetaV2List:e}=(0,y.X)(),{setParams:t,params:a}=(0,s.W)();return(0,l.jsxs)("div",{className:"flex items-center gap-[8px]","data-sentry-component":"ContractOrganization","data-sentry-source-file":"ContractOrganization.tsx",children:[(0,l.jsx)("div",{className:"Body5_M text-grey30 flex-none",children:"계약조직"}),(0,l.jsx)(N.A,{switchClassName:"flex-none !w-[80px]",leftItem:{label:"매출",value:"sales"},rightItem:{label:"매입",value:"purchases"},selectedItemValue:a.orgType||"sales",setSelectedItem:e=>{return a=e.value,void t((e=>({...e,orgType:a})));var a},switchSize:N.W.Medium,"data-sentry-element":"TmsBasicTextSwitch","data-sentry-source-file":"ContractOrganization.tsx"}),"sales"===a.orgType&&(0,l.jsx)(u.A,{firstOptionType:"all",autocompleteClassName:"!w-[182px]",autocompleteBoxClassName:"flex-none",selectedId:a.contractSalesOrganization?a.contractSalesOrganization:"ALL",options:e[E.k.COMMON_MDM_COST_CENTER_SALES_CODE],onChange:(e,a)=>{t((e=>({...e,contractSalesOrganization:a.id})))},autocompleteSize:h.A.Small}),"purchases"===a.orgType&&(0,l.jsx)(u.A,{firstOptionType:"all",autocompleteClassName:"!w-[182px]",autocompleteBoxClassName:"flex-none",selectedId:a.contractPurchaseOrganization?a.contractPurchaseOrganization:"ALL",options:e[E.k.COMMON_MDM_COST_CENTER_PURCHASE_CODE],onChange:(e,a)=>{t((e=>({...e,contractPurchaseOrganization:a.id})))},autocompleteSize:h.A.Small})]})},A=a(46326),g=a.n(A),T=a(41437),I=a(73639);const b=g()((()=>a.e(44).then(a.bind(a,87044))),{loadableGenerated:{webpack:()=>[87044]},ssr:!1});var R=e=>{let{isSearchValidation:t=!1,mdmStatusType:a=null}=e;const{params:n,setParams:o}=(0,s.W)(),[i,d]=(0,r.useState)(!1),[c,u]=(0,r.useState)(""),[m,p]=(0,r.useState)("");return(0,r.useEffect)((()=>{n.customerId||(u(""),p(""))}),[n.customerId]),(0,l.jsxs)("div",{className:"flex gap-[8px]","data-sentry-component":"CustomerName","data-sentry-source-file":"CustomerName.tsx",children:[(0,l.jsx)(T.A,{label:"화주",placeholder:"화주 입력",classNameInput:"w-[240px]",onChange:e=>{u(e.target.value)},value:c,onKeyDown:e=>{"Enter"===e.key&&d(!0)},rightIcon:(0,l.jsx)(I.A,{width:20,height:20,onClick:()=>d(!0),className:"cursor-pointer ".concat(t?"text-error":"")}),isValidation:t,"data-sentry-element":"TmsBasicInput","data-sentry-source-file":"CustomerName.tsx"}),(0,l.jsx)(T.A,{readOnly:!0,placeholder:"고객사 코드",value:m,classNameInput:"w-[84px]","data-sentry-element":"TmsBasicInput","data-sentry-source-file":"CustomerName.tsx"}),i&&(0,l.jsx)(b,{searchInputValueProps:n.franchiseId,setIsOpened:d,onRowDoubleClickProps:(e,t,a)=>{o({...n,customerId:e.row.customerId}),u(e.row.name),p(e.row.memberCode)},mdmStatusType:a})]})},S=a(66555);var _=function(e){let{total:t=0,page:a=0,pageSize:r=0,onClickPage:s=()=>null}=e;return(0,l.jsx)(S.lSR,{page:a,total:t,pageSize:r,onClickPage:s,"data-sentry-element":"BasicPagination","data-sentry-component":"TmsBasicPagination","data-sentry-source-file":"TmsBasicPagination.tsx"})};var w=e=>{let{total:t}=e;const{onSearch:a,params:n,setParams:o}=(0,s.W)(),i=(0,r.useRef)(!0);return(0,r.useEffect)((()=>{i.current?i.current=!1:a(n)}),[null==n?void 0:n.pageNo,null==n?void 0:n.pageSize]),(0,l.jsx)(_,{total:t,page:n.pageNo,pageSize:n.pageSize,onClickPage:e=>o((t=>({...t,pageNo:e}))),"data-sentry-element":"TmsBasicPagination","data-sentry-component":"PageNation","data-sentry-source-file":"Pagination.tsx"})},O=a(37372);var M=()=>{const{params:e,initialParams:t,setParams:a}=(0,s.W)(),r=e=>{if("object"!=typeof e||null===e)return e;const t={};for(const a in e)if(Object.prototype.hasOwnProperty.call(e,a)){const l=e[a];Array.isArray(l)?t[a]=[]:"object"==typeof l&&null!==l?t[a]=r(l):"string"==typeof l?l.includes("+09:00")?t[a]=void 0:t[a]=null:t[a]=("number"==typeof l||"boolean"!=typeof l)&&null}return t};return(0,l.jsx)(m.A,{className:"flex-none",level:p.V.level_6,size:p.M.Small,onClick:()=>{const l=r(e);a({...l,...t||{}})},leftIcon:(0,l.jsx)(O.A,{width:16}),"data-sentry-element":"TmsBasicButton","data-sentry-component":"ResetButton","data-sentry-source-file":"ResetButton.tsx"})};var D=e=>{let{label:t="조회"}=e;const{onSearch:a,params:r}=(0,s.W)();return(0,l.jsx)(m.A,{className:"!h-[28px] flex-none",level:p.V.level_3,size:p.M.Small,label:t,leftIcon:(0,l.jsx)(I.A,{width:20,height:20}),onClick:()=>a(r),"data-sentry-element":"TmsBasicButton","data-sentry-component":"SearchButton","data-sentry-source-file":"SearchButton.tsx"})};const j=g()((()=>Promise.resolve().then(a.bind(a,17818))),{loadableGenerated:{webpack:()=>[17818]},ssr:!1});var P=()=>{const{params:e,setParams:t,onSearch:a}=(0,s.W)(),[n,o]=(0,r.useState)(!1),[i,d]=(0,r.useState)(""),[c,u]=(0,r.useState)("");return(0,r.useEffect)((()=>{e.vendorId||(d(""),u(""))}),[e.vendorId]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(T.A,{label:"파트너",placeholder:"파트너 입력",classNameInput:"w-[200px]",onChange:e=>{d(e.target.value)},value:i,onKeyDown:e=>{"Enter"===e.key&&o(!0)},rightIcon:(0,l.jsx)(I.A,{width:20,height:20,onClick:()=>o(!0),className:"cursor-pointer"}),"data-sentry-element":"TmsBasicInput","data-sentry-source-file":"TransportOffice.tsx"}),(0,l.jsx)(T.A,{readOnly:!0,placeholder:"협력사 코드",value:c,classNameInput:"w-[84px]","data-sentry-element":"TmsBasicInput","data-sentry-source-file":"TransportOffice.tsx"}),n&&(0,l.jsx)(j,{searchInputValueProps:i,setIsOpened:o,onRowDoubleClickProps:l=>{t({...e,vendorId:l.row.vendorId}),a({...e,vendorId:l.row.vendorId}),d(l.row.name),u(l.row.clientType)}})]})},L=a(55709);var B=e=>{let{label:t,labelContainerClassName:a,fieldName:n,placeholder:o,className:i=""}=e;const{params:d,setParams:c,onSearch:u}=(0,s.W)(),m=(0,r.useRef)(null);return(0,l.jsx)(T.A,{ref:m,classNameInput:"".concat(i),label:t,labelContainerClassName:a,placeholder:o,value:d[n]||"",onChange:e=>{c((t=>({...t,[n]:e.target.value})))},onKeyDown:e=>{"Enter"===e.key&&u(d)},sizeType:h.A.Small,rightIcon:(0,l.jsx)(L.A,{onClick:()=>{var e;c((e=>({...e,[n]:""}))),null===(e=m.current)||void 0===e||e.focus()}}),"data-sentry-element":"TmsBasicInput","data-sentry-component":"SearchText","data-sentry-source-file":"SearchText.tsx"})};var U=e=>{let{autocompleteClassName:t=""}=e;const{params:a,setParams:r}=(0,s.W)();return(0,l.jsx)(u.A,{label:"MDM 상태",firstOptionType:"all",placeholder:"MDM 상태 선택",autocompleteClassName:"w-[200px] ".concat(t),autocompleteBoxSize:h.A.Small,autocompleteSize:h.A.Small,selectedId:a.mdmStatus?a.mdmStatus:"ALL",options:[{label:"MDM 없음",id:"NONE"},{label:"MDM 요청",id:"REQUEST"},{label:"MDM 승인",id:"COMPLETE"},{label:"MDM 반려",id:"RETURN"},{label:"MDM 갱신 요청",id:"RE_REQUEST"},{label:"MDM 갱신 반려",id:"RE_RETURN"}],onChange:(e,t)=>(e=>{r((t=>({...t,mdmStatus:"ALL"===(null==e?void 0:e.id)?null:e.id})))})(t),"data-sentry-element":"TmsBasicAutocomplete","data-sentry-component":"MdmStatus","data-sentry-source-file":"MdmStatus.tsx"})};const V=g()((()=>a.e(294).then(a.bind(a,88294))),{loadableGenerated:{webpack:()=>[88294]},ssr:!1});var F=()=>{const{params:e,setParams:t,onSearch:a}=(0,s.W)(),[n,o]=(0,r.useState)(!1),[i,d]=(0,r.useState)("");return(0,r.useEffect)((()=>{e.itemName||d("")}),[e.itemName]),(0,l.jsxs)("div",{className:"flex gap-[8px]","data-sentry-component":"ItemName","data-sentry-source-file":"ItemName.tsx",children:[(0,l.jsx)(T.A,{label:"품목",placeholder:"품목 입력",classNameInput:"w-[247px]",onChange:e=>{t((t=>({...t,itemName:e.target.value})))},value:e.itemName,onKeyDown:e=>{"Enter"===e.key&&o(!0)},rightIcon:(0,l.jsx)(I.A,{width:20,height:20,onClick:()=>o(!0),className:"cursor-pointer"}),"data-sentry-element":"TmsBasicInput","data-sentry-source-file":"ItemName.tsx"}),(0,l.jsx)(T.A,{readOnly:!0,placeholder:"품목 코드",value:i,classNameInput:"w-[84px]","data-sentry-element":"TmsBasicInput","data-sentry-source-file":"ItemName.tsx"}),n&&(0,l.jsx)(V,{searchInputValueProps:e.itemName,setIsOpened:o,onRowDoubleClickProps:(l,r,s)=>{t({...e,itemName:l.row.itemTypeName}),a({...e,itemName:l.row.itemTypeName}),d(l.row.itemTypeCode)}})]})};const G=g()((()=>a.e(8).then(a.bind(a,77008))),{loadableGenerated:{webpack:()=>[77008]},ssr:!1});var k=e=>{let{classNameInput:t=""}=e;const{params:a,setParams:n,onSearch:o}=(0,s.W)(),[i,d]=(0,r.useState)(!1);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(T.A,{label:"인사 조직",placeholder:"인사 조직 입력",classNameInput:"w-[331px] ".concat(t),onChange:e=>{n((t=>({...t,hrName:e.target.value})))},value:a.hrName,onKeyDown:e=>{"Enter"===e.key&&d(!0)},rightIcon:(0,l.jsx)(I.A,{width:20,height:20,onClick:()=>d(!0),className:"cursor-pointer"}),"data-sentry-element":"TmsBasicInput","data-sentry-source-file":"HRName.tsx"}),i&&(0,l.jsx)(G,{searchInputValueProps:a.hrName,setIsOpened:d,onRowDoubleClickProps:(e,t,l)=>{n({...a,hrName:e.row.baseName}),o({...a,hrName:e.row.baseName})}})]})};var Y=e=>{let{autocompleteClassName:t=""}=e;const{commonMetaV2List:a}=(0,y.X)(),{setParams:r,params:n}=(0,s.W)();return(0,l.jsx)(u.A,{selectedId:n.businessGroupType,label:"사업자 그룹",placeholder:"사업자 그룹 선택",autocompleteClassName:"".concat(t),autocompleteSize:h.A.Small,options:[{id:"1",label:"미정"}],onChange:(e,t)=>(e=>{r((t=>({...t,businessGroupType:e.id})))})(t),"data-sentry-element":"TmsBasicAutocomplete","data-sentry-component":"BusinessGroupType","data-sentry-source-file":"BusinessGroupType.tsx"})};var q=e=>{let{label:t="",allMetaType:a,required:r,className:n,isSearchValidation:o=!1,isUseAllOption:i=!0,optionsBoxWidth:d=444,labelContainerClassName:c="",autocompleteBoxClassName:m="",fieldName:p=""}=e;var f;const{params:x,setParams:N}=(0,s.W)(),{commonMetaV2List:E}=(0,y.X)(),v=p||(null==(A=a)?void 0:A.toLowerCase().replace(/_([a-z])/g,(function(e,t){return t.toUpperCase()})));var A;const g=E[a]?E[a]:[];return(0,l.jsx)(u.A,{required:r,label:t,autocompleteBoxClassName:m,labelContainerClassName:c,autocompleteClassName:C()({"!w-[327px]":!n,[n]:n}),autocompleteSize:h.A.Small,isValidation:o,firstOptionType:i?"all":null,options:g,selectedId:x[v]?x[v]:i?"ALL":null===(f=g[0])||void 0===f?void 0:f.id,onChange:(e,t)=>{N({...x,[v]:"ALL"===(null==t?void 0:t.id)?null:t.id})},placeholder:"".concat(t," 입력"),optionsBoxWidth:d,"data-sentry-element":"TmsBasicAutocomplete","data-sentry-component":"AllMetaAutocompleteSearch","data-sentry-source-file":"AllMetaAutocompleteSearch.tsx"})};const W=g()((()=>Promise.resolve().then(a.bind(a,17818))),{loadableGenerated:{webpack:()=>[17818]},ssr:!1});var H=()=>{const{params:e,setParams:t,onSearch:a}=(0,s.W)(),[n,o]=(0,r.useState)(!1),[i,d]=(0,r.useState)("");return(0,r.useEffect)((()=>{e.purchasePlace||d("")}),[e.purchasePlace]),(0,l.jsxs)("div",{className:"flex gap-[8px]","data-sentry-component":"PurchasePlace","data-sentry-source-file":"PurchasePlace.tsx",children:[(0,l.jsx)(T.A,{label:"매입처",placeholder:"매입처 입력",classNameInput:"w-[247px]",onChange:e=>{t((t=>({...t,purchasePlace:e.target.value})))},value:e.purchasePlace,onKeyDown:e=>{"Enter"===e.key&&o(!0)},rightIcon:(0,l.jsx)(I.A,{width:20,height:20,onClick:()=>o(!0),className:"cursor-pointer"}),"data-sentry-element":"TmsBasicInput","data-sentry-source-file":"PurchasePlace.tsx"}),(0,l.jsx)(T.A,{readOnly:!0,placeholder:"매입처 코드",value:i,classNameInput:"w-[84px]","data-sentry-element":"TmsBasicInput","data-sentry-source-file":"PurchasePlace.tsx"}),n&&(0,l.jsx)(W,{searchInputValueProps:e.PurchasePlace,setIsOpened:o,onRowDoubleClickProps:(l,r,s)=>{t({...e,purchasePlace:l.row.name}),a({...e,purchasePlace:l.row.name}),d(l.row.clientType)}})]})};const K=g()((()=>a.e(296).then(a.bind(a,54296))),{loadableGenerated:{webpack:()=>[54296]},ssr:!1});var z=e=>{let{label:t,mainPlaceholder:a,subPlaceholder:n,mainInputClassName:o}=e;const{params:i,setParams:d,onSearch:c}=(0,s.W)(),[u,m]=(0,r.useState)(!1),[p,h]=(0,r.useState)("");return(0,r.useEffect)((()=>{i.superiorSearch||h("")}),[i.superiorSearch]),(0,l.jsxs)("div",{className:"flex gap-[8px]","data-sentry-component":"SuperiorSearch","data-sentry-source-file":"SuperiorSearch.tsx",children:[(0,l.jsx)(T.A,{label:t,placeholder:a,classNameInput:C()("w-[235px]",o?{[o]:o}:""),onChange:e=>{d((t=>({...t,superiorSearch:e.target.value})))},value:i.superiorSearch,onKeyDown:e=>{"Enter"===e.key&&m(!0)},rightIcon:(0,l.jsx)(I.A,{width:20,height:20,onClick:()=>m(!0),className:"cursor-pointer"}),"data-sentry-element":"TmsBasicInput","data-sentry-source-file":"SuperiorSearch.tsx"}),(0,l.jsx)(T.A,{readOnly:!0,placeholder:n,value:p,classNameInput:"w-[84px]","data-sentry-element":"TmsBasicInput","data-sentry-source-file":"SuperiorSearch.tsx"}),u&&(0,l.jsx)(K,{searchInputValueProps:i.superiorSearch,setIsOpened:m,onRowDoubleClickProps:(e,t,a)=>{d({...i,superiorSearch:e.row.name}),c({...i,superiorSearch:e.row.name}),h(e.row.clientType)}})]})};var X=e=>{let{required:t=!1,label:a="",fieldName:r,fieldNameAllValue:n="",isUseAll:o=!0,options:i,optionsBoxWidth:d=null,autocompleteClassName:c,labelContainerClassName:m="",autocompleteBoxClassName:p=""}=e;const{params:f,setParams:C}=(0,s.W)();return(0,l.jsx)(u.A,{required:t,label:a,autocompleteBoxClassName:p,labelContainerClassName:m,autocompleteClassName:c,autocompleteSize:h.A.Small,firstOptionType:o?"all":null,options:i,optionsBoxWidth:d,selectedId:f[r]?f[r]:"ALL",onChange:(e,t)=>{n&&C((e=>({...e,[n]:t}))),C((e=>({...e,[r]:"ALL"===t.id?null:t.id})))},"data-sentry-element":"TmsBasicAutocomplete","data-sentry-component":"SearchAutocomplete","data-sentry-source-file":"SearchAutocomplete.tsx"})},Q=a(82510);var Z=e=>{let{label:t,fieldName:a="vendorId",autocompleteBoxClassName:r,className:n,mdmStatusType:o=null,componentType:i,firstOptionType:d="all"}=e;const{setParams:c,params:m}=(0,s.W)(),{vendorOptions:p}=(0,Q.V)({mutationKey:"VendorAutocomplete",mdmStatusType:o,isActived:!!o}),{commonVendorInfoOption:f}=(0,y.X)();return(0,l.jsx)(u.A,{componentType:i,label:t,autocompleteClassName:C()({"!w-[267px]":!n,[n]:n}),autocompleteSize:h.A.Small,autocompleteBoxSize:h.A.Small,autocompleteBoxClassName:r,firstOptionType:d,options:o?p:f,selectedId:m[a]?m[a]:"ALL",onChange:(e,t)=>{c({...m,[a]:"ALL"===t.id?null:t.id})},optionsBoxWidth:444,"data-sentry-element":"TmsBasicAutocomplete","data-sentry-component":"VendorAutocomplete","data-sentry-source-file":"VendorAutocomplete.tsx"})},J=a(12417);function $(e){let{mdmStatusType:t}=e;const[a,l]=(0,r.useState)({...t?{mdmStatusType:t}:{}}),{isSuccess:s,data:n}=(0,J.Ij)({request:a}),o=(0,r.useMemo)((()=>s&&(null==n?void 0:n.itemList)?(n.itemList||[]).map((e=>({id:e.customerId,label:"".concat(e.name,"(").concat(e.mdmCode,"/").concat(e.representativeName,"/").concat(e.registrationNumber,")"),name:e.name,tag:e.name,memberCode:e.memberCode,mdmCode:e.mdmCode,customerType:e.customerType}))):[]),[n]);return(0,r.useEffect)((()=>{l({mdmStatusType:t})}),[t]),{customerOptions:o}}var ee=e=>{let{required:t=!1,label:a,fieldName:r="customerId",className:n="",isNoValue:o=!1,isSearchValidation:i=!1,mdmStatusType:d=null}=e;const{setParams:c,params:m}=(0,s.W)(),{customerOptions:p}=$({mdmStatusType:d}),{commonCustomerInfoOption:f}=(0,y.X)();return(0,l.jsx)(u.A,{required:t,label:a,autocompleteClassName:n,autocompleteSize:h.A.Small,options:d?p:f,selectedId:m[r]?m[r]:"ALL",onChange:(e,t)=>{c({...m,[r]:"ALL"===t.id?null:t.id,["".concat(r,"Name")]:"ALL"===t.id?null:t.name,["".concat(r,"Code")]:"ALL"===t.id?null:t.memberCode,["".concat(r,"MdmCode")]:"ALL"===t.id?null:t.mdmCode})},firstOptionType:o?null:"all",isValidation:i,placeholder:"".concat(a," 입력"),optionsBoxWidth:444,"data-sentry-element":"TmsBasicAutocomplete","data-sentry-component":"CustomerNameAutocomplete","data-sentry-source-file":"CustomerNameAutocomplete.tsx"})},te=a(31132);var ae=e=>{let{required:t=!1,label:a="화주",fieldName:r="customerId",className:n="",isSearchValidation:o=!1,mdmStatusType:i=null,isShowAllOption:d=!0,isShowDefaultOption:c=!0,labelContainerClassName:u=""}=e;const{setParams:m,params:p}=(0,s.W)(),{customerOptions:f}=$({mdmStatusType:i}),{commonCustomerInfoOption:C}=(0,y.X)(),x=p[r]?p[r]:[];return(0,l.jsx)(te._Zh,{required:t,label:a,autocompleteClassName:n,autocompleteBoxSize:h.A.Small,autocompleteSize:h.A.Small,options:i?f:C,optionsBoxWidth:452,selectedOptionsProps:x,onChange:(e,t)=>{m({...p,[r]:null==t?void 0:t.map((e=>e.id))})},isValidation:o,placeholder:"".concat(a," 선택"),isShowAllOption:d,isShowDefaultOption:c,labelContainerClassName:u,"data-sentry-element":"BasicMultiAutocomplete","data-sentry-component":"CustomerNameMultiAutocomplete","data-sentry-source-file":"CustomerNameMultiAutocomplete.tsx"})};var le=e=>{let{required:t=!1,label:a,fieldName:r="vendorId",className:n="",isSearchValidation:o=!1,mdmStatusType:i=null,isShowAllOption:d=!0,isShowDefaultOption:c=!0,labelContainerClassName:u=""}=e;const{setParams:m,params:p}=(0,s.W)(),{vendorOptions:h}=(0,Q.V)({mutationKey:"VendorPartnerMultiAutocomplete",mdmStatusType:i,isActived:!!i}),{commonVendorInfoOption:f}=(0,y.X)(),C=Array.isArray(p[r])?p[r]:[];return(0,l.jsx)(te._Zh,{required:t,label:a,autocompleteClassName:n,options:i?h:f,selectedOptionsProps:C,onChange:(e,t)=>{m({...p,[r]:null==t?void 0:t.map((e=>e.id))})},isValidation:o,placeholder:"".concat(a," 선택"),optionsBoxWidth:444,isShowAllOption:d,isShowDefaultOption:c,labelContainerClassName:u,"data-sentry-element":"BasicMultiAutocomplete","data-sentry-component":"VendorPartnerMultiAutocomplete","data-sentry-source-file":"VendorPartnerMultiAutocomplete.tsx"})};var re=e=>{let{label:t="",allMetaType:a,fieldName:n,required:o,className:i,optionsBoxWidth:d=452,isSearchValidation:c=!1,isShowAllOption:u=!0,isShowDefaultOption:m=!0,labelContainerClassName:p=""}=e;var f;const{setParams:C,params:x}=(0,s.W)(),{commonMetaV2List:N}=(0,y.X)(),[E,v]=(0,r.useState)(null===(f=N[a])||void 0===f?void 0:f.map((e=>({...e,tag:e.label})))),A=n||(null==(g=a)?void 0:g.toLowerCase().replace(/_([a-z])/g,(function(e,t){return t.toUpperCase()})));var g;const T=Array.isArray(x[A])?x[A]:null;return(0,l.jsx)(te._Zh,{required:o,label:t,autocompleteBoxSize:h.A.Small,autocompleteSize:h.A.Small,autocompleteClassName:i,options:null!=E?E:[],optionsBoxWidth:d,selectedOptionsProps:T,onChange:(e,t)=>{C({...x,[A]:null==t?void 0:t.map((e=>e.id))})},isValidation:c,placeholder:"".concat(t," 선택"),isShowAllOption:u,isShowDefaultOption:m,labelContainerClassName:p,"data-sentry-element":"BasicMultiAutocomplete","data-sentry-component":"AllMetaMultiAutocompleteSearch","data-sentry-source-file":"AllMetaMultiAutocompleteSearch.tsx"})},se=a(30429);var ne=e=>{let{onChange:t}=e;const{setParams:a,params:r}=(0,s.W)();return(0,l.jsx)(N.A,{switchClassName:"!w-[150px]",leftItem:{label:"계약",value:se.JP5.CONTRACT},rightItem:{label:"거래처",value:se.JP5.CUSTOMER_PLACE},selectedItemValue:r.orderContractRateType,setSelectedItem:e=>{var l;l=e.value,a((e=>({...e,orderContractRateType:l}))),null==t||t(e.value)},"data-sentry-element":"TmsBasicTextSwitch","data-sentry-component":"OrderContractRateTypeSwitch","data-sentry-source-file":"OrderContractRateTypeSwitch.tsx"})};var oe=e=>{let{label:t="",mainInput:a,subInput:r}=e;const{params:n,setParams:o,onSearch:d}=(0,s.W)(),c=e=>{"Enter"===e.key&&d(n)};return(0,l.jsxs)("div",{className:"flex flex-row items-center","data-sentry-component":"DoubleSearchText","data-sentry-source-file":"DoubleSearchText.tsx",children:[(0,l.jsx)(i.A,{label:t,"data-sentry-element":"TmsBasicLabel","data-sentry-source-file":"DoubleSearchText.tsx"}),(0,l.jsx)(T.A,{classNameInput:a.className,value:n[a.fieldName]||"",placeholder:a.placeholder,onChange:e=>o((t=>({...t,[a.fieldName]:e.target.value}))),onKeyDown:c,sizeType:h.A.Small,"data-sentry-element":"TmsBasicInput","data-sentry-source-file":"DoubleSearchText.tsx"}),(0,l.jsx)("div",{className:"Body5_M text-grey70 mx-[2px] mb-auto mt-auto w-[10px] text-center",children:"|"}),(0,l.jsx)(T.A,{classNameInput:r.className,value:n[r.fieldName]||"",placeholder:r.placeholder,onChange:e=>o((t=>({...t,[r.fieldName]:e.target.value}))),onKeyDown:c,sizeType:h.A.Small,"data-sentry-element":"TmsBasicInput","data-sentry-source-file":"DoubleSearchText.tsx"})]})};var ie=e=>{let{required:t=!1,label:a,fieldName:r="itemCode",className:n="",isNoValue:o=!1,isSearchValidation:i=!1}=e;const{setParams:d,params:c}=(0,s.W)(),{commonMdmItemInfoOption:m}=(0,y.X)(),p=c[r];return(0,l.jsx)(u.A,{required:t,selectedId:p,label:a,autocompleteBoxSize:h.A.Small,autocompleteClassName:n,autocompleteSize:h.A.Small,options:m,onChange:(e,t)=>{d({...c,[r]:null==t?void 0:t.id})},firstOptionType:o?null:"all",isValidation:i,placeholder:"".concat(a," 입력"),optionsBoxWidth:444,"data-sentry-element":"TmsBasicAutocomplete","data-sentry-component":"ItemNameAutocomplete","data-sentry-source-file":"ItemNameAutocomplete.tsx"})};var de=e=>{let{required:t=!1,label:a,fieldName:r="itemCode",className:n="",isSearchValidation:o=!1}=e;const{setParams:i,params:d}=(0,s.W)(),{commonMdmItemInfoOption:c}=(0,y.X)(),u=d[r]?d[r]:[];return(0,l.jsx)(te._Zh,{required:t,label:a,autocompleteClassName:n,options:c,optionsBoxWidth:452,selectedOptionsProps:u,onChange:(e,t)=>{i({...d,[r]:null==t?void 0:t.map((e=>e.id))})},isValidation:o,placeholder:"".concat(a," 선택"),"data-sentry-element":"BasicMultiAutocomplete","data-sentry-component":"ItemNameMultiAutocomplete","data-sentry-source-file":"ItemNameMultiAutocomplete.tsx"})},ce=a(29219);var ue=e=>{let{required:t=!1,label:a,fieldName:r="userIds",className:n="",autocompleteBoxClassName:o="",isSearchValidation:i=!1,isShowAllOption:d=!0,isShowDefaultOption:c=!0}=e;const{setParams:u,params:m}=(0,s.W)(),{mdmAdminOptions:p}=(0,ce.a)(),h=Array.isArray(m[r])?m[r]:[];return(0,l.jsx)(te._Zh,{required:t,label:a,autocompleteClassName:n,autocompleteBoxClassName:o,options:p,selectedOptionsProps:h,onChange:(e,t)=>{u({...m,[r]:null==t?void 0:t.map((e=>e.id)),["".concat(r,"MdmEmpNo")]:null==t?void 0:t.map((e=>e.empNo))})},isValidation:i,placeholder:"".concat(a," 선택"),optionsBoxWidth:444,isShowAllOption:d,isShowDefaultOption:c,"data-sentry-element":"BasicMultiAutocomplete","data-sentry-component":"MdmAdminMultiAutocomplete","data-sentry-source-file":"MdmAdminMultiAutocomplete.tsx"})};var me=e=>{let{label:t="",options:a,fieldName:n,required:o,className:i,isSearchValidation:d=!1,isShowAllOption:c=!0,isShowDefaultOption:u=!0}=e;const{params:m,setParams:p}=(0,s.W)(),[h,f]=(0,r.useState)(a),C=Array.isArray(m[n])?m[n]:null;return(0,l.jsx)(te._Zh,{required:o,label:t,autocompleteClassName:i,options:null!=h?h:[],optionsBoxWidth:452,selectedOptionsProps:C,onChange:(e,t)=>{p({...m,[n]:null==t?void 0:t.map((e=>e.id))})},isValidation:d,placeholder:"".concat(t," 선택"),isShowAllOption:c,isShowDefaultOption:u,"data-sentry-element":"BasicMultiAutocomplete","data-sentry-component":"SearchMultiAutocomplete","data-sentry-source-file":"SearchMultiAutocomplete.tsx"})},pe=a(3203),he=a(17818);var fe={Provider:n,ResetButton:M,SearchButton:D,Pagination:w,SearchDate:x,SearchDateSingle:e=>{let{label:t,dateFiled:a="yearMonth",datePickerClassName:n="",format:d="YYYY-MM-DD",views:u,...m}=e;const{setParams:p,params:h}=(0,s.W)(),[f,C]=(0,r.useState)(c()(new Date));return(0,r.useEffect)((()=>{C(c()(h[a]))}),[h]),(0,l.jsxs)("div",{className:"flex items-center gap-[2px]","data-sentry-component":"DateSearch","data-sentry-source-file":"DateSearch.tsx",children:[t&&(0,l.jsx)(i.A,{label:t}),(0,l.jsx)(o.A,{format:d,datePickerClassName:"w-[120px] ".concat(n),value:f,onChange:e=>{return t=e,void p((e=>({...e,[a]:t?c()(t).endOf("day").format(d):null})));var t},views:u,...m,"data-sentry-element":"TmsBasicDatePicker","data-sentry-source-file":"DateSearch.tsx"})]})},AllMetaAutocompleteSearch:q,AllMetaMultiAutocompleteSearch:re,SearchAutocomplete:X,SearchMultiAutocomplete:me,SearchText:B,DoubleSearchText:oe,CustomerName:R,TransportOffice:P,ItemName:F,HRName:k,PurchasePlace:H,SuperiorSearch:z,VendorAutocomplete:Z,VendorPartnerMultiAutocomplete:le,CustomerNameAutocomplete:ee,CustomerNameMultiAutocomplete:ae,ItemNameAutocomplete:ie,ItemNameMultiAutocomplete:de,MdmAdminMultiAutocomplete:ue,ContractOrganization:v,OrderContractRateTypeSwitch:ne,MdmStatus:U,BusinessGroupType:Y,ApproverUserId:e=>{let{isSuperUser:t=!1,className:a="",required:s,label:n=""}=e;var o;const{user:i}=(0,pe.o)(),[d,c]=(0,r.useState)(!1),[u,m]=(0,r.useState)("");return t?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(T.A,{label:"결재자",placeholder:"결재자 입력",classNameInput:"w-[200px]",onChange:e=>{m(e.target.value)},value:u,onKeyDown:e=>{"Enter"===e.key&&c(!0)},rightIcon:(0,l.jsx)(I.A,{width:20,height:20,onClick:()=>c(!0),className:"cursor-pointer"}),"data-sentry-element":"TmsBasicInput","data-sentry-source-file":"ApproverUserId.tsx"}),d&&(0,l.jsx)(he.default,{searchInputValueProps:u,setIsOpened:c,onRowDoubleClickProps:e=>{m(e.row.name)}})]}):(0,l.jsx)(T.A,{label:"결재자",readOnly:!0,placeholder:"결재자 입력",value:null===(o=i.adminManager)||void 0===o?void 0:o.name,"data-sentry-element":"TmsBasicInput","data-sentry-component":"ApproverUserId","data-sentry-source-file":"ApproverUserId.tsx"})}}},33497:function(e,t,a){"use strict";a.d(t,{e8:function(){return n}});var l=a(63159);const r={COMPLETE:{color:"text-success",label:"MDM 승인"},REQUEST:{color:"text-primary50",label:"MDM 요청"},RETURN:{color:"text-error",label:"MDM 반려"},NONE:{color:"text-fail",label:"MDM  없음"},RE_REQUEST:{color:"text-primary50",label:"MDM 갱신 요청"},RE_RETURN:{color:"text-error",label:"MDM 갱신 반려"}},s={CUSTOMER_OWNER:"화주(13코드)",CUSTOMER_NORMAL_OWNER:"화주(10코드)",CUSTOMER_BRANCH:"출장소",VENDOR_DRIVER:"차주",VENDOR_PARTNER:"파트너(13코드)",VENDOR_NORMAL_PARTNER:"파트너(10코드)",VENDOR_CONSIGNMENT:"위수탁",VENDOR_BRANCH:"출장소"},n={CORPORATE:"법인 사업자",INDIVIDUAL:"개인 사업자",DEFAULT:"사업자 종류 정보없음."},o={COMPLETE:{color:"text-success",label:"승인"},REQUEST:{color:"text-primary50",label:"요청"},RETURN:{color:"text-error",label:"반려"},NONE:{color:"text-fail",label:""}},i={BusinessType:e=>{let{businessType:t}=e;return(0,l.jsx)("span",{"data-sentry-component":"BusinessType","data-sentry-source-file":"GridComponent.tsx",children:"".concat(n[t])})},MemberType:e=>{let{customerType:t}=e;return(0,l.jsx)("span",{"data-sentry-component":"MemberType","data-sentry-source-file":"GridComponent.tsx",children:"".concat(s[t]||"-")})},MdmStatusTag:e=>{let{status:t}=e;const{label:a,color:s}=r[t]||r.NONE;return(0,l.jsx)("span",{className:s,"data-sentry-component":"MdmStatusTag","data-sentry-source-file":"GridComponent.tsx",children:a})},RoundTag:e=>{let{text:t}=e;return(0,l.jsx)("div",{className:"bg-grey90 flex h-[20px] w-[20px] items-center justify-center rounded-full p-[2px]","data-sentry-component":"RoundTag","data-sentry-source-file":"GridComponent.tsx",children:t})},FscStatusTag:e=>{let{fscStatusType:t}=e;const{color:a,label:r}=o[t]||o.NONE;return(0,l.jsx)("span",{className:"Caption1_B ".concat(a),"data-sentry-component":"FscStatusTag","data-sentry-source-file":"GridComponent.tsx",children:r})},ContractStatus:e=>{let{isContracted:t}=e;return(0,l.jsx)("span",{className:t?"text-success":"text-fail","data-sentry-component":"ContractStatus","data-sentry-source-file":"GridComponent.tsx",children:t?"체결":"미체결"})}};t.Ay=i},97290:function(e,t,a){"use strict";a.d(t,{z:function(){return o}});var l=a(11855),r=a(59238),s=a(3203),n=a(98404);const o=()=>{const{user:e}=(0,s.o)(),{mdmCorporationCode:t="",mdmPurchaseCostCenterCode:a="",mdmSalesCostCenterCode:o="",mdmCorporationCodeList:i=[],mdmPurchaseCostCenterCodeList:d=[],mdmSalesCostCenterCodeList:c=[]}=e||{},{commonMetaV2List:u,getMetaLabel:m,commonCustomerAllInfoOption:p,commonVendorInfoOption:h,commonMdmItemInfoOption:f}=(0,r.X)(),C=(0,l.useMemo)((()=>u[n.k.CONTRACT_CATEGORY_TYPE]),[]),x=(0,l.useMemo)((()=>u[n.k.RATE_CATEGORY_CODE]),[]),N=(0,l.useMemo)((()=>u[n.k.VEHICLE_TYPE]),[]),y=(0,l.useMemo)((()=>u[n.k.VEHICLE_TON_CODE]),[]),E=(0,l.useMemo)((()=>u[n.k.LOAD_UNLOAD_METHOD_TYPE]),[]),v=(0,l.useMemo)((()=>u[n.k.COMMON_MDM_CORPORATION_CODE]),[]),A=(0,l.useMemo)((()=>u[n.k.COMMON_MDM_COST_CENTER_SALES_CODE]),[]),g=(0,l.useMemo)((()=>u[n.k.COMMON_MDM_COST_CENTER_PURCHASE_CODE]),[]),T=(0,l.useMemo)((()=>(null==v?void 0:v.filter((e=>i.includes(String(e.id))||e.id===t)))||[]),[v]),I=(0,l.useMemo)((()=>(null==A?void 0:A.filter((e=>c.includes(String(e.id))||e.id===o)))||[]),[A]),b=(0,l.useMemo)((()=>(null==g?void 0:g.filter((e=>d.includes(String(e.id))||e.id===a)))||[]),[g]);return{getMetaLabel:m,commonCustomerInfoOption:p,commonVendorInfoOption:h,commonMdmItemInfoOption:f,contractCategoryTypeOptions:C,rateCategoryCodeOptions:x,vehicleTypeOptions:N,vehicleTonCodeOptions:y,loadUnloadMethodTypeOptions:E,mdmCorporationOptions:v,costCenterSalesOptions:A,costCenterPurchaseOptions:g,mdmCorporationOptionsByUser:T,costCenterSalesOptionsByUser:I,costCenterPurchaseOptionsByUser:b,getOrgOptionsInternal:(e,t)=>{let a=[],l=[];switch(t){case"orderCorporationCode":a=v,l=T;break;case"salesCostCenterCode":a=A,l=I;break;case"purchaseCostCenterCode":a=g,l=b}if(!e)return l;if(Array.isArray(e)){let t=[...l];if(e.length){const l=a.filter((a=>e.includes(String(a.id))&&!t.some((e=>String(e.id)===String(a.id)))));t=[...t,...l]}return t}if(l.some((t=>String(t.id)===String(e))))return l;const r=a.find((t=>String(t.id)===String(e)));return r?[...l,r]:l}}}},76702:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});var l=a(11855),r=(a(45954),a(4988));const s=()=>({columns:(0,l.useMemo)((()=>[{field:"__check__",headerName:"",headerClassName:"height-wide-cell",width:76,sortable:!1,disableColumnMenu:!0,align:"center",cellClassName:"wide-cell"},{field:"__No__",headerName:"No.",sortable:!1,width:48,align:"center",headerWideCell:!0},{field:"instructionNo",headerName:"지시번호",sortable:!1,width:148,headerWideCell:!0},{field:"regionSubName",headerName:"권역세부",sortable:!1,width:104,headerWideCell:!0},{field:"customerName",headerName:"지자체명",sortable:!1,width:160,headerWideCell:!0},{field:"instructionYearMonth",headerName:"지시년월",sortable:!1,width:82,headerWideCell:!0},{field:"itemName",headerName:"품목",sortable:!1,width:120,headerWideCell:!0},{field:"productionYear",headerName:"생산년도",sortable:!1,width:82},{field:"originName",headerName:"원산지",sortable:!1,width:82},{field:"grainVarietyName",headerName:"곡종",sortable:!1,width:82},{field:"grainFormName",headerName:"벼/쌀/현미",sortable:!1,width:110},{field:"departureProvince",headerName:"시도",sortable:!1,width:122},{field:"departureCity",headerName:"시군구",sortable:!1,width:98},{field:"departureWarehouseName",headerName:"창고/도정공장명",sortable:!1,width:136},{field:"departureAddress",headerName:"주소",sortable:!1,width:176},{field:"departurePhoneNumber",headerName:"연락처",sortable:!1,width:122},{field:"arrivalProvince",headerName:"시도",sortable:!1,width:122},{field:"arrivalCity",headerName:"시군구",sortable:!1,width:98},{field:"arrivalWarehouseName",headerName:"창고/도정공장명",sortable:!1,width:136},{field:"arrivalAddress",headerName:"주소",sortable:!1,width:176},{field:"arrivalPhoneNumber",headerName:"연락처",sortable:!1,width:122},{field:"distance",headerName:"수송 거리(km)",sortable:!1,width:100,headerWideCell:!0},{field:"materialProductName",headerName:"원료/제품",sortable:!1,width:78,headerWideCell:!0},{field:"usagePurposeName",headerName:"용도",sortable:!1,width:92,headerWideCell:!0},{field:"totalQuantity",headerName:"계",sortable:!1,width:104,type:"number"},{field:"kg10",headerName:"10kg",sortable:!1,width:104,type:"number"},{field:"kg20",headerName:"20kg",sortable:!1,width:104,type:"number"},{field:"kg40",headerName:"40kg",sortable:!1,width:104,type:"number"},{field:"kg800",headerName:"톤백(800kg)",sortable:!1,width:104,type:"number"},{field:"kg1000",headerName:"톤백(1,000kg)",sortable:!1,width:104,type:"number"},{field:"deadline",headerName:"반입기간",sortable:!1,width:104,headerWideCell:!0},{field:"remark",headerName:"비고",sortable:!1,width:200,headerWideCell:!0},{field:"isUsed",headerName:"사용여부",sortable:!1,width:74,headerWideCell:!0,type:r._.VIEW_MODE_Y_OR_N},{field:"createdByName",headerName:"등록자",sortable:!1,width:74,headerWideCell:!0},{field:"createdAt",headerName:"등록 일시",sortable:!1,width:144,headerWideCell:!0,type:r._.VIEW_MODE_YYYYMMDD_DDD},{field:"updatedByName",headerName:"수정자",sortable:!1,width:70,headerWideCell:!0},{field:"updatedAt",headerName:"수정 일시",sortable:!1,width:172,headerWideCell:!0,type:r._.VIEW_MODE_YYYYMMDD_DDD}]),[]),excelUploadColumns:(0,l.useMemo)((()=>[{field:"__check__",headerName:"",headerClassName:"height-wide-cell",width:76,sortable:!1,disableColumnMenu:!0,align:"center",cellClassName:"wide-cell"},{field:"no",headerName:"No.",sortable:!1,align:"center",headerClassName:"height-wide-cell",width:48,type:r._.VIEW_MODE_ID},{field:"customerMdmCode",headerName:"지자체코드",editable:!0,defaultEditable:!0,required:!0,sortable:!1,width:148,headerWideCell:!0},{field:"regionSubName",headerName:"권역세부",editable:!0,defaultEditable:!0,sortable:!1,width:148,headerWideCell:!0},{field:"instructionYearMonth",headerName:"지시년월",editable:!0,defaultEditable:!0,required:!0,sortable:!1,width:148,headerWideCell:!0},{field:"instructionNo",headerName:"지시번호",sortable:!1,required:!0,width:148,headerWideCell:!0,editable:!0,defaultEditable:!0},{field:"itemName",headerName:"품목",width:148,headerWideCell:!0,required:!0,editable:!0,defaultEditable:!0},{field:"productionYear",headerName:"생산년도",sortable:!1,width:82,editable:!0,defaultEditable:!0},{field:"originName",headerName:"원산지",sortable:!1,width:82,editable:!0,defaultEditable:!0},{field:"grainVarietyName",headerName:"곡종",sortable:!1,width:82,editable:!0,defaultEditable:!0},{field:"grainFormName",headerName:"벼/쌀/현미",sortable:!1,width:110,editable:!0,defaultEditable:!0},{field:"departureProvince",headerName:"시도",sortable:!1,width:122,editable:!0,defaultEditable:!0},{field:"departureCity",headerName:"시군구",sortable:!1,width:98,editable:!0,defaultEditable:!0},{field:"departureWarehouseName",headerName:"창고/도정공장명",sortable:!1,width:136,editable:!0,defaultEditable:!0},{field:"departureAddress",headerName:"주소",sortable:!1,width:176,editable:!0,defaultEditable:!0},{field:"departurePhoneNumber",headerName:"연락처",sortable:!1,width:122,editable:!0,defaultEditable:!0},{field:"arrivalProvince",headerName:"시도",sortable:!1,required:!0,width:122,editable:!0,defaultEditable:!0},{field:"arrivalCity",headerName:"시군구",sortable:!1,required:!0,width:98,editable:!0,defaultEditable:!0},{field:"arrivalWarehouseName",headerName:"창고/도정공장명",sortable:!1,required:!0,width:136,editable:!0,defaultEditable:!0},{field:"arrivalAddress",headerName:"주소",sortable:!1,required:!0,width:176,editable:!0,defaultEditable:!0},{field:"arrivalPhoneNumber",headerName:"연락처",required:!0,sortable:!1,width:122,editable:!0,defaultEditable:!0},{field:"distance",headerName:"수송 거리(km)",sortable:!1,width:100,headerWideCell:!0,editable:!0,defaultEditable:!0},{field:"materialProductName",headerName:"원료/제품",sortable:!1,width:78,headerWideCell:!0,editable:!0,defaultEditable:!0},{field:"usagePurposeName",headerName:"용도",sortable:!1,width:92,headerWideCell:!0,editable:!0,defaultEditable:!0},{field:"totalQuantity",headerName:"계",sortable:!1,required:!0,width:104,editable:!0,defaultEditable:!0},{field:"kg10",headerName:"10kg",sortable:!1,width:104,editable:!0,defaultEditable:!0},{field:"kg20",headerName:"20kg",sortable:!1,width:104,editable:!0,defaultEditable:!0},{field:"kg40",headerName:"40kg",sortable:!1,width:104,editable:!0,defaultEditable:!0},{field:"kg800",headerName:"톤백(800kg)",sortable:!1,width:104,editable:!0,defaultEditable:!0},{field:"kg1000",headerName:"톤백(1,000kg)",sortable:!1,width:104,editable:!0,defaultEditable:!0},{field:"deadline",headerName:"반입기간",sortable:!1,required:!0,width:104,headerWideCell:!0,editable:!0,defaultEditable:!0},{field:"remark",headerName:"비고",sortable:!1,width:200,headerWideCell:!0,editable:!0,defaultEditable:!0}]),[]),columnGroupingModel:[{groupId:"grain",headerName:"곡종정보",children:[{field:"productionYear"},{field:"originName"},{field:"grainVarietyName"},{field:"grainFormName"}]},{groupId:"departure",headerName:"반출지",children:[{field:"departureProvince"},{field:"departureCity"},{field:"departureWarehouseName"},{field:"departureAddress"},{field:"departurePhoneNumber"}]},{groupId:"arrival",headerName:"반입지",children:[{field:"arrivalProvince"},{field:"arrivalCity"},{field:"arrivalWarehouseName"},{field:"arrivalAddress"},{field:"arrivalPhoneNumber"}]},{groupId:"kg",headerName:"단량별 수송 지시량",children:[{field:"totalQuantity"},{field:"kg10"},{field:"kg20"},{field:"kg40"},{field:"kg800"},{field:"kg1000"}]}]})},99057:function(e,t,a){"use strict";var l=a(63159),r=(a(11855),a(30395)),s=a.n(r);t.A=function(e){let{status:t}=e;return(0,l.jsx)("div",{className:"flex h-full items-center justify-center","data-sentry-component":"ContractStatusCell","data-sentry-source-file":"ContractStatusCell.tsx",children:t&&(0,l.jsx)("div",{className:s()("Caption1_B w-fit flex-none rounded-[3px] border-[0.5px] px-[4px]",{"border-success text-success":"계약완료"===t,"border-grey80 text-grey60 bg-grey95":"계약해지"===t,"border-fail text-fail":"계약만료"===t}),children:t})})}},95167:function(e,t,a){"use strict";var l=a(63159),r=(a(11855),a(30395)),s=a.n(r);t.A=function(e){let{contractSales:t,contractPurchase:a}=e;return(0,l.jsxs)("div",{className:"bg-grey98 flex","data-sentry-component":"ContractTypeCell","data-sentry-source-file":"ContractTypeCell.tsx",children:[(0,l.jsx)("div",{className:s()("border-grey90 flex-1 border-r text-center",{"bg-tertiary98 text-tertiary50":t}),children:t}),(0,l.jsx)("div",{className:s()("flex-1 text-center",{"bg-secondary98 text-secondary50":a}),children:a})]})}},7176:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return Qv}});var l=a(63159),r=a(11855),s=a(80914),n=a(53050),o=a.n(n),i=a(3203),d=a(67918),c=a.n(d),u=a(86073),m=a(51409),p=a(67327),h=a(75541),f=a(30395),C=a.n(f),x=a(66555);var N=function(e){let{title:t,description:a,children:r,modalWidth:s=400,buttonType:n="button",confirmButtonLabel:o="확인",confirmButtonType:i="normal",confirmButtonLevel:d=m.V.level_2,confirmButtonClassName:c,confirmButtonDisabled:p=!1,closeButtonLabel:h="취소",closeButtonClassName:f,contentClassName:N="",onClickConfirmButton:y,onClickCloseButton:E=()=>{},hiddenCloseButton:v=!1}=e;return(0,l.jsx)(x.Iy4,{isOpened:!0,modalWidth:s,onClickCloseButton:E,"data-sentry-element":"BasicModal","data-sentry-component":"TmsBasicConfirm","data-sentry-source-file":"TmsBasicConfirm.tsx",children:(0,l.jsxs)("div",{className:"relative rounded-lg",children:[(0,l.jsx)("div",{className:"flex items-end justify-end gap-[16px] rounded-tl-lg rounded-tr-lg px-[24px] pt-[24px]",children:(0,l.jsx)("div",{className:"Title4_EX flex w-full",children:t})}),(0,l.jsx)("div",{className:"mt-[8px] box-content overflow-y-auto px-[24px] pb-[86px] ".concat(N),children:a?(0,l.jsx)("span",{className:"Body4_M text-grey50",dangerouslySetInnerHTML:{__html:a}}):r}),(0,l.jsxs)("div",{className:"absolute bottom-0 flex w-full items-center justify-end gap-[8px] rounded-bl-lg rounded-br-lg bg-white px-[24px] pb-[24px]",children:[!v&&(0,l.jsx)(u.A,{className:C()("flex",null!=f?f:c),size:m.M.Large,level:m.V.level_4,label:h,onClick:E}),(0,l.jsx)(u.A,{type:n,className:C()("flex",c),size:m.M.Large,level:d,label:o,buttonType:i,onClick:y,disabled:p,"data-sentry-element":"TmsBasicButton","data-sentry-source-file":"TmsBasicConfirm.tsx"})]})]})})};function y(e){const t=document.getElementById(e);if(!t){const t=document.createElement("div");return t.id=e,document.body.appendChild(t),t}return t}function E(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"alert-dialog";const t=(0,r.useRef)(),[a,l]=(0,r.useState)(!1),[s,n]=(0,r.useState)(null);return(0,r.useEffect)((()=>{const l=y(e);if(a){if(t.current){const e=(0,h.createRoot)(l);n(e),e.render(N(t.current))}}else null==s||s.unmount(),null==l||l.remove(),n(null)}),[a]),e=>{var a;t.current={...e,modalWidth:null!==(a=e.modalWidth)&&void 0!==a?a:400,closeButtonLabel:"",onClickConfirmButton(t){var a;t.preventDefault(),l(!1),null===(a=e.onClickConfirmButton)||void 0===a||a.call(e,t)},hiddenCloseButton:!0,onClickCloseButton(){}},l(!0)}}function v(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"confirm-dialog";const t=(0,r.useRef)(),[a,l]=(0,r.useState)(!1),[s,n]=(0,r.useState)(null);return(0,r.useEffect)((()=>{const l=y(e);if(a){if(t.current){const e=(0,h.createRoot)(l);n(e),e.render(N(t.current))}}else null==s||s.unmount(),null==l||l.remove(),n(null)}),[a]),e=>{var a;t.current={...e,modalWidth:null!==(a=e.modalWidth)&&void 0!==a?a:400,closeButtonLabel:e.closeButtonLabel||"취소",onClickConfirmButton(t){var a;t.preventDefault(),l(!1),null===(a=e.onClickConfirmButton)||void 0===a||a.call(e,t)},onClickCloseButton(t){var a;t.preventDefault(),l(!1),null===(a=e.onClickCloseButton)||void 0===a||a.call(e,t)}},l(!0)}}var A=a(46326),g=a.n(A),T=a(45476),I=a(83445);const b=()=>(0,T.n)(["personalConfigSave"],(async e=>{await I.q.api((t=>t.ApiAdminPersonalConfigSave(e)))}));var R=a(30429),S=a(32446);const _=g()((()=>Promise.resolve().then(a.bind(a,5061))),{loadableGenerated:{webpack:()=>[5061]},ssr:!1}),w=[{id:R.bDY.UNBAN_TMS,label:"미들마일",disabled:!1},{id:R.bDY.UNBAN,label:"온디맨드",disabled:!1},{id:R.bDY.HELLO,label:"배송",disabled:!0},{id:R.bDY.HELLO_AUTO_EVIDENCE,label:"컨테이너",disabled:!0}];var O,M=function(e){let{onClickTitle:t}=e;const{user:a}=(0,i.o)(),[s,n]=(0,r.useState)(!1),[d,h]=(0,r.useState)({id:R.bDY.UNBAN_TMS,label:"미들마일"}),f=(0,S.useRouter)(),C=(v(),(0,T.n)(["switchService"],(async e=>(await I.q.api((t=>t.ApiAuthV1SwitchService(e)))).data.result)));return(0,l.jsxs)("div",{className:"bg-warmGrey20 fixed left-0 right-0 top-0 z-50 flex h-[52px] items-center justify-between border-b border-[#DEE1E8] px-[20px]","data-sentry-component":"Header","data-sentry-source-file":"Header.tsx",children:[(0,l.jsxs)("button",{className:"flex cursor-pointer items-center gap-[8px] font-bold",onClick:t,children:[(0,l.jsx)(o(),{src:"/admin-logo.png",alt:"logo",width:"119",height:"28","data-sentry-element":"Image","data-sentry-source-file":"Header.tsx"}),(0,l.jsx)(_,{options:w,checkedId:d.id,isChecked:!0,isOpened:s,renderer:(0,l.jsx)(u.A,{buttonType:"normal",label:d.label,level:m.V.level_2,size:m.M.Small,className:"!bg-grey30",rightIcon:(0,l.jsx)(p.A,{width:16,height:16}),onClick:()=>n(!0)}),className:"w-[160px]",onClickClose:()=>n(!1),onSelected:e=>(async e=>{if(e===d.id)return;const t=await C.mutateAsync({targetSystemType:e});f.replace({pathname:"".concat("https://ondemand-admin-stage.unban.ai","/auth"),query:{accessToken:t.tokenResponse.accessToken}})})(e),"data-sentry-element":"DropdownMenu","data-sentry-source-file":"Header.tsx"})]}),(0,l.jsxs)("div",{className:"flex gap-3",children:[(0,l.jsx)("div",{className:"Body5_M text-white",children:a.mdmCorporationName}),(0,l.jsx)("div",{className:"flex h-[20px] items-center",children:(0,l.jsx)("div",{className:"h-1 w-1 rounded-full bg-[#636874]"})}),!c().isEmpty(a.empNo)&&(0,l.jsxs)("div",{className:"Body5_M text-white",children:[a.userName,"님(",a.empNo,")"]})]})]})},D=a(31132);function j(){return j=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},j.apply(null,arguments)}var P,L=function(e){return r.createElement("svg",j({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},e),O||(O=r.createElement("path",{fill:"currentColor",d:"M20 3h-3c0-.55-.45-1-1-1h-1.18C14.42.83 13.31 0 12 0S9.58.83 9.18 2H8c-.55 0-1 .45-1 1H4c-.55 0-1 .45-1 1v17c0 .55.45 1 1 1h16c.55 0 1-.45 1-1V4c0-.55-.45-1-1-1m-8.98-1c.25-.25.6-.4.98-.4s.73.15.98.4.42.61.42 1c0 .77-.63 1.4-1.4 1.4s-1.4-.63-1.4-1.4c0-.39.16-.74.42-1M17 17.75c0 .14-.11.25-.25.25h-9.5c-.14 0-.25-.11-.25-.25v-1.1c0-.14.11-.25.25-.25h9.5c.14 0 .25.11.25.25zm0-4.2c0 .14-.11.25-.25.25h-9.5c-.14 0-.25-.11-.25-.25v-1.1c0-.14.11-.25.25-.25h9.5c.14 0 .25.11.25.25zm0-4.2c0 .14-.11.25-.25.25h-9.5c-.14 0-.25-.11-.25-.25v-1.1c0-.14.11-.25.25-.25h9.5c.14 0 .25.11.25.25z"})))};function B(){return B=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},B.apply(null,arguments)}var U,V,F=function(e){return r.createElement("svg",B({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},e),P||(P=r.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M23.63 15.391H20v-3.097h3.3l-.21-2.169c-.05-.527-.48-.93-1-.93H18V4.034C18 3.465 17.55 3 17 3H1c-.55 0-1 .465-1 1.033v14.456c0 .568.45 1.033 1 1.033h1c0-2.282 1.79-4.13 4-4.13s4 1.848 4 4.13h1c0-2.282 1.79-4.13 4-4.13s4 1.848 4 4.13h4c.59 0 1.05-.527.99-1.136zM15 17.044c-1.32 0-2.4 1.115-2.4 2.478S13.68 22 15 22s2.4-1.115 2.4-2.478-1.08-2.478-2.4-2.478M3.6 19.522c0-1.363 1.08-2.478 2.4-2.478s2.4 1.115 2.4 2.478S7.32 22 6 22s-2.4-1.115-2.4-2.478",clipRule:"evenodd"})))};function G(){return G=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},G.apply(null,arguments)}var k,Y=function(e){return r.createElement("svg",G({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},e),r.createElement("mask",{id:"icon-paid_svg__a",width:24,height:24,x:0,y:0,maskUnits:"userSpaceOnUse",style:{maskType:"alpha"}},U||(U=r.createElement("path",{fill:"#D9D9D9",d:"M0 0h24v24H0z"}))),V||(V=r.createElement("g",{mask:"url(#icon-paid_svg__a)"},r.createElement("path",{fill:"currentColor",d:"m13.91 12.4.68 2.6.7-2.6zm0 0 .68 2.6.7-2.6zm-4.8 0 .7 2.6.63-2.6zm0 0 .7 2.6.63-2.6zm4.8 0 .68 2.6.7-2.6zm0 0 .68 2.6.7-2.6zM9.81 15l.63-2.6H9.11zM12 2C6.48 2 2 6.48 2 12c0 2.64 1.02 5.04 2.69 6.82A9.97 9.97 0 0 0 12 22c2.88 0 5.48-1.22 7.31-3.18A9.93 9.93 0 0 0 22 12c0-5.52-4.48-10-10-10m7 10.4h-2.11L16.2 15l-.54 2H13.5l-.99-4.6h-.58L11 17H8.74l-1.23-4.6H5V11h2.13l-.8-3h1.6l.81 3h2.04l.72-3h1.25l.79 3h2.12l.81-3h1.6l-.8 3H19zM14.59 15l.7-2.6h-1.38zm-4.78 0 .63-2.6H9.11zm-.7-2.6.7 2.6.63-2.6zm4.8 0 .68 2.6.7-2.6zm-4.8 0 .7 2.6.63-2.6zm4.8 0 .68 2.6.7-2.6z"}))))};function q(){return q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},q.apply(null,arguments)}var W,H=function(e){return r.createElement("svg",q({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},e),k||(k=r.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M17 6A5 5 0 1 1 7 6a5 5 0 0 1 10 0m4 15v-2.8c0-2.76-2.24-5-5-5H8c-2.76 0-5 2.24-5 5V21c0 .55.45 1 1 1h16c.55 0 1-.45 1-1",clipRule:"evenodd"})))};function K(){return K=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},K.apply(null,arguments)}var z,X=function(e){return r.createElement("svg",K({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},e),W||(W=r.createElement("path",{fill:"currentColor",d:"M20 3H4c-.55 0-1 .45-1 1v16c0 .55.45 1 1 1h16c.55 0 1-.45 1-1V4c0-.55-.45-1-1-1M8.6 16.75c0 .14-.11.25-.25.25h-1.1c-.14 0-.25-.11-.25-.25v-4.5c0-.14.11-.25.25-.25h1.1c.14 0 .25.11.25.25zm4 0c0 .14-.11.25-.25.25h-1.1c-.14 0-.25-.11-.25-.25v-6.5c0-.14.11-.25.25-.25h1.1c.14 0 .25.11.25.25zm4 0c0 .14-.11.25-.25.25h-1.1c-.14 0-.25-.11-.25-.25v-9.5c0-.14.11-.25.25-.25h1.1c.14 0 .25.11.25.25z"})))};function Q(){return Q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},Q.apply(null,arguments)}var Z,J=function(e){return r.createElement("svg",Q({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},e),z||(z=r.createElement("path",{fill:"currentColor",d:"M17 10h5c.55 0 1-.45 1-1V3c0-.55-.45-1-1-1h-5c-.55 0-1 .45-1 1v2.2h-4.75c-.14 0-.25.11-.25.25v5.75H8V9c0-.55-.45-1-1-1H2c-.55 0-1 .45-1 1v6c0 .55.45 1 1 1h5c.55 0 1-.45 1-1v-2.2h3v5.75c0 .14.11.25.25.25H16V21c0 .55.45 1 1 1h5c.55 0 1-.45 1-1v-6c0-.55-.45-1-1-1h-5c-.55 0-1 .45-1 1v2.2h-3.4V6.8H16V9c0 .55.45 1 1 1"})))};function $(){return $=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},$.apply(null,arguments)}var ee,te,ae=function(e){return r.createElement("svg",$({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},e),Z||(Z=r.createElement("path",{fill:"currentColor",d:"m22.16 14.4-1.26-1.03c.06-.45.1-.9.1-1.37s-.04-.92-.1-1.37l1.26-1.03c.48-.28.64-.89.37-1.37l-2-3.46a1.02 1.02 0 0 0-1.37-.37l-1.54.58a8.6 8.6 0 0 0-2.35-1.36L15 2c0-.55-.45-1-1-1h-4c-.55 0-1 .45-1 1l-.27 1.62c-.86.33-1.65.79-2.35 1.36L4.84 4.4a1.019 1.019 0 0 0-1.37.37l-2 3.46c-.27.48-.11 1.09.37 1.37l1.26 1.03c-.06.45-.1.91-.1 1.37s.04.92.1 1.37L1.84 14.4c-.48.28-.64.89-.37 1.37l2 3.46a1.02 1.02 0 0 0 1.37.37l1.54-.58c.71.57 1.5 1.03 2.35 1.36L9 22c0 .55.45 1 1 1h4c.55 0 1-.45 1-1l.27-1.62c.85-.33 1.64-.79 2.35-1.36l1.54.58a1.019 1.019 0 0 0 1.37-.37l2-3.46c.27-.48.11-1.09-.37-1.37M12 15c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3"})))};function le(){return le=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},le.apply(null,arguments)}var re=function(e){return r.createElement("svg",le({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},e),r.createElement("mask",{id:"icon-chevron-right_svg__a",width:24,height:24,x:0,y:0,maskUnits:"userSpaceOnUse",style:{maskType:"alpha"}},ee||(ee=r.createElement("path",{fill:"#D9D9D9",d:"M0 0h24v24H0z"}))),te||(te=r.createElement("g",{mask:"url(#icon-chevron-right_svg__a)"},r.createElement("path",{fill:"currentColor",d:"m10.2 18.935 6.725-6.75c.1-.1.1-.26 0-.36L10.2 5.075c-.1-.1-.259-.1-.358 0l-.767.77c-.1.1-.1.26 0 .36l5.838 5.86-5.838 5.73c-.1.1-.1.26 0 .36l.767.77c.1.1.259.1.358 0z"}))))},se=a(73639);const ne=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;for(const r of e)if(r.path===t||t.startsWith("".concat(r.path,"/")))return a[l]=r,r.children&&r.children.length>0&&ne(r.children,t,a,l+1),a;return a};var oe=e=>{let{menuData:t,activeTab:a,onClickMenu:s}=e;const n=(0,r.useRef)(null),[o,i]=(0,r.useState)({}),[d,c]=(0,r.useState)({});(0,r.useEffect)((()=>{var e;const l=null!==(e=null==a?void 0:a.path)&&void 0!==e?e:"",r=ne(t,l);c(r)}),[a,t]),(0,r.useEffect)((()=>{const e=e=>{n.current&&!n.current.contains(e.target)&&Object.keys(o).length>0&&i({})};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[o]);const u=(e,t)=>{const a=1===t;return(0,l.jsx)(D.p6M,{sx:{width:a?68:180,bgcolor:a?"grey80":"#F3F5FA",height:"100%",padding:"0px"},"data-sentry-element":"BasicList","data-sentry-component":"renderDepthMenu","data-sentry-source-file":"Sidebar.tsx",children:e.map((e=>{var r,n;const c=e.children&&e.children.length>0,u=(null===(r=o[t])||void 0===r||r.path,e.path,(null===(n=d[t])||void 0===n?void 0:n.path)===e.path),m="".concat(u?"!text-[#16171B]":"!text-grey60"," h-5 w-5");return(0,l.jsx)(D.uBe,{disablePadding:!0,className:"".concat(u?"bg-grey80":"bg-transparent"),sx:{borderRight:u?"2px solid #16171B":"none"},children:(0,l.jsxs)(D.iXB,{sx:{display:"flex",flexDirection:a?"column":"row",alignItems:"center",justifyContent:a?"center":"flex-start",p:"8px",width:a?68:"100%",height:a?68:"auto",gap:"4px"},onClick:()=>((e,t)=>{var a;const l={};for(let t=1;t<e;t++)o[t]&&(l[t]=o[t]);(null===(a=o[e])||void 0===a?void 0:a.path)===t.path||(l[e]=t),i(l),t.children&&0!==t.children.length||(s({name:t.name,path:t.path}),i({}))})(t,e),children:[e.icon&&(0,l.jsx)("div",{className:m,children:(p=e.icon,{contract:(0,l.jsx)(L,{}),dispatch:(0,l.jsx)(F,{}),settlement:(0,l.jsx)(Y,{}),membership:(0,l.jsx)(H,{}),chart:(0,l.jsx)(X,{}),masterData:(0,l.jsx)(J,{}),setting:(0,l.jsx)(ae,{}),search:(0,l.jsx)(se.A,{})}[p]||null)}),(0,l.jsxs)("div",{className:"flex items-center justify-between ".concat(a?"":"flex-1"),children:[(0,l.jsx)("div",{className:"Caption1_B text-center ".concat(u?"":"text-grey40"),children:e.name}),!a&&c&&(0,l.jsx)(re,{className:m})]})]})},e.path);var p}))})};return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{ref:n,className:"bg-grey95 border-grey90 fixed left-0 top-[52px] z-[40] flex h-[calc(100vh-52px)] w-[68px] flex-row border-r",children:[(0,l.jsx)("div",{className:"h-full",children:u(t,1)}),Object.keys(o).map((e=>{const t=parseInt(e),a=o[t];return(null==a?void 0:a.children)&&a.children.length>0?(0,l.jsx)("div",{className:"border-grey90 z-40 h-full border-r",children:u(a.children,t+1)},"depth-".concat(t+1)):null}))]})})},ie=a(50349);function de(e){let{tab:t,onClickTab:a,onClickCloseTab:s,onEditTabName:n,isShowCloseButton:o=!0,tabClassName:i,tabNameClassName:d,tabCountClassName:c,tabName:u,isEditable:m=!1,isDraggable:p=!1,onDragStart:h,onDragOver:f,onDrop:x,onDragEnd:N}=e;const[y,E]=(0,r.useState)(!1),[v,A]=(0,r.useState)(null!=u?u:t.name),g=(0,r.useCallback)((e=>!e||""===e.trim()),[]);(0,r.useEffect)((()=>{A(null!=u?u:t.name)}),[u,t.name]);const T=(0,r.useCallback)((()=>{m&&E(!0)}),[m]),I=(0,r.useCallback)((()=>{E(!1),n&&(g(v)?A(null!=u?u:t.name):n({...t,name:v}))}),[v,n,t,u,g]),b=(0,r.useCallback)((e=>{"Enter"===e.key&&I()}),[I]),R=(0,r.useCallback)((e=>{E(!1),I()}),[I]),S=(0,r.useCallback)((e=>{A(e.target.value)}),[]),_=(0,r.useCallback)((e=>{e.stopPropagation(),null==s||s(e,t)}),[s,t]),w=(0,r.useCallback)((e=>{p&&h&&h(e,t)}),[p,h,t]),O=(0,r.useCallback)((e=>{p&&f&&(e.preventDefault(),f(e,t))}),[p,f,t]),M=(0,r.useCallback)((e=>{p&&x&&(e.preventDefault(),x(e,t))}),[p,x,t]),D=(0,r.useCallback)((e=>{p&&N&&N(e)}),[p,N]);var j;return(0,l.jsxs)("div",{className:C()("cursor-pointer",i),onClick:()=>a(t),draggable:p,onDragStart:w,onDragOver:O,onDrop:M,onDragEnd:D,"data-sentry-component":"Tab","data-sentry-source-file":"Tab.tsx",children:[t.icon&&(0,l.jsx)("span",{children:t.icon}),m&&y?(0,l.jsx)("input",{type:"text",className:d,value:v,onChange:S,onKeyDown:b,onBlur:R,autoFocus:!0}):(0,l.jsx)("span",{className:d,onDoubleClick:T,children:v}),Number(null!==(j=t.count)&&void 0!==j?j:-1)>=0&&(0,l.jsx)("span",{className:c,children:t.count}),o&&(0,l.jsx)("button",{type:"button",className:"m-0 h-[16px] w-[16px] p-0",onClick:_,"aria-label":"Close ".concat(v),children:(0,l.jsx)(ie.A,{className:"text-grey60"})})]})}var ce=r.memo(de);var ue,me=function(e){let{onClickTitle:t,tabs:a,onClickTab:s,onClickCloseTab:n,currentTab:i,onClickAllCloseTab:d}=e;const c=(0,r.useRef)(null),[u,m]=(0,r.useState)(!1),p=e=>{if(c.current){const t=c.current.scrollLeft,a=c.current.scrollWidth-c.current.clientWidth;let l=e?Math.min(t+160,a):Math.max(0,t-160);c.current.scrollTo({left:l,behavior:"smooth"})}};return(0,r.useEffect)((()=>{const e=()=>{c.current&&m(c.current.scrollWidth>c.current.clientWidth)};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[a]),(0,l.jsxs)("div",{className:"border-grey90 flex h-[36px] justify-between border-b bg-white","data-sentry-component":"TabContainer","data-sentry-source-file":"TabContainer.tsx",children:[(0,l.jsxs)("div",{className:"flex",children:[(0,l.jsx)("button",{className:"border-grey90 flex-none border-r p-[8px]",onClick:t,children:(0,l.jsx)(o(),{src:"/home.svg",alt:"home",width:"20",height:"20","data-sentry-element":"Image","data-sentry-source-file":"TabContainer.tsx"})}),(0,l.jsx)("div",{className:"flex flex-none overflow-hidden ".concat(u?"w-[calc(100vw-215px)]":"w-[calc(100vw-145px)]"),ref:c,children:a.map(((e,t)=>(0,l.jsx)(ce,{tab:e,onClickTab:s,onClickCloseTab:n,tabClassName:"border-grey90 text-grey50 flex flex-none items-center justify-between border-r bg-gray-200 px-[8px] text-[13px] gap-[8px] ".concat((null==i?void 0:i.path)===e.path?"!text-black":"")},e.path)))})]}),(0,l.jsxs)("div",{className:"flex flex-none",children:[u&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("button",{className:"border-l border-l-[#DEE1E8] p-[8px]",onClick:()=>p(!1),children:(0,l.jsx)(o(),{src:"/arrow-back.svg",alt:"왼쪽으로 스크롤 이동",width:"20",height:"20"})}),(0,l.jsx)("button",{className:"border-l border-l-[#DEE1E8] p-[8px]",onClick:()=>p(!0),children:(0,l.jsx)(o(),{src:"/arrow-back.svg",alt:"오른쪽으로 스크롤 이동",width:"20",height:"20",className:"rotate-180"})})]}),a.length>0&&(0,l.jsx)("button",{className:"border-l border-l-[#DEE1E8] p-[8px]",onClick:d,children:(0,l.jsx)(o(),{src:"/tab-close.svg",alt:"모든 탭 닫기",width:"20",height:"20"})})]})]})},pe=a(31592);function he(){return he=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},he.apply(null,arguments)}var fe,Ce=function(e){return r.createElement("svg",he({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none"},e),ue||(ue=r.createElement("path",{fill:"currentColor",d:"M17.5 9.542v.916a.206.206 0 0 1-.208.209h-6.625v6.625a.206.206 0 0 1-.209.208h-.916a.206.206 0 0 1-.209-.208v-6.625H2.708a.206.206 0 0 1-.208-.209v-.916c0-.117.092-.209.208-.209h6.625V2.708c0-.116.092-.208.209-.208h.916c.117 0 .209.092.209.208v6.625h6.625c.116 0 .208.092.208.209"})))},xe=a(37372),Ne=a(92556);function ye(){return ye=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},ye.apply(null,arguments)}var Ee,ve=function(e){return r.createElement("svg",ye({xmlns:"http://www.w3.org/2000/svg",width:4,height:4,fill:"none"},e),fe||(fe=r.createElement("circle",{cx:2,cy:2,r:2,fill:"currentColor"})))};function Ae(){return Ae=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},Ae.apply(null,arguments)}var ge=function(e){return r.createElement("svg",Ae({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none"},e),Ee||(Ee=r.createElement("path",{fill:"currentColor",d:"M10.167 9H7.5a.5.5 0 0 1-.5-.5v-4a.5.5 0 0 1 1 0V8h2.167a.5.5 0 0 1 0 1M8 1.333a6.667 6.667 0 1 0 .002 13.335A6.667 6.667 0 0 0 8 1.333"})))};const Te={TEMP:{className:"bg-failLight text-fail",label:"화물임시등록"},DISPATCH_REQUEST:{className:"bg-failLight text-fail",label:"배차의뢰"},DISPATCH_PLAN:{className:"bg-failLight text-fail",label:"배차계획"},CONFIRM_ASSIGNMENT:{className:"bg-cautionLight text-caution",label:"배정확정"},CONFIRM_DISPATCH:{className:"bg-decideLight text-decide",label:"배차확정"},DELIVERY_START:{className:"bg-progressLight text-progress",label:"운행시작"},PICKUP_MOVING:{className:"bg-progressLight text-progress",label:"운행시작"},PICKUP_COMPLETE:{className:"bg-progressLight text-progress",label:"운행시작"},WAYPOINT:{className:"bg-progressLight text-progress",label:"운행시작"},DROP_MOVING:{className:"bg-progressLight text-progress",label:"운행시작"},DROP_COMPLETE:{className:"bg-progressLight text-progress",label:"운행시작"},DELIVERY_COMPLETE:{className:"bg-successLight text-success",label:"운행완료"},REQUEST_RESULT_CONFIRM:{className:"bg-secondary95 text-secondary50",label:"운송실적요청"},CONFIRM_RESULT:{className:"bg-secondary95 text-secondary50",label:"운송실적확정"},ORDER_CANCEL:{className:"bg-errorLight text-error",label:"주문취소"},DELIVERY_CANCEL:{className:"bg-errorLight text-error",label:"운행중단"}};var Ie=function(e){let{item:t}=e;const a=Te[t.status];return(0,l.jsxs)("div",{className:"border-grey90 flex grow-[1] flex-col rounded-[6px] border px-[20px] py-[16px]","data-sentry-component":"OrderCard","data-sentry-source-file":"OrderCard.tsx",children:[(0,l.jsx)("div",{children:(0,l.jsx)("span",{className:C()("Caption1_B flex-none rounded-[3px] px-[4px] py-[1px]",a.className),children:a.label})}),(0,l.jsx)("div",{className:"Body1_B text-black",children:t.address}),(0,l.jsx)("div",{className:"Body4_M text-black",children:t.name}),(0,l.jsxs)("div",{className:"flex flex-row items-center gap-[4px]",children:[(0,l.jsx)("span",{className:"Body4_B text-primary70",children:"하차"}),(0,l.jsx)("span",{className:"Body4_M text-black",children:t.date}),(0,l.jsxs)("div",{className:"border-grey90 flex flex-row items-center gap-[2px] rounded-[4px] border px-[4px]",children:[(0,l.jsx)(ge,{width:16,height:16,className:"text-grey50","data-sentry-element":"ClockIcon","data-sentry-source-file":"OrderCard.tsx"}),(0,l.jsx)("span",{className:"Body4_M text-black",children:t.time})]})]}),(0,l.jsxs)("div",{className:"mt-[12px] flex w-full flex-row",children:[(0,l.jsxs)("div",{className:"border-grey95 flex grow-[1] flex-row items-center justify-center gap-[4px] border border-l-0 px-[12px] py-[6px]",children:[(0,l.jsx)("span",{className:"Body4_M text-grey50",children:t.carType}),(0,l.jsx)(ve,{width:4,height:4,className:"text-grey50","data-sentry-element":"BulletIcon","data-sentry-source-file":"OrderCard.tsx"}),(0,l.jsx)("span",{className:"Body4_M text-grey50",children:t.carTonType})]}),(0,l.jsx)("div",{className:"border-grey95 grow-[1] justify-center gap-[4px] border border-l-0 border-r-0 px-[12px] py-[6px]",children:(0,l.jsx)("span",{className:"Body4_M text-grey50",children:t.item})})]})]})};const be=[{status:"CONFIRM_DISPATCH",address:"인천광역시 서구 북행배후로 46",name:"산들마루",date:"2025.05.15",time:"18:30",carType:"카고/윙바디",carTonType:"11톤",item:"생활용품"},{status:"PICKUP_MOVING",address:"인천광역시 서구 북행배후로 46",name:"산들마루",date:"2025.05.15",time:"18:30",carType:"카고/윙바디",carTonType:"11톤",item:"생활용품"},{status:"PICKUP_MOVING",address:"인천광역시 서구 북행배후로 46",name:"산들마루",date:"2025.05.15",time:"18:30",carType:"카고/윙바디",carTonType:"11톤",item:"생활용품"},{status:"DROP_COMPLETE",address:"인천광역시 서구 북행배후로 46",name:"산들마루",date:"2025.05.15",time:"18:30",carType:"카고/윙바디",carTonType:"11톤",item:"생활용품"},{status:"DELIVERY_COMPLETE",address:"인천광역시 서구 북행배후로 46",name:"산들마루",date:"2025.05.15",time:"18:30",carType:"카고/윙바디",carTonType:"11톤",item:"생활용품"},{status:"DISPATCH_REQUEST",address:"인천광역시 서구 북행배후로 46",name:"산들마루",date:"2025.05.15",time:"18:30",carType:"카고/윙바디",carTonType:"11톤",item:"생활용품"},{status:"ORDER_CANCEL",address:"인천광역시 서구 북행배후로 46",name:"산들마루",date:"2025.05.15",time:"18:30",carType:"카고/윙바디",carTonType:"11톤",item:"생활용품"},{status:"REQUEST_RESULT_CONFIRM",address:"인천광역시 서구 북행배후로 46",name:"산들마루",date:"2025.05.15",time:"18:30",carType:"카고/윙바디",carTonType:"11톤",item:"생활용품"},{status:"WAYPOINT",address:"인천광역시 서구 북행배후로 46",name:"산들마루",date:"2025.05.15",time:"18:30",carType:"카고/윙바디",carTonType:"11톤",item:"생활용품"}];var Re=function(){const e=[{name:"총 주문",path:"",count:9},{name:"배차의뢰",path:"",count:0},{name:"배차확정",path:"",count:1},{name:"운송중",path:"",count:4},{name:"운송완료",path:"",count:3},{name:"주문취소",path:"",count:8}],[t,a]=(0,r.useState)(0),s=[...be].splice(0,e[t].count);return(0,l.jsxs)("section",{className:"border-grey90 flex h-full w-full flex-col rounded-[12px] border-[1px] bg-white p-[28px]","data-sentry-component":"TodayOrderStatus","data-sentry-source-file":"TodayOrderStatus.tsx",children:[(0,l.jsxs)("div",{className:"flex flex-row items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex flex-row items-center gap-[8px]",children:[(0,l.jsx)("span",{className:"Title2_EX",children:"오늘 주문 현황"}),(0,l.jsx)(u.A,{label:"업데이트(당일 00:30)",level:m.V.level_6,size:m.M.Small,leftIcon:(0,l.jsx)(xe.A,{width:16}),className:"flex-none",onClick:()=>{},"data-sentry-element":"TmsBasicButton","data-sentry-source-file":"TodayOrderStatus.tsx"})]}),(0,l.jsxs)("div",{className:"flex flex-row items-center gap-[8px]",children:[(0,l.jsx)(u.A,{label:"주문 내역 확인하기",level:m.V.level_4,size:m.M.Small,className:"flex-none !px-[16px]",onClick:()=>{},"data-sentry-element":"TmsBasicButton","data-sentry-source-file":"TodayOrderStatus.tsx"}),(0,l.jsx)(u.A,{label:"새 주문 접수하기",level:m.V.level_1,leftIcon:(0,l.jsx)(Ce,{}),onClick:()=>{},"data-sentry-element":"TmsBasicButton","data-sentry-source-file":"TodayOrderStatus.tsx"})]})]}),(0,l.jsxs)("div",{className:"bg-grey98 mt-[16px] flex flex-row rounded-[6px] px-[40px] py-[24px]",children:[(0,l.jsxs)("div",{className:"justift-center flex grow-[1] flex-col items-center",children:[(0,l.jsx)("span",{className:"Body2_M text-grey50",children:"주문 건수"}),(0,l.jsxs)("span",{className:"Title1_EX text-primary",children:[(0,pe.sH)(8),"건"]})]}),(0,l.jsx)("span",{className:"bg-grey90 h-[64px] w-[1px]"}),(0,l.jsxs)("div",{className:"justift-center flex grow-[1] flex-col items-center",children:[(0,l.jsx)("span",{className:"Body2_M text-grey50",children:"운송비"}),(0,l.jsxs)("span",{className:"Title1_EX text-tertiary60",children:[(0,pe.sH)(5e5),"원"]})]})]}),(0,l.jsxs)("div",{className:"bg-grey98 mt-[28px] flex w-full flex-row",children:[(0,l.jsx)("div",{className:"flex flex-row",children:e.map(((e,r)=>{return(0,l.jsx)(ce,{tab:{name:e.name,path:"",count:e.count},onClickTab:()=>a(r),onClickCloseTab:()=>{},tabClassName:C()("Body3_B flex items-center justify-center gap-[16px] border-0 border-b border-b-primary rounded-tl-[6px] rounded-tr-[6px] px-[20px] py-[16px] text-grey50",{"!border-primary border-x border-t !border-b-0 bg-white !text-black":(s=r,s===t)}),tabNameClassName:"max-w-[160px] truncate",tabCountClassName:"ml-[16px] Title2_M",isShowCloseButton:!1},"orderStatus-".concat(e.name));var s}))}),(0,l.jsx)("div",{className:"border-b-primary w-full border-b"})]}),(0,l.jsxs)("div",{className:C()("mt-[16px] flex w-full min-w-[280px] flex-row flex-wrap gap-[16px]",{"h-full justify-center":!s.length}),children:[s.map(((e,t)=>(0,l.jsx)(Ie,{item:e},t))),!s.length&&(0,l.jsx)(Ne.A,{description_1:"조회된 주문 정보가 없습니다.",description_2:"새 주문을 등록해 주세요.",className:"w-full"})]})]})};var Se=function(){const e={tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#283b56"}}},legend:{},toolbox:{show:!1,feature:{dataView:{readOnly:!1},restore:{},saveAsImage:{}}},dataZoom:{show:!1,start:0,end:100},grid:{top:"40px",left:"40px",right:0,bottom:"70px"},xAxis:[{type:"category",boundaryGap:!0,data:["12월","1월","2월","3월","4월","5월"]},{type:"category",show:!1,boundaryGap:!0,data:[0,1,2,3,4,5]}],yAxis:[{type:"value",scale:!0,max:200,min:0,boundaryGap:[50,50]},{type:"value",show:!1,scale:!1,max:1200,min:0,boundaryGap:[10,10]}],series:[{type:"bar",xAxisIndex:1,yAxisIndex:1,data:function(){let e=[],t=10;for(;t--;)e.push(Math.round(1e3*Math.random()));return e}(),color:"#5398FF"},{type:"line",data:function(){let e=[],t=0;for(;t<10;)e.push(+(120*Math.random()).toFixed(1)),t++;return e}(),color:"#F53B86",symbol:"emptyCircle",symbolSize:12}]};return(0,l.jsx)(D.kXN,{option:e,"data-sentry-element":"BasicCharts","data-sentry-component":"MonthlyTransportStatusChart","data-sentry-source-file":"MonthlyTransportStatusChart.tsx"})};var _e=function(){return(0,l.jsx)(D.kXN,{option:{tooltip:{trigger:"item"},legend:{top:"center",left:"274px",orient:"vertical"},series:[{type:"pie",radius:["50%","80%"],center:["110px","50%"],avoidLabelOverlap:!1,label:{show:!1,position:"center"},emphasis:{label:{show:!0,fontSize:40,fontWeight:"bold"}},labelLine:{show:!1},data:[{value:1048,name:"카고"},{value:735,name:"윙바디"},{value:580,name:"카고/윙바디"},{value:484,name:"트렉터"},{value:300,name:"덤프"},{value:666,name:"냉장탑"},{value:432,name:"냉동탑"},{value:123,name:"전차종(기타)"}]}]},"data-sentry-element":"BasicCharts","data-sentry-component":"TransportRateChart","data-sentry-source-file":"TransportRateChart.tsx"})},we=a(50196);var Oe=function(){const[e,t]=(0,r.useState)("carTypes");return(0,l.jsxs)("section",{className:"border-grey90 flex h-full w-full flex-col rounded-[12px] border-[1px] bg-white p-[28px]","data-sentry-component":"MonthlyTransportStatus","data-sentry-source-file":"MonthlyTransportStatus.tsx",children:[(0,l.jsxs)("div",{className:"flex flex-row items-center justify-between",children:[(0,l.jsx)("div",{className:"flex flex-row items-center gap-[8px]",children:(0,l.jsx)("span",{className:"Title2_EX",children:"이번 달 운송 현황"})}),(0,l.jsx)("div",{className:"flex flex-row items-center gap-[8px]"})]}),(0,l.jsxs)("div",{className:"bg-grey98 mt-[16px] flex flex-row rounded-[6px] px-[40px] py-[24px]",children:[(0,l.jsxs)("div",{className:"justift-center flex grow-[1] flex-col items-center",children:[(0,l.jsx)("span",{className:"Body2_M text-grey50",children:"총 운송 건수"}),(0,l.jsxs)("span",{className:"Title1_EX text-primary",children:[(0,pe.sH)(8),"건"]})]}),(0,l.jsx)("span",{className:"bg-grey90 h-[64px] w-[1px]"}),(0,l.jsxs)("div",{className:"justift-center flex grow-[1] flex-col items-center",children:[(0,l.jsx)("span",{className:"Body2_M text-grey50",children:"공급가액"}),(0,l.jsxs)("span",{className:"Title1_EX text-tertiary60",children:[(0,pe.sH)(1e6),"원"]})]}),(0,l.jsx)("span",{className:"bg-grey90 h-[64px] w-[1px]"}),(0,l.jsxs)("div",{className:"justift-center flex grow-[1] flex-col items-center",children:[(0,l.jsx)("span",{className:"Body2_M text-grey50",children:"전월 동일 주차 비교"}),(0,l.jsxs)("span",{className:"Title1_EX text-decide",children:[(0,pe.sH)(122.1),"%증가"]})]})]}),(0,l.jsxs)("div",{className:"mt-[28px] flex w-full flex-col",children:[(0,l.jsxs)("div",{className:"flex w-full flex-row items-center justify-between",children:[(0,l.jsx)("div",{className:"Body1_B text-black",children:"월별 운송 현황"}),(0,l.jsxs)("div",{className:"Body4_M flex flex-row items-center gap-[16px] text-black",children:[(0,l.jsxs)("div",{className:"flex flex-row items-center gap-[8px]",children:[(0,l.jsx)("span",{className:"bg-blue60 h-[12px] w-[12px]"}),"운송 건수"]}),(0,l.jsxs)("div",{className:"flex flex-row items-center gap-[8px]",children:[(0,l.jsx)("span",{className:"bg-tertiary60 h-[2px] w-[12px]"}),"운송비"]})]})]}),(0,l.jsx)("div",{className:"h-[274px]",children:(0,l.jsx)(Se,{"data-sentry-element":"MonthlyTransportStatusChart","data-sentry-source-file":"MonthlyTransportStatus.tsx"})}),(0,l.jsxs)("div",{className:"flex w-full flex-row items-center",children:[(0,l.jsx)("div",{className:"Body1_B text-black",children:"차종별 운송 비중"}),(0,l.jsx)("div",{className:"ml-[12px]",children:(0,l.jsx)(we.A,{switchClassName:"flex-none",leftItem:{label:"차종",value:"carTypes"},rightItem:{label:"권역",value:"regions"},selectedItemValue:e,setSelectedItem:e=>t(e.value),"data-sentry-element":"TmsBasicTextSwitch","data-sentry-source-file":"MonthlyTransportStatus.tsx"})})]}),(0,l.jsx)("div",{className:"h-[274px]",children:(0,l.jsx)(_e,{"data-sentry-element":"TransportRateChart","data-sentry-source-file":"MonthlyTransportStatus.tsx"})})]})]})};var Me=function(){return(0,l.jsx)("div",{className:"bg-grey98 flex min-h-full min-w-full flex-col","data-sentry-component":"Dashboard","data-sentry-source-file":"index.tsx",children:(0,l.jsxs)("div",{className:C()("m-[40px] flex flex-row gap-[21px]"),children:[(0,l.jsx)(Re,{"data-sentry-element":"TodayOrderStatus","data-sentry-source-file":"index.tsx"}),(0,l.jsx)(Oe,{"data-sentry-element":"MonthlyTransportStatus","data-sentry-source-file":"index.tsx"})]})})};var De=a(59300),je=a.n(De),Pe=a(22034);var Le=a(95167),Be=a(99057);const Ue=[{field:"__check__",headerName:"",width:76,minWidth:76,maxWidth:76,sortable:!1,disableColumnMenu:!0,align:"right",headerClassName:"check-right-align"},{field:"no",headerName:"No.",width:48,align:"center",renderCell:e=>e.api.getRowIndexRelativeToVisibleRows(e.id)+1},{field:"contractType",headerName:"계약 구분",width:100,renderCell:e=>(0,Le.A)({contractSales:e.row.contractSales,contractPurchase:e.row.contractPurchase}),cellClassName:"wide-cell"},{field:"contractNumberSales",headerName:"매출 계약 번호",width:167},{field:"contractNumberPurchase",headerName:"매입 계약 번호",width:167},{field:"contractNameSales",headerName:"매출 계약명",width:160},{field:"contractNamePurchase",headerName:"매입 계약명",width:160},{field:"customerName",headerName:"화주",width:220},{field:"deliveryHub",headerName:"파트너",width:180},{field:"statusSales",headerName:"매출 계약 상태",width:140,renderCell:e=>(0,Be.A)({status:e.row.statusSales})},{field:"statusPurchase",headerName:"매입 계약 상태",width:140,renderCell:e=>(0,Be.A)({status:e.row.statusPurchase})},{field:"periodSales",headerName:"매출 계약 기간",width:180},{field:"periodPurchase",headerName:"매입 계약 기간",width:180},{field:"salesOrgSales",headerName:"매출 계약 매출 조직",width:130},{field:"purchaseOrgSales",headerName:"매출 계약 매입 조직",width:130},{field:"humanResourceCorpSales",headerName:"매출 계약 인사 조직",width:128},{field:"purchaseOrgPurchase",headerName:"매입 계약 매입 조직 ",width:130},{field:"humanResourceCorpPurchase",headerName:"매입 계약 인사 조직",width:128},{field:"managerSales",headerName:"매출 계약 담당자",width:128},{field:"managerPurchase",headerName:"매입 계약 담당자",width:128},{field:"upperMgrSales",headerName:"매출 계약 상위 부서장",width:136},{field:"upperMgrPurchase",headerName:"매입 계약 상위 부서장",width:136}];var Ve=a(1948),Fe=a(4340);var Ge;function ke(){return ke=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},ke.apply(null,arguments)}var Ye=function(e){return r.createElement("svg",ke({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none"},e),Ge||(Ge=r.createElement("path",{fill:"#868C98",d:"M12.333 8.667A3.665 3.665 0 0 1 16 12.333 3.665 3.665 0 0 1 12.333 16a3.665 3.665 0 0 1-3.666-3.667 3.664 3.664 0 0 1 3.666-3.666M12 10v3.427l-1.173-1.094-.494.46 2 1.874 2-1.874-.493-.46-1.173 1.094V10zm1.333-8c.367 0 .667.3.667.667v5.666a4 4 0 0 0-1.066-.286v-4.98H3.066v9.867h4.98c.048.373.147.733.287 1.066H2.667A.67.67 0 0 1 2 13.333V2.667C2 2.3 2.3 2 2.667 2zM7.86 6.533q.12.26.22.62h.014q.068-.22.226-.64l1.147-2.18h1.806L9.12 7.967l.567.946c-.434.327-.8.74-1.074 1.214l-.44-.847c-.047-.086-.093-.253-.147-.493h-.02c-.02.113-.08.286-.166.513L6.6 11.667H4.667L6.96 8l-2.1-3.667h1.973z"})))},qe=a(46913);function We(e){let{label:t="엑셀 다운로드",isSuccessExcel:a,excelFileName:s,excelData:n,handleExcelDownload:o,leftIcon:i=(0,l.jsx)(Ye,{width:16,height:16})}=e;return(0,r.useEffect)((()=>{a&&(0,qe.saveAs)(n,"".concat(s,"_").concat(je()(new Date).format("YYYYMMDD"),".xlsx"))}),[n]),(0,l.jsx)(u.A,{label:t,level:m.V.level_5,size:m.M.Small,leftIcon:i,onClick:o,"data-sentry-element":"TmsBasicButton","data-sentry-component":"TmsBasicDataGridExcelDownload","data-sentry-source-file":"TmsBasicDataGridExcelDownload.tsx"})}var He=a(63689),Ke=a(41917);var ze,Xe,Qe=function(e){let{title:t,theadTitle:a,updateFetch:s,options:n,buttonIcon:o,checkRow:i}=e;const[d,c]=(0,r.useState)(!1),[p,h]=(0,r.useState)(!1),[f,C]=(0,r.useState)({type:"",detail:""});return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(u.A,{level:m.V.level_5,size:m.M.Small,label:t,leftIcon:o,onClick:()=>{i()&&h(!0)},"data-sentry-element":"TmsBasicButton","data-sentry-source-file":"TradeContractsStatusButton.tsx"}),p&&(0,l.jsx)(Pe.A,{title:t,onClickCloseButton:()=>h(!1),onClickConfirmButton:()=>(h(!1),void s(f)),confirmButtonDisabled:!f.type||!f.detail,children:(0,l.jsxs)("div",{className:"h-full",children:[(0,l.jsxs)("div",{className:"border-blackOpacity60 flex h-[32px] w-full border-l-0 border-r-0 border-t",children:[(0,l.jsxs)("div",{className:"bg-warmGrey95 flex w-[120px] border-r px-[12px] py-[6px]",children:[(0,l.jsx)("div",{className:"Body5_M text-grey30",children:a}),(0,l.jsx)("span",{className:"bg-decide h-[3px] w-[3px] rounded-[3px]"})]}),(0,l.jsx)("div",{className:"flex w-full",children:(0,l.jsx)(He.A,{selectedId:f.type,autocompleteBoxClassName:"w-full",options:n,componentType:"autocomplete-table",onChange:(e,t)=>{C({...f,type:null==t?void 0:t.id})}})})]}),(0,l.jsxs)("div",{className:"border-blackOpacity60 flex h-full w-full border-l-0 border-r-0 border-t",children:[(0,l.jsxs)("div",{className:"bg-warmGrey95 flex w-[120px] border-r px-[12px] py-[6px]",children:[(0,l.jsx)("div",{className:"Body5_M text-grey30",children:"".concat(a," 상세")}),(0,l.jsx)("span",{className:"bg-decide h-[3px] w-[3px] rounded-[3px]"})]}),(0,l.jsx)("div",{className:"flex w-full",children:(0,l.jsx)("textarea",{className:"h-full w-full",value:f.detail,onChange:e=>{const t=e.target.value;t.length>100?C({...f,detail:t.substring(0,100)}):C({...f,detail:t})},placeholder:"해지 사유를 입력해 주세요. (100자 이내)"})})]})]})}),d&&(0,l.jsx)(Ke.A,{message:"계약을 먼저 선택해 주세요.",handleClose:()=>c(!1)})]})},Ze=a(98404),Je=a(59238),$e=a(1253);function et(){return et=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},et.apply(null,arguments)}var tt=function(e){return r.createElement("svg",et({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},e),r.createElement("mask",{id:"icon-do-not-disturb-on_svg__a",width:24,height:24,x:0,y:0,maskUnits:"userSpaceOnUse",style:{maskType:"alpha"}},ze||(ze=r.createElement("path",{fill:"#D9D9D9",d:"M0 0h24v24H0z"}))),Xe||(Xe=r.createElement("g",{mask:"url(#icon-do-not-disturb-on_svg__a)"},r.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M2 12C2 6.48 6.48 2 12 2s10 4.48 10 10-4.48 10-10 10S2 17.52 2 12m1.6 0c0 4.63 3.77 8.4 8.4 8.4s8.4-3.77 8.4-8.4-3.77-8.4-8.4-8.4S3.6 7.37 3.6 12m3.4-.55a.25.25 0 0 1 .25-.25h9.5a.25.25 0 0 1 .25.25v1.1a.25.25 0 0 1-.25.25h-9.5a.25.25 0 0 1-.25-.25z",clipRule:"evenodd"}))))};var at,lt,rt=function(e){let{selectedRows:t,onSearch:a}=e;const{commonMetaV2List:s}=(0,Je.X)(),n=(0,$e.P9)(),{isSuccess:o,mutateAsync:i}=(0,T.n)(["CancelContractSalesMutation"],(async e=>(await I.q.api((t=>t.ApiV1ContractSalesCancel(e)))).data.result));return(0,r.useEffect)((()=>{o&&(n({message:"매출 계약이 해지되었습니다."}),a())}),[o]),(0,l.jsx)(Qe,{title:"매출 해지",theadTitle:"매출 계약 해지 사유",buttonIcon:(0,l.jsx)(tt,{className:"text-grey50 h-[16px] w-[16px]"}),updateFetch:async e=>{let{type:a,detail:l}=e;const r=t.map((e=>e.contractSalesId));await i({contractSalesIds:r,terminationReasonCode:a,terminationReasonDetail:l})},selectedRows:t,options:s[Ze.k.CONTRACT_TERMINATION_REASON_CODE]||[],checkRow:()=>{if(!t.length)return n({message:"계약을 먼저 선택해 주세요.",type:"caution"}),!1;if(t.find((e=>!e.contractSalesId)))return n({message:"선택된 데이터 중 매출 계약이 존재하지 않는 건이 있습니다.",type:"caution"}),!1;return!!!t.find((e=>e.statusKeySales===R.pqD.STATUS_CANCEL))||(n({message:'“계약완료" 또는 “계약 만료" 상태의 매출 계약 마스터만 해지가 가능합니다.',type:"caution"}),!1)},"data-sentry-element":"TradeContractsStatusButton","data-sentry-component":"SalesCancelButton","data-sentry-source-file":"SalesCancelButton.tsx"})};function st(){return st=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},st.apply(null,arguments)}var nt=function(e){return r.createElement("svg",st({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},e),r.createElement("mask",{id:"icon-restore_svg__a",width:24,height:24,x:0,y:0,maskUnits:"userSpaceOnUse",style:{maskType:"alpha"}},at||(at=r.createElement("path",{fill:"#D9D9D9",d:"M0 0h24v24H0z"}))),lt||(lt=r.createElement("g",{mask:"url(#icon-restore_svg__a)"},r.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M11.96 2c5.2 0 9.49 3.95 9.99 9 .03.33.05.66.05 1s-.02.67-.05 1c-.5 5.05-4.89 9-9.99 9S2.63 18.2 2 13.29a.26.26 0 0 1 .26-.29h1.11c.13 0 .23.09.24.21a8.385 8.385 0 0 0 8.35 7.19c4.31 0 7.88-3.24 8.37-7.4a8.3 8.3 0 0 0 0-2c-.49-4.16-4.06-7.4-8.37-7.4-2.49 0-4.74 1.08-6.27 2.8h2.06c.14 0 .25.11.25.25v1.1c0 .14-.11.25-.25.25h-4.5C3.11 8 3 7.89 3 7.75v-4.5c0-.14.11-.25.25-.25h1.1c.14 0 .25.11.25.25V5.2C6.44 3.23 9.06 2 11.96 2M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0",clipRule:"evenodd"}))))};var ot=function(e){let{selectedRows:t,onSearch:a}=e;const{commonMetaV2List:s}=(0,Je.X)(),n=(0,$e.P9)(),{isSuccess:o,mutateAsync:i}=(0,T.n)(["RestoreContractSalesMutation"],(async e=>(await I.q.api((t=>t.ApiV1ContractSalesRestore(e)))).data.result));return(0,r.useEffect)((()=>{o&&(n({message:"매출 계약 해지가 원복되었습니다."}),a())}),[o]),(0,l.jsx)(Qe,{title:"매출 해지 원복",theadTitle:"해지 원복 사유",buttonIcon:(0,l.jsx)(nt,{className:"text-grey50 h-[16px] w-[16px]"}),updateFetch:async e=>{let{type:a,detail:l}=e;const r=t[0].contractSalesId;await i({contractSalesId:Number(r),terminationCancelReasonCode:a,terminationCancelReasonDetail:l})},selectedRows:t,options:s[Ze.k.CONTRACT_CANCEL_TERMINATION_REASON_CODE]||[],checkRow:()=>{if(!t.length)return n({message:"계약을 먼저 선택해 주세요.",type:"caution"}),!1;if(t.length>1)return n({message:"해지 원복은 단건으로만 가능합니다.",type:"caution"}),!1;if(t.find((e=>!e.contractSalesId)))return n({message:"선택된 데이터 중 매출 계약이 존재하지 않는 건이 있습니다.",type:"caution"}),!1;return!!!t.find((e=>e.statusKeySales!==R.pqD.STATUS_CANCEL))||(n({message:'“계약해지" 상태의 매출 계약 마스터만 해지 원복이 가능합니다.',type:"caution"}),!1)},"data-sentry-element":"TradeContractsStatusButton","data-sentry-component":"SalesRestoreButton","data-sentry-source-file":"SalesRestoreButton.tsx"})};var it=function(e){let{selectedRows:t,onSearch:a}=e;const s=(0,$e.P9)(),{commonMetaV2List:n}=(0,Je.X)(),{isSuccess:o,mutateAsync:i}=(0,T.n)(["CancelContractPurchaseMutation"],(async e=>(await I.q.api((t=>t.ApiV1ContractPurchaseCancel(e)))).data.result));return(0,r.useEffect)((()=>{o&&(s({message:"매입 계약이 해지되었습니다."}),a())}),[o]),(0,l.jsx)(Qe,{title:"매입 해지",theadTitle:"해지 사유",buttonIcon:(0,l.jsx)(tt,{className:"text-grey50 h-[16px] w-[16px]"}),updateFetch:async e=>{let{type:a,detail:l}=e;const r=t.map((e=>e.contractPurchaseId));await i({contractPurchaseIds:r,terminationReasonCode:a,terminationReasonDetail:l})},selectedRows:t,options:n[Ze.k.CONTRACT_TERMINATION_REASON_CODE]||[],checkRow:()=>{if(!t.length)return s({message:"계약을 먼저 선택해 주세요.",type:"caution"}),!1;if(t.find((e=>!e.contractPurchaseId)))return s({message:"선택된 데이터 중 매입 계약이 존재하지 않는 건이 있습니다.",type:"caution"}),!1;return!!!t.find((e=>e.statusKeyPurchase===R.pqD.STATUS_CANCEL))||(s({message:'“계약완료" 또는 “계약 만료" 상태의 매입 계약 마스터만 해지가 가능합니다.',type:"caution"}),!1)},"data-sentry-element":"TradeContractsStatusButton","data-sentry-component":"PurchaseCancelButton","data-sentry-source-file":"PurchaseCancelButton.tsx"})};var dt=function(e){let{selectedRows:t,onSearch:a}=e;const{commonMetaV2List:s}=(0,Je.X)(),n=(0,$e.P9)(),{isSuccess:o,mutateAsync:i}=(0,T.n)(["RestoreContractPurchaseMutation"],(async e=>(await I.q.api((t=>t.ApiV1ContractPurchaseRestore(e)))).data.result));return(0,r.useEffect)((()=>{o&&(n({message:"매입 계약 해지가 원복되었습니다."}),a())}),[o]),(0,l.jsx)(Qe,{title:"매입 해지 원복",theadTitle:"해지 원복 사유",buttonIcon:(0,l.jsx)(nt,{className:"text-grey50 h-[16px] w-[16px]"}),updateFetch:async e=>{let{type:a,detail:l}=e;const r=t[0].contractPurchaseId;await i({contractPurchaseId:r,terminationCancelReasonCode:a,terminationCancelReasonDetail:l})},selectedRows:t,options:s[Ze.k.CONTRACT_CANCEL_TERMINATION_REASON_CODE]||[],checkRow:()=>{if(!t.length)return n({message:"계약을 먼저 선택해 주세요.",type:"caution"}),!1;if(t.length>1)return n({message:"해지 원복은 단건으로만 가능합니다.",type:"caution"}),!1;if(t.find((e=>!e.contractPurchaseId)))return n({message:"선택된 데이터 중 매입 계약이 존재하지 않는 건이 있습니다.",type:"caution"}),!1;return!!!t.find((e=>e.statusKeySales!==R.pqD.STATUS_CANCEL&&e.statusKeyPurchase!==R.pqD.STATUS_CANCEL))||(n({message:'“계약해지" 상태의 매입 계약 마스터만 해지 원복이 가능합니다.',type:"caution"}),!1)},"data-sentry-element":"TradeContractsStatusButton","data-sentry-component":"PurchaseRestoreButton","data-sentry-source-file":"PurchaseRestoreButton.tsx"})};var ct=function(e){let{onSearch:t,selectedRows:a,searchedParams:r}=e;const s=(0,$e.P9)(),{mutateAsync:n,isSuccess:o,data:i}=(0,T.n)(["ContractListExcelMutation"],(async e=>(await I.q.api((t=>t.ApiV1ContractListExcel(e,{format:"blob"})))).data));return(0,l.jsxs)("div",{className:"flex items-center justify-end gap-[8px]","data-sentry-component":"TradeContractsMasterFooter","data-sentry-source-file":"index.tsx",children:[(0,l.jsx)(rt,{selectedRows:a,onSearch:t,"data-sentry-element":"SalesCancelButton","data-sentry-source-file":"index.tsx"}),(0,l.jsx)(ot,{selectedRows:a,onSearch:t,"data-sentry-element":"SalesRestoreButton","data-sentry-source-file":"index.tsx"}),(0,l.jsx)("div",{className:"bg-grey90 h-[12px] w-[1px]"}),(0,l.jsx)(it,{selectedRows:a,onSearch:t,"data-sentry-element":"PurchaseCancelButton","data-sentry-source-file":"index.tsx"}),(0,l.jsx)(dt,{selectedRows:a,onSearch:t,"data-sentry-element":"PurchaseRestoreButton","data-sentry-source-file":"index.tsx"}),(0,l.jsx)("div",{className:"bg-grey90 h-[12px] w-[1px]"}),(0,l.jsx)(We,{excelFileName:"계약마스터",isSuccessExcel:o,excelData:i,handleExcelDownload:async()=>{Object.keys(r).length>0?await n(r):s({message:"계약 조회 후 이용해주세요.",type:"caution"})},"data-sentry-element":"TmsBasicDataGridExcelDownload","data-sentry-source-file":"index.tsx"})]})},ut=a(70278),mt=a(82923);const pt={name:"계약 마스터",path:s.yZ,id:"list-tab"},ht={name:"새 계약 마스터",path:s.pN},ft=(0,mt.vt)(((e,t)=>({tabs:[pt],currentTab:pt,getCurrentTab:()=>t().tabs.find((e=>e.id===t().currentTab.id)),isAddAvailableTab:()=>{const{tabs:e}=t();return!(e.length>=7)||(alert("탭은 최대 7개까지 열립니다."),!1)},setCurrentTab:t=>e({currentTab:t}),addNewTab:()=>{const{isAddAvailableTab:a,tabs:l}=t();if(!a())return;const r={...ht,id:(0,pe.uR)()};e({tabs:[...l,r],currentTab:r})},copyContractNewTab:(a,l)=>{const{isAddAvailableTab:r,tabs:s}=t();if(!r())return;const n={...ht,id:(0,pe.uR)(),copyContractSalesId:a,copyContractPurchaseId:l};e({tabs:[...s,n],currentTab:n})},openDetailTab:a=>{let{contractSalesName:l,contractPurchaseName:r,contractSalesId:n,contractPurchaseId:o,filteredTabs:i}=a;const{isAddAvailableTab:d,tabs:c,setCurrentTab:u,currentTab:m}=t();if(!d())return;const p=c.find((e=>!(!e.contractSalesId&&!e.contractPurchaseId)&&(n?e.contractSalesId===n:e.contractPurchaseId===o))),h={contractPurchaseName:r,contractSalesName:l,name:"",path:s.pN,id:(0,pe.uR)(),contractSalesId:n,contractPurchaseId:o};e(p?{tabs:c.map((e=>e.id===p.id?h:e))}:{tabs:[...i||c,h]}),u(h)},openDetailAndCloseNewTab:a=>{let{contractSalesName:l,contractSalesId:r,contractPurchaseId:s,contractPurchaseName:n}=a;const{currentTab:o,tabs:i}=t();e({tabs:i.map((e=>e.id===o.id?{...e,contractSalesName:l||e.contractSalesName,contractPurchaseName:n||e.contractPurchaseName,contractSalesId:r||e.contractSalesId,contractPurchaseId:s||e.contractPurchaseId,isCreateNewPurchase:!1,isDirty:!1}:e))})},closeTab:a=>{const{tabs:l,currentTab:r}=t(),s=l.filter((e=>e.id!==a.id));e({tabs:s});let n=pt;if(r.id===a.id){const t=l.findIndex((e=>e.id===a.id));s.length>0&&(n=s[Math.min(t,s.length-1)]),e({currentTab:n})}},changeTabInfo:(a,l)=>{const{tabs:r,currentTab:s}=t(),n=r.map((e=>e.id===a?{...e,...l}:e)),o=s.id===a?{...s,...l}:s;e({tabs:n,currentTab:o})},openPurchaseNewTab:(a,l)=>{const{tabs:r}=t(),s={...ht,id:(0,pe.uR)(),contractSalesId:a,contractSalesDegreeId:l};e({tabs:[...r,s],currentTab:s})},setTabName:(e,a,l)=>{t().changeTabInfo(e,{contractSalesName:a,contractPurchaseName:l})},setTabs:t=>e({tabs:t}),isActiveTab:e=>{const a=t().getCurrentTab();return e.id===(null==a?void 0:a.id)||((null==a?void 0:a.contractSalesId)||(null==a?void 0:a.contractPurchaseId)?e.contractSalesId===(null==a?void 0:a.contractSalesId)&&e.contractPurchaseId===(null==a?void 0:a.contractPurchaseId):e.id===(null==a?void 0:a.id))},setTabDirty:(a,l)=>{const r=t().tabs.map((e=>e.id===a?{...e,isDirty:l}:e)),s=t().getCurrentTab(),n=s.id===a?{...s,isDirty:l}:s;e({tabs:r,currentTab:n})},resetTabs:()=>{e({tabs:[pt],currentTab:pt})}})));var Ct=a(6482),xt=a(90619);var Nt=function(e){let{isVisibleContent:t}=e;const{user:a}=(0,i.o)(),s={orgType:"sales",contractStartAt:je()().add(-3,"year").startOf("day").format(),contractEndAt:je()().endOf("day").format(),contractStatus:null,commonMdmCorporationCode:a.mdmCorporationCode?[a.mdmCorporationCode]:null,contractSalesOrganization:a.mdmSalesCostCenterCode?a.mdmSalesCostCenterCode:null,contractPurchaseOrganization:a.mdmPurchaseCostCenterCode?a.mdmPurchaseCostCenterCode:null},{openDetailTab:n}=ft(),[o,d]=(0,r.useState)([]),[c,u]=(0,r.useState)([]),[m,p]=(0,r.useState)([]),[h,f]=(0,r.useState)({}),[C,x]=(0,r.useState)(s),N=(0,D.bBi)(),{data:y,mutateAsync:E,isSuccess:v,reset:A}=(0,T.n)(["ContractListMutation"],(async e=>(await I.q.api((t=>t.ApiV1ContractList(e)))).data.result)),g=async()=>{d([]);const e={salesCostCenterCode:"sales"===C.orgType?"ALL"===C.contractSalesOrganization?null:C.contractSalesOrganization:void 0,purchaseCostCenterCode:"purchases"===C.orgType?"ALL"===C.contractPurchaseOrganization?null:C.contractPurchaseOrganization:void 0,contractName:C.contractName,vendorId:C.commonVendorCode,customerId:C.commonCustomerCode,contractStatusCode:C.contractStatusCode,contractStartAt:C.contractStartAt,contractEndAt:C.contractEndAt,humanResourceCorporationCode:C.commonMdmCorporationCode};f({...e}),await E(e)},b=e=>{const{contractNameSales:t,contractNamePurchase:a,id:l,contractSalesId:r,contractPurchaseId:s}=e.row;n({contractSalesName:t,contractPurchaseName:a,contractSalesId:r,contractPurchaseId:s})};return(0,r.useEffect)((()=>{if(v&&(null==y?void 0:y.contractInfoList)){const e=ut.q.toList(null==y?void 0:y.contractInfoList);d(e),A(),u([])}}),[v]),(0,r.useEffect)((()=>{t&&o.length>0&&g()}),[t]),(0,l.jsx)("div",{className:"h-[calc(100vh-200px)]","data-sentry-component":"TradeContractsMaster","data-sentry-source-file":"TradeContractsMaster.tsx",children:(0,l.jsx)(Ve.A.Provider,{params:C,initialParams:s,setParams:x,onSearch:g,"data-sentry-element":"SearchFilter.Provider","data-sentry-source-file":"TradeContractsMaster.tsx",children:e=>(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(xt.A,{children:[(0,l.jsxs)(Ct.A,{width:"w-[327px]",children:[(0,l.jsx)(Ve.A.ContractOrganization,{}),(0,l.jsx)(Ve.A.SearchDate,{label:"계약일자",startDateFiled:"contractStartAt",endDateFiled:"contractEndAt",labelContainerClassName:"!min-w-[49px] flex-none mr-[1px]",datePickerClassName:"!w-[128px]"})]}),(0,l.jsxs)(Ct.A,{children:[(0,l.jsx)(Ve.A.CustomerNameMultiAutocomplete,{label:"화주",fieldName:"commonCustomerCode",className:"!max-w-[262px]",mdmStatusType:R.P7O.COMPLETE,labelContainerClassName:"!min-w-[46px]"}),(0,l.jsx)(Ve.A.AllMetaMultiAutocompleteSearch,{label:"인사조직",allMetaType:Ze.k.COMMON_MDM_CORPORATION_CODE,className:"!max-w-[262px]",labelContainerClassName:"!min-w-[46px]"})]}),(0,l.jsx)(Ct.A,{children:(0,l.jsx)(Ve.A.SearchText,{label:"계약명",fieldName:"contractName",placeholder:"계약명 입력",className:"!min-w-[150px] !max-w-[273px]",labelContainerClassName:"!min-w-[35px]"})}),(0,l.jsx)(Ct.A,{children:(0,l.jsx)(Ve.A.AllMetaAutocompleteSearch,{label:"계약상태",allMetaType:Ze.k.CONTRACT_STATUS_CODE,className:"!max-w-[259px]",labelContainerClassName:"!min-w-[49px]"})}),(0,l.jsx)(Ct.A,{children:(0,l.jsx)(Ve.A.VendorPartnerMultiAutocomplete,{label:"파트너",fieldName:"commonVendorCode",className:"!max-w-[273px]",mdmStatusType:R.LAR.COMPLETE,labelContainerClassName:"!min-w-[35px]"})})]}),(0,l.jsx)("div",{className:"h-[calc(100%-152px)]",children:(0,l.jsx)(Fe.A,{apiRef:N,rows:o,columns:Ue,checkboxSelection:!0,columnHeaderHeight:32,rowSelectionModel:c,onRowSelectionModelChange:e=>{u(e);const t=e.map((e=>o.find((t=>t.id===e))));p(t)},initialState:{pinnedColumns:{left:["__check__","id"]}},sx:{"& .MuiDataGrid-columnHeaderCheckbox, & .MuiDataGrid-cellCheckbox":{paddingLeft:"40px",width:"76px",maxWidth:"76px",minWidth:"76px"}},onRowDoubleClick:b})}),(0,l.jsx)("div",{className:"border-grey90 absolute bottom-0 ml-auto flex w-full min-w-[900px] items-center justify-end gap-[8px] border-t-[1px] bg-white px-[40px] py-[12px]",children:(0,l.jsx)(ct,{onSearch:g,selectedRows:m,searchedParams:h})})]})})})},yt=a(33092),Et=a(15072);function vt(e){let{isFirst:t=!1,required:a,thLabel:r,children:s,isEmpty:n=!1,isDisabled:o=!1,hideChildrenWhenDisabled:i=!1,labelClassName:d="",className:c="",childrenContainerClassName:u="",errorMessage:m=""}=e;const p=i||n;return(0,l.jsx)(Et.A,{isOpened:!!m,title:m,statusType:"error",transitionTime:0,arrowPosition:"left","data-sentry-element":"TmsBasicTooltip","data-sentry-component":"TableTrLayout","data-sentry-source-file":"TableTrLayout.tsx",children:(0,l.jsxs)("div",{className:"flex h-[32px] w-full ".concat(c," ").concat(m&&"border-error border-[1px]"),children:[(0,l.jsx)("div",{className:"bg-warmGrey95 border-blackOpacity8 flex w-[90px] flex-none border-b border-r px-[12px] py-[6px] ".concat(d),children:!n&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"Body5_M text-grey30",children:r}),a&&(0,l.jsx)("span",{className:"bg-decide h-[3px] w-[3px] flex-none rounded-[3px]"})]})}),(0,l.jsx)("div",{className:C()("border-blackOpacity8 Body5_M flex w-full border-b ".concat(t&&"border-t-blackOpacity8 border-t"),{"bg-warmGrey98 text-grey50 input-disabled-bg":o||p,[u]:u}),children:!p&&s})]})})}var At,gt=a(78976),Tt=a(41437);function It(){return It=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},It.apply(null,arguments)}var bt=function(e){return r.createElement("svg",It({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},e),At||(At=r.createElement("path",{fill:"currentColor",d:"M20 3c.55 0 1 .45 1 1v16c0 .55-.45 1-1 1H4c-.55 0-1-.45-1-1V4c0-.55.45-1 1-1zM4.6 4.6v14.8h14.8V4.6zm12.15 6.6a.25.25 0 0 1 .25.25v1.1a.25.25 0 0 1-.25.25h-9.5a.25.25 0 0 1-.25-.25v-1.1a.25.25 0 0 1 .25-.25z"})))};function Rt(e){let{label:t="행 삭제",isDisabled:a,handleDeleteRow:r}=e;return(0,l.jsx)(u.A,{label:t,level:m.V.level_5,size:m.M.Small,leftIcon:(0,l.jsx)(bt,{width:16,height:16,className:C()(a?"text-redDisabled":"text-error")}),onClick:r,disabled:a,"data-sentry-element":"TmsBasicButton","data-sentry-component":"TmsDataGridDeleteRowBtn","data-sentry-source-file":"TmsDataGridDeleteRowBtn.tsx"})}var St=a(3403),_t=a(89559);var wt=function(e){let{setOpenedDegree:t,degreeData:a,handleSetContractForm:r,handleCheckRow:s,handleAddDegreeRow:n,handleDeleteDegreeRows:o,handleDoubleClickRow:i,handleSaveDegree:d,isExpired:c,isSalesType:u,isInvalidDegreeDate:m}=e;return(0,l.jsxs)("div",{className:"border-grey80 absolute right-0 z-[200] w-[440px] rounded-[12px] border bg-white p-[24px] shadow-[0px_0px_16px_0px_rgba(0,0,0,0.08)]","data-sentry-component":"DegreeInfo","data-sentry-source-file":"DegreeInfo.tsx",children:[(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("div",{className:"Title4_EX",children:u?"매출 차수":"매입 차수"}),(0,l.jsx)("button",{onClick:()=>t(!1),children:(0,l.jsx)(ie.A,{className:"text-grey60 h-[24px] w-[24px]","data-sentry-element":"IconClose","data-sentry-source-file":"DegreeInfo.tsx"})})]}),(0,l.jsxs)("div",{className:"pt-[24px]",children:[(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center gap-[8px]",children:[(0,l.jsx)(St.A,{handleAddRow:n,isDisabled:c,"data-sentry-element":"TmsDataGridAddRowBtn","data-sentry-source-file":"DegreeInfo.tsx"}),(0,l.jsx)(Rt,{handleDeleteRow:o,isDisabled:c,"data-sentry-element":"TmsDataGridDeleteRowBtn","data-sentry-source-file":"DegreeInfo.tsx"})]}),(0,l.jsx)(_t.A,{handleSave:d,isDisabled:c,"data-sentry-element":"TmsDataGridSaveBtn","data-sentry-source-file":"DegreeInfo.tsx"})]}),(0,l.jsxs)("div",{className:"basic-dataGrid mt-[8px] w-full",children:[(0,l.jsxs)("div",{className:"MuiDataGrid-columnHeaders flex w-full",children:[(0,l.jsx)("div",{className:"MuiDataGrid-columnHeader w-[48px] !py-[6px] px-[12px] text-center",children:"선택"}),(0,l.jsx)("div",{className:"MuiDataGrid-columnHeader w-[74px] !py-[6px] px-[12px] text-center",children:"매출 차수"}),(0,l.jsx)("div",{className:"MuiDataGrid-columnHeader w-[135px] !py-[6px] px-[12px] text-center",children:"적용 일자"}),(0,l.jsx)("div",{className:"MuiDataGrid-columnHeader w-[135px] !py-[6px] px-[12px] text-center",children:"만료 일자"})]}),(0,l.jsx)("div",{children:null==a?void 0:a.map(((e,t)=>(0,l.jsxs)("div",{className:"border-grey80 flex border-b",onDoubleClick:()=>i(e),children:[(0,l.jsx)("div",{className:"border-grey80 Body5_M flex w-[48px] items-center justify-center border-r",children:(0,l.jsx)("input",{type:"checkbox",disabled:0===t||!e.isNew,checked:e.selected,onChange:()=>s(e.id)})}),(0,l.jsx)("div",{className:"border-grey80 Body5_M flex w-[74px] items-center justify-center border-r",children:e.no}),(0,l.jsxs)("div",{className:"border-grey80 Body5_M flex w-[135px] items-center border-r",children:[(c||0===t)&&(0,l.jsx)("div",{className:"py-[6px] pl-[12px]",children:je()(e.startAt).format("YYYY-MM-DD")}),!c&&t>0&&(0,l.jsx)(gt.A,{value:je()(e.startAt),componentType:"date-picker-table",datePickerClassName:C()("w-full Body5_M",{"border border-error [&_svg]:text-error [&_.MuiSvgIcon-root]:text-error":m}),shouldDisableDate:e=>{if(0===t)return!1;const l=je()(a[t-1].startAt).add(1,"day");return e.isBefore(l,"day")},onChange:e=>{a[t]={...a[t],startAt:e.format()},t>0&&(a[t-1]={...a[t-1],endAt:je()(e).add(-1,"day").format()}),r({degreeInfo:a})}})]}),(0,l.jsx)("div",{className:"Body5_M flex w-[135px] items-center py-[6px] pl-[12px]",children:je()(e.endAt).format("YYYY-MM-DD")})]},e.id)))})]}),(0,l.jsx)("div",{className:"text-grey60 Body5_M mt-[4px]",children:(0,l.jsx)("ul",{className:"list-inside list-disc space-y-1",children:(0,l.jsx)("li",{children:"차수 저장 이후 삭제는 불가합니다."})})})]})]})};class Ot{static formatDate(e){return je()(e).format()}static contractSalesDegreeInfo(e,t){return e?e.map((e=>({contractSalesDegreeId:t&&!e.isNew&&e.id?e.id:void 0,degree:e.no,degreeStartAt:je()(e.startAt).startOf("day").format(),degreeEndAt:je()(e.endAt).endOf("day").format()}))):[]}static contractPurchaseDegreeInfo(e,t){return e?e.map((e=>({contractPurchaseDegreeId:t||e.isNew||!e.id?void 0:e.id,degree:e.no,degreeStartAt:je()(e.startAt).startOf("day").format(),degreeEndAt:je()(e.endAt).endOf("day").format()}))):[]}static setSalesRequestParams(e,t){var a,l,r;return{contractSalesId:t,contractName:e.contractName,customerId:Number(e.customerId),settlementDateCode:e.settlementDate,billingDateCode:e.billingDate,contractAt:this.formatDate(e.contractDate||""),contractStartAt:je()(e.contractPeriodStartDate||"").startOf("day").format(),contractEndAt:je()(e.contractPeriodEndDate||"").endOf("day").format(),taxTypeCode:e.taxType,roundUpDownType:e.billingRounding?R.VMk[e.billingRounding]:null,salesCostCenterCode:e.salesOrganization||"",purchaseCostCenterCode:e.purchaseOrganization||"",humanResourceCorporationCode:e.executionBase||"",contractManagerId:Number(null===(a=e.contractManager)||void 0===a?void 0:a.id),contractApproverEmpNo:null===(l=e.superiorManager)||void 0===l?void 0:l.id,paymentConditionCode:(null===(r=e.collectionTerms)||void 0===r?void 0:r.id)||"",contractRemark:e.memo,customerPhoneNumber:e.phoneNumber,vatRoundUpDownType:e.vatRounding?R.axo[e.vatRounding]:null,contractSalesDegreeInfoList:Ot.contractSalesDegreeInfo(e.degreeInfo,!0)}}static setPurchasesRequestParams(e,t,a,l){var r,s,n;return{contractPurchaseId:l,contractSalesId:a||null,vendorId:(null===(r=e.vendor)||void 0===r?void 0:r.id)||0,contractName:e.contractName,settlementBaseDateCode:e.settlementDate,paymentDateCode:e.billingDate,contractAt:this.formatDate(e.contractDate||""),contractStartAt:this.formatDate(e.contractPeriodStartDate||""),contractEndAt:this.formatDate(e.contractPeriodEndDate||""),taxClassCode:e.taxType,roundUpDownType:e.billingRounding?R.VMk[e.billingRounding]:null,vatRoundUpDownType:e.vatRounding?R.axo[e.vatRounding]:null,salesCostCenterCode:e.salesOrganization||"",purchaseCostCenterCode:e.purchaseOrganization||"",humanResourceCorporationCode:e.executionBase||"",contractManagerId:Number(null===(s=e.contractManager)||void 0===s?void 0:s.id),contractApproverEmpNo:null===(n=e.superiorManager)||void 0===n?void 0:n.id,contractSalesDegreeId:Number(t),contractRemark:e.memo,vendorPhoneNumber:e.phoneNumber,contractPurChaseDegreeInfoList:Ot.contractSalesDegreeInfo(e.degreeInfo,!1)}}}var Mt=class{static setDegreeInfo(e){return e&&0!==e.length?e.map((e=>({no:e.degree||1,id:"contractSalesDegreeId"in e&&e.contractSalesDegreeId||"contractPurchaseDegreeId"in e&&e.contractPurchaseDegreeId||null,startAt:e.degreeStartAt,endAt:e.degreeEndAt,selected:!1}))):[]}static setSalesFormDetail(e,t){var a;return e?{contractId:t?void 0:e.contractSalesId||0,contractNo:t?void 0:e.contractNo,contractName:t?"".concat(e.contractName," 사본"):e.contractName||"",customerName:e.customerName,businessNumber:e.registrationNumber,phoneNumber:e.customerPhoneNumber,settlementDate:e.settlementDateCode||"",settlementDateValue:e.settlementDateName,billingDate:e.billingDateCode||"",billingDateValue:e.billingDateName,collectionTerms:{id:e.paymentConditionCode||"",value:e.paymentConditionCodeName||""},contractDate:e.contractAt,contractPeriodStartDate:e.contractStartAt,contractPeriodEndDate:e.contractEndAt,taxType:e.taxTypeCode||"",taxTypeValue:e.taxTypeName,billingRounding:e.roundUpDownType,vatRounding:e.vatRoundUpDownType,salesOrganization:e.salesCostCenterCode||"",executionBase:e.humanResourceCorporationCode||"",purchaseOrganization:e.purchaseCostCenterCode||null,memo:e.contractRemark,superiorManager:{id:e.contractApproverCode,empNo:e.contractApproverEmpNo,name:e.contractApproverEmpName},customerId:e.customerId,customerMdmCode:e.customerMdmCode||"",contractManager:{id:null===(a=e.contractManagerId)||void 0===a?void 0:a.toString(),empNo:e.contractManagerEmpNo,name:e.contractManagerEmpName},degreeInfo:t?[]:this.setDegreeInfo(e.contractSalesDegreeInfoList)}:null}static setPurchaseFormDetail(e,t){var a;return e?{contractId:t?null:e.contractPurchaseId||0,contractName:t?"".concat(e.contractName," 사본"):e.contractName||"",vendor:{id:e.vendorId,name:e.vendorName,mdmCode:e.vendorMdmCode},businessNumber:e.registrationNumber,phoneNumber:e.vendorPhoneNumber,settlementDate:e.settlementDateCode||"",settlementDateValue:e.settlementDateName,billingDate:e.paymentDateCode||"",billingDateValue:e.paymentDateName,contractDate:e.contractAt,contractPeriodStartDate:e.contractStartAt,contractPeriodEndDate:e.contractEndAt,taxType:e.taxTypeCode||"",taxTypeValue:e.taxTypeName,billingRounding:e.roundUpDownType,vatRounding:e.vatRoundUpDownType,salesOrganization:e.salesCostCenterCode||"",executionBase:e.humanResourceCorporationCode||"",purchaseOrganization:e.purchaseCostCenterCode||null,memo:e.contractRemark,superiorManager:{id:e.contractApproverCode,empNo:e.contractApproverEmpNo,name:e.contractApproverEmpName},contractManager:{id:null===(a=e.contractManagerId)||void 0===a?void 0:a.toString(),empNo:e.contractManagerEmpNo,name:e.contractManagerEmpName},degreeInfo:t?[]:this.setDegreeInfo(e.contractPurChaseDegreeInfoList)}:null}};const Dt={contractId:0,contractName:"",customerName:null,businessNumber:"",phoneNumber:"",settlementDate:"",billingDate:"",collectionTerms:null,contractDate:je()().format(),contractPeriodStartDate:je()().format(),contractPeriodEndDate:je()().add(1,"year").add(-1,"day").format(),taxType:"",billingRounding:"",salesOrganization:null,executionBase:null,vatRounding:null,purchaseOrganization:null,memo:"",superiorManager:null,degreeInfo:[]},jt=e=>{let{isSalesType:t,originContractFormProps:a,currentSalesDegreeId:l,isNewPurchase:s,setCurrentDegreeId:n,resetFormData:o,setContractFormProps:i,purchaseDetailSummaryList:d,setPurchaseContractNo:u,getSalesContractPeriod:m,onRefreshPurchaseDetail:p,getSalesButtonDegree:h}=e;const{changeTabInfo:f,openDetailAndCloseNewTab:C,getCurrentTab:x,setTabDirty:N}=ft(),y=x(),A=(0,$e.P9)(),g=v(),b=E(),[R,S]=(0,r.useState)(Dt),[_,w]=(0,r.useState)(d),[O,M]=(0,r.useState)(!1),[D,j]=(0,r.useState)(!1),{isSuccess:P,mutateAsync:L,data:B}=(0,T.n)(["SaveContractSalesMutation"],(async e=>(await I.q.api((t=>t.ApiV1ContractSalesSave(e)))).data.result)),{isSuccess:U,mutateAsync:V,data:F}=(0,T.n)(["SaveContractPurchaseMutation"],(async e=>(await I.q.api((t=>t.ApiV1ContractPurchaseSave(e)))).data.result)),{isSuccess:G,mutateAsync:k,data:Y}=(0,T.n)(["SaveContractSalesDegreeMutation"],(async e=>(await I.q.api((t=>t.ApiV1ContractSalesDegreeSave(e)))).data.result)),{isSuccess:q,mutateAsync:W,data:H}=(0,T.n)(["SaveContractPurchaseDegreeMutation"],(async e=>(await I.q.api((t=>t.ApiV1ContractPurchaseDegreeSave(e)))).data.result)),K=e=>{S((t=>({...t,...e})))},z=()=>{if(!t||!(null==a?void 0:a.degreeInfo)||!(null==R?void 0:R.degreeInfo))return!1;const e=a.degreeInfo,l=R.degreeInfo;if(e.length!==l.length)return!0;for(let t=0;t<e.length;t++){const a=e[t],r=l[t];if(a.startAt!==r.startAt||a.endAt!==r.endAt)return!0}return!1},X=()=>{f&&y.id&&(f(y.id,{contractPurchaseId:y.prevContractPurchaseFormData.contractId,contractPurchaseName:y.prevContractPurchaseFormData.contractName,isCreateNewPurchase:!1}),i(y.prevContractPurchaseFormData))},Q=e=>{if((e||[]).find((e=>{const t=je()(e.startAt),a=je()(e.endAt);return!t.isValid()||!a.isValid()||t.isSame(a)||t.isAfter(a)})))return A({message:"적용 일자를 만료 일자 이후로 설정할 수 없습니다.",type:"caution"}),!1;for(let t=1;t<e.length;t++){const a=je()(e[t-1].startAt),l=je()(e[t].startAt);if(l.isSame(a,"day")||l.isBefore(a,"day"))return A({message:"차수 ".concat(e[t].no,"의 적용 일자는 이전 차수의 적용 일자보다 미래로 설정해야 합니다."),type:"caution"}),!1}return!0},Z=e=>{n(e),M(!1)};return(0,r.useEffect)((()=>{var e,t,a,l;P&&(A({message:"매출 계약이 저장되었습니다."}),i(Mt.setSalesFormDetail(B.contractSalesDetailInfo)),n((null===(e=c().last(null===(t=B.contractSalesDetailInfo)||void 0===t?void 0:t.contractSalesDegreeInfoList))||void 0===e?void 0:e.contractSalesDegreeId)||void 0),C({contractSalesName:(null===(a=B.contractSalesDetailInfo)||void 0===a?void 0:a.contractName)||"",contractSalesId:(null===(l=B.contractSalesDetailInfo)||void 0===l?void 0:l.contractSalesId)||0}),B.isPeriodChanged&&p&&p())}),[P]),(0,r.useEffect)((()=>{if(U&&F){var e,t,a,l,r,o;A({message:"매입 계약이 저장되었습니다."}),i(Mt.setPurchaseFormDetail(null==F?void 0:F.contractPurChaseDetailInfo)),w(F.contractPurchaseSummaryList),u&&u(null===(e=F.contractPurChaseDetailInfo)||void 0===e?void 0:e.contractNo),n((null===(t=c().last(null===(a=F.contractPurChaseDetailInfo)||void 0===a?void 0:a.contractPurChaseDegreeInfoList))||void 0===t?void 0:t.contractPurchaseDegreeId)||void 0),C({contractPurchaseName:(null===(l=F.contractPurChaseDetailInfo)||void 0===l?void 0:l.contractName)||"",contractPurchaseId:(null===(r=F.contractPurChaseDetailInfo)||void 0===r?void 0:r.contractPurchaseId)||0});const d=(null===(o=F.contractPurChaseDetailInfo)||void 0===o?void 0:o.contractPurChaseDegreeInfoList)||[],m=d.length>0?d[0].contractPurchaseDegreeId:null;s&&m&&n&&n(m)}}),[U]),(0,r.useEffect)((()=>{a&&S({...c().cloneDeep(a),degreeInfo:c().cloneDeep(a.degreeInfo)})}),[a]),(0,r.useEffect)((()=>{let e=!c().isEqual(c().omit(a,"degreeInfo"),c().omit(R,"degreeInfo"));y.contractSalesId||y.contractSalesId||(e=!c().isEqual(Dt,R)),e!==y.isDirty&&N(y.id||"",e)}),[a,R]),(0,r.useEffect)((()=>{G&&(A({message:"매출 차수가 저장되었습니다."}),Y&&(Z(c().last(Y.contractSalesDegreeInfoList).contractSalesDegreeId),S({...R,degreeInfo:Mt.setDegreeInfo(Y.contractSalesDegreeInfoList)})))}),[G]),(0,r.useEffect)((()=>{var e;q&&(A({message:"매입 차수가 저장되었습니다."}),H&&(Z(null===(e=c().last(H.contractPurChaseDegreeInfoList))||void 0===e?void 0:e.contractPurchaseDegreeId),S({...R,degreeInfo:Mt.setDegreeInfo(H.contractPurChaseDegreeInfoList)})))}),[q]),(0,r.useEffect)((()=>{d.length>0&&w(d)}),[d]),{contractForm:R,handleSetContractForm:K,handleSave:async()=>{if(t){if(z()&&!Q(R.degreeInfo||[]))return;return void await L(Ot.setSalesRequestParams(R,null==y?void 0:y.contractSalesId))}const e=null==m?void 0:m();if(e){const t=e.contractPeriodStartDate,a=e.contractPeriodEndDate,l=R.contractPeriodStartDate,r=R.contractPeriodEndDate;if(t&&a&&l&&r){const e=je()(t),s=je()(a),n=je()(l),o=je()(r);if(n.isBefore(e,"day")||o.isAfter(s,"day"))return void b({title:"매입 계약 기간은 매출 계약 기간 내에 포함되어야 합니다."})}}await V(Ot.setPurchasesRequestParams(R,l,null==y?void 0:y.contractSalesId,null==y?void 0:y.contractPurchaseId))},handleCheckRow:e=>{const t=R.degreeInfo.map((t=>t.id===e?{...t,selected:!t.selected}:t));K({degreeInfo:t})},handleAddDegreeRow:()=>{const e=je()();R.degreeInfo.length>0&&(R.degreeInfo[R.degreeInfo.length-1].endAt=e.add(-1,"day").format());let a=R.contractPeriodEndDate,l=e.format();if(!t&&h){const e=h();(null==e?void 0:e.endAt)&&(a=e.endAt),0===R.degreeInfo.length&&(l=e.startAt)}const r={id:Date.now()+Math.floor(1e3*Math.random()),no:R.degreeInfo.length>0?Math.max(...R.degreeInfo.map((e=>e.no)))+1:1,startAt:l,endAt:a,selected:!1,isNew:!0};K({degreeInfo:[...R.degreeInfo,r]})},handleDeleteDegreeRows:()=>{const e=R.degreeInfo.filter((e=>!e.selected||!e.isNew)),t=R.degreeInfo.findLastIndex((e=>e.selected||e.isNew)),a=R.degreeInfo[t];e[e.length-1].endAt=a.endAt,K({degreeInfo:e})},handleClickNewPurchaseButton:()=>{f&&y.id&&(f(y.id,{contractPurchaseId:void 0,prevContractPurchaseFormData:R,contractPurchaseName:"",isDirty:!1,isCreateNewPurchase:!0}),o&&o(),S(Dt))},handleSaveDegree:async()=>{Q(R.degreeInfo||[])?(j(!1),t?await k({contractSalesId:y.contractSalesId,contractSalesDegreeInfoList:Ot.contractSalesDegreeInfo(R.degreeInfo,t)}):await W({contractPurchaseId:y.contractPurchaseId,contractSalesDegreeId:l,contractPurChaseDegreeInfoList:Ot.contractPurchaseDegreeInfo(R.degreeInfo,t)})):j(!0)},handleClickNewPurchaseCancelButton:()=>{c().isEqual(Dt,R)?X():g({title:"작성 중인 계약 마스터가 있습니다.",description:"화면을 나가면 작성된 계약 마스터가 삭제됩니다. 나가시겠어요?",modalWidth:400,confirmButtonLabel:"나가기",closeButtonLabel:"취소",onClickConfirmButton:()=>{X()}})},purchaseSummaryList:_,openedDegree:O,setOpenedDegree:M,handleChangeDegree:e=>{e.isNew||Z(e.id)},isInvalidDegreeDate:D,isSalesDegreeInfoChanged:z}};var Pt=a(54897);var Lt;function Bt(){return Bt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},Bt.apply(null,arguments)}var Ut=function(e){return r.createElement("svg",Bt({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},e),Lt||(Lt=r.createElement("path",{fill:"currentColor",d:"M20 7h-3V4c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3v3c0 .55.45 1 1 1h12c.55 0 1-.45 1-1V8c0-.55-.45-1-1-1M7 15.4H4.6V4.6h10.8v10.8zm12.4 4H8.6V17H16c.55 0 1-.45 1-1V8.6h2.4z"})))};var Vt=function(e){let{valueToCopy:t}=e;const{copy:a,copied:s}=(()=>{const[e,t]=(0,r.useState)(!1);return{copy:async e=>{try{await navigator.clipboard.writeText(e),t(!0),setTimeout((()=>t(!1)),2e3)}catch(e){}},copied:e}})(),n=(0,$e.P9)();return(0,r.useEffect)((()=>{s&&n({message:"복사되었습니다"})}),[s]),(0,l.jsx)("button",{onClick:()=>a(t),"data-sentry-component":"CopyButton","data-sentry-source-file":"CopyButton.tsx",children:(0,l.jsx)(Ut,{className:"text-grey50 h-[16px] w-[16px]","data-sentry-element":"IconCopy","data-sentry-source-file":"CopyButton.tsx"})})};var Ft=function(e){let{purchaseSummaryList:t,contractNo:a,isPurchaseCreating:s}=e;const{currentTab:n,changeTabInfo:o}=ft(),[i,d]=(0,r.useState)(!1),c=t.length>1&&!s,u=(0,r.useRef)(null);return(0,r.useEffect)((()=>{function e(e){u.current&&!u.current.contains(e.target)&&d(!1)}return i?document.addEventListener("mousedown",e):document.removeEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[i]),(0,l.jsxs)(l.Fragment,{children:[c&&(0,l.jsx)("div",{className:"bg-grey98 text-grey40 Body4_B flex h-[20px] w-[20px] flex-none items-center justify-center rounded-full",children:t.length}),(0,l.jsxs)("div",{className:"relative",ref:u,children:[(0,l.jsxs)("div",{className:"flex items-center gap-[4px]",children:[(0,l.jsxs)("div",{className:"flex cursor-pointer items-center",onClick:()=>{c&&d(!i)},children:[(0,l.jsx)("p",{className:"Body5_M text-grey50 flex-none",children:s?"계약 작성 중":a}),c&&(0,l.jsx)(p.A,{className:"text-grey50 h-[20px] w-[20px]"})]}),a&&(0,l.jsx)(Vt,{valueToCopy:a})]}),i&&(0,l.jsx)("div",{className:"border-grey80 absolute left-0 top-[30px] z-[200] w-max min-w-[292px] max-w-[600px] rounded-[8px] border bg-white p-[4px]",children:t.map((e=>(0,l.jsxs)("div",{className:"flex cursor-pointer items-center gap-[4px] px-[12px] py-[6px]",onClick:()=>(e=>{d(!1),o(n.id,{contractPurchaseId:e.contractPurchaseId,isCreateNewPurchase:!1,isRefreshPurchase:!0})})(e),children:[(0,l.jsx)("p",{className:"Body5_M flex-none text-black",children:e.contractName}),(0,l.jsx)("p",{className:"Caption2_B text-grey60 max-w-[calc(100%-150px)] flex-none truncate",children:e.contractNo}),a===e.contractNo&&(0,l.jsx)(Pt.A,{className:"text-progress ml-[4px] h-[20px] w-[20px]"})]},e.contractPurchaseId)))})]})]})};const Gt=g()((()=>Promise.resolve().then(a.bind(a,17818))),{loadableGenerated:{webpack:()=>[17818]},ssr:!1});var kt=function(e){let{setSelectItem:t,placeholder:a="파트너 입력",defaultValue:s="",modalTitle:n}=e;const[o,i]=(0,r.useState)(""),[d,c]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{i(s)}),[s]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(Tt.A,{className:"w-full",componentType:"input-table",value:o,placeholder:a,onKeyDown:e=>{"Enter"===e.key&&c(!0)},onChange:e=>{i(e.target.value)},rightIcon:(0,l.jsx)(se.A,{width:20,height:20,className:"cursor-pointer",onClick:()=>c(!0)}),"data-sentry-element":"TmsBasicInput","data-sentry-source-file":"TransportOfficeInputWithModal.tsx"}),d&&(0,l.jsx)(Gt,{searchInputValueProps:o,setIsOpened:c,onRowDoubleClickProps:(e,a,l)=>{i(e.row.name),t(e.row)},modalTitle:n})]})};const Yt=g()((()=>a.e(44).then(a.bind(a,87044))),{loadableGenerated:{webpack:()=>[87044]},ssr:!1});function qt(e){let{setSelectItem:t,defaultValue:a="",mdmStatusType:s}=e;const[n,o]=(0,r.useState)(a),[i,d]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{o(a)}),[a]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(Tt.A,{className:"w-full",componentType:"input-table",value:n,placeholder:"화주 입력",onKeyDown:e=>{"Enter"===e.key&&d(!0)},onChange:e=>{o(e.target.value)},rightIcon:(0,l.jsx)(se.A,{width:20,height:20,className:"cursor-pointer",onClick:()=>d(!0)}),"data-sentry-element":"TmsBasicInput","data-sentry-source-file":"CustomerNameInputWithModal.tsx"}),i&&(0,l.jsx)(Yt,{searchInputValueProps:n,setIsOpened:d,onRowDoubleClickProps:(e,a,l)=>{o(e.row.name),t(e.row)},mdmStatusType:s})]})}var Wt=a(12417);var Ht=e=>{let{className:t="",required:a,label:s="",selectedOptionId:n,onChangeSelectedOption:o}=e;const{isSuccess:i,data:d}=(0,Wt.DS)(),[c,u]=(0,r.useState)([]);return(0,r.useEffect)((()=>{i&&d.list&&u(((null==d?void 0:d.list)||[]).map((e=>({id:e.empNo,label:"".concat(e.name," (").concat(e.empNo,")")}))))}),[d]),(0,l.jsx)(He.A,{autocompleteBoxClassName:"w-full",componentType:"autocomplete-table",required:a,label:s,autocompleteClassName:t,options:c,selectedId:n,onChange:(e,t)=>{o(t)},firstOptionType:null,placeholder:"".concat(s," 입력"),"data-sentry-element":"TmsBasicAutocomplete","data-sentry-component":"AdminHeadUserAutocomplete","data-sentry-source-file":"AdminHeadUserAutocomplete.tsx"})};const Kt="flex w-full";var zt=(0,r.forwardRef)(((e,t)=>{let{salesPurchaseContractFormClassName:a,contractNo:s,isSalesType:n,contractFormProps:o,currentSalesDegreeId:i,currentPurchaseDegreeId:d,setCurrentDegreeId:h,purchaseDetailSummaryList:f=[],isNewPurchase:x,resetFormData:N,isDisabledSave:y=!1,isExpired:E,setContractFormProps:v,setPurchaseContractNo:A,setPurchaseDetail:g,onDegreeInfoChange:T,getSalesContractPeriod:I,onRefreshPurchaseDetail:b,getSalesButtonDegree:S}=e;var _,w,O,M,D,j,P,L;const{commonMetaV2List:B}=(0,Je.X)(),{getCurrentTab:U}=ft(),{adminUserOptions:V}=function(){const{data:e,isSuccess:t}=(0,Wt.V_)();return{adminUserOptions:(0,r.useMemo)((()=>t&&(null==e?void 0:e.list)?e.list.map((e=>({id:e.empNo,label:"".concat(e.name," (").concat(e.empNo,")"),tag:e.name,headEmpNo:e.headEmpNo,adminId:e.adminId}))):[]),[e,t])}}(),F=U(),G=!!(null==o?void 0:o.contractId),k=!n&&!!(null==F?void 0:F.isCreateNewPurchase),{contractForm:Y,handleSetContractForm:q,handleSave:W,handleCheckRow:H,handleAddDegreeRow:K,handleDeleteDegreeRows:z,handleClickNewPurchaseButton:X,handleSaveDegree:Q,handleClickNewPurchaseCancelButton:Z,purchaseSummaryList:J,openedDegree:$,setOpenedDegree:ee,handleChangeDegree:te,isInvalidDegreeDate:ae,isSalesDegreeInfoChanged:le}=jt({isNewPurchase:x,isSalesType:n,originContractFormProps:o,currentSalesDegreeId:i,setCurrentDegreeId:h,resetFormData:N,setContractFormProps:v,purchaseDetailSummaryList:f,setPurchaseContractNo:A,getSalesContractPeriod:!n&&I?I:void 0,onRefreshPurchaseDetail:n&&b?b:void 0,getSalesButtonDegree:!n&&S?S:void 0}),re=(0,r.useMemo)((()=>{var e,t;if(!(null==Y?void 0:Y.degreeInfo)||0===(null==Y||null===(e=Y.degreeInfo)||void 0===e?void 0:e.length))return null;if(n&&i)return null==Y||null===(t=Y.degreeInfo)||void 0===t?void 0:t.find((e=>e.id===i));if(!n&&d){var a;return(null==Y||null===(a=Y.degreeInfo)||void 0===a?void 0:a.find((e=>e.id===d)))||c().last(null==Y?void 0:Y.degreeInfo)}return c().last(null==Y?void 0:Y.degreeInfo)}),[Y,d,i]);return(0,r.useEffect)((()=>{n&&(null==Y?void 0:Y.degreeInfo)&&T&&le()&&T(Y.degreeInfo,re)}),[Y,null==Y?void 0:Y.degreeInfo,n,T,re]),(0,r.useImperativeHandle)(t,(()=>({setContractForm:q,getContractForm:()=>Y,saveDegree:Q,getButtonDegree:()=>re})),[q,Y,Q,re]),(0,l.jsxs)("div",{className:"border-t-grey90 border-blackOpacity8 flex flex-1 flex-col gap-[8px] border-t px-[39px] py-[16px] ".concat(a),children:[(0,l.jsxs)("div",{className:"flex w-full items-center gap-[8px]",children:[(0,l.jsx)("div",{className:"Body2_B flex-none",children:n?"매출 계약":"매입 계약"}),(0,l.jsx)(Ft,{purchaseSummaryList:J,contractNo:s,isPurchaseCreating:k}),(0,l.jsxs)("div",{className:"ml-auto flex items-center gap-[8px]",children:[!E&&!n&&(null==F?void 0:F.contractSalesId)&&(null==F?void 0:F.contractPurchaseId)&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(u.A,{className:"flex-none",label:"신규",level:m.V.level_3,size:m.M.Medium,leftIcon:(0,l.jsx)(Ce,{className:"text-blue50 h-[20px] w-[20px]"}),onClick:X}),(0,l.jsx)("div",{className:"bg-grey80 h-[16px] w-[1px]"})]}),k&&(0,l.jsx)(u.A,{label:"취소",level:m.V.level_4,size:m.M.Medium,onClick:Z}),G&&(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsxs)("div",{className:"border-grey80 flex cursor-pointer items-center gap-[4px] rounded-[6px] border px-[12px] py-[6px]",onClick:()=>{ee(!0)},children:[re&&(0,l.jsxs)("div",{className:"flex items-center gap-[4px]",children:[(0,l.jsx)("p",{className:"Body4_B text-grey30",children:"".concat(re.no,"차수")}),(0,l.jsxs)("p",{className:C()("Caption1_B text-grey50",{"max-w-[120px] flex-1 truncate":!n}),children:[je()(re.startAt).format("YY-MM-DD"),"~",je()(re.endAt).format("YY-MM-DD")]})]}),!re&&(0,l.jsx)("p",{className:"Body4_B text-grey30",children:"차수 생성"}),(0,l.jsx)(p.A,{className:"text-grey40 h-[20px] w-[20ppx]"})]}),$&&(0,l.jsx)(wt,{isSalesType:n,setOpenedDegree:ee,degreeData:null==Y?void 0:Y.degreeInfo,handleSetContractForm:q,handleCheckRow:H,handleAddDegreeRow:K,handleDeleteDegreeRows:z,handleDoubleClickRow:te,handleSaveDegree:Q,isExpired:E,isInvalidDegreeDate:ae})]}),!y&&!E&&(0,l.jsx)(u.A,{className:"flex-none",label:"저장",level:m.V.level_2,size:m.M.Medium,leftIcon:(0,l.jsx)(yt.A,{width:20,height:20,className:"text-white"}),onClick:W,disabled:!(()=>{if(!Y)return!1;const{vendor:e,contractName:t,customerId:a,settlementDate:l,billingDate:r,contractDate:s,contractPeriodStartDate:i,contractPeriodEndDate:d,taxType:u,salesOrganization:m,executionBase:p,purchaseOrganization:h}=Y,f=[t,l,r,s,i,d,u,p,h].every(Boolean),C=f&&!!a&&!!m,x=f&&!!(null==e?void 0:e.id),N=n?C:x;if(G){return!c().isEqual(Y,o)&&N}return N})()})]})]}),(0,l.jsxs)("div",{className:"border-blackOpacity8 border-t",children:[(0,l.jsxs)("div",{className:"flex",children:[(0,l.jsx)(vt,{hideChildrenWhenDisabled:y,required:!0,thLabel:"계약명",isDisabled:E,className:"flex-1",children:(0,l.jsx)(Tt.A,{disabled:E,className:"w-full",componentType:"input-table",placeholder:"계약명 입력",value:(null==Y?void 0:Y.contractName)||"",onChange:e=>{var t;return q({contractName:(null===(t=e.target.value)||void 0===t?void 0:t.length)>100?e.target.value.substring(0,100):e.target.value})}})}),(0,l.jsx)(vt,{hideChildrenWhenDisabled:y,required:!0,thLabel:"세금유형",isDisabled:G,className:"flex-1",children:G?(0,l.jsx)("div",{className:"px-[12px] py-[6px]",children:null==o?void 0:o.taxTypeValue}):(0,l.jsx)(He.A,{placeholder:"세금유형 선택",selectedId:null==Y?void 0:Y.taxType,autocompleteBoxClassName:"w-full",options:B[Ze.k.TAX_TYPE_CODE],componentType:"autocomplete-table",onChange:(e,t)=>{q({taxType:null==t?void 0:t.id})}})})]}),(0,l.jsxs)("div",{className:Kt,children:[(0,l.jsxs)(vt,{hideChildrenWhenDisabled:y,required:!0,thLabel:"계약 기간",isDisabled:E,childrenContainerClassName:"items-center",children:[(0,l.jsx)(gt.A,{disabled:E,value:je()(null==Y?void 0:Y.contractPeriodStartDate),componentType:"date-picker-table",datePickerClassName:"w-full",onChange:e=>{((null==Y?void 0:Y.degreeInfo)||[]).length>0&&(Y.degreeInfo[0].startAt=e),je()(Y.contractPeriodEndDate).isBefore(e,"day")?q({contractPeriodStartDate:e,contractPeriodEndDate:e}):q({contractPeriodStartDate:e})}}),"~",(0,l.jsx)(gt.A,{disabled:E,value:je()(null==Y?void 0:Y.contractPeriodEndDate),componentType:"date-picker-table",datePickerClassName:"w-full",onChange:e=>{((null==Y?void 0:Y.degreeInfo)||[]).length>0&&(Y.degreeInfo[(null==Y?void 0:Y.degreeInfo.length)-1].endAt=e),q({contractPeriodEndDate:e})},minDate:je()(null==Y?void 0:Y.contractPeriodStartDate)})]}),(0,l.jsx)(vt,{hideChildrenWhenDisabled:y,required:!0,thLabel:n?"청구일":"지급일",isDisabled:G,children:G?(0,l.jsx)("div",{className:"px-[12px] py-[6px]",children:null==o?void 0:o.billingDateValue}):(0,l.jsx)(He.A,{placeholder:"".concat(n?"청구일":"지급일"," 선택"),selectedId:null==Y?void 0:Y.billingDate,autocompleteBoxClassName:"w-full",options:B[Ze.k.DAY_CODE],componentType:"autocomplete-table",onChange:(e,t)=>{q({billingDate:null==t?void 0:t.id})}})})]}),(0,l.jsxs)("div",{className:Kt,children:[(0,l.jsx)(vt,{hideChildrenWhenDisabled:y,required:!0,thLabel:"계약 일자",isDisabled:G,children:(0,l.jsx)(gt.A,{disabled:G,componentType:"date-picker-table",datePickerClassName:"w-full",onChange:e=>{q({contractDate:e})},value:je()(null==Y?void 0:Y.contractDate)})}),(0,l.jsx)(vt,{hideChildrenWhenDisabled:y,required:!0,thLabel:"정산 기준일",isDisabled:G,children:G?(0,l.jsx)("div",{className:"px-[12px] py-[6px]",children:null==o?void 0:o.settlementDateValue}):(0,l.jsx)(He.A,{placeholder:"정산 기준일 선택",selectedId:null==Y?void 0:Y.settlementDate,autocompleteBoxClassName:"w-full",options:B[Ze.k.DAY_CODE],componentType:"autocomplete-table",onChange:(e,t)=>{q({settlementDate:null==t?void 0:t.id})}})})]}),(0,l.jsxs)("div",{className:Kt,children:[n?(0,l.jsx)(vt,{hideChildrenWhenDisabled:y,required:!0,thLabel:"화주",isDisabled:G,children:G?(0,l.jsxs)("span",{className:"px-[12px] py-[6px]",children:[null==o?void 0:o.customerName,"(",null==o?void 0:o.customerMdmCode,")"]}):(0,l.jsx)(qt,{defaultValue:(null==o?void 0:o.customerId)?"".concat(null==o?void 0:o.customerName,"(").concat(null==o?void 0:o.customerId,")"):"",setSelectItem:e=>{var t;q({customerId:e.customerId,customerName:e.name,businessNumber:e.registrationNumber,collectionTerms:{id:e.mdmPaymentConditionCode,value:(null===(t=B[Ze.k.COMMON_MDM_PAYMENT_CONDITION_SALES_CODE].find((t=>{let{key:a}=t;return a===e.mdmPaymentConditionCode})))||void 0===t?void 0:t.value)||""}})},mdmStatusType:R.P7O.COMPLETE})}):(0,l.jsx)(vt,{hideChildrenWhenDisabled:y,required:!0,thLabel:"파트너",isDisabled:G,children:G?(0,l.jsxs)("span",{className:"max-w-[228px] truncate px-[12px] py-[6px]",children:[null==o||null===(_=o.vendor)||void 0===_?void 0:_.name,"(",null==o||null===(w=o.vendor)||void 0===w?void 0:w.mdmCode,")"]}):(0,l.jsx)(kt,{defaultValue:(null==o?void 0:o.vendor)?"".concat(null==o||null===(O=o.vendor)||void 0===O?void 0:O.name,"(").concat(null==o||null===(M=o.vendor)||void 0===M?void 0:M.id,")"):"",setSelectItem:e=>q({vendor:{id:e.vendorId,name:e.name},businessNumber:e.registrationNumber}),modalTitle:"파트너"})}),(0,l.jsx)(vt,{hideChildrenWhenDisabled:y,thLabel:"부가세절사",isDisabled:E,children:(0,l.jsx)(He.A,{disabled:E,selectedId:((null==Y?void 0:Y.vatRounding)||"").toString(),placeholder:"부가세절사",autocompleteBoxClassName:"w-full",options:B[Ze.k.VAT_ROUND_UP_DOWN_CODE],componentType:"autocomplete-table",onChange:(e,t)=>{q({vatRounding:null==t?void 0:t.id})}})})]}),(0,l.jsxs)("div",{className:Kt,children:[(0,l.jsx)(vt,{hideChildrenWhenDisabled:y,required:!0,thLabel:"사업자 번호",isDisabled:E,children:(0,l.jsx)(Tt.A,{value:(null==Y?void 0:Y.businessNumber)||"",disabled:!0,componentType:"input-table",placeholder:"".concat(n?"화주":"파트너"," 입력 시 자동으로 기입됩니다."),className:"w-full"})}),(0,l.jsx)(vt,{hideChildrenWhenDisabled:y,thLabel:n?"청구절사":"절사",isDisabled:E,children:(0,l.jsx)(He.A,{disabled:E,selectedId:null==Y?void 0:Y.billingRounding,placeholder:n?"청구절사 선택":"절사 선택",autocompleteBoxClassName:"w-full",options:B[Ze.k.ROUND_UP_DOWN_CODE],componentType:"autocomplete-table",onChange:(e,t)=>{q({billingRounding:null==t?void 0:t.id})}})})]}),(0,l.jsxs)("div",{className:Kt,children:[(0,l.jsx)(vt,{hideChildrenWhenDisabled:y,required:!0,thLabel:"수금조건",isDisabled:G,isEmpty:!n,children:G?(0,l.jsxs)("div",{className:"px-[12px] py-[6px]",children:[null==Y||null===(D=Y.collectionTerms)||void 0===D?void 0:D.value," "]}):(0,l.jsx)(He.A,{selectedId:null==Y||null===(j=Y.collectionTerms)||void 0===j?void 0:j.id,placeholder:"수금조건 선택",disabled:!!(null==Y?void 0:Y.customerId),autocompleteBoxClassName:"w-full",options:B[Ze.k.COMMON_MDM_PAYMENT_CONDITION_SALES_CODE],componentType:"autocomplete-table",onChange:(e,t)=>{q({collectionTerms:{id:null==t?void 0:t.id,value:null==t?void 0:t.value}})}})}),(0,l.jsx)(vt,{hideChildrenWhenDisabled:y,required:!0,thLabel:"인사조직",isDisabled:E,children:(0,l.jsx)(He.A,{disabled:E,selectedId:((null==Y?void 0:Y.executionBase)||"").toString(),placeholder:"인사조직 선택",autocompleteBoxClassName:"w-full",options:B[Ze.k.COMMON_MDM_CORPORATION_CODE],componentType:"autocomplete-table",onChange:(e,t)=>{q({executionBase:null==t?void 0:t.id})}})})]}),(0,l.jsxs)("div",{className:Kt,children:[(0,l.jsx)(vt,{hideChildrenWhenDisabled:y,thLabel:"전화번호",children:(0,l.jsx)(Tt.A,{className:"w-full",componentType:"input-table",placeholder:"전화번호 입력",value:(null==Y?void 0:Y.phoneNumber)||"",onChange:e=>{const[t,a]=(0,pe.Vp)(e.target.value);q({phoneNumber:a})}})}),(0,l.jsx)(vt,{hideChildrenWhenDisabled:y,required:!0,thLabel:"매출조직",isEmpty:!n,isDisabled:E,children:(0,l.jsx)(He.A,{disabled:E,placeholder:"매출 조직 선택",selectedId:((null==Y?void 0:Y.salesOrganization)||"").toString(),autocompleteBoxClassName:"w-full",componentType:"autocomplete-table",options:B[Ze.k.COMMON_MDM_COST_CENTER_SALES_CODE],onChange:(e,t)=>{q({salesOrganization:null==t?void 0:t.id})}})})]}),(0,l.jsxs)("div",{className:Kt,children:[(0,l.jsx)(vt,{hideChildrenWhenDisabled:y,thLabel:"계약담당자",isDisabled:E,children:(0,l.jsx)(He.A,{componentType:"autocomplete-table",autocompleteBoxClassName:"w-full",selectedId:null==Y||null===(P=Y.contractManager)||void 0===P?void 0:P.empNo,options:V,onChange:(e,t)=>{var a;q({contractManager:{id:t.adminId,empNo:t.id},superiorManager:{id:t.headEmpNo||(null==Y||null===(a=Y.superiorManager)||void 0===a?void 0:a.id)}})}})}),(0,l.jsx)(vt,{hideChildrenWhenDisabled:y,required:!0,thLabel:"매입 조직",isDisabled:E,children:(0,l.jsx)(He.A,{disabled:E,placeholder:"매입 조직 선택",selectedId:((null==Y?void 0:Y.purchaseOrganization)||"").toString(),autocompleteBoxClassName:"w-full",componentType:"autocomplete-table",options:B[Ze.k.COMMON_MDM_COST_CENTER_PURCHASE_CODE],onChange:(e,t)=>{q({purchaseOrganization:null==t?void 0:t.id}),n&&g({purchaseOrganization:null==t?void 0:t.id})}})})]}),(0,l.jsxs)("div",{className:Kt,children:[(0,l.jsx)(vt,{hideChildrenWhenDisabled:y,thLabel:"상위 부서장",isDisabled:E,children:(0,l.jsx)(Ht,{onChangeSelectedOption:e=>{q({superiorManager:{id:e.id}})},selectedOptionId:null==Y||null===(L=Y.superiorManager)||void 0===L?void 0:L.id})}),(0,l.jsx)(vt,{hideChildrenWhenDisabled:y,thLabel:"비고",isDisabled:E,children:(0,l.jsx)(Tt.A,{disabled:E,value:(null==Y?void 0:Y.memo)||"",componentType:"input-table",placeholder:"비고 입력",className:"w-full",onChange:e=>{var t;return q({memo:(null===(t=e.target.value)||void 0===t?void 0:t.length)>340?e.target.value.substring(0,340):e.target.value})}})})]})]})]})}));var Xt=function(e){let{params:t,options:a=[],optionsBoxWidth:r=200,firstOptionType:s="select",readonly:n=!1,onChangeProps:o}=e;var i;const d=null==a||null===(i=a.find((e=>{var a,l;return(null===(a=e.id)||void 0===a?void 0:a.toString())===(null===(l=t.value)||void 0===l?void 0:l.toString())})))||void 0===i?void 0:i.label;return(0,l.jsxs)(l.Fragment,{children:[n&&(0,l.jsx)("div",{className:"bg-grey98 text-grey70 flex h-full items-center px-[12px]",children:d||""}),!n&&(0,l.jsx)(He.A,{selectedId:t.row[t.field],componentType:"autocomplete-table",options:a,optionsBoxWidth:r,onChange:(e,a)=>o?o(a):t.api.updateRows([{...t.row,isDirty:!0,[t.field]:a.id,["".concat(t.field,"Name")]:a.label}]),readOnly:n,firstOptionType:s})]})};function Qt(e){let{type:t,params:a,readonly:r,onChange:s,firstOptionType:n}=e;const{commonMetaV2List:o}=(0,Je.X)(),i=o[t]||[];return(0,l.jsx)(Xt,{options:i,params:a,readonly:r,onChangeProps:s,firstOptionType:n,"data-sentry-element":"GridColumnAutocomplete","data-sentry-component":"AllMetaTypeAutocomplete","data-sentry-source-file":"AllMetaTypeAutocomplete.tsx"})}var Zt=a(46706);const Jt=g()((()=>a.e(294).then(a.bind(a,88294))),{loadableGenerated:{webpack:()=>[88294]},ssr:!1});var $t=a(22826);var ea=e=>[{field:"id",headerName:"No.",sortable:!1,width:48,align:"center",filterable:!1},{field:"contractNo",headerName:"계약 번호",width:200,filterable:!1},{field:"customerName",headerName:"고객명",width:160,filterable:!1},{field:"itemName",headerName:"품목",width:100,filterable:!1},{field:"departureNodeAddress",headerName:"상차지",width:160,filterable:!1},{field:"arrivalNodeAddress",headerName:"하차지",width:160,filterable:!1},{field:"rateCodeName",headerName:"요율구분",width:100,filterable:!1},{field:"vehicleTypeName",headerName:"차종",width:100,filterable:!1},{field:"vehicleTonName",headerName:"톤급",width:52,filterable:!1},{field:"rateAmount",headerName:"요율단가",type:"number",width:92,align:"right",filterable:!1},{field:"rateAmountSales",headerName:"".concat(e?"매출단가":"매입단가"),type:"number",width:92,align:"right",filterable:!1},{field:"consignedBranchRateAmount",headerName:"위수탁 자점",type:"number",width:92,align:"right",filterable:!1},{field:"consignedOtherBranchRateAmount",headerName:"위수탁 타점",type:"number",width:92,align:"right",filterable:!1},{field:"description",headerName:"변경사유",width:400,filterable:!1},{field:"updatedByName",headerName:"수정자명",width:160,filterable:!1},{field:"updatedAt",headerName:"수정 일시",width:160,filterable:!1}];const ta=()=>(0,T.n)(["SalesPurchaseRateHistory"],(async e=>(await I.q.api((t=>t.ApiV1ContractSalesPurchaseDegreeRateHistory(e)))).data.result)),aa=()=>(0,T.n)(["useRateCopyCustomerMutation"],(async e=>(await I.q.api((t=>t.ApiCustomerV1CommonList(e)))).data.result)),la=()=>(0,T.n)(["useRateCopySalesMutation"],(async e=>(await I.q.api((t=>t.ApiV1ContractSalesList(e)))).data.result)),ra=()=>(0,T.n)(["useSalesDegreeMutation"],(async e=>(await I.q.api((t=>t.ApiV1ContractRateDegreeList(e)))).data.result)),sa=()=>(0,T.n)(["usePurchaseDegreeMutation"],(async e=>(await I.q.api((t=>t.ApiV1ContractSalesPurchaseDegreeList(e)))).data.result)),na=()=>(0,T.n)(["useSalesPurchaseRateListMutation"],(async e=>(await I.q.api((t=>t.ApiV1ContractSalesPurchaseDegreeRateListCopy(e)))).data.result));function oa(e){let{contractRateId:t,isSales:a,onClickCloseButton:s,selectedToggle:n}=e;const[o,i]=(0,r.useState)([]),{mutateAsync:d,isSuccess:c,data:u}=ta();return(0,r.useEffect)((()=>{c&&u.contractSalesPurchaseRateHistoryInfoList&&i(u.contractSalesPurchaseRateHistoryInfoList.map(((e,t)=>{var a,l;return{...e,id:t+1,rateAmount:"3"!==e.rateCode?e.rateAmount:0,rateAmountSales:"3"===e.rateCode?e.rateAmount:0,consignedBranchRateAmount:null!==(a=e.consignedBranchRateAmount)&&void 0!==a?a:0,consignedOtherBranchRateAmount:null!==(l=e.consignedOtherBranchRateAmount)&&void 0!==l?l:0,updatedByName:"".concat(e.updatedByName,"(").concat(e.updatedByEmpNo,")"),updatedAt:je()(e.updatedAt).format("YYYY-MM-DD HH:mm")}})))}),[u]),(0,r.useLayoutEffect)((()=>{(async()=>{await d({contractRateId:t,isSales:a,contractCategoryType:n})})()}),[]),(0,l.jsx)(Pe.A,{modalWidth:1324,modalContentHeight:446,title:"요율 변경 이력 ".concat(a?"(매출)":"(매입)"),isShowedConfirmButton:!1,onClickCloseButton:s,"data-sentry-element":"TmsBasicModal","data-sentry-component":"RateListHistoryModal","data-sentry-source-file":"RateListHistoryModal.tsx",children:(0,l.jsx)("div",{className:"flex h-full pb-[24px]",children:(0,l.jsx)(Fe.A,{rows:o,columns:ea(a),noRowDescription:{description_1:"조회된 요율 변경 이력 정보가 없습니다.",description_2:"요율 변경 이력이 존재하지 않습니다."},"data-sentry-element":"TmsBasicDataGrid","data-sentry-source-file":"RateListHistoryModal.tsx"})})})}var ia=function(e){let{params:t,selectedToggle:a}=e;const[s,n]=(0,r.useState)(!1),o="salesChangeCount"===t.field;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("span",{className:"text-progress cursor-pointer underline",onClick:()=>n(!0),children:t.row[t.field]}),s&&(0,l.jsx)(oa,{contractRateId:o?t.row.contractSalesDegreeRateId:t.row.contractPurchaseDegreeRateId,isSales:o,onClickCloseButton:()=>n(!1),selectedToggle:a})]})},da=a(4988);function ca(e){let{type:t="string",params:a,defaultReadonly:s=!1,readonly:n,decimalPlaces:o=3,...i}=e;const d=String(a.row[a.field]),[c,u]=(0,r.useState)("number"===t?(0,pe.GZ)(d,o):d);return(0,r.useEffect)((()=>{u("number"===t?(0,pe.GZ)(d,o):d)}),[d]),(0,l.jsx)(Tt.A,{componentType:"input-table",classNameInput:"comma-input-box ".concat("number"===t?"comma-input-number":""),placeholder:s?"자동 입력":n?"":"입력",value:c,onChange:e=>{const l=e.target.value;let r=l,s=l;"number"===t&&(r=(0,pe.Mc)(l),s=(0,pe.GZ)(l,o)),a.api.updateRows([{...a.row,isDirty:!0,[a.field]:r}]),u(s)},readOnly:n,...i,"data-sentry-element":"TmsBasicInput","data-sentry-component":"GridColumnInputComma","data-sentry-source-file":"GridColumnInputComma.tsx"})}var ua=a(99958);const ma=e=>e.reduce(((e,t)=>{const a=t.tonCode,l={groupId:"contractRateTonInfoList_".concat(a),headerName:t.tonName,children:[{field:"salesAmount_TON_".concat(a),headerName:"판매 금액"},{field:"purchaseAmount_TON_".concat(a),headerName:"매입 금액"}]};if(e.push(l),t.isConsigned){const l={groupId:"contractRateTonInfoList_".concat(a,"_consigned"),headerName:"".concat(t.tonName,"(위수탁)"),children:[{field:"consignedBranchRateAmount_TON_".concat(a)},{field:"consignedOtherBranchRateAmount_TON_".concat(a)}]};e.push(l)}return e}),[]),pa=(e,t,a)=>[...e.flatMap((e=>[{field:"salesAmount_TON_".concat(e.tonCode),headerName:"매출",width:84,cellClassName:"wide-cell",renderCell:e=>{const a="3"!==e.row.salesRateCode||!t;var l;a&&(null===(l=e.row.errorMap)||void 0===l||delete l[e.field]);return ca({type:"number",params:e,readonly:a,decimalPlaces:3})}},{field:"purchaseAmount_TON_".concat(e.tonCode),headerName:"매입",width:84,cellClassName:"wide-cell",renderCell:e=>{const t="3"!==e.row.purchaseRateCode||!a;var l;t&&(null===(l=e.row.errorMap)||void 0===l||delete l[e.field]);return ca({type:"number",params:e,readonly:t,decimalPlaces:3})}}])),...e.filter((e=>e.isConsigned)).flatMap((e=>[{field:"consignedBranchRateAmount_TON_".concat(e.tonCode),headerName:"자점",width:84,cellClassName:"wide-cell",renderCell:e=>ca({type:"number",params:e,decimalPlaces:3})},{field:"consignedOtherBranchRateAmount_TON_".concat(e.tonCode),headerName:"타점",width:84,cellClassName:"wide-cell",renderCell:e=>ca({type:"number",params:e,decimalPlaces:3})}]))],ha=e=>e===R.RGd.SECTION?[{field:"departureNodeName",headerName:"상차지",required:!0,editable:!0,width:160,headerClassName:"height-wide-cell",cellClassName:"wide-cell required-cell",renderCell:e=>(0,$t.A)({params:e,nodeIdFieldName:"departureNodeCode",nodeNameFieldName:"departureNodeName",readonly:!e.row._isNew})},{field:"arrivalNodeName",headerName:"하차지",required:!0,editable:!0,width:160,headerClassName:"height-wide-cell",cellClassName:"wide-cell required-cell",renderCell:e=>(0,$t.A)({params:e,nodeIdFieldName:"arrivalNodeCode",nodeNameFieldName:"arrivalNodeName",readonly:!e.row._isNew})}]:[{field:"distanceFromKm",headerName:"From(km)",required:!0,editable:!0,width:160,headerClassName:"height-wide-cell",cellClassName:"wide-cell required-cell",renderCell:e=>ca({type:"number",params:e,readonly:!e.row._isNew,decimalPlaces:3})},{field:"distanceToKm",headerName:"To(km)",required:!0,editable:!0,width:160,headerClassName:"height-wide-cell",cellClassName:"wide-cell required-cell",renderCell:e=>ca({type:"number",params:e,readonly:!e.row._isNew,decimalPlaces:3})}],fa=e=>[{groupId:"rateCode",headerName:"요율구분",children:[{field:"salesRateCode"},{field:"purchaseRateCode"}]},{groupId:"rateAmount",headerName:"요율단가",children:[{field:"salesRateAmount"},{field:"purchaseRateAmount"}]},{groupId:"consignedBranchRate",headerName:"요율단가(위수탁)",children:[{field:"consignedBranchRateAmount"},{field:"consignedOtherBranchRateAmount"}]},...ma(e),{groupId:"changeCount",headerName:"변경횟수",children:[{field:"salesChangeCount"},{field:"purchaseChangeCount"}]},{groupId:"nodeId",headerName:"노드ID",children:[{field:"departureNodeCode"},{field:"arrivalNodeCode"}]}],Ca=(e,t,a,s,n)=>{const o=(t,a)=>{let l={...a.row};e&&e.forEach((e=>{const r=e.tonCode;"salesRateCode"===a.field&&"3"!==t.id&&(l["salesAmount_TON_".concat(r)]=""),"purchaseRateCode"===a.field&&"3"!==t.id&&(l["purchaseAmount_TON_".concat(r)]="")})),l={...l,isDirty:!0,[a.field]:t.id,[a.field+"New"]:t.id,salesRateAmount:"purchaseRateCode"===a.field&&"3"===a.row.salesRateCode||"salesRateCode"===a.field&&"3"===t.id?"":a.row.salesRateAmount,purchaseRateAmount:"salesRateCode"===a.field&&"3"===a.row.purchaseRateCod||"purchaseRateCode"===a.field&&"3"===t.id?"":a.row.purchaseRateAmount},a.api.updateRows([l])};return[{field:"__check__",headerWideCell:!0,headerClassName:"check-right-align",width:76,minWidth:76,maxWidth:76,sortable:!1,disableColumnMenu:!0,align:"right"},{field:"_id_",headerName:"No.",headerWideCell:!0,align:"center",cellClassName:"required-cell",sortable:!1,width:48,type:da._.VIEW_MODE_ID},{field:"salesCostType",headerName:"비용항목",headerWideCell:!0,required:!0,editable:!0,width:100,cellClassName:"wide-cell required-cell",renderCell:e=>Qt({firstOptionType:null,type:Ze.k.SALES_COST_TYPE,params:e,readonly:!e.row._isNew})},{field:"itemName",headerName:"품목",headerWideCell:!0,required:!0,editable:!0,width:100,cellClassName:"wide-cell",renderCell:e=>function(e){let{params:t,subNodeFieldName:a="",defaultReadonly:s=!1,readonly:n}=e;const[o,i]=(0,r.useState)(t.row[t.field]),[d,c]=(0,r.useState)(!1);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(Zt.A,{className:"tms-basic-input-mui",value:o,placeholder:s?"자동 입력":n?"":"입력",onKeyUp:e=>{"Enter"===e.key&&c(!0)},onChange:e=>{i(e.target.value)},slotProps:{input:{readOnly:n,endAdornment:(0,l.jsx)(se.A,{width:20,height:20,className:"cursor-pointer ".concat(n&&"text-greyDisabled"),onClick:()=>{n||c(!0)}})}},"data-sentry-element":"TmsBasicInputMui","data-sentry-source-file":"GridColumnItemSearchInput.tsx"}),d&&(0,l.jsx)(Jt,{searchInputValueProps:o,setIsOpened:c,onRowDoubleClickProps:(e,l,r)=>{t.api.updateRows([{...t.row,[t.field]:e.row.mdmItemName,[a]:e.row.mdmItemCode}]),i(e.row.mdmItemName)}})]})}({params:e,subNodeFieldName:"itemCode",readonly:!e.row._isNew})},...ha(t),{field:"salesRateCode",required:!0,headerName:"매출",cellClassName:"wide-cell",width:100,editable:a,renderCell:e=>Qt({firstOptionType:null,type:Ze.k.RATE_CATEGORY_CODE,params:e,readonly:!e.row._isNew&&e.row.salesRateCode||!a,onChange:t=>o(t,e)})},{field:"purchaseRateCode",headerName:"매입",cellClassName:"wide-cell",width:100,editable:s,renderCell:e=>{var t;const a=null===(t=n.find((t=>t.isCheckPurchaseId===e.row.isCheckPurchaseId)))||void 0===t?void 0:t.purchaseRateCode;return Qt({firstOptionType:null,type:Ze.k.RATE_CATEGORY_CODE,params:e,readonly:!s||!e.row._isNew&&a&&s,onChange:t=>o(t,e)})}},{field:"vehicleType",headerName:"차종",headerWideCell:!0,required:!0,editable:!0,cellClassName:"wide-cell required-cell",width:160,renderCell:e=>Qt({firstOptionType:null,type:Ze.k.VEHICLE_TYPE,params:e,readonly:!e.row._isNew})},{field:"salesRateAmount",headerName:"매출",width:90,cellClassName:"wide-cell",renderCell:e=>{const t="3"===e.row.salesRateCode||"3"!==e.row.salesRateCode&&!a;var l;t&&(null===(l=e.row.errorMap)||void 0===l||delete l[e.field]);return ca({type:"number",params:e,readonly:t,decimalPlaces:3})}},{field:"purchaseRateAmount",headerName:"매입",width:90,cellClassName:"wide-cell",renderCell:e=>{const{purchaseRateCode:t}=e.row,a=!t||["SELECT","3"].includes(t)||!s&&"3"!==t;var l;a&&(null===(l=e.row.errorMap)||void 0===l||delete l[e.field]);return ca({type:"number",params:e,readonly:a,decimalPlaces:3})}},{field:"consignedBranchRateAmount",headerName:"자점",width:84,cellClassName:"wide-cell",renderCell:e=>ca({type:"number",params:e,decimalPlaces:3})},{field:"consignedOtherBranchRateAmount",headerName:"타점",width:84,cellClassName:"wide-cell",renderCell:e=>ca({type:"number",params:e,decimalPlaces:3})},...pa(e,a,s),{field:"isAssigned",headerWideCell:!0,headerClassName:"header-break-space",width:100,cellClassName:"wide-cell",renderHeader:()=>"협력사\n계약할당",renderCell:e=>Xt({options:[{id:"Y",label:"Y"},{id:"N",label:"N"}],params:e})},{field:"salesChangeCount",headerName:"매출",width:84,align:"center",renderCell:e=>ia({params:e,selectedToggle:t})},{field:"purchaseChangeCount",headerName:"매입",width:84,align:"center",renderCell:e=>ia({params:e,selectedToggle:t})},{field:"departureNodeCode",headerName:"상차노드",cellClassName:"wide-cell basic-dataGrid-none-editable",width:100,renderCell:e=>(0,ua.A)({defaultReadonly:!0,params:e,readonly:!0})},{field:"arrivalNodeCode",headerName:"하차노드",cellClassName:"wide-cell basic-dataGrid-none-editable",width:100,renderCell:e=>(0,ua.A)({defaultReadonly:!0,params:e,readonly:!0})}]},xa=(e,t,a,l)=>((null==e?void 0:e.contractSalesPurchaseRateInfoList)||[]).map(((r,s)=>((e,t,a,l,r,s)=>{var n,o,i,d,c,u,m,p,h,f,C,x,N,y;const E={isCheckPurchaseId:a+1,salesChangeCount:e.salesChangeCount,purchaseChangeCount:e.purchaseChangeCount,isAssigned:e.isAssigned?"Y":"N",loading:null!==(n=e.departureNodeCode)&&void 0!==n?n:"",unloading:null!==(o=e.arrivalNodeCode)&&void 0!==o?o:"",contractSalesDegreeRateId:e.contractSalesDegreeRateId,contractPurchaseDegreeRateId:e.contractPurchaseDegreeRateId,contractSalesDegreeId:e.contractSalesDegreeId,contractPurchaseDegreeId:e.contractPurchaseDegreeId,salesCostType:e.salesCostType,salesCostName:e.salesCostName,itemCode:null!==(i=e.itemCode)&&void 0!==i?i:"",itemName:e.itemName,distanceFromKm:e.distanceFromKm,distanceToKm:e.distanceToKm,departureNodeCode:e.departureNodeCode,departureNodeName:null!==(d=e.departureNodeName)&&void 0!==d?d:"",departureNodeAddress:null!==(c=e.departureNodeAddress)&&void 0!==c?c:"",arrivalNodeCode:e.arrivalNodeCode,arrivalNodeName:null!==(u=e.arrivalNodeName)&&void 0!==u?u:"",arrivalNodeAddress:null!==(m=e.arrivalNodeAddress)&&void 0!==m?m:"",salesRateCode:e.salesRateCode,salesRateCodeName:e.salesRateCodeName,purchaseRateCode:null!==(p=e.purchaseRateCode)&&void 0!==p?p:"",purchaseRateCodeName:e.purchaseRateCodeName,vehicleType:null!==(h=e.vehicleType)&&void 0!==h?h:null,vehicleTypeName:e.vehicleTypeName,salesRateAmount:null!==(f=e.salesRateAmount)&&void 0!==f?f:0,purchaseRateAmount:null!==(C=e.purchaseRateAmount)&&void 0!==C?C:0,consignedBranchRateAmount:null!==(x=e.consignedBranchRateAmount)&&void 0!==x?x:0,consignedOtherBranchRateAmount:null!==(N=e.consignedOtherBranchRateAmount)&&void 0!==N?N:0,contractRateTonInfoList:(null!==(y=e.contractRateTonInfoList)&&void 0!==y?y:[]).map((e=>({...e,contractSalesDegreeRateTonId:t?null:e.contractSalesDegreeRateTonId,contractPurchaseDegreeRateTonId:t?null:e.contractPurchaseDegreeRateTonId}))),isError:!1,errorMap:null==e?void 0:e.errorMap};var v;const A=(null!==(v=e.contractRateTonInfoList)&&void 0!==v?v:[]).reduce(((a,n)=>{var o,i,d,c,u,m,p;const h=null===(o=l.find((e=>e.tonCode===n.tonCode)))||void 0===o?void 0:o.isConsigned,f=(n.tonCode||"").replace(".","_");var C,x,N,y,E,v;return a["salesAmount_TON_".concat(f)]=null!==(C=n.salesAmount)&&void 0!==C?C:0,a["purchaseAmount_TON_".concat(f)]=null!==(x=n.purchaseAmount)&&void 0!==x?x:0,a["consignedBranchRateAmount_TON_".concat(f)]=null!==(N=n.consignedBranchRateAmount)&&void 0!==N?N:0,a["consignedOtherBranchRateAmount_TON_".concat(f)]=null!==(y=n.consignedOtherBranchRateAmount)&&void 0!==y?y:0,a["contractSalesDegreeRateTonId_TON_".concat(f)]=t?null:null!==(E=n.contractSalesDegreeRateTonId)&&void 0!==E?E:0,a["contractPurchaseDegreeRateTonId_TON_".concat(f)]=t?null:null!==(v=n.contractPurchaseDegreeRateTonId)&&void 0!==v?v:0,a.tonErrorMap||(a.tonErrorMap={}),(null==n||null===(i=n.errorMap)||void 0===i?void 0:i.salesAmount)&&r&&"3"===e.salesRateCode&&(a.tonErrorMap["salesAmount_TON_".concat(f)]=n.errorMap.salesAmount),(null==n||null===(d=n.errorMap)||void 0===d?void 0:d.purchaseAmount)&&s&&"3"===e.purchaseRateCode&&(a.tonErrorMap["purchaseAmount_TON_".concat(f)]=n.errorMap.purchaseAmount),(null==n||null===(c=n.errorMap)||void 0===c?void 0:c.consignedBranchRateAmount)&&h&&(a.tonErrorMap["consignedBranchRateAmount_TON_".concat(f)]=n.errorMap.consignedBranchRateAmount),(null==n||null===(u=n.errorMap)||void 0===u?void 0:u.consignedOtherBranchRateAmount)&&h&&(a.tonErrorMap["consignedOtherBranchRateAmount_TON_".concat(f)]=n.errorMap.consignedOtherBranchRateAmount),(null==n||null===(m=n.errorMap)||void 0===m?void 0:m.contractSalesDegreeRateTonId)&&h&&(a.tonErrorMap["contractSalesDegreeRateTonId_TON_".concat(f)]=n.errorMap.contractSalesDegreeRateTonId),(null==n||null===(p=n.errorMap)||void 0===p?void 0:p.contractPurchaseDegreeRateTonId)&&h&&(a.tonErrorMap["contractPurchaseDegreeRateTonId_TON_".concat(f)]=n.errorMap.contractPurchaseDegreeRateTonId),a}),{});return{...E,...A,errorMap:{...E.errorMap,...A.tonErrorMap}}})(r,t,s,null==e?void 0:e.tonInfo,a,l)));class Na{static toList(e,t,a,l,r,s,n){return a?{contractPurchaseDegreeId:e||null,contractSalesDegreeId:t||null,changeDescription:l,contractCategoryType:r,contractSalesPurchaseRateInfoList:this.mapToRateList(t,e,n,s,a)}:{contractSalesPurchaseRateInfoList:[]}}}Na.mapToRateList=(e,t,a,l,r)=>r.map((r=>{const s=!!e,n=!!t;return{contractSalesDegreeRateId:a?void 0:r.contractSalesDegreeRateId,contractPurchaseDegreeRateId:a?void 0:r.contractPurchaseDegreeRateId,salesCostType:R.jRO[r.salesCostType||""],itemCode:r.itemCode,departureNodeCode:r.departureNodeCode?r.departureNodeCode:void 0,departureNodeName:r.departureNodeName?r.departureNodeName:void 0,arrivalNodeCode:r.arrivalNodeCode?r.arrivalNodeCode:void 0,arrivalNodeName:r.arrivalNodeName?r.arrivalNodeName:void 0,distanceFromKm:r.distanceFromKm?Number(r.distanceFromKm):void 0,distanceToKm:r.distanceToKm?Number(r.distanceToKm):void 0,salesRateCode:s?"SELECT"===r.salesRateCode?null:r.salesRateCode:void 0,purchaseRateCode:n?"SELECT"===r.purchaseRateCode?null:r.purchaseRateCode:void 0,vehicleType:R.ARE[r.vehicleType||""],salesRateAmount:s?Number(r.salesRateAmount):void 0,purchaseRateAmount:n?Number(r.purchaseRateAmount):void 0,consignedBranchRateAmount:r.consignedBranchRateAmount?r.consignedBranchRateAmount:void 0,consignedOtherBranchRateAmount:r.consignedOtherBranchRateAmount?r.consignedOtherBranchRateAmount:void 0,contractRateTonInfoList:l?l.map((e=>({tonCode:e.tonCode,salesAmount:s?Number(r["salesAmount_TON_".concat(e.tonCode)]):void 0,purchaseAmount:n?Number(r["purchaseAmount_TON_".concat(e.tonCode)]):void 0,consignedOtherBranchRateAmount:Number(r["consignedOtherBranchRateAmount_TON_".concat(e.tonCode)]),consignedBranchRateAmount:Number(r["consignedBranchRateAmount_TON_".concat(e.tonCode)]),contractSalesDegreeRateTonId:(null==r?void 0:r._isCopy)?void 0:r["contractSalesDegreeRateTonId_TON_".concat(e.tonCode)]?Number(r["contractSalesDegreeRateTonId_TON_".concat(e.tonCode)]):null,contractPurchaseDegreeRateTonId:r._isCopy?void 0:r["contractPurchaseDegreeRateTonId_TON_".concat(e.tonCode)]?Number(r["contractPurchaseDegreeRateTonId_TON_".concat(e.tonCode)]):null}))):[],isAssigned:"Y"===r.isAssigned}}));var ya=a(65584);const Ea=e=>{let{contractSalesDegreeId:t,contractPurchaseDegreeId:a,isNewPurchase:l,setIsNewPurchase:s,isUploadDataSave:n,setIsUploadDataSave:o}=e;const{getCurrentTab:i,changeTabInfo:d}=ft(),u=i(),m=v(),p=(0,$e.P9)(),h=(0,ya.c5)(),[f,C]=(0,r.useState)({loading:"",unloading:""}),[x,N]=(0,r.useState)([]),y=(0,D.bBi)(),E=(0,r.useRef)(null);var A;const{rows:g,setInitData:b,addRowToFirst:S,copySelectedRowV2:_,removeSelectedRow:w,getAllRows:O}=null!==(A=null==E?void 0:E.current)&&void 0!==A?A:{},[M,j]=(0,r.useState)([]),[P,L]=(0,r.useState)(R.RGd.SECTION),[B,U]=(0,r.useState)([]),[V,F]=(0,r.useState)(!1),[G,k]=(0,r.useState)(!1),[Y,q]=(0,r.useState)(!1),W=!(null==u?void 0:u.contractSalesId)&&!u.contractPurchaseId,{isSuccess:H,mutateAsync:K,data:z,reset:X}=(0,T.n)(["GetDegreeRateListMutation"],(async e=>(await I.q.api((t=>t.ApiV1ContractSalesPurchaseDegreeRateList(e)))).data.result)),{isSuccess:Q,isError:Z,mutateAsync:J,data:$,reset:ee}=(0,T.n)(["SaveContractRateMutation"],(async e=>(await I.q.api((t=>t.ApiV1ContractSalesPurchaseDegreeRateSave(e)))).data.result)),{isSuccess:te,mutateAsync:ae,data:le}=(0,T.n)(["useContractSalesPurchaseRateListExcelMutation"],(async e=>(await I.q.api((t=>t.ApiV1ContractSalesPurchaseDegreeRateListExcel(e,{format:"blob"})))).data)),re=async()=>{await K({contractSalesId:u.copyContractSalesId||u.contractSalesId,contractPurchaseId:u.copyContractPurchaseId||u.contractPurchaseId,contractSalesDegreeId:t,contractPurchaseDegreeId:a,searchDeparture:f.loading||void 0,searchArrival:f.unloading||void 0,contractCategoryType:P})},se=async e=>{var l;const r=Array.from(null==y||null===(l=y.current)||void 0===l?void 0:l.getRowModels().values()),s=null!=e?e:"";await J(Na.toList(u.contractPurchaseId&&a,u.contractSalesId&&t,r,s,R.Orb[P],x,G))},ne=(e,t)=>{m({title:"".concat(e,"의 매입 요율이 매출 요율보다 크게 입력되었습니다."),description:"[저장하기] 버튼을 클릭하면 작성한 내용대로 저장됩니다.",modalWidth:400,confirmButtonLabel:"저장하기",closeButtonLabel:"취소",onClickConfirmButton:()=>{t?t():se()}})},oe=(e,t)=>e.some(((e,a)=>{const l="".concat(a+1,"행");if(e.salesRateCode&&"3"!==e.salesRateCode&&!e.salesRateAmount)return p({message:"".concat(l,"의 매출단가를 입력해주세요."),type:"caution"}),!0;if(e.purchaseRateCode&&"3"!==e.purchaseRateCode&&!e.purchaseRateAmount)return p({message:"".concat(l,"의 매입단가를 입력해주세요."),type:"caution"}),!0;if(e.salesRateAmount&&e.purchaseRateAmount&&Number(e.salesRateAmount)<Number(e.purchaseRateAmount)&&(e._isNew||e._isUpdated))return ne(l,t),!0;if("3"===e.purchaseRateCode){if(x.some((t=>{const a="salesAmount_TON_".concat(t.tonCode),l="purchaseAmount_TON_".concat(t.tonCode);return e[a]&&e[l]&&Number(e[a])<Number(e[l])&&e._isNew})))return ne(l,t),!0}return!1}));return(0,r.useEffect)((()=>{if(H&&z){const e=(z.tonInfo||[]).filter((e=>e.isUsed)),t=!(!u.copyContractSalesId&&!u.copyContractPurchaseId);N(c().uniqBy(e,"tonCode")),b(xa(z,t),"",!!u.copyContractSalesId||!!u.copyContractPurchaseId),j(xa(z,t)),X(),t&&k(!0)}}),[H,z]),(0,r.useEffect)((()=>{Q&&(n||p({message:"요율이 저장되었습니다."}),d(u.id,{copyContractSalesId:void 0,copyContractPurchaseId:void 0}),k(!1),re(),l&&s&&s(!1),ee())}),[$]),(0,r.useEffect)((()=>{(Q||Z)&&o(!1)}),[Q,Z]),(0,r.useEffect)((()=>{!a&&!t||G||re()}),[a,t,P]),{rows:g,searchParams:f,handleChangeSearchParams:e=>{C({...f,...e})},handleSearch:re,handleSaveRate:async()=>{if(Q)return;if(W)return void h({title:"계약이 저장되지 않았습니다.",description:"매출 또는 매입 계약을 저장 후 다시 시도해 주세요."});const e=Array.from(y.current.getRowModels().values()),t=y.current.getAllColumns(),a=["_id_","_isNew","_dynamicOptions","isDirty"];if(c().isEqual(c().map(M,(e=>c().omit(e,a))),c().map(e,(e=>c().omit(e,a))))&&!G)return void p({message:"변경된 사항이 없습니다.",type:"caution"});const{hasErrors:l,updatedRows:r}=((e,t)=>{let a=!1;const l=e.map((e=>{const l=t.some((t=>(e._isNew||e._isUpdated)&&t.required&&t.editable&&!e[t.field]));return l&&(a=!0),{...e,isError:l}}));return{hasErrors:a,updatedRows:l}})(e,t);if(y.current.updateRows(r),l||0===e.length)return void h({title:"필수 항목이 입력되지 않았습니다.",description:"필수 항목 입력 후 다시 시도해 주세요."});const s=e.filter((e=>!e._isNew));if(oe(e))return;M.some(((e,t)=>((e,t)=>{for(const a in t){if("contractRateTonInfoList"===a)continue;const l=e[a],r=t[a];if("isAssigned"!==a)if("number"!=typeof l);else{if(0===l)continue;if(l!==Number(r))return!0}else if("Y"===l!=("Y"===r))return!0}return!1})(e,s[t])))?F(!0):await se()},tonList:x,gridApiRef:y,wrapGridRef:E,selectedToggle:P,setSelectedToggle:L,handleCopyRows:()=>{_((e=>{var t;return{contractSalesDegreeRateId:null,contractPurchaseDegreeRateId:null,contractRateTonInfoList:null===(t=e.contractRateTonInfoList)||void 0===t?void 0:t.map((e=>({...e,contractSalesDegreeRateTonId:null,contractPurchaseDegreeRateTonId:null})))}}),!0)},handleReset:()=>{b(M)},handleAddRow:()=>{if(l||W)return void h({title:"계약이 저장되지 않았습니다.",description:"매출 또는 매입 계약을 저장 후 다시 시도해 주세요."});const e=("function"==typeof O?O():[]).find((e=>!e._isNew)),t=e?{salesCostName:e.salesCostName,salesCostType:e.salesCostType,itemCode:e.itemCode,itemName:e.itemName,departureNodeAddress:e.departureNodeAddress,departureNodeCode:e.departureNodeCode,departureNodeName:e.departureNodeName,vehicleType:e.vehicleType,vehicleTypeName:e.vehicleTypeName}:{salesCostType:"TRANSPORT_FEE"};"function"==typeof S?S(t):p({message:"행 추가 기능을 사용할 수 없습니다.",type:"fail"})},handleDeleteRows:()=>{0!==B.length?w():h({title:"삭제할 행을 선택해주세요."})},rowSelectionModel:B,setRowSelectionModel:U,isOpenedChangeReason:V,setIsOpenedChangeReason:F,handleChangeReasonSave:e=>{e?(F(!1),se(e)):p({message:"사유를 입력해 주세요.",type:"caution"})},handleExcelDownload:async()=>{W?h({title:"계약이 저장되지 않았습니다.",description:"매출 또는 매입 계약을 저장 후 다시 시도해 주세요."}):await ae({contractSalesId:u.contractSalesId,contractPurchaseId:u.contractPurchaseId,contractSalesDegreeId:t,contractPurchaseDegreeId:a,searchDeparture:f.loading||void 0,searchArrival:f.unloading||void 0,contractCategoryType:R.siW[P]})},isSuccessSalesPurchaseRateListExcel:te,dataSalesPurchaseRateListExcel:le,isCheckedContractId:W,isShowCopyModal:Y,setIsShowCopyModal:q,handleClickRateListCopy:()=>{if(W)return void h({title:"계약이 저장되지 않았습니다.",description:"매출 또는 매입 계약을 저장 후 다시 시도해 주세요."});Array.from(y.current.getRowModels().values()).length>0?p({message:"이미 작성된 요율이 있습니다.",type:"caution"}):q(!0)},handleAddCopyRows:e=>{if(0===(e.contractSalesPurchaseRateInfoList||[]).length)return void p({message:"요율 리스트가 없습니다.",type:"fail"});const t=(e.tonInfo||[]).filter((e=>e.isUsed));N(c().uniqBy(t,"tonCode")),b(xa(e),"",!0),p({message:"요율 정보를 불러왔습니다."}),q(!1)},setTonList:N,validateRateConditions:oe,mutateAsyncSaveContractSalesPurchaseRate:J,isSuccessSaveContractSalesPurchaseRate:Q,currentTabId:u,unchangingRows:M}};var va;function Aa(){return Aa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},Aa.apply(null,arguments)}var ga=function(e){return r.createElement("svg",Aa({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},e),va||(va=r.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"m21.1 12.93.79.64-.01.01c.77.5 1.03 1.52.58 2.32l-1.86 3.21a1.73 1.73 0 0 1-2.29.67l-.96-.36c-.5.36-1.03.67-1.59.92l-.17 1.01c-.04.92-.8 1.65-1.73 1.65h-3.71c-.93 0-1.69-.73-1.73-1.65l-.17-1.01c-.56-.25-1.1-.56-1.6-.92l-.96.36c-.81.41-1.83.12-2.29-.67L1.54 15.9c-.46-.81-.2-1.83.57-2.32l.79-.64c-.03-.33-.05-.63-.05-.93s.02-.6.05-.93l-.79-.64c-.77-.5-1.03-1.52-.58-2.32L3.39 4.9a1.74 1.74 0 0 1 2.29-.67l.96.36c.5-.36 1.04-.67 1.6-.92l.17-1.01c.04-.92.8-1.65 1.73-1.65h3.71c.93 0 1.69.73 1.73 1.65l.17 1.01c.57.25 1.1.56 1.6.92l.96-.36a1.74 1.74 0 0 1 2.29.67l1.86 3.21c.46.81.2 1.83-.57 2.32l-.79.64c.03.33.05.63.05.93s-.02.6-.05.93m-1.64.24c.06-.44.09-.81.09-1.17v-.02c0-.35-.03-.73-.09-1.16a.84.84 0 0 1 .29-.73l1.17-.96.033-.024a.4.4 0 0 1 .067-.046c.07-.04.09-.12.05-.19l-1.85-3.2c-.03-.07-.11-.09-.18-.05-.03.02-.11.05-.11.05l-1.43.54c-.27.1-.57.05-.79-.13a7.1 7.1 0 0 0-1.96-1.13.83.83 0 0 1-.5-.62L14 2.83c-.01-.04-.01-.09-.01-.13 0-.07-.06-.13-.13-.13h-3.71c-.07 0-.13.06-.13.13 0 .04-.01.13-.01.13l-.25 1.5c-.04.28-.24.52-.5.62A7.1 7.1 0 0 0 7.3 6.08c-.22.18-.52.23-.79.13l-1.43-.54A.4.4 0 0 1 5 5.635l-.03-.015a.134.134 0 0 0-.19.05L2.93 8.88c-.04.06-.01.14.05.18l.1.07 1.17.96c.22.18.33.45.29.73-.06.43-.09.8-.09 1.16s.03.73.09 1.17c.03.27-.08.54-.29.72l-1.17.96-.033.024a.4.4 0 0 1-.067.046c-.07.04-.09.12-.05.19l1.85 3.2c.04.07.12.09.19.05a1 1 0 0 1 .11-.05l1.43-.54c.09-.03.19-.05.28-.05.18 0 .36.06.5.18.6.48 1.27.87 1.97 1.14.26.1.45.33.5.61l.25 1.5c.01.04.01.09.01.13 0 .07.06.13.13.13h3.71c.07 0 .13-.06.13-.13 0-.04.01-.13.01-.13l.25-1.5c.05-.27.24-.51.5-.61.71-.27 1.37-.66 1.97-1.14.22-.17.52-.22.78-.12l1.43.54c.03.007.054.02.08.035l.03.015c.06.03.14.01.18-.05l1.85-3.2c.04-.06.01-.14-.05-.18l-.1-.07-1.17-.96a.77.77 0 0 1-.29-.72M8 12c0-2.21 1.79-4 4-4a3.999 3.999 0 1 1 0 8c-1.15 0-2.19-.49-2.92-1.27A3.96 3.96 0 0 1 8 12m4 2.4c.67 0 1.29-.27 1.75-.76.42-.45.65-1.03.65-1.64 0-1.32-1.08-2.4-2.4-2.4S9.6 10.68 9.6 12c0 .61.23 1.19.64 1.63.47.5 1.09.77 1.76.77",clipRule:"evenodd"})))};var Ta=function(e){let{row:t,onSelectedTon:a}=e;const{commonMetaV2List:r}=(0,Je.X)();return(0,l.jsx)(He.A,{selectedId:(t.ton||"").toString(),autocompleteBoxClassName:"w-full",options:r[Ze.k.VEHICLE_TON_CODE],componentType:"autocomplete-table",onChange:(e,l)=>{a(t.id,null==l?void 0:l.id)},"data-sentry-element":"TmsBasicAutocomplete","data-sentry-component":"TonDropdownCell","data-sentry-source-file":"TonDropdownCell.tsx"})};var Ia=function(e){let{label:t,checked:a=!1,disabled:r=!1,handleChange:s,className:n,...o}=e;return(0,l.jsxs)("div",{className:C()("flex items-center",n),"data-sentry-component":"TmsBasicSwitch","data-sentry-source-file":"TmsBasicSwitch.tsx",children:[t&&(0,l.jsx)("div",{className:"Body5_B text-grey50",children:t}),(0,l.jsx)(x.Lrc,{checked:a,disabled:r,handleChange:s,...o,"data-sentry-element":"BasicSwitch","data-sentry-source-file":"TmsBasicSwitch.tsx"})]})};var ba=function(e){let{params:t,onChange:a}=e;const{currentTab:s}=ft(),{mutateAsync:n,isSuccess:o,data:i}=(0,T.n)(["DeleteRateListTonListMutation"],(async e=>(await I.q.api((t=>t.ApiV1ContractSalesTonValidate(e)))).data.result)),[d,c]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{if(o){if(!i.isModifiable)return void c(!0);a(t.row.id)}}),[o]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(Ia,{checked:!!t.value,handleChange:()=>{t.value?(async()=>{await n({contractSalesId:s.contractSalesId,contractPurchaseId:(null==s?void 0:s.contractSalesId)||null==s?void 0:s.contractPurchaseId,contractTonIdList:[t.row.id],isConsigned:!!t.row.isConsignment})})():a(t.row.id)},className:"justify-center","data-sentry-element":"TmsBasicSwitch","data-sentry-source-file":"TonOnOffToggleCell.tsx"}),d&&(0,l.jsx)(N,{title:"입력된 요율 정보가 있습니다.",description:"".concat(Number(t.row.ton)/10,"Ton에 해당하는 대당 요율 정보가 존재합니다. 사용여부를 해지하시겠어요?"),onClickCloseButton:()=>c(!1),onClickConfirmButton:()=>{a(t.row.id),c(!1)},confirmButtonLabel:"해지하기",confirmButtonType:"destructive"})]})};const Ra=(e,t,a)=>[{field:"__check__",headerName:"",width:64,sortable:!1,disableColumnMenu:!0,align:"right",headerClassName:"height-wide-cell check-right-align"},{field:"no",headerName:"No.",headerAlign:"center",align:"center",cellClassName:"required-cell",headerClassName:"height-wide-cell",sortable:!1,width:48},{field:"ton",headerName:"톤급",headerAlign:"center",headerClassName:"height-wide-cell",sortable:!1,flex:1,renderCell:t=>Ta({row:t.row,onSelectedTon:e})},{field:"isUsed",headerName:"일반",headerAlign:"center",sortable:!1,width:117,renderCell:e=>ba({params:e,onChange:t})},{field:"isConsignment",headerName:"위수탁",headerAlign:"center",align:"center",sortable:!1,width:117,renderCell:e=>ba({params:e,onChange:a})}],Sa=[{groupId:"isUseGroup",headerName:"사용여부",children:[{field:"isUsed"},{field:"isConsignment"}]}],_a={id:0,ton:"",no:0,isConsignment:!1,isUsed:!0,isSelected:!1,isNew:!1};var wa,Oa=()=>{const{currentTab:e}=ft(),[t,a]=(0,r.useState)(!1),[l,s]=(0,r.useState)([]),n=(0,$e.P9)(),{mutateAsync:o,isSuccess:i,data:d}=(0,T.n)(["GetRateListTonListMutation"],(async e=>(await I.q.api((t=>t.ApiV1ContractSalesTonList(e)))).data.result)),{mutateAsync:c,isSuccess:u,data:m}=(0,T.n)(["SaveRateListTonListMutation"],(async e=>(await I.q.api((t=>t.ApiV1ContractSalesTonSave(e)))).data.result)),{mutateAsync:p,isSuccess:h,isError:f,error:C}=(0,T.n)(["DeleteRateListTonListMutation"],(async e=>(await I.q.api((t=>t.ApiV1ContractSalesTonDelete(e)))).data.result)),x=()=>{s((e=>[...e.filter((e=>!e.isSelected||!e.isNew))]))};return(0,r.useEffect)((()=>{t&&(async()=>{await o({contractSalesId:null==e?void 0:e.contractSalesId,contractPurchaseId:(null==e?void 0:e.contractSalesId)||null==e?void 0:e.contractPurchaseId})})()}),[t]),(0,r.useEffect)((()=>{if(i&&d.contractTonInfoList){const e=d.contractTonInfoList.map(((e,t)=>{var a;return{id:e.tonId||0,ton:(null===(a=e.tonCode)||void 0===a?void 0:a.toString())||"",no:t+1,isConsignment:e.isConsignment,isUsed:e.isUsed,isSelected:!1,isNew:!1}}));s(e)}}),[i]),(0,r.useEffect)((()=>{u&&(n({message:"적용되었습니다."}),a(!1))}),[m]),(0,r.useEffect)((()=>{h&&(n({message:"삭제되었습니다."}),o({contractSalesId:null==e?void 0:e.contractSalesId,contractPurchaseId:(null==e?void 0:e.contractSalesId)||null==e?void 0:e.contractPurchaseId}))}),[h]),(0,r.useEffect)((()=>{f&&1029===C.responseCode&&n({message:"입력된 요율 정보가 있습니다. 요율을 먼저 삭제해 주세요.",type:"caution"})}),[f]),{isOpenedTonSettingModal:t,setIsOpenedTonSettingModal:a,handleClickSave:async()=>{new Set(l.map((e=>e.ton))).size===l.length?await c({contractSalesId:null==e?void 0:e.contractSalesId,contractPurchaseId:(null==e?void 0:e.contractSalesId)||null==e?void 0:e.contractPurchaseId,contractTonInfoList:l.filter((e=>e.ton)).map((e=>({tonId:e.isNew?void 0:e.id,tonCode:e.ton.toString(),isConsignment:e.isConsignment,isUsed:e.isUsed})))}):n({message:"중복된 톤급이 있습니다",type:"caution"})},handleAddRow:()=>{s([...l,{..._a,id:Date.now()+Math.floor(1e3*Math.random()),no:l.length+1,isNew:!0}])},handleDeleteRows:x,tonList:l,setTonList:s,handleChangeTon:(e,t)=>{l.find((e=>e.ton===t))?n({message:"이미 추가된 톤급이 있습니다.",type:"caution"}):s((a=>[...a.map((a=>(a.id===e&&(a.ton=t),a)))]))},handleChangeNormalUse:async e=>{s((t=>t.map((t=>t.id===e?{...t,isUsed:!t.isUsed}:t))))},handleChangeConsignmentUse:e=>{s((t=>t.map((t=>t.id===e?{...t,isConsignment:!t.isConsignment}:t))))},processRowUpdate:e=>{const t=l.map((t=>t.id===e.id?e:t));return s(t),e},handleForeverDelete:async()=>{const t=l.filter((e=>e.isSelected));x();t.filter((e=>e.isNew)).length!==t.length&&await p({contractTonIdList:t.filter((e=>!e.isNew)).map((e=>e.id)),contractSalesId:null==e?void 0:e.contractSalesId,contractPurchaseId:(null==e?void 0:e.contractSalesId)||null==e?void 0:e.contractPurchaseId})}}};function Ma(){return Ma=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},Ma.apply(null,arguments)}var Da=function(e){return r.createElement("svg",Ma({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},e),wa||(wa=r.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M20.75 4H17V2c0-.55-.45-1-1-1H8c-.55 0-1 .45-1 1v2H3.25c-.14 0-.25.11-.25.25v1.1c0 .14.11.25.25.25H4L5 21c0 .55.45 1 1 1h12c.55 0 1-.45 1-1l1-15.4h.75c.14 0 .25-.11.25-.25v-1.1c0-.14-.11-.25-.25-.25M8.6 2.6h6.8V4H8.6zm8.8 17.8H6.6l-1-14.8h12.8zM10.6 8H9v10h1.6zm2.8 0H15v10h-1.6z",clipRule:"evenodd"})))};function ja(e){let{isDisabled:t,handleDeleteComplete:a}=e;return(0,l.jsx)(u.A,{label:"삭제",level:m.V.level_5,size:m.M.Small,leftIcon:(0,l.jsx)(Da,{width:16,height:16,className:C()(t?"text-redDisabled":"text-error")}),onClick:a,disabled:t,"data-sentry-element":"TmsBasicButton","data-sentry-component":"TmsDataGridDeleteCompleteBtn","data-sentry-source-file":"TmsDataGridDeleteCompleteBtn.tsx"})}var Pa=function(e){let{handleSearch:t}=e;const[a,s]=(0,r.useState)(!1),{isOpenedTonSettingModal:n,setIsOpenedTonSettingModal:o,handleClickSave:i,handleAddRow:d,tonList:c,setTonList:p,handleChangeTon:h,handleChangeNormalUse:f,handleChangeConsignmentUse:C,processRowUpdate:x,handleForeverDelete:y}=Oa();return(0,l.jsxs)("div",{"data-sentry-component":"TonSetting","data-sentry-source-file":"TonSetting.tsx",children:[(0,l.jsx)(u.A,{label:"톤급관리",level:m.V.level_5,size:m.M.Small,leftIcon:(0,l.jsx)(ga,{width:16,height:16,className:"text-primary50"}),onClick:()=>o(!0),"data-sentry-element":"TmsBasicButton","data-sentry-source-file":"TonSetting.tsx"}),n&&(0,l.jsx)(Pe.A,{title:"톤급 관리",onClickCloseButton:()=>{o(!1),t()},isShowedConfirmButton:!1,children:(0,l.jsxs)("div",{className:"flex flex-col gap-[8px]",children:[(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("div",{className:"flex items-center gap-[4px]",children:(0,l.jsx)(St.A,{handleAddRow:d})}),(0,l.jsxs)("div",{className:"flex items-center gap-[4px]",children:[(0,l.jsx)(ja,{handleDeleteComplete:()=>s(!0),isDisabled:!c.find((e=>e.isSelected))}),a&&(0,l.jsx)(N,{title:"톤급을 삭제하시겠어요?",description:"[삭제하기]버튼을 클릭하면 데이터를 복구할 수 없습니다.",onClickCloseButton:()=>s(!1),onClickConfirmButton:()=>{y(),s(!1)},confirmButtonLabel:"삭제하기",confirmButtonType:"destructive"}),(0,l.jsx)(_t.A,{handleSave:i})]})]}),(0,l.jsx)(Fe.A,{rows:c,columns:Ra(h,f,C),checkboxSelection:!0,disableRowSelectionOnClick:!0,columnHeaderHeight:32,columnGroupingModel:Sa,processRowUpdate:x,onRowSelectionModelChange:e=>{p((t=>{if(0===e.length)return t.map((e=>({...e,isSelected:!1})));return[...t.map((t=>({...t,isSelected:e.includes(t.id)})))]}))}})]})})]})};function La(e){let{id:t,validation:a,required:r,disabled:s,className:n="",textareaClassName:o="",labelChildren:i,onReset:d,value:c,labelClassName:u="",maxLength:m,...p}=e;return(0,l.jsxs)("div",{className:C()("tms-basic-textarea relative",n,{disabled:s}),"data-sentry-component":"TmsBasicTextarea","data-sentry-source-file":"TmsBasicTextarea.tsx",children:[(0,l.jsx)("textarea",{disabled:s,id:t,rows:4,className:"".concat(a&&"validation-textarea"," ").concat(o),value:c,maxLength:m,...p}),(0,l.jsx)("div",{className:"flex",children:a&&(0,l.jsx)("p",{className:"validation flex",children:a})}),m&&(0,l.jsxs)("p",{className:"Body5_M text-grey60 absolute bottom-[12px] right-[16px]",children:[(0,l.jsx)("b",{children:(null==c?void 0:c.length)?c.length:0})," / ",m,"자"]})]})}function Ba(){return(0,l.jsx)("span",{className:"bg-decide ml-[2px] h-[3px] w-[3px] flex-none rounded-[3px]","data-sentry-component":"TmsBasicRequired","data-sentry-source-file":"TmsBasicRequired.tsx"})}function Ua(e){let{onClickCloseButton:t,onClickConfirmButton:a}=e;const[s,n]=(0,r.useState)("");return(0,l.jsx)(Pe.A,{title:"변경 사유",confirmButtonLabel:"저장하기",onClickCloseButton:t,onClickConfirmButton:()=>a(s),"data-sentry-element":"TmsBasicModal","data-sentry-component":"ChangeReasonModal","data-sentry-source-file":"ChangeReasonModal.tsx",children:(0,l.jsxs)("div",{className:"flex h-full pb-[24px]",children:[(0,l.jsxs)("div",{className:"Body5_M text-grey30 bg-warmGrey95 flex !w-[120px] items-center px-[12px] py-[6px]",children:["변경 사유",(0,l.jsx)(Ba,{"data-sentry-element":"TmsBasicRequired","data-sentry-source-file":"ChangeReasonModal.tsx"})]}),(0,l.jsx)(La,{maxLength:100,placeholder:"변경 사유를 입력해 주세요. (100자 이내)",value:s,onChange:e=>{s.length>100||n(e.target.value)},"data-sentry-element":"TmsBasicTextarea","data-sentry-source-file":"ChangeReasonModal.tsx"})]})})}var Va,Fa=a(58665);function Ga(){return Ga=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},Ga.apply(null,arguments)}var ka=function(e){return r.createElement("svg",Ga({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},e),Va||(Va=r.createElement("path",{fill:"currentColor",d:"M20 7h-3V4c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3v3c0 .55.45 1 1 1h12c.55 0 1-.45 1-1V8c0-.55-.45-1-1-1M7 15.4H4.6V4.6h10.8v10.8zm12.4 4H8.6V17H16c.55 0 1-.45 1-1V8.6h2.4z"})))};function Ya(e){let{label:t,isDisabled:a,handleCopyRow:r}=e;return(0,l.jsx)(u.A,{label:t||"행 복사",level:m.V.level_6,size:m.M.Small,leftIcon:(0,l.jsx)(ka,{width:16,height:16,className:" ".concat(a?"text-primaryDisabled":"text-grey50")}),onClick:r,disabled:a,"data-sentry-element":"TmsBasicButton","data-sentry-component":"TmsDataGridCopyRowBtn","data-sentry-source-file":"TmsDataGridCopyRowBtn.tsx"})}var qa,Wa={degreeColumn:(e,t)=>[{field:"contractSalesDegreeId"},{field:"radio_select",headerName:"선택",width:48,align:"center",renderCell:a=>{var r;return(0,l.jsx)("input",{type:"radio",checked:(null===(r=a.row.contractSalesDegreeId)||void 0===r?void 0:r.toString())===(null==t?void 0:t.toString()),onChange:()=>e(a.row.contractSalesDegreeId)})}},{field:"degree",headerName:"매출 차수",sortable:!1,width:74,align:"center",filterable:!1},{field:"degreeStartAt",headerName:"적용 일자",flex:1,filterable:!1,type:da._.VIEW_MODE_YYYYMMDD},{field:"degreeEndAt",headerName:"만료 일자",flex:1,filterable:!1,type:da._.VIEW_MODE_YYYYMMDD}],purchaseColumn:(e,t)=>[{field:"contractPurchaseDegreeId"},{field:"radio_select",headerName:"선택",width:48,align:"center",renderCell:a=>(0,l.jsx)("input",{type:"radio",checked:a.row.contractPurchaseDegreeId.toString()===(null==t?void 0:t.toString()),onChange:()=>e(a.row.contractPurchaseDegreeId)})},{field:"contractName",headerName:"매입 계약명",width:160,filterable:!1},{field:"contractPurchaseDegree",headerName:"매입 차수",width:74,filterable:!1,align:"center"},{field:"contractStartAt",headerName:"적용 일자",width:133,filterable:!1,type:da._.VIEW_MODE_YYYYMMDD},{field:"contractEndAt",headerName:"만료 일자",width:133,filterable:!1,type:da._.VIEW_MODE_YYYYMMDD}]},Ha=a(35293);function Ka(e){let{onClickCloseButton:t,onClickConfirmButton:a,contractCategoryType:s,isOnlySalesContract:n,customerId:o,salesId:i}=e;var d,c;const{getCurrentTab:p}=ft(),h=p(),{degreeColumn:f,purchaseColumn:x}=Wa,N=(0,$e.P9)(),y=(0,r.useRef)(null),E=(0,D.bBi)(),v=(0,r.useRef)(null),A=(0,D.bBi)(),[g,T]=(0,r.useState)(o),[I,b]=(0,r.useState)(i),[S,_]=(0,r.useState)(),[w,O]=(0,r.useState)(),{mutateAsync:M,data:j}=aa(),{mutateAsync:P,data:L}=la(),{mutateAsync:B,data:U,isSuccess:V}=ra(),{mutateAsync:F,data:G,isSuccess:k}=sa(),{mutateAsync:Y,data:q,isSuccess:W}=na(),H=e=>{_(e)},K=e=>{O(e)};return(0,r.useLayoutEffect)((()=>{M({})}),[]),(0,r.useEffect)((()=>{g&&P({customerId:g})}),[g]),(0,r.useEffect)((()=>{S&&!n&&F({contractSalesId:i,contractSalesDegreeId:S})}),[S]),(0,r.useEffect)((()=>{var e,t;V&&(y.current.setInitData(U.contractSalesDegreeInfoList),H(null===(e=U.contractSalesDegreeInfoList[0])||void 0===e?void 0:e.contractSalesDegreeId),n||(v.current.setInitData(U.contractPurChaseSimpleInfoList),K(null===(t=U.contractPurChaseSimpleInfoList[0])||void 0===t?void 0:t.contractPurchaseDegreeId)))}),[V]),(0,r.useEffect)((()=>{W&&a(q)}),[W]),(0,r.useEffect)((()=>{o&&i&&B({contractSalesId:i})}),[o,i]),(0,r.useEffect)((()=>{var e;k&&(v.current.setInitData(G.contractPurChaseSimpleInfoList),K(null===(e=U.contractPurChaseSimpleInfoList[0])||void 0===e?void 0:e.contractPurchaseDegreeId))}),[k]),(0,l.jsx)(Pe.A,{title:"요율 불러오기",confirmButtonLabel:"불러오기",modalWidth:1004,modalContentHeight:267,onClickCloseButton:t,onClickConfirmButton:()=>{const e=U.contractSalesDegreeInfoList.find((e=>e.contractSalesDegreeId===S)),t=U.contractPurChaseSimpleInfoList.find((e=>e.contractPurchaseDegreeId===w));Y({contractSalesId:h.contractSalesId,contractPurchaseId:h.contractPurchaseId,targetContractSalesId:I,targetContractSalesDegreeId:null==e?void 0:e.contractSalesDegreeId,targetContractPurchaseId:null==t?void 0:t.contractPurchaseId,targetContractPurchaseDegreeId:null==t?void 0:t.contractPurchaseDegreeId,contractCategoryType:R.IHB[s]})},"data-sentry-element":"TmsBasicModal","data-sentry-component":"CopyRateModal","data-sentry-source-file":"CopyRateModal.tsx",children:(0,l.jsxs)("div",{className:"pb-[24px]",children:[(0,l.jsxs)("div",{className:"flex items-center gap-[16px]",children:[(0,l.jsx)(He.A,{label:"고객명",options:null==j||null===(d=j.itemList)||void 0===d?void 0:d.map((e=>({id:e.customerId,label:"".concat(e.name,"(").concat(e.mdmCode,")")}))),selectedId:(null==g?void 0:g.toString())||"",placeholder:"고객명 선택",autocompleteSize:Ha.A.Small,autocompleteClassName:"!w-[389px]",onChange:(e,t)=>T(t.id),labelContainerClassName:"!min-w-[35px]",optionsBoxWidth:389,"data-sentry-element":"TmsBasicAutocomplete","data-sentry-source-file":"CopyRateModal.tsx"}),(0,l.jsx)(He.A,{autocompleteSize:Ha.A.Small,label:"매출계약",options:null==L||null===(c=L.contractSalesInfoList)||void 0===c?void 0:c.map((e=>({id:e.contractSalesId,label:"".concat(e.contractName,"(").concat(e.contractNo,")")}))),selectedId:(null==I?void 0:I.toString())||"",placeholder:"매출 계약 선택",autocompleteClassName:"!w-[375px]",onChange:(e,t)=>b(t.id),labelContainerClassName:"!min-w-[49px]",optionsBoxWidth:375,"data-sentry-element":"TmsBasicAutocomplete","data-sentry-source-file":"CopyRateModal.tsx"}),(0,l.jsx)(u.A,{className:"!h-[28px] flex-none",level:m.V.level_3,size:m.M.Small,label:"조회",leftIcon:(0,l.jsx)(se.A,{width:20,height:20}),onClick:()=>{g?I?B({contractSalesId:I}):N({message:"매출계약을 선택해 주세요",type:"fail"}):N({message:"고객명을 선택해 주세요",type:"fail"})},"data-sentry-element":"TmsBasicButton","data-sentry-source-file":"CopyRateModal.tsx"})]}),(0,l.jsxs)("div",{className:"mt-[12px] flex h-full justify-between",children:[(0,l.jsx)("div",{className:C()("h-[200px]",{"w-[392px]":!n,"flex-1":n}),children:(0,l.jsx)(Fa.A,{ref:y,gridApiRef:E,columns:f(H,S),columnVisibilityModel:{contractSalesDegreeId:!1},initialState:{pinnedColumns:{left:["__check__","id"]}},"data-sentry-element":"WrapperBasicDataGrid","data-sentry-source-file":"CopyRateModal.tsx"})}),!n&&(0,l.jsx)("div",{className:"h-[200px] w-[552px]",children:(0,l.jsx)(Fa.A,{ref:v,gridApiRef:A,columns:x(K,w),columnVisibilityModel:{contractPurchaseDegreeId:!1},initialState:{pinnedColumns:{left:["__check__","id"]}}})})]})]})})}function za(){return za=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},za.apply(null,arguments)}var Xa,Qa=function(e){return r.createElement("svg",za({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none"},e),qa||(qa=r.createElement("path",{fill:"currentColor",d:"M12.333 8.667A3.665 3.665 0 0 1 16 12.333 3.665 3.665 0 0 1 12.333 16a3.665 3.665 0 0 1-3.666-3.667 3.664 3.664 0 0 1 3.666-3.666m-2 3.206.494.46L12 11.24v3.427h.667V11.24l1.173 1.093.493-.46-2-1.873zm3-9.873c.367 0 .667.3.667.667v5.666a4 4 0 0 0-1.066-.286v-4.98H3.066v9.867h4.98c.048.373.147.733.287 1.066H2.667A.67.67 0 0 1 2 13.333V2.667C2 2.3 2.3 2 2.667 2zM7.86 6.533q.12.26.22.62h.014q.068-.22.226-.64l1.147-2.18h1.806L9.12 7.967l.567.946c-.434.327-.8.74-1.074 1.214l-.44-.847c-.047-.086-.093-.253-.147-.493h-.02c-.02.113-.08.286-.166.513L6.6 11.667H4.667L6.96 8l-2.1-3.667h1.973z"})))};function Za(){return Za=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},Za.apply(null,arguments)}var Ja=function(e){return r.createElement("svg",Za({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none"},e),Xa||(Xa=r.createElement("path",{fill:"currentColor",d:"M12.333 8.667A3.665 3.665 0 0 1 16 12.333 3.665 3.665 0 0 1 12.333 16a3.665 3.665 0 0 1-3.666-3.667 3.664 3.664 0 0 1 3.666-3.666m-2 3.206.494.46L12 11.24v3.427h.667V11.24l1.173 1.093.493-.46-2-1.873zm3-9.873c.367 0 .667.3.667.667v5.666a4 4 0 0 0-1.066-.286v-4.98H3.066v9.867h4.98c.048.373.147.733.287 1.066H2.667A.67.67 0 0 1 2 13.333V2.667C2 2.3 2.3 2 2.667 2zM7.86 6.533q.12.26.22.62h.014q.068-.22.226-.64l1.147-2.18h1.806L9.12 7.967l.567.946c-.434.327-.8.74-1.074 1.214l-.44-.847c-.047-.086-.093-.253-.147-.493h-.02c-.02.113-.08.286-.166.513L6.6 11.667H4.667L6.96 8l-2.1-3.667h1.973z"})))};function $a(e){let{setExcelFile:t=()=>null,onClickExcelUpload:a=()=>null}=e;const s=(0,r.useRef)(null);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(u.A,{label:"엑셀 파일 업로드",level:m.V.level_3,size:m.M.Small,leftIcon:(0,l.jsx)(Ja,{width:16,height:16,className:"text-blue50"}),onClick:()=>{var e;a(),null===(e=s.current)||void 0===e||e.click()},"data-sentry-element":"TmsBasicButton","data-sentry-source-file":"TmsBasicDataGridExcelUpload.tsx"}),(0,l.jsx)("input",{ref:s,type:"file",id:"fileUpload",className:"hidden",onChange:e=>{const a=e.target.files;a&&a.length&&t(a),e.target.value="",e.target.files=null},accept:".xlsx"})]})}var el=function(e){let{serviceType:t,excelTemplateDownloadType:a}=e;const{mutateAsync:s,isSuccess:n,data:o}=(0,T.n)(["useCommonExcelTemplateDownloadMutation"],(async e=>(await I.q.api((t=>t.ApiCommonExcelTemplateV1Download(e)))).data.result));return(0,r.useEffect)((()=>{if(n){const e=window.URL||window.webkitURL,t=new XMLHttpRequest,a=document.createElement("a");t.open("GET",o.downloadUrl,!0),t.responseType="blob",t.onload=()=>{const l=new Blob([t.response],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});a.href=window.URL.createObjectURL(l),a.download=o.fileName,a.click(),e.revokeObjectURL(o.downloadUrl)},t.send()}}),[o]),(0,l.jsx)(We,{label:"양식 다운로드",isSuccessExcel:n,excelData:null,handleExcelDownload:async()=>await s({serviceType:t,excelTemplateDownloadType:a}),"data-sentry-element":"TmsBasicDataGridExcelDownload","data-sentry-component":"TemplateExcelDownloadButton","data-sentry-source-file":"TemplateExcelDownloadButton.tsx"})},tl=a(95335);var al=function(e){let{editMode:t,title:a="엑셀 업로드",columns:s,columnGroupingModel:n,excelDownload:o,excelUpload:i,excelValidation:d,uploadListRegister:c,reloadList:p}=e;const h=(0,r.useRef)(null),f=(0,D.bBi)(),[C,x]=(0,r.useState)(!1),N=(0,$e.P9)(),y=(0,ya.c5)();return(0,r.useEffect)((()=>{var e;i.isSuccess&&(null===(e=h.current)||void 0===e||e.setInitData(i.excelResponseList,"",!0))}),[i.isSuccess]),(0,r.useEffect)((()=>{if(d.isSuccess){var e;var t;if(d.excelValidationResponseList.find((e=>Object.keys(e.errorMap||{}).length>0)))return void(null===(t=h.current)||void 0===t||t.setInitData(d.excelValidationResponseList,"",!0));c.setExcelUploadList(Array.from(null==f||null===(e=f.current)||void 0===e?void 0:e.getRowModels().values()))}}),[d.isSuccess]),(0,r.useEffect)((()=>{C&&c.isSuccess&&(N({message:"".concat(c.successMessage.dataName," ").concat(c.successMessage.successCount,"건이 일괄 등록되었습니다."),type:"success"}),x(!1),p&&p())}),[c.isSuccess]),(0,r.useEffect)((()=>{var e;if(i.isError&&(i.error.responseCode===tl.z.COMMON_EXCEL_MAX_UPLOAD&&i.maxUploadLength))return void y({title:"최대 업로드 수를 초과했습니다.",description:"엑셀 업로드는 최대 ".concat((null!==(e=i.maxUploadLength)&&void 0!==e?e:1e3).toLocaleString("ko-KR"),"건까지 가능합니다. 데이터 수를 확인 후 다시 시도해 주세요.")})}),[i.isError]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(u.A,{label:"엑셀 업로드",level:m.V.level_5,size:m.M.Small,leftIcon:(0,l.jsx)(Qa,{width:16,height:16}),onClick:()=>{var e,t;!1!==(null===(e=i.isValidUploadClick)||void 0===e?void 0:e.call(i))&&(null===(t=i.resetList)||void 0===t||t.call(i),x(!0))},"data-sentry-element":"TmsBasicButton","data-sentry-source-file":"ExcelUploadModal.tsx"}),C&&(0,l.jsx)(Pe.A,{title:a,confirmButtonLabel:"등록하기",modalWidth:1280,modalContentHeight:520,onClickCloseButton:()=>x(!1),onClickConfirmButton:()=>{const e=Array.from(f.current.getRowModels().values());if(0===e.length)return void N({message:"등록할 데이터가 없습니다.",type:"fail"});e.find((e=>Object.keys(e.errorMap||{}).length>0))?y({title:"업로드 불가능한 데이터가 존재합니다.",description:"데이터 수정 후 '등록하기'버튼을 눌러 주세요."}):d.checkValidation(e)},children:(0,l.jsxs)("div",{className:"pb-[24px]",children:[(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)(Rt,{handleDeleteRow:()=>{var e;null===(e=h.current)||void 0===e||e.removeSelectedRow()}}),(0,l.jsxs)("div",{className:"flex gap-[8px]",children:[o.isUsedExcelTemplateCommon?(0,l.jsx)(el,{serviceType:o.serviceType,excelTemplateDownloadType:o.excelTemplateDownloadType}):(0,l.jsx)(We,{label:"양식 다운로드",excelFileName:o.fileName,isSuccessExcel:o.isSuccess,excelData:o.excelData,handleExcelDownload:o.handleExcelDownload}),(0,l.jsx)($a,{setExcelFile:i.setExcelFile})]})]}),(0,l.jsx)("div",{className:"mt-[12px] h-[453px]",children:s&&(0,l.jsx)(Fa.A,{editMode:t,ref:h,gridApiRef:f,columns:s,columnGroupingModel:n,getRowId:e=>e._id_,isExcelUpload:!0,checkboxSelection:!0,disableColumnMenu:!0,initialState:{pinnedColumns:{left:["__check__"]}},noRowDescription:{description_1:"조회된 데이터가 없습니다.",description_2:"'엑셀 업로드'를 눌러 파일을 업로드해 주세요."}})})]})})]})};const ll=e=>{let{contractSalesDegreeId:t,contractPurchaseDegreeId:a,selectedToggle:l,tonList:s,validateRateConditions:n,mutateAsyncSaveContractSalesPurchaseRate:o,setTonList:i,setIsUploadDataSave:d}=e;const u=(0,ya.c5)(),{getCurrentTab:m}=ft(),p=m(),h=!(null==p?void 0:p.contractSalesId)&&!p.contractPurchaseId,{isSuccess:f,mutateAsync:C,data:x,reset:N}=(0,T.n)(["useGetSampleExcelFileRate"],(async e=>(await I.q.api((t=>t.ApiV1ContractSalesPurchaseDegreeRateSampleExcel(e,{format:"blob"})))).data)),{mutateAsync:y,isSuccess:E,isError:v,error:A,data:g,reset:b}=(0,T.n)(["useSalesPurchaseRateUpload"],(async e=>{const t=new FormData;return t.append("file",e.file),t.append("request",JSON.stringify(e.request)),(await I.q.api((e=>e.ApiV1ContractSalesPurchaseDegreeRateUploadExcel(t)))).data.result})),{mutateAsync:S,isSuccess:_,data:w}=(0,T.n)(["useSalesPurchaseRateUploadValidation"],(async e=>(await I.q.api((t=>t.ApiV1ContractSalesPurchaseDegreeRateUploadValidate(e)))).data.result));return(0,r.useEffect)((()=>{f&&N()}),[f]),(0,r.useEffect)((()=>{if(_){if(!w.contractSalesPurchaseRateInfoList.find((e=>Object.keys(e.errorMap||{}).length>0)))return void d(!0)}}),[_]),(0,r.useEffect)((()=>{if(E){const e=(g.tonInfo||[]).filter((e=>e.isUsed));i(c().uniqBy(e,"tonCode"))}}),[E]),{sampleFile:x,handleClickSampleExcelFileDown:()=>{C({contractSalesId:p.contractSalesId,contractPurchaseId:p.contractPurchaseId,contractCategoryType:R.GIn[l]})},isSuccess:f,handleFileUpload:e=>{h?u({title:"계약이 저장되지 않았습니다.",description:"매출 또는 매입 계약을 저장 후 다시 시도해 주세요."}):y({file:e[0],request:{contractSalesId:p.contractSalesId,contractSalesDegreeId:t,contractPurchaseId:p.contractPurchaseId,contractPurchaseDegreeId:a,contractCategoryType:R.n2j[l]}})},uploadedList:g,resetUploadList:b,isUploadSuccess:E,isUploadError:v,uploadError:A,handleValidation:e=>{const r=()=>S({contractSalesDegreeId:t,contractPurchaseDegreeId:a,contractSalesId:p.contractSalesId,contractPurchaseId:p.contractPurchaseId,contractCategoryType:R.Ire[l],contractSalesPurchaseRateInfoList:Na.mapToRateList(p.contractSalesId&&t,p.contractPurchaseId&&a,!1,s,e)});n(e,r)||r()},isSuccessValidation:_,handleUploadListRegister:async()=>{await o({contractPurchaseDegreeId:p.contractPurchaseId&&a,contractSalesDegreeId:p.contractSalesId&&t,contractSalesPurchaseRateInfoList:w.contractSalesPurchaseRateInfoList,contractCategoryType:R.Orb[l]})},validationResponseData:w}};function rl(e){let{contractSalesDegreeId:t,contractPurchaseDegreeId:a,saveButtonRef:s,isNewPurchase:n,setIsNewPurchase:o,isExpired:i,salesName:d,purchaseName:c,customerId:p,salesId:h}=e;var f;const[C,x]=(0,r.useState)(!1),{searchParams:N,handleChangeSearchParams:y,handleSearch:E,handleSaveRate:v,tonList:A,gridApiRef:g,wrapGridRef:T,handleCopyRows:I,handleReset:b,handleAddRow:S,handleDeleteRows:_,selectedToggle:w,setSelectedToggle:O,rowSelectionModel:M,setRowSelectionModel:D,isOpenedChangeReason:j,setIsOpenedChangeReason:P,handleChangeReasonSave:L,handleExcelDownload:B,isSuccessSalesPurchaseRateListExcel:U,dataSalesPurchaseRateListExcel:V,isCheckedContractId:F,isShowCopyModal:G,setIsShowCopyModal:k,handleClickRateListCopy:Y,handleAddCopyRows:q,setTonList:W,validateRateConditions:H,mutateAsyncSaveContractSalesPurchaseRate:K,isSuccessSaveContractSalesPurchaseRate:z,currentTabId:X,unchangingRows:Q}=Ea({contractSalesDegreeId:t,contractPurchaseDegreeId:a,isNewPurchase:n,setIsNewPurchase:o,isUploadDataSave:C,setIsUploadDataSave:x}),{sampleFile:Z,handleClickSampleExcelFileDown:J,isSuccess:$,handleFileUpload:ee,uploadedList:te,resetUploadList:ae,isUploadSuccess:le,isUploadError:re,uploadError:ne,handleValidation:oe,isSuccessValidation:ie,handleUploadListRegister:de,validationResponseData:ce}=ll({contractSalesDegreeId:t,contractPurchaseDegreeId:a,selectedToggle:w,tonList:A,validateRateConditions:H,mutateAsyncSaveContractSalesPurchaseRate:K,setTonList:W,setIsUploadDataSave:x});return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"h-[calc(100%-53px)] overflow-auto",children:[(0,l.jsxs)("div",{className:"flex justify-between px-[40px] py-[12px]",children:[(0,l.jsxs)("div",{className:"flex items-center gap-[16px]",children:[(0,l.jsx)("div",{className:"Body2_B flex-none",children:"요율 상세"}),(0,l.jsx)(we.A,{leftItem:{label:"구간별",value:R.RGd.SECTION},rightItem:{label:"거리별",value:R.RGd.DISTANCE},selectedItemValue:w,setSelectedItem:e=>{O(R.RGd[e.value])},"data-sentry-element":"TmsBasicTextSwitch","data-sentry-source-file":"RateListPanel.tsx"})]}),(0,l.jsxs)("div",{className:"flex items-center gap-[12px]",children:[F&&(0,l.jsxs)("div",{className:"relative inline-block",children:[(0,l.jsx)("div",{className:"bg-grey30 Body5_M rounded-[4px] px-[12px] py-[4px] text-white",children:"계약 저장 이후 요율 저장이 가능합니다."}),(0,l.jsx)("div",{className:"border-l-grey30 absolute right-0 top-1/2 h-0 w-0 -translate-y-1/2 translate-x-full border-y-[6px] border-l-[8px] border-white"})]}),!i&&(0,l.jsx)(u.A,{buttonRef:s,label:"요율 저장",level:m.V.level_2,leftIcon:(0,l.jsx)(yt.A,{width:20,height:20,className:"text-white"}),onClick:v})]})]}),(0,l.jsxs)("div",{className:"border-grey90 flex gap-[16px] border-t px-[40px] py-[8px]",children:[(0,l.jsx)(Tt.A,{label:"상차지",placeholder:"상차지 입력",sizeType:Ha.A.Small,value:N.loading,onChange:e=>y({loading:e.target.value}),onKeyDown:e=>{"Enter"===e.key&&E()},"data-sentry-element":"TmsBasicInput","data-sentry-source-file":"RateListPanel.tsx"}),(0,l.jsx)(Tt.A,{label:"하차지",placeholder:"하차지 입력",sizeType:Ha.A.Small,value:N.unloading,onChange:e=>y({unloading:e.target.value}),onKeyDown:e=>{"Enter"===e.key&&E()},"data-sentry-element":"TmsBasicInput","data-sentry-source-file":"RateListPanel.tsx"}),(0,l.jsx)(u.A,{level:m.V.level_3,size:m.M.Small,label:"조회",leftIcon:(0,l.jsx)(se.A,{width:20,height:20}),onClick:E,"data-sentry-element":"TmsBasicButton","data-sentry-source-file":"RateListPanel.tsx"})]}),(0,l.jsx)("div",{className:"h-[calc(100%-101px)]",children:(0,l.jsx)(Fa.A,{isCellEditable:()=>!i,ref:T,gridApiRef:g,onRowSelectionModelChange:D,columns:Ca(A,w,!!(null==X?void 0:X.copyContractSalesId)||!!(null==X?void 0:X.contractSalesId),!!(null==X?void 0:X.copyContractPurchaseId)||!!(null==X?void 0:X.contractPurchaseId),Q),disableClipboardPaste:!0,columnGroupingModel:fa(A),checkboxSelection:!0,noRowDescription:{description_1:"조회된 요율 정보가 없습니다.",description_2:"매출 또는 매입 계약을 먼저 작성해 주세요."},getCellClassName:e=>String(e.colDef.cellClassName).includes("required-cell")&&e.row.isError&&!e.row[e.field]?"basic-dataGrid-error":"","data-sentry-element":"WrapperBasicDataGrid","data-sentry-source-file":"RateListPanel.tsx"})})]}),(0,l.jsxs)("div",{className:"border-grey95 absolute bottom-0 left-0 flex w-full justify-between gap-[4px] border-t px-[40px] py-[12px]",children:[(0,l.jsxs)("div",{className:"flex gap-[8px]",children:[(0,l.jsx)(St.A,{isDisabled:i,handleAddRow:S,"data-sentry-element":"TmsDataGridAddRowBtn","data-sentry-source-file":"RateListPanel.tsx"}),(0,l.jsx)(Rt,{isDisabled:i,handleDeleteRow:_,"data-sentry-element":"TmsDataGridDeleteRowBtn","data-sentry-source-file":"RateListPanel.tsx"}),(0,l.jsx)(Ya,{isDisabled:i&&0===M.length,handleCopyRow:I,"data-sentry-element":"TmsDataGridCopyRowBtn","data-sentry-source-file":"RateListPanel.tsx"}),(0,l.jsx)(u.A,{level:m.V.level_6,size:m.M.Small,label:"초기화",onClick:b,leftIcon:(0,l.jsx)(xe.A,{width:16}),"data-sentry-element":"TmsBasicButton","data-sentry-source-file":"RateListPanel.tsx"})]}),(0,l.jsxs)("div",{className:"flex gap-[8px]",children:[(0,l.jsx)(u.A,{label:"요율 불러오기",level:m.V.level_5,size:m.M.Small,leftIcon:(0,l.jsx)(Ut,{widht:16,height:16,className:"text-grey50"}),onClick:Y,"data-sentry-element":"TmsBasicButton","data-sentry-source-file":"RateListPanel.tsx"}),(0,l.jsx)(al,{title:w===R.RGd.SECTION?"엑셀 업로드(구간별 요율)":"엑셀 업로드(거리별 요율)",columnGroupingModel:fa(A),columns:Ca(A,w,!!t,!!a,Q),excelDownload:{excelData:Z,handleExcelDownload:J,fileName:"(양식)계약마스터_상세요율(".concat(w===R.RGd.SECTION?"구간별":"거리별",")"),isSuccess:$},excelUpload:{setExcelFile:ee,excelResponseList:xa(te,!1,!!(null==X?void 0:X.copyContractSalesId)||!!(null==X?void 0:X.contractSalesId),!!(null==X?void 0:X.copyContractPurchaseId)||!!(null==X?void 0:X.contractPurchaseId)),resetList:ae,isSuccess:le,isError:re,error:ne,maxUploadLength:1e3},excelValidation:{checkValidation:oe,isSuccess:ie,excelValidationResponseList:null==ce?void 0:ce.contractSalesPurchaseRateInfoList},uploadListRegister:{setExcelUploadList:de,isSuccess:z,successMessage:{dataName:"요율",successCount:null==ce||null===(f=ce.contractSalesPurchaseRateInfoList)||void 0===f?void 0:f.length}},"data-sentry-element":"ExcelUploadModal","data-sentry-source-file":"RateListPanel.tsx"}),(0,l.jsx)(We,{label:"엑셀 다운로드",excelFileName:"계약마스터_상세요율(".concat(w===R.RGd.SECTION?"구간별":"거리별",")").concat(d&&c?"_"+d+" "+c:""),isSuccessExcel:U,excelData:V,handleExcelDownload:B,"data-sentry-element":"TmsBasicDataGridExcelDownload","data-sentry-source-file":"RateListPanel.tsx"}),(0,l.jsx)(Pa,{handleSearch:E,"data-sentry-element":"TonSetting","data-sentry-source-file":"RateListPanel.tsx"})]})]}),j&&(0,l.jsx)(Ua,{onClickCloseButton:()=>P(!1),onClickConfirmButton:L}),G&&(0,l.jsx)(Ka,{onClickCloseButton:()=>k(!1),onClickConfirmButton:q,contractCategoryType:w,isOnlySalesContract:!a,customerId:p,salesId:h})]})}var sl,nl,ol,il,dl,cl=a(71422);function ul(){return ul=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},ul.apply(null,arguments)}var ml=function(e){return r.createElement("svg",ul({xmlns:"http://www.w3.org/2000/svg",width:36,height:36,fill:"none"},e),r.createElement("g",{filter:"url(#icon-panel-group_svg__a)"},sl||(sl=r.createElement("rect",{width:28,height:28,x:4,y:4,fill:"current",rx:14,shapeRendering:"crispEdges"})),nl||(nl=r.createElement("rect",{width:27,height:27,x:4.5,y:4.5,stroke:"current",rx:13.5,shapeRendering:"crispEdges"})),r.createElement("mask",{id:"icon-panel-group_svg__b",width:16,height:16,x:10,y:10,maskUnits:"userSpaceOnUse",style:{maskType:"alpha"}},ol||(ol=r.createElement("path",{fill:"#D9D9D9",d:"M26 10v16H10V10z"}))),il||(il=r.createElement("g",{mask:"url(#icon-panel-group_svg__b)"},r.createElement("path",{fill:"#868C98",d:"m22.624 19.867-4.5-4.484a.17.17 0 0 0-.24 0l-4.5 4.483a.17.17 0 0 0 0 .24l.513.511a.17.17 0 0 0 .24 0l3.907-3.892 3.82 3.892a.17.17 0 0 0 .24 0l.513-.511a.17.17 0 0 0 0-.24z"})))),dl||(dl=r.createElement("defs",null,r.createElement("filter",{id:"icon-panel-group_svg__a",width:36,height:36,x:0,y:0,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse"},r.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),r.createElement("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),r.createElement("feOffset",null),r.createElement("feGaussianBlur",{stdDeviation:2}),r.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),r.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),r.createElement("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_4219_55284"}),r.createElement("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_4219_55284",result:"shape"})))))};function pl(e){let{handleIconClick:t}=e;const[a,s]=r.useState(!1),[n,o]=r.useState(!1),[i,d]=r.useState(!1),[c,u]=r.useState(!1),m=()=>{null==t||t(a),s((e=>!e))},p=c?"#DEE1E8":i?"#FFFFFF":n?"#DEE1E8":"#FFFFFF",h=c?"#C9CDD7":i?"#122699":n?"#C9CDD7":"#DEE1E8";return(0,l.jsxs)("div",{className:"relative w-full","data-sentry-component":"TmsBasicPanelGroupHandleVertical","data-sentry-source-file":"TmsBasicPanelGroupHandleVertical.tsx",children:[(0,l.jsx)(cl.TW,{className:"bg-grey95 hover:bg-blue70 relative z-10 h-[4px] w-full","data-sentry-element":"PanelResizeHandle","data-sentry-source-file":"TmsBasicPanelGroupHandleVertical.tsx"}),(0,l.jsx)(ml,{className:"absolute top-[-16px] z-20 cursor-pointer select-none",style:{left:"calc(50% - 16px)",touchAction:"none"},fill:p,stroke:h,transform:"rotate(".concat(a?180:0,")"),draggable:!1,onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),onFocus:()=>d(!0),onBlur:()=>d(!1),onPointerDown:e=>{e.stopPropagation(),u(!0)},onPointerUp:e=>{e.stopPropagation(),u(!1)},onPointerCancel:()=>u(!1),onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),m())},onClick:e=>{m()},onDragStart:e=>e.preventDefault(),"data-sentry-element":"IconPanelGroup","data-sentry-source-file":"TmsBasicPanelGroupHandleVertical.tsx"})]})}function hl(e){let{salesId:t,purchaseId:a}=e;const{copyContractNewTab:s}=ft(),[n,o]=(0,r.useState)(null),[i,d]=(0,r.useState)(!1),[c,h]=(0,r.useState)(!1),f=Boolean(n),C=()=>{o(null)};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(u.A,{label:"계약 복제",level:m.V.level_4,onClick:e=>{o(e.currentTarget)},leftIcon:(0,l.jsx)(Ut,{className:"h-[20px] w-[20px]"}),rightIcon:(0,l.jsx)(p.A,{className:"text-grey40 h-[20px] w-[20ppx]"}),"data-sentry-element":"TmsBasicButton","data-sentry-source-file":"ContractCopyDropdown.tsx"}),(0,l.jsx)(D.qXc,{anchorEl:n,open:f,onClose:C,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},className:"border-grey80 border",PaperProps:{sx:{mt:"8px"}},"data-sentry-element":"BasicMenu","data-sentry-source-file":"ContractCopyDropdown.tsx",children:(0,l.jsxs)(D.SB3,{className:"w-[140px] rounded-[6px]","data-sentry-element":"BasicBox","data-sentry-source-file":"ContractCopyDropdown.tsx",children:[(0,l.jsxs)("div",{className:"flex flex-col gap-[12px] pl-[12px] pr-[16px] pt-[8px]",children:[(0,l.jsxs)("label",{htmlFor:"salesCopy",className:"flex items-center gap-[8px] py-[4px]",children:[(0,l.jsx)("input",{id:"salesCopy",type:"checkbox",className:"m-[4px]",disabled:!t,checked:i,onChange:e=>d(e.target.checked)}),"매출"]},"salesCopy"),(0,l.jsxs)("label",{htmlFor:"purchaseCopy",className:"flex items-center gap-[8px] py-[4px]",children:[(0,l.jsx)("input",{id:"purchaseCopy",type:"checkbox",className:"m-[4px]",disabled:!a,checked:c,onChange:e=>h(e.target.checked)}),"매입"]},"purchaseCopy")]}),(0,l.jsx)(D.SB3,{className:"px-[16px] py-[8px]","data-sentry-element":"BasicBox","data-sentry-source-file":"ContractCopyDropdown.tsx",children:(0,l.jsx)(u.A,{className:"w-full",onClick:()=>{C(),s(i?t:void 0,c?a:void 0)},label:"복제하기",size:m.M.Medium,level:m.V.level_2,"data-sentry-element":"TmsBasicButton","data-sentry-source-file":"ContractCopyDropdown.tsx"})})]})})]})}var fl=function(e){let{salesDetail:t,purchaseDetail:a}=e;return(0,l.jsxs)("div",{className:"flex items-center justify-between px-[40px] py-[20px]","data-sentry-component":"TradeContractDetailHeader","data-sentry-source-file":"TradeContractDetailHeader.tsx",children:[(0,l.jsxs)("div",{className:"Title3_EX flex items-center",children:[(null==t?void 0:t.contractId)&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("span",{className:"Body5_M text-tertiary50 bg-tertiary98 mr-[4px] rounded-full px-[8px] py-[2px]",children:"매출"}),null==t?void 0:t.contractName]}),(null==t?void 0:t.contractId)&&(null==a?void 0:a.contractId)&&(0,l.jsx)("span",{className:"Title3_M text-grey80 mx-[8px]",children:"/"}),(null==a?void 0:a.contractId)&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("span",{className:"Body5_M text-secondary50 bg-secondary98 mr-[4px] rounded-full px-[8px] py-[2px]",children:"매입"}),null==a?void 0:a.contractName]})]}),(0,l.jsx)(hl,{salesId:null==t?void 0:t.contractId,purchaseId:null==a?void 0:a.contractId,"data-sentry-element":"ContractCopyDropdown","data-sentry-source-file":"TradeContractDetailHeader.tsx"})]})};var Cl=function(e){let{tab:t,isVisibleContent:a}=e;var s,n;const o=(0,$e.P9)(),d=(E(),!!t.contractSalesId||!!t.contractPurchaseId),u=!!t.copyContractPurchaseId||!!t.copyContractSalesId,{changeTabInfo:m,setTabName:p,getCurrentTab:h}=ft(),f=h(),{user:C}=(0,i.o)(),x=(0,r.useRef)(null),N=(0,r.useRef)(null),y=(0,r.useRef)(null),[v,A]=(0,r.useState)(!0),[g,b]=(0,r.useState)(),[R,S]=(0,r.useState)(),[_,w]=(0,r.useState)(),[O,M]=(0,r.useState)(),[D,j]=(0,r.useState)(),P=(0,r.useRef)(null),{mutateAsync:L,data:B,isSuccess:U}=(V="".concat(null==t?void 0:t.contractSalesId,"/").concat(null==t?void 0:t.contractPurchaseId),(0,T.n)(["GetContractDetailMutation/".concat(V)],(async e=>(await I.q.api((t=>t.ApiV1ContractDetail(e)))).data.result)));var V;const{mutateAsync:F,data:G,isSuccess:k}=(0,T.n)(["GetContractPurchaseDegreeList"],(async e=>(await I.q.api((t=>t.ApiV1ContractPurchaseDegreeList(e)))).data.result)),Y=async()=>{await L({contractSalesId:(null==t?void 0:t.copyContractSalesId)||(null==t?void 0:t.contractSalesId),contractPurchaseId:(null==t?void 0:t.copyContractPurchaseId)||(null==t?void 0:t.contractPurchaseId)})},q=(e,t)=>!(!e||!t)&&je()(t).isBefore(je()(),"day"),W=!C.isSuper&&q(null==R?void 0:R.contractPeriodStartDate,null==R?void 0:R.contractPeriodEndDate),H=!C.isSuper&&q(null==O?void 0:O.contractPeriodStartDate,null==O?void 0:O.contractPeriodEndDate),K={contractManager:{id:C.adminId.toString(),empNo:C.empNo},superiorManager:{id:null===(s=C.adminManager)||void 0===s?void 0:s.empNo,empNo:null===(n=C.adminManager)||void 0===n?void 0:n.name},taxType:"1",vatRounding:"TRUNCATE_DECIMAL",executionBase:C.mdmCorporationCode,contractDate:je()().format(),contractPeriodStartDate:je()().format(),contractPeriodEndDate:je()().add(1,"year").add(-1,"day").format(),billingDate:"말일",settlementDate:"말일",salesOrganization:C.mdmSalesCostCenterCode,purchaseOrganization:C.mdmPurchaseCostCenterCode};return(0,r.useEffect)((()=>{var e;k&&(M({...O,degreeInfo:Mt.setDegreeInfo(G.contractPurChaseDegreeInfoList)}),j(null===(e=c().last(G.contractPurChaseDegreeInfoList))||void 0===e?void 0:e.contractPurchaseDegreeId))}),[k]),(0,r.useEffect)((()=>{if(U){var e;const h=Mt.setSalesFormDetail(B.contractSalesDetailInfo,u);var a,l,r;if(f.isRefreshPurchase)m(f.id,{isRefreshPurchase:!1});else if(S(h),((null===(a=B.contractSalesDetailInfo)||void 0===a?void 0:a.contractSalesDegreeInfoList)||[]).length>0)w((null===(l=c().last(null===(r=B.contractSalesDetailInfo)||void 0===r?void 0:r.contractSalesDegreeInfoList))||void 0===l?void 0:l.contractSalesDegreeId)||void 0);const C=Mt.setPurchaseFormDetail(null==B?void 0:B.contractPurChaseDetailInfo,u);var s,n,i;if(M(C),((null===(e=B.contractPurChaseDetailInfo)||void 0===e?void 0:e.contractPurChaseDegreeInfoList)||[]).length>0)j((null===(s=c().last(null===(n=B.contractPurChaseDetailInfo)||void 0===n?void 0:n.contractPurChaseDegreeInfoList))||void 0===s?void 0:s.contractPurchaseDegreeId)||void 0);if(!u)b(null==B||null===(i=B.contractPurChaseDetailInfo)||void 0===i?void 0:i.contractNo);if(!d&&u)return void o({message:"계약이 복제되었습니다."});p((null==t?void 0:t.id)||"",null==h?void 0:h.contractName,null==C?void 0:C.contractName)}}),[B]),(0,r.useEffect)((()=>{var e;v&&D&&(null===(e=x.current)||void 0===e||e.click(),m(t.id||"",{isCreateNewPurchase:!1}))}),[D]),(0,r.useEffect)((()=>{A((null==t?void 0:t.isCreateNewPurchase)||!1)}),[null==t?void 0:t.isCreateNewPurchase]),(0,r.useEffect)((()=>{O||M({...K,purchaseOrganization:(null==R?void 0:R.purchaseOrganization)||C.mdmPurchaseCostCenterCode})}),[O]),(0,r.useEffect)((()=>{d||(S(K),M(K));const e=d&&!(null==t?void 0:t.isCreateNewPurchase)&&(!B||(null==t?void 0:t.contractPurchaseId)!==(null==O?void 0:O.contractId)||(null==t?void 0:t.contractSalesId)!==(null==R?void 0:R.contractId)),l=a&&!B&&((null==t?void 0:t.copyContractSalesId)||(null==t?void 0:t.copyContractPurchaseId));(e||l)&&Y()}),[]),(0,r.useEffect)((()=>{f.isRefreshPurchase&&Y()}),[f.isRefreshPurchase]),(0,l.jsx)("div",{style:{height:"100%"},className:"min-w-[1372px]","data-sentry-component":"TradeContractDetail","data-sentry-source-file":"TradeContractDetail.tsx",children:(0,l.jsxs)(cl.YZ,{direction:"vertical",ref:P,"data-sentry-element":"PanelGroup","data-sentry-source-file":"TradeContractDetail.tsx",children:[(0,l.jsx)(cl.Zk,{defaultSize:53,minSize:10,"data-sentry-element":"Panel","data-sentry-source-file":"TradeContractDetail.tsx",children:(0,l.jsxs)("div",{className:"h-full w-full overflow-auto",children:[d?(0,l.jsx)(fl,{salesDetail:R,purchaseDetail:O}):(0,l.jsx)("div",{className:"border-grey90 border-b px-[40px] py-[20px]",children:(0,l.jsx)("div",{className:"Title3_EX",children:"새 계약 마스터"})}),(0,l.jsxs)("div",{className:"flex",children:[(0,l.jsx)(zt,{ref:y,salesPurchaseContractFormClassName:"border-r border-grey95",isSalesType:!0,contractFormProps:R,setContractFormProps:S,contractNo:d?null==R?void 0:R.contractNo:void 0,currentSalesDegreeId:_,setCurrentDegreeId:async e=>{w(e),(null==t?void 0:t.contractPurchaseId)&&await F({contractPurchaseId:null==t?void 0:t.contractPurchaseId,contractSalesId:null==t?void 0:t.contractSalesId,contractSalesDegreeId:e})},isDisabledSave:Boolean(!(null==R?void 0:R.contractId)&&(null==O?void 0:O.contractId)),isExpired:W,setPurchaseDetail:e=>{var t;null===(t=N.current)||void 0===t||t.setContractForm(e)},onDegreeInfoChange:(e,t)=>{if(!e||0===e.length||!N.current)return;const a=null==t?void 0:t.startAt,l=null==t?void 0:t.endAt;if(!a||!l)return;const r=N.current.getContractForm();if(!(null==r?void 0:r.degreeInfo)||0===r.degreeInfo.length)return;const s=[...r.degreeInfo];s[0]&&(s[0]={...s[0],startAt:a});const n=s.length-1;s[n]&&(s[n]={...s[n],endAt:l}),N.current.setContractForm({degreeInfo:s})},onRefreshPurchaseDetail:Y,"data-sentry-element":"SalesPurchaseContractForm","data-sentry-source-file":"TradeContractDetail.tsx"}),(0,l.jsx)(zt,{ref:N,isSalesType:!1,currentSalesDegreeId:_,contractFormProps:O,setContractFormProps:M,contractNo:g,currentPurchaseDegreeId:D,setCurrentDegreeId:j,purchaseDetailSummaryList:(null==B?void 0:B.contractPurchaseSummaryList)||[],isNewPurchase:v,resetFormData:()=>{M(null)},isExpired:H,setPurchaseContractNo:b,getSalesContractPeriod:()=>{var e;const t=null===(e=y.current)||void 0===e?void 0:e.getContractForm();return t?{contractPeriodStartDate:t.contractPeriodStartDate,contractPeriodEndDate:t.contractPeriodEndDate}:null},getSalesButtonDegree:()=>{var e;return null===(e=y.current)||void 0===e?void 0:e.getButtonDegree()},"data-sentry-element":"SalesPurchaseContractForm","data-sentry-source-file":"TradeContractDetail.tsx"})]})]})}),(0,l.jsx)(pl,{handleIconClick:e=>{var t,a;e?null==P||null===(t=P.current)||void 0===t||t.setLayout([53,37]):null==P||null===(a=P.current)||void 0===a||a.setLayout([10,80])},"data-sentry-element":"TmsBasicPanelGroupHandleVertical","data-sentry-source-file":"TradeContractDetail.tsx"}),(0,l.jsx)(cl.Zk,{"data-sentry-element":"Panel","data-sentry-source-file":"TradeContractDetail.tsx",children:(0,l.jsx)("div",{className:"relative h-full",children:(0,l.jsx)(rl,{contractSalesDegreeId:_,contractPurchaseDegreeId:D,saveButtonRef:x,isNewPurchase:v,setIsNewPurchase:A,isExpired:W||H,salesName:null==R?void 0:R.contractName,purchaseName:null==O?void 0:O.contractName,customerId:null==R?void 0:R.customerId,salesId:null==R?void 0:R.contractId,"data-sentry-element":"RateListPanel","data-sentry-source-file":"TradeContractDetail.tsx"})})})]})})};var xl=function(e){let{title:t,description:a,children:r}=e;return(0,l.jsxs)("div",{className:"flex items-center justify-between gap-[12px] px-[40px] py-[20px]","data-sentry-component":"ContentHeader","data-sentry-source-file":"ContentHeader.tsx",children:[(0,l.jsxs)("div",{className:"flex items-center justify-start gap-[12px]",children:[(0,l.jsx)("div",{className:"Title2_EX",children:t}),a&&(0,l.jsx)("div",{className:"Caption2_R text-grey40",children:a})]}),(0,l.jsx)("div",{children:r})]})};var Nl=function(e){let{menuName:t}=e;const{tabs:a,closeTab:r,setCurrentTab:s,isActiveTab:n,addNewTab:o}=ft(),i=v(),d=e=>e.contractPurchaseName&&e.contractSalesName?"".concat([e.contractSalesName,e.contractPurchaseName].join("/")):e.contractPurchaseName||e.contractSalesName?e.contractPurchaseName||e.contractSalesName:e.name;return(0,l.jsxs)("div",{className:"bg-grey98","data-sentry-component":"TradeContractsPanel","data-sentry-source-file":"TradeContractsPanel.tsx",children:[(0,l.jsx)(xl,{title:t,"data-sentry-element":"ContentHeader","data-sentry-source-file":"TradeContractsPanel.tsx",children:(0,l.jsx)(u.A,{label:"새 계약 마스터 만들기",level:m.V.level_1,leftIcon:(0,l.jsx)(Ce,{}),onClick:o,"data-sentry-element":"TmsBasicButton","data-sentry-source-file":"TradeContractsPanel.tsx"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"border-primary relative h-[37px] border-b",children:(0,l.jsx)("div",{className:"bg-grey90 absolute left-[40px] flex rounded-tl-md rounded-tr-md",children:a.map(((e,t)=>(0,l.jsx)(ce,{tabName:d(e),tab:e,onClickTab:s,onClickCloseTab:t=>{t.stopPropagation(),(e=>{e.isDirty?i({title:"작성 중인 계약 마스터가 있습니다.",description:"화면을 나가면 작성된 계약 마스터가 삭제됩니다. 나가시겠어요?",modalWidth:400,confirmButtonLabel:"나가기",closeButtonLabel:"취소",onClickConfirmButton:()=>{r(e)}}):r(e)})(e)},tabClassName:C()("flex items-center justify-center gap-[8px] border-0 border-b border-b-primary rounded-tl-md rounded-tr-md px-[16px] pt-[8px] pb-[7px] Body5_M bg-grey90 text-grey50",{"border-l border-l-white":0!==t,"!border-primary border-x border-t !border-b-white bg-white !text-black !font-bold":n(e)}),tabNameClassName:"max-w-[160px] truncate",isShowCloseButton:t>0},e.path+e.id)))})}),(0,l.jsx)("div",{className:"relative",children:a.map((e=>(0,l.jsx)("div",{className:"cc-content-layout h-[calc(100vh-200px)] ".concat(n(e)&&"is-visible"),children:(0,l.jsx)(Hv,{path:e.path,restComponentProps:{isVisibleContent:n(e),tab:e}})},e.path+e.id)))})]})]})},yl=a(77507),El=a(45423),vl=a(24490),Al=a(36993);const gl=[{groupId:"customer",headerName:"화주",children:[{field:"customerMdmCode"},{field:"customerName"}]},{groupId:"nodeDetail",renderHeaderGroup:()=>(0,yl.A)({headerName:"상세노드",required:!0}),children:[{field:"nodeName"},{field:"nodeCode"}]},{groupId:"contactInfo",headerName:"연락처",children:[{field:"managerName"},{field:"phoneNumber"},{field:"managerPhoneNumber"}]},{groupId:"dropCondition",headerName:"제한/하차 조건사항",children:[{field:"tonLimitCode"},{field:"loadLimitType"},{field:"loadUnloadMethodType"}]},{groupId:"deliveryFixed",headerName:"납품 지정 시간",children:[{field:"deliveryStartTime"},{field:"deliveryEndTime"}]},{groupId:"addressRefineResult",headerName:"주소 정제 결과",children:[{field:"lat"},{field:"lng"},{field:"city"},{field:"state"},{field:"country"},{field:"zipCode"},{field:"newAddress"},{field:"oldAddress"}]}],Tl=[{groupId:"contactInfo",headerName:"연락처",children:[{field:"managerName"},{field:"phoneNumber"},{field:"managerPhoneNumber"}]},{groupId:"dropCondition",headerName:"제한/하차 조건사항",children:[{field:"tonLimitCode"},{field:"loadLimitType"},{field:"loadUnloadMethodType"}]},{groupId:"deliveryFixed",headerName:"납품 지정 시간",children:[{field:"deliveryStartTime"},{field:"deliveryEndTime"}]}],Il=()=>[{field:"__check__",headerName:"",headerClassName:"height-wide-cell",width:76,sortable:!1,disableColumnMenu:!0,hideable:!1,align:"center",cellClassName:"wide-cell"},{field:"no",headerName:"No.",sortable:!1,hideable:!1,align:"center",headerClassName:"height-wide-cell",width:48,type:da._.VIEW_MODE_ID},{field:"customerMdmCode",headerName:"화주코드",align:"center",cellClassName:"basic-dataGrid-none-editable",width:90},{field:"customerName",headerName:"화주명",cellClassName:"basic-dataGrid-none-editable",width:160},{field:"name",headerName:"거래처명",editable:!0,defaultEditable:!0,required:!0,hideable:!1,headerClassName:"height-wide-cell",cellClassName:"required-cell",type:da._.CUSTOM_INPUT_TEXT,width:160},{field:"nodeName",headerName:"노드명",required:!0,hideable:!1,cellClassName:"wide-cell required-cell",width:160,renderCell:e=>(0,$t.A)({type:"register",params:e,nodeIdFieldName:"nodeCode",nodeNameFieldName:"nodeName",loadUnloadTypeName:"loadUnloadTypeStatus",loadUnloadTypeFieldName:"loadUnloadType"}),renderEditCell:e=>(0,$t.A)({params:e,nodeIdFieldName:"nodeId",nodeNameFieldName:"nodeName"})},{field:"nodeCode",headerName:"노드ID",align:"center",cellClassName:"wide-cell basic-dataGrid-none-editable",width:100,renderCell:e=>(0,ua.A)({defaultReadonly:!0,readonly:!0,params:e})},{field:"basicAddress",required:!0,hideable:!1,headerName:"기본 주소",cellClassName:"wide-cell required-cell",headerClassName:"height-wide-cell",width:340,renderCell:e=>(0,vl.A)({params:e})},{field:"detailAddress",editable:!0,defaultEditable:!0,headerName:"상세 주소",headerClassName:"height-wide-cell",width:200,type:da._.CUSTOM_INPUT_TEXT},{field:"loadUnloadType",cellClassName:"wide-cell",headerClassName:"height-wide-cell",width:102,renderHeader:()=>(0,yl.A)({headerName:"상/하차지 구분",required:!0}),renderCell:e=>Xt({options:e.row.loadUnloadTypeStatus===R.yPk.PICKUP?[{id:R.yPk.PICKUP,label:"상차지"}]:e.row.loadUnloadTypeStatus===R.yPk.DROP?[{id:R.yPk.DROP,label:"하차지"}]:[{id:R.yPk.PICKUP,label:"상차지"},{id:R.yPk.DROP,label:"하차지"}],params:e})},{field:"postCode",headerName:"우편번호",headerClassName:"height-wide-cell",cellClassName:"wide-cell basic-dataGrid-none-editable",width:74,editable:!1,renderCell:e=>(0,ua.A)({defaultReadonly:!0,params:e,readonly:!0})},{field:"managerName",editable:!0,defaultEditable:!0,headerName:"담당자명",width:92,type:da._.CUSTOM_INPUT_TEXT},{field:"phoneNumber",editable:!0,defaultEditable:!0,headerName:"대표전화",width:120},{field:"managerPhoneNumber",editable:!0,defaultEditable:!0,headerName:"휴대폰번호",width:120},{field:"smsReceiptStatus",headerName:"SMS 수신 여부",cellClassName:"wide-cell",headerClassName:"height-wide-cell",width:104,renderCell:e=>(0,Al.A)({params:e})},{field:"vehicleType",headerName:"차종",cellClassName:"wide-cell",headerClassName:"height-wide-cell",width:122,renderCell:e=>Qt({type:Ze.k.VEHICLE_TYPE,params:e})},{field:"tonLimitCode",headerName:"톤급",cellClassName:"wide-cell",width:92,renderCell:e=>Qt({type:Ze.k.VEHICLE_TON_CODE,params:e})},{field:"loadLimitType",headerName:"적재함",cellClassName:"wide-cell",width:169,renderCell:e=>Qt({type:Ze.k.LOAD_LIMIT_TYPE,params:e})},{field:"loadUnloadMethodType",sortable:!1,headerName:"조건",cellClassName:"wide-cell",width:120,renderCell:e=>Qt({type:Ze.k.LOAD_UNLOAD_METHOD_TYPE,params:e})},{field:"deliveryTimeFixed",sortable:!1,headerName:"납품 고정 여부",headerClassName:"height-wide-cell",cellClassName:"wide-cell",width:100,renderCell:e=>(0,Al.A)({params:e})},{field:"deliveryStartTime",sortable:!1,headerName:"From",cellClassName:"wide-cell",width:90,renderCell:e=>(0,El.A)({autocompleteBoxClassName:"w-full",componentType:"autocomplete-table",params:e})},{field:"deliveryEndTime",sortable:!1,headerName:"To",cellClassName:"wide-cell",width:90,renderCell:e=>(0,El.A)({autocompleteBoxClassName:"w-full",componentType:"autocomplete-table",params:e})},{field:"customerOperatingTime",sortable:!1,headerName:"거래처 운영",cellClassName:"wide-cell",headerClassName:"height-wide-cell",width:90,renderCell:e=>(0,El.A)({autocompleteBoxClassName:"w-full",componentType:"autocomplete-table",params:e})},{field:"lat",sortable:!1,headerName:"위도",editable:!1,cellClassName:"wide-cell basic-dataGrid-none-editable",width:100,renderCell:e=>(0,ua.A)({defaultReadonly:!0,params:e,readonly:!0})},{field:"lng",sortable:!1,headerName:"경도",cellClassName:"wide-cell basic-dataGrid-none-editable",width:100,renderCell:e=>(0,ua.A)({defaultReadonly:!0,params:e,readonly:!0})},{field:"city",sortable:!1,headerName:"시/도",cellClassName:"wide-cell basic-dataGrid-none-editable",width:100,renderCell:e=>(0,ua.A)({defaultReadonly:!0,params:e,readonly:!0})},{field:"state",sortable:!1,headerName:"시/군/구",cellClassName:"wide-cell basic-dataGrid-none-editable",width:120,renderCell:e=>(0,ua.A)({defaultReadonly:!0,params:e,readonly:!0})},{field:"country",sortable:!1,headerName:"동/구",cellClassName:"wide-cell basic-dataGrid-none-editable",width:100,renderCell:e=>(0,ua.A)({defaultReadonly:!0,params:e,readonly:!0})},{field:"zipCode",sortable:!1,headerName:"우편번호",cellClassName:"wide-cell basic-dataGrid-none-editable",width:74,renderCell:e=>(0,ua.A)({defaultReadonly:!0,params:e,readonly:!0})},{field:"newAddress",sortable:!1,headerName:"신주소",cellClassName:"wide-cell basic-dataGrid-none-editable",width:340,renderCell:e=>(0,ua.A)({defaultReadonly:!0,params:e,readonly:!0})},{field:"oldAddress",sortable:!1,headerName:"구주소",cellClassName:"wide-cell basic-dataGrid-none-editable",width:340,renderCell:e=>(0,ua.A)({defaultReadonly:!0,params:e,readonly:!0})}];var bl=a(78353);var Rl=a(56393);class Sl{static toList(e,t){const a=t||"saveRequestList";return e?{[a]:e.map(((e,t)=>{const a={customerId:e.customerId,contractSalesId:1,name:e.name,nodeCode:e.nodeCode,addressInfo:{...e.addressInfo,detailAddress:e.detailAddress}};return e.customerPlaceId&&(a.customerPlaceId=e.customerPlaceId),e.loadUnloadType&&(a.loadUnloadType=R.WDI[e.loadUnloadType]),e.managerName&&(a.managerName=e.managerName),e.phoneNumber&&(a.phoneNumber=e.phoneNumber),e.managerPhoneNumber&&(a.managerPhoneNumber=e.managerPhoneNumber),e.phoneNumber&&(a.phoneNumber=e.phoneNumber),e.smsReceiptStatus&&(a.isReceiveSms="Y"===e.smsReceiptStatus),e.vehicleType&&(a.vehicleType=R.Lnz[e.vehicleType]),e.tonLimitCode&&(a.tonLimitCode=e.tonLimitCode),e.loadLimitType&&(a.loadLimitType=R.Wf1[e.loadLimitType]),e.loadUnloadMethodType&&(a.loadUnloadMethodType=R.HOe[e.loadUnloadMethodType]),e.deliveryTimeFixed&&(a.isDeliveryTimeFixed="Y"===e.deliveryTimeFixed),e.deliveryStartTime&&(a.deliveryStartTime=e.deliveryStartTime),e.deliveryEndTime&&(a.deliveryEndTime=e.deliveryEndTime),e.customerOperatingTime&&(a.customerOperatingTime=e.customerOperatingTime),a}))}:{[a]:[]}}}const _l=()=>{const[e,t]=(0,r.useState)(bl.bl),[a,l]=(0,r.useState)(!0),[s,n]=(0,r.useState)([]),[o,i]=(0,r.useState)(0!==(null==s?void 0:s.length)),[d,u]=(0,r.useState)({isOpened:!1,checkAddress:[]}),m=(0,D.bBi)(),p=(0,r.useRef)(null);var h;const{rows:f,setInitData:C,addRowToFirst:x,getSelectedRows:N,removeSelectedRow:y}=null!==(h=null==p?void 0:p.current)&&void 0!==h?h:{},E=(0,$e.P9)(),[v,A]=(0,r.useState)(!1),[g,b]=(0,r.useState)(!1),{mutateAsync:R,data:S,isSuccess:_}=(0,T.n)(["useCustomerPlaceListMutation"],(async e=>(await I.q.api((t=>t.ApiV1CustomerPlaceList(e)))).data.result)),{mutateAsync:w,data:O,isSuccess:M}=(0,T.n)(["useCustomerPlaceSaveMutation"],(async e=>(await I.q.api((t=>t.ApiV1CustomerPlaceSave(e)))).data.result)),{mutateAsync:j,data:P,isSuccess:L}=(0,T.n)(["useCustomerPlaceDeleteMutation"],(async e=>(await I.q.api((t=>t.ApiV1CustomerPlaceDelete(e)))).data.result)),{mutateAsync:B,data:U,isSuccess:V}=(0,T.n)(["useCustomerPlaceListExcelMutation"],(async e=>(await I.q.api((t=>t.ApiV1CustomerPlaceListExcel(e,{format:"blob"})))).data)),F=async e=>{e.customerId||A(!0),k()&&(A(!1),await R({customerId:0==e.customerId?null:e.customerId,name:e.clientName,loadUnloadType:e.locationType?e.locationType:null,searchAddress:e.searchAddress}))},G=(e,t)=>{if(!e)return"";return e.replace(t,"").trim().replace(/광역시|특별시|특별자치시|특별자치도/g,"").replace("경기도","경기").replace("강원도","강원").replace("충청북도","충북").replace("충청남도","충남").replace("전라북도","전북").replace("전라남도","전남").replace("경상북도","경북").replace("경상남도","경남")},k=()=>!!e.customerId||(E({message:"화주를 먼저 조회해 주세요.",type:"caution"}),!1);return(0,r.useEffect)((()=>{_&&(C(Rl.q.toList(S)),m.current.setRowSelectionModel([]))}),[S]),(0,r.useEffect)((()=>{M&&(F(e),g||E({message:"거래처 마스터가 저장되었습니다.",type:"success"}))}),[O]),(0,r.useEffect)((()=>{L&&(E({message:"거래처 마스터가 삭제되었습니다.",type:"success"}),F(e))}),[P]),{rows:f,isDisabledCustomerDelete:a,searchParams:e,setSearchParams:t,isOpenedDeleteModal:o,setIsOpenedDeleteModal:i,handleSearch:F,handleRowSelectionModelChange:(e,t)=>{n(e),l(0===e.length)},handleDeleteComplete:async()=>{i(!1);const e=N().map((e=>e.customerPlaceId)).filter((e=>null!=e));0!==e.length?await j({deleteRequestList:e}):y()},handleCustomerSave:async()=>{const e=Array.from(m.current.getRowModels().values());if(c().isEqual(f,e))return void E({message:"변경된 사항이 없습니다.",type:"caution"});let t=!1;const a=e.map((e=>{let a=!1;Il().forEach((t=>{t.required&&!e[t.field]&&((null==e?void 0:e.isDirty)||(null==e?void 0:e._isNew))&&(a=!0)}));const l={...e};return l.isError=a,t=t||a,l}));m.current.updateRows(a);const l=[];if(e.forEach(((e,t)=>{e.nodeName.trim()!==G(e.addressInfo.address1,e.addressInfo.address2)&&e._isNew&&l.push("".concat(t+1,"행")),e.nodeName.trim()!==G(e.addressInfo.address1,e.addressInfo.address2)&&e.isDirty&&!e._isNew&&l.push("".concat(t+1,"행"))})),!t){if(0!==l.length)return void u({isOpened:!0,checkAddress:l});b(!1),await w(Sl.toList(e))}},handleAddRow:()=>{let t=m.current.getAllRowIds().length;t+=1,x({...bl.Ni,id:t,customerId:e.customerId,customerMdmCode:e.customerIdMdmCode,customerName:e.customerIdName})},handleExcelDownload:async()=>{k()&&await B({customerId:0==e.customerId?null:e.customerId,name:e.clientName,loadUnloadType:e.locationType?e.locationType:null,searchAddress:e.searchAddress})},wrapGridRef:p,gridApiRef:m,isSearchValidation:v,isSuccessCustomerPlaceListExcel:V,dataCustomerPlaceListExcel:U,addressCheckModal:d,setAddressCheckModal:u,handleCustomerOnlySave:async()=>{const e=Array.from(m.current.getRowModels().values());await w(Sl.toList(e)),u({isOpened:!1,checkAddress:[]})},mutateAsyncCustomerPlaceSave:w,isSuccessCustomerPlaceSave:M,setIsExcelUpload:b}},wl=e=>{let{mutateAsyncCustomerPlaceSave:t,setIsExcelUpload:a}=e;const{isSuccess:l,mutateAsync:s,data:n,reset:o}=(0,T.n)(["useCustomerPlaceExcelSampleMutation"],(async()=>{const e={userContext:null};return(await I.q.api((t=>t.ApiV1CustomerPlaceExcelSample(e,{format:"blob"})))).data})),{mutateAsync:i,isSuccess:d,isError:c,error:u,data:m,reset:p}=(0,T.n)(["useCustomerPlaceExcelUploadMutation"],(async e=>(await I.q.api((t=>t.ApiV1CustomerPlaceExcelUpload(e)))).data.result)),{mutateAsync:h,isSuccess:f,data:C}=(0,T.n)(["useCustomerPlaceExcelValidateMutation"],(async e=>(await I.q.api((t=>t.ApiV1CustomerPlaceExcelValidate(e)))).data.result));return(0,r.useEffect)((()=>{l&&o()}),[l]),{sampleFile:n,handleClickSampleExcelFileDown:()=>{s()},isSuccess:l,handleFileUpload:e=>{i({file:e[0]})},uploadedList:m,resetUploadList:p,isUploadSuccess:d,isUploadError:c,uploadError:u,handleValidation:e=>{h(Sl.toList(e,"customerPlaceInfoList"))},isSuccessValidation:f,handleUploadListRegister:async()=>{a(!0),await t(Sl.toList(null==C?void 0:C.customerPlaceInfoList.map((e=>({...e,detailAddress:e.addressInfo.detailAddress,smsReceiptStatus:e.isReceiveSms?"Y":"N",deliveryTimeFixed:e.isDeliveryTimeFixed?"Y":"N"})))))},validationResponseData:C}},Ol="customerMasterGridColumns",Ml="adminAccountGridColumns",Dl="settlementFixSalesGridColumns",jl="orderDispatchManageSingleColumns",Pl="orderDispatchManageMultipleColumns";function Ll(e,t){const a={};if(!t||0===t.length)return{columnVisibilityModel:a,mergedColumns:e};const l=new Map;e.forEach(((e,t)=>l.set(e.field,{...e,__origOrder:t})));const r=new Map;t.forEach(((e,t)=>{e&&e.field&&r.set(e.field,{...e,__savedOrder:t})}));const s=[];return t.forEach((e=>{const t=l.get(e.field);t?s.push({...t,width:void 0!==e.width?e.width:t.width}):s.push({...e})})),e.forEach((e=>{r.has(e.field)||(s.push({...e}),a[e.field]=!1)})),{columnVisibilityModel:a,mergedColumns:s}}function Bl(e,t){let a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const{user:l,setUser:s}=(0,i.o)(),[n,o]=(0,r.useState)(l.personalConfig),d=n?JSON.parse(n)[e]:[],{columnVisibilityModel:c,mergedColumns:u}=Ll(t,d),[m,p]=(0,r.useState)(u),h=(0,$e.P9)(),f=b(),C=pe.sV.create((a=>{if(a){const t=n?JSON.parse(n):{};t[e]=a;const r={personalConfig:JSON.stringify(t)};f.mutateAsync(r).then((()=>{h({message:"컬럼 설정이 저장되었습니다.",type:"success"}),o(JSON.stringify(t)),s({...l,personalConfig:JSON.stringify(t)})}))}else{const a=JSON.parse(n);if(a&&a[e]){delete a[e];const r={personalConfig:JSON.stringify(a)};f.mutateAsync(r).then((()=>{h({message:"컬럼 등록이 취소 되었습니다.",type:"success"}),p([...t]),s({...l,personalConfig:JSON.stringify(a)})}))}}})),x=pe.sV.create((a=>{const r=JSON.parse(n)[e],{mergedColumns:o}=Ll(t,r);p([...o]),s({...l,personalConfig:JSON.stringify({...JSON.parse(n),[e]:r})}),a(o),h({message:"컬럼이 초기상태로 변경 되었습니다.",type:"success"})}));return(0,r.useEffect)((()=>{if(a)return pe.sV.on("COLUMN/UPDATE/".concat(e),C),pe.sV.on("COLUMN/RESET/".concat(e),x),()=>{pe.sV.off("COLUMN/UPDATE/".concat(e),C),pe.sV.off("COLUMN/RESET/".concat(e),x)}}),[a,e,C,x]),{personalizedGridColumns:m,personalizedColumnVisibilityModel:c,setColumns:p,isPersonalizationEnabled:!0,storageKey:e}}var Ul=a(32312);const Vl=e=>e.map(((e,t)=>({...e,order:t+2,name:e.customerName,path:s.dJ}))),Fl=()=>(0,Ul.I)(["orderDispatch/orderDispatchManager/getCustomerList"],(async e=>{const t=await I.q.api((t=>t.ApiV1OrderTransferMultiCustomerList(e)));return Vl(t.data.result.personalCustomerInfoList)})),Gl=()=>(0,T.n)(["orderDispatch/orderDispatchManager/addCustomer"],(async e=>(await I.q.api((t=>t.ApiV1OrderTransferMultiCustomerAdd(e)))).data.result)),kl=()=>(0,T.n)(["orderDispatch/orderDispatchManager/removeTab"],(async e=>(await I.q.api((t=>t.ApiV1OrderTransferMultiCustomerDelete(e)))).data.result)),Yl=()=>(0,T.n)(["orderDispatch/orderDispatchManager/updateCustomerName"],(async e=>(await I.q.api((t=>t.ApiV1OrderTransferMultiCustomerNameSave(e)))).data.result)),ql=()=>(0,T.n)(["orderDispatch/orderDispatchManager/updateCustomerSequence"],(async e=>(await I.q.api((t=>t.ApiV1OrderTransferMultiCustomerSequenceSave(e)))).data.result)),Wl=[{order:0,name:"주문 목록",path:s.F3},{order:1,name:"복수 등록",path:s.uA}],Hl=(0,r.createContext)({currentTab:Wl[0],setCurrentTab:()=>{},tabs:Wl,setTabs:()=>{}}),Kl=e=>{let{children:t}=e;const[a,s]=(0,r.useState)(Wl[0]),[n,o]=(0,r.useState)(Wl);return(0,l.jsx)(Hl.Provider,{value:{currentTab:a,setCurrentTab:s,tabs:n,setTabs:o},"data-sentry-element":"TabHandlerContext.Provider","data-sentry-component":"TabHandlerProvider","data-sentry-source-file":"TabHandlerContext.tsx",children:t})},zl=()=>(0,r.useContext)(Hl);function Xl(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=(0,r.useRef)(),{tabs:a,setTabs:l,currentTab:n,setCurrentTab:o}=zl(),i=v(),d=(0,$e.P9)(),c=E(),{data:u,refetch:m,isSuccess:p}=Fl(),{mutateAsync:h}=Gl(),{mutateAsync:f}=kl(),{mutateAsync:C}=Yl(),{mutateAsync:x}=ql();return(0,r.useEffect)((()=>{e&&m().catch()}),[]),(0,r.useEffect)((()=>{p&&l([...Wl,...u])}),[p,u]),{tabs:a,setTabs:l,currentTab:n,setCurrentTab:o,addSelectedCustomer:async e=>{if(!e.length)return d({message:"선택된 항목이 없습니다.",type:"caution"}),!1;if(a.length+e.length>22)return c({title:"탭은 최대 20개까지 열립니다.",modalWidth:400}),!1;try{const t={customerInfoList:e.reduce(((e,t,l)=>{const r=[...a,...e].filter((e=>e.customerId===t.customerId)).length;return e.push({order:a.length+l,name:r>0?"".concat(t.customerName," (").concat(r,")"):t.customerName,path:s.dJ,customerId:t.customerId}),e}),[]).map((e=>({customerId:e.customerId,customerName:e.name})))},r=await h(t);if(r)return l((e=>[e[0],e[1],...r.personalCustomerInfoList.map(((e,t)=>({customerId:e.customerId,customerName:e.customerName,isDefault:e.isDefault,name:e.customerName,path:s.dJ,personalCustomerId:e.personalCustomerId,sequence:e.sequence,order:t+2})))])),d({message:"화주가 탭 목록에 추가되었습니다.",type:"success"}),!0}catch(e){const t=e;return t.responseCode===tl.z.ORDER_MULTI_TRANSFER_CUSTOMER_REGISTER_MAX?c({title:"탭은 최대 20개까지 열립니다.",modalWidth:400}):d({message:t.message,type:"caution",delay:3e3}),!1}},removeCustomer:e=>{var r;t.current=e,i({title:'"'.concat(null===(r=t.current)||void 0===r?void 0:r.name,'"(을)를 탭 목록에서 삭제하시겠어요?'),confirmButtonType:"destructive",confirmButtonLabel:"삭제하기",closeButtonClassName:"!bg-white",onClickConfirmButton:async()=>{const r={personalCustomerId:e.personalCustomerId};await f(r).then((()=>{t.current&&(d({message:"고객사가 탭 목록에서 삭제되었습니다.",type:"success"}),(null==n?void 0:n.personalCustomerId)===t.current.personalCustomerId&&o(Wl[0]),l(a.filter((e=>{var a;return e.personalCustomerId!==(null===(a=t.current)||void 0===a?void 0:a.personalCustomerId)}))),t.current=void 0)})).catch(window.console.error)},onClickCloseButton:()=>{t.current=void 0}})},updateCustomerTab:async e=>{if(await C({personalCustomerId:e.personalCustomerId,customerName:e.name})){if(a.find((t=>t.personalCustomerId===e.personalCustomerId))){const t=a.map((t=>t.personalCustomerId===e.personalCustomerId?{...t,name:e.name}:t));l(t)}}},isActiveTab:e=>e.personalCustomerId&&n.personalCustomerId?e.personalCustomerId===n.personalCustomerId:e.path===n.path,reorderTabs:async(e,t)=>{if(e===t)return;if(e<2||t<2)return;const r=[...a],[s]=r.splice(e,1);r.splice(t,0,s);const i=r.map(((e,t)=>({...e,order:t,sequence:t-2}))),c=i.find((e=>e.personalCustomerId===n.personalCustomerId||e.order===n.order&&!e.personalCustomerId&&!n.personalCustomerId));c&&c.order!==n.order&&o(c),l(i);const u={personalCustomerInfoList:i.slice(2).map(((e,t)=>({personalCustomerId:e.personalCustomerId,customerId:e.customerId,customerName:e.customerName,sequence:t,isDefault:e.isDefault})))};try{await x(u),d({message:"탭 순서가 저장되었습니다.",type:"success"})}catch(e){d({message:"탭 순서 저장에 실패했습니다.",type:"caution"})}}}}var Ql;function Zl(){return Zl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},Zl.apply(null,arguments)}var Jl=function(e){return r.createElement("svg",Zl({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},e),Ql||(Ql=r.createElement("path",{fill:"currentColor",d:"M21 11.45v1.1c0 .14-.11.25-.25.25H12.8v7.95c0 .14-.11.25-.25.25h-1.1c-.14 0-.25-.11-.25-.25V12.8H3.25c-.14 0-.25-.11-.25-.25v-1.1c0-.14.11-.25.25-.25h7.95V3.25c0-.14.11-.25.25-.25h1.1c.14 0 .25.11.25.25v7.95h7.95c.14 0 .25.11.25.25"})))};const $l=[{field:"__check__",headerName:"",width:48,minWidth:48,maxWidth:48,sortable:!1,disableColumnMenu:!0,align:"center"},{field:"no",headerName:"No.",align:"center",width:48,sortable:!1,filterable:!1,renderCell:e=>e.api.getRowIndexRelativeToVisibleRows(e.id)+1},{field:"customerId",headerName:"고객사 코드",align:"center",width:84,filterable:!1},{field:"mdmCode",headerName:"MDM 코드",align:"center",width:90,filterable:!1},{field:"name",headerName:"고객명",align:"left",width:200,filterable:!1},{field:"representativeName",headerName:"대표자명",align:"left",width:70,filterable:!1},{field:"address",headerName:"주소",align:"left",width:692,filterable:!1}];var er,tr=function(e){let{isFavorite:t=!1,onSelected:a,onClose:s,tabs:n,favoritesLen:o=0}=e;const d=(0,$e.P9)(),c=E(),{addSelectedCustomer:p}=(v(),Xl()),h=(0,T.n)(["useFavoritesCreateOwner"],(async e=>(await I.q.api((t=>t.ApiPersonalV1CustomerByMultiCreate(e)))).data.result)),f=n.filter((e=>e.customerId)).map((e=>e.customerId)),[C,x]=(0,r.useState)([]),[N,y]=(0,r.useState)(""),[A,g]=(0,r.useState)(f),{user:b}=(0,i.o)(),R=(0,Wt.lM)(),S=async()=>{try{var e;const t=await R.mutateAsync({name:N,mdmCorporationCodes:null!==(e=null==b?void 0:b.mdmCorporationCodeList)&&void 0!==e?e:[]});x(t.itemList.map((e=>({...e,address:"".concat(e.address1||""," ").concat(e.address2||""," ").concat(e.detailAddress||"").trim()||""}))))}catch(e){d({message:e.message,type:"fail",delay:3e3})}},_=()=>C.reduce(((e,t)=>{if(A.includes(t.customerId)){const a={...t,customerId:t.customerId,customerName:t.name,mdmCode:t.mdmCode,represent:t.representativeName,address:t.address};e=[...e,a]}return e}),[]);return(0,l.jsxs)(Pe.A,{title:"화주 추가",modalWidth:1280,modalContentHeight:465,confirmButtonLabel:"추가하기",onClickConfirmButton:async()=>{if(A.length)if(t){if(A.length>10)return void c({title:"10개 이상 추가 할 수 없습니다.",modalWidth:400});if(o+A.length>100)return void c({title:"최대 개수를 초과했습니다.",description:"사용하지 않는 화주를 삭제하고, 다시 시도해 주세요."});const e={itemList:_()};await h.mutateAsync(e);a(e.itemList)}else{const e=_(),t=await p(e);t&&a(e)}else c({title:"추가할 행을 먼저 선택해 주세요.",modalWidth:400})},onClickCloseButton:()=>s(),"data-sentry-element":"TmsBasicModal","data-sentry-component":"AddCustomerModal","data-sentry-source-file":"AddCustomerModal.tsx",children:[(0,l.jsxs)("div",{className:"flex gap-[16px]",children:[(0,l.jsx)(Tt.A,{label:"화주",placeholder:"화주명 입력",classNameInput:"w-[500px]",value:N,onChange:e=>y(e.target.value),onKeyDown:e=>{"Enter"===e.key&&S().catch()},"data-sentry-element":"TmsBasicInput","data-sentry-source-file":"AddCustomerModal.tsx"}),(0,l.jsx)(u.A,{label:"조회",level:m.V.level_3,size:m.M.Small,leftIcon:(0,l.jsx)(se.A,{width:20,height:20}),onClick:S,"data-sentry-element":"TmsBasicButton","data-sentry-source-file":"AddCustomerModal.tsx"})]}),(0,l.jsx)("div",{className:"mt-[12px] flex h-[406px]",children:(0,l.jsx)(Fe.A,{rows:C,columns:$l,getRowId:e=>e.customerId,rowSelectionModel:A,checkboxSelection:!0,disableColumnMenu:!0,noRowDescription:{description_1:"조회된 고객사가 없습니다.",description_2:"조회 조건을 입력하거나, 조건을 다시 확인해 주세요."},onRowSelectionModelChange:e=>g(e),"data-sentry-element":"TmsBasicDataGrid","data-sentry-source-file":"AddCustomerModal.tsx"})})]})};function ar(){return ar=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},ar.apply(null,arguments)}var lr,rr,sr=function(e){return r.createElement("svg",ar({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none"},e),er||(er=r.createElement("path",{fill:"#fff",d:"m11.667 8.333-.025-7.5L2.5 11.667h5.833l-.025 7.5L17.5 8.333z"})))};function nr(){return nr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},nr.apply(null,arguments)}var or,ir,dr=function(e){return r.createElement("svg",nr({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none"},e),r.createElement("mask",{id:"icon-chevron-up_svg__a",width:16,height:16,x:0,y:0,maskUnits:"userSpaceOnUse",style:{maskType:"alpha"}},lr||(lr=r.createElement("path",{fill:"#D9D9D9",d:"M0 0h16v16H0z"}))),rr||(rr=r.createElement("g",{mask:"url(#icon-chevron-up_svg__a)"},r.createElement("path",{fill:"#868C98",d:"m12.622 9.867-4.5-4.484a.17.17 0 0 0-.24 0l-4.5 4.484a.17.17 0 0 0 0 .239l.513.511a.17.17 0 0 0 .24 0l3.907-3.892 3.82 3.892a.17.17 0 0 0 .24 0l.513-.511a.17.17 0 0 0 0-.24z"}))))};function cr(){return cr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},cr.apply(null,arguments)}var ur,mr,pr=function(e){return r.createElement("svg",cr({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none"},e),r.createElement("mask",{id:"icon-chevron-up2_svg__a",width:16,height:16,x:0,y:0,maskUnits:"userSpaceOnUse",style:{maskType:"alpha"}},or||(or=r.createElement("path",{fill:"#D9D9D9",d:"M0 0h16v16H0z"}))),ir||(ir=r.createElement("g",{fill:"#868C98",mask:"url(#icon-chevron-up2_svg__a)"},r.createElement("path",{d:"m12.626 7.865-4.5-4.483a.17.17 0 0 0-.24 0l-4.5 4.483a.17.17 0 0 0 0 .24l.513.51a.17.17 0 0 0 .24 0l3.907-3.892 3.82 3.893a.17.17 0 0 0 .24 0l.513-.512a.17.17 0 0 0 0-.239z"}),r.createElement("path",{d:"m12.626 11.865-4.5-4.483a.17.17 0 0 0-.24 0l-4.5 4.483a.17.17 0 0 0 0 .24l.513.51a.17.17 0 0 0 .24 0l3.907-3.892 3.82 3.893a.17.17 0 0 0 .24 0l.513-.512a.17.17 0 0 0 0-.239z"}))))};function hr(){return hr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},hr.apply(null,arguments)}var fr,Cr,xr=function(e){return r.createElement("svg",hr({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 16 16"},e),r.createElement("mask",{id:"icon-chevron-down_svg__a",width:16,height:16,x:0,y:0,maskUnits:"userSpaceOnUse",style:{maskType:"alpha"}},ur||(ur=r.createElement("path",{fill:"#D9D9D9",d:"M0 0h16v16H0z"}))),mr||(mr=r.createElement("g",{mask:"url(#icon-chevron-down_svg__a)"},r.createElement("path",{fill:"#868C98",d:"m3.378 6.134 4.5 4.483a.17.17 0 0 0 .24 0l4.5-4.484a.17.17 0 0 0 0-.239l-.513-.511a.17.17 0 0 0-.24 0L7.958 9.275l-3.82-3.892a.17.17 0 0 0-.24 0l-.513.511a.17.17 0 0 0 0 .24z"}))))};function Nr(){return Nr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},Nr.apply(null,arguments)}var yr=function(e){return r.createElement("svg",Nr({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none"},e),r.createElement("mask",{id:"icon-chevron-down2_svg__a",width:16,height:16,x:0,y:0,maskUnits:"userSpaceOnUse",style:{maskType:"alpha"}},fr||(fr=r.createElement("path",{fill:"#D9D9D9",d:"M0 0h16v16H0z"}))),Cr||(Cr=r.createElement("g",{fill:"#868C98",mask:"url(#icon-chevron-down2_svg__a)"},r.createElement("path",{d:"m3.378 8.133 4.5 4.483a.17.17 0 0 0 .24 0l4.5-4.483a.17.17 0 0 0 0-.24l-.513-.511a.17.17 0 0 0-.24 0l-3.907 3.892-3.82-3.892a.17.17 0 0 0-.24 0l-.513.511a.17.17 0 0 0 0 .24z"}),r.createElement("path",{d:"m3.378 4.133 4.5 4.483a.17.17 0 0 0 .24 0l4.5-4.483a.17.17 0 0 0 0-.24l-.513-.511a.17.17 0 0 0-.24 0L7.958 7.274l-3.82-3.892a.17.17 0 0 0-.24 0l-.513.511a.17.17 0 0 0 0 .24z"}))))};const Er=(0,mt.vt)(((e,t)=>({selectedOrders:{orderTransferId:[],orderStatusType:[]},setSelectedOrders:t=>e({selectedOrders:t})}))),vr="RELOAD_SINGLE_ORDERS",Ar="SPLIT_ORDER_CANCEL",gr="FAST_ORDER_DISPATCH",Tr=()=>{const e=(0,$e.P9)(),[t,a]=(0,r.useState)({commonMdmCorporationCode:[]}),[s,n]=(0,r.useState)(!1),[o,i]=(0,r.useState)(R.h5w.CONSIGNMENT),d=(0,D.bBi)(),p=(0,r.useRef)(null);var h;const{rows:f,setInitData:C,getSelectedRows:x,moveUpSelectedRows:N,moveDownSelectedRows:y,getAllRows:E}=null!==(h=null==p?void 0:p.current)&&void 0!==h?h:{},[v,A]=(0,r.useState)([]),{selectedOrders:g}=Er(),[b,S]=(0,r.useState)(!1),[_,w]=(0,r.useState)(!1),[O,M]=(0,r.useState)(!1),[j,P]=(0,r.useState)({vendorId:0,vendorVehicleId:0,mdmCostCenterName:"",mdmManageNoCode:"",plateNumber:""}),{mutateAsync:L,isSuccess:B,data:U}=(0,T.n)(["orderDispatch/orderDispatchManager/queries/orderTransferContractRateListMutation"],(async e=>{var t;return null===(t=(await I.q.api((t=>t.ApiPersonalV1VendorVehicleList(e)))).data)||void 0===t?void 0:t.result})),{mutateAsync:V,isSuccess:F,data:G}=(0,T.n)(["orderDispatch/orderDispatchManager/queries/vendorVehicleDeleteMutation"],(async e=>{var t;return null===(t=(await I.q.api((t=>t.ApiPersonalV1VendorVehicleDelete(e)))).data)||void 0===t?void 0:t.result})),{mutateAsync:k,isSuccess:Y,data:q}=(0,T.n)(["orderDispatch/orderDispatchManager/queries/vendorVehicleUpdateMutation"],(async e=>{var t;return null===(t=(await I.q.api((t=>t.ApiPersonalV1VendorVehicleUpdate(e)))).data)||void 0===t?void 0:t.result})),{mutateAsync:W,isSuccess:H,data:K}=(0,T.n)(["orderDispatch/orderDispatchManager/queries/orderTransferQuickConfirmAssignMutation"],(async e=>{var t;return null===(t=(await I.q.api((t=>t.ApiV1OrderTransferQuickConfirmAssign(e)))).data)||void 0===t?void 0:t.result}));(0,r.useEffect)((()=>{s||i(R.h5w.CONSIGNMENT)}),[s]);const{columns:z,columnVisibilityModel:X}=(e=>{let{fastOrderActiveTab:t,handleDispatchClick:a}=e;return{columnVisibilityModel:{mdmCostCenterName:t===R.h5w.CONSIGNMENT,vendorMdmCode:t===R.h5w.PARTNER,vendorName:t===R.h5w.PARTNER},columns:[{field:"__check__",width:76,sortable:!1,disableColumnMenu:!0,align:"center",cellClassName:"wide-cell"},{field:"_id_",headerName:"No.",sortable:!1,align:"center",width:48,type:da._.VIEW_MODE_ID},{field:"mdmCostCenterName",headerName:"코스트 센터",align:"center",width:136},{field:"vendorMdmCode",headerName:"MDM 코드",align:"center",width:88},{field:"vendorName",headerName:"파트너",align:"center",width:136},{field:"mdmManageNoCode",headerName:"관리번호",width:160},{field:"plateNumber",headerName:"차량번호",width:84},{field:"vehicleType",headerName:"차종",width:70,metaKey:Ze.k.VEHICLE_TYPE,type:da._.VIEW_MODE_ALL_META},{field:"tonName",headerName:"톤급",width:50},{field:"driverName",headerName:"운전자명",width:70},{field:"driverTelNo",headerName:"전화번호",width:112,type:da._.VIEW_MODE_PHONE_NUMBER},{field:"remark",headerName:"비고",width:200,editable:!0,defaultEditable:!0,type:da._.CUSTOM_INPUT_TEXT},{field:"actions",headerName:"배차",width:60,type:"actions",getActions:e=>[(0,l.jsx)(u.A,{label:"배차",level:m.V.level_2,size:m.M.Small,leftIcon:(0,l.jsx)(Pt.A,{width:16,height:16,className:"text-white"}),onClick:()=>a(e.row)})]}]}})({fastOrderActiveTab:o,handleDispatchClick:async t=>{if(0===g.orderTransferId.length)return void e({message:"선택한 주문 정보가 없어 배차를 진행할 수 없습니다.",type:"caution"});const a=g.orderStatusType.filter((e=>e===R.Inv.DISPATCH_REQUEST||e===R.Inv.DISPATCH_PLAN));a.length===g.orderStatusType.length?a.length>100?e({message:"한번에 100건까지 배차 가능합니다.",type:"caution"}):(P({...t}),M(!0)):e({message:"이미 배차된 주문입니다.",type:"caution"})}}),Q=async()=>{var e;const a={vendorType:o,searchPlateNumber:null!==(e=t.searchPlateNumber)&&void 0!==e?e:null};var l,r,s;o===R.h5w.CONSIGNMENT&&(a.mdmCostCenterCode=null!==(l=t.commonMdmCorporationCode)&&void 0!==l?l:null,a.searchMdmManageNoCode=null!==(r=t.searchMdmManageNoCode)&&void 0!==r?r:null);o===R.h5w.PARTNER&&(a.searchMdmManageNoCode=null!==(s=t.commonVendorCode)&&void 0!==s?s:null);await L(a)};return(0,r.useLayoutEffect)((()=>{s&&Q()}),[s,o]),(0,r.useEffect)((()=>{B&&C(U.itemList)}),[U]),(0,r.useEffect)((()=>{F&&(S(!1),Q())}),[G]),(0,r.useEffect)((()=>{Y&&(e({message:"차량정보가 저장되었습니다."}),Q())}),[q]),(0,r.useEffect)((()=>{H&&(e({message:"배차 정보가 저장되었습니다."}),M(!1),pe.sV.emit(vr),Q())}),[K]),{searchParams:t,setSearchParams:a,isActive:s,setIsActive:n,columns:z,columnVisibilityModel:X,wrapGridRef:p,gridApiRef:d,rows:f,handleRowOrderChange:async e=>{const t=await((e,t,a)=>new Promise((l=>{setTimeout((()=>{const r=[...a],s=r.splice(e,1)[0];r.splice(t,0,s),l(r)}),500*Math.random()+100)})))(e.oldIndex,e.targetIndex,f);C(t)},setRowSelectionModel:A,handleSearch:Q,fastOrderActiveTab:o,setFastOrderActiveTab:i,isOpenedVendorVehicleDelete:b,setIsOpenedVendorVehicleDelete:S,handleVendorVehicleDeleteComplete:async()=>{const e=x().map((e=>e.personalAdminVendorVehicleId));await V({deleteIdList:e})},isOpenedConsignmentVehicleAddModal:_,setIsOpenedConsignmentVehicleAddModal:w,rowSelectionModel:v,moveUpSelectedRows:N,moveDownSelectedRows:y,handleListSave:async()=>{const t=E();c().isEqual(f,t)?e({message:"차량정보의 변경된 사항이 없습니다.",type:"caution"}):await k({itemList:t.map(((e,t)=>({personalAdminVendorVehicleId:e.personalAdminVendorVehicleId,vendorVehicleId:e.vendorVehicleId,sequence:t+1,remark:e.remark})))})},dispatchInfo:j,isOpenedCheckDispatchModal:O,setIsOpenedCheckDispatchModal:M,handleDispatchComplete:async()=>{pe.sV.emit(gr,j),M(!1)}}};var Ir;function br(){return br=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},br.apply(null,arguments)}var Rr,Sr=function(e){return r.createElement("svg",br({xmlns:"http://www.w3.org/2000/svg",width:32,height:124,fill:"none"},e),Ir||(Ir=r.createElement("path",{fill:"#122699",d:"M0 16.158a6 6 0 0 1 3.893-5.618L32 0v124L3.893 113.46A6 6 0 0 1 0 107.842z"})))};function _r(){return _r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},_r.apply(null,arguments)}var wr=function(e){return r.createElement("svg",_r({xmlns:"http://www.w3.org/2000/svg",width:18,height:18,fill:"none"},e),Rr||(Rr=r.createElement("path",{fill:"#fff",d:"M9.001.667A8.336 8.336 0 0 0 .668 9c0 4.6 3.733 8.333 8.333 8.333S17.335 13.6 17.335 9 13.6.667 9 .667m3.417 8.458-4.667 4.683c-.075.067-.183.067-.25 0l-.533-.533a.18.18 0 0 1 0-.25l4.05-3.983-4.05-4.067a.18.18 0 0 1 0-.25l.533-.533c.067-.067.175-.067.25 0l4.667 4.683a.18.18 0 0 1 0 .25"})))};var Or=function(){return(0,l.jsxs)("div",{className:"flex flex-col gap-[12px] px-[24px] py-[20px]","data-sentry-component":"ConsignmentOrderFilter","data-sentry-source-file":"ConsignmentOrderFilter.tsx",children:[(0,l.jsxs)("div",{className:"flex gap-[16px]",children:[(0,l.jsx)(Ve.A.AllMetaMultiAutocompleteSearch,{label:"코스트 센터",allMetaType:Ze.k.COMMON_MDM_COST_CENTER_PURCHASE_CODE,className:"!w-[369px]","data-sentry-element":"SearchFilter.AllMetaMultiAutocompleteSearch","data-sentry-source-file":"ConsignmentOrderFilter.tsx"}),(0,l.jsxs)("div",{className:"ml-auto flex gap-[8px]",children:[(0,l.jsx)(Ve.A.ResetButton,{"data-sentry-element":"SearchFilter.ResetButton","data-sentry-source-file":"ConsignmentOrderFilter.tsx"}),(0,l.jsx)(Ve.A.SearchButton,{"data-sentry-element":"SearchFilter.SearchButton","data-sentry-source-file":"ConsignmentOrderFilter.tsx"})]})]}),(0,l.jsxs)("div",{className:"flex gap-[8px]",children:[(0,l.jsx)(Ve.A.SearchText,{label:"관리번호",placeholder:"관리번호 입력",fieldName:"searchMdmManageNoCode",className:"!w-[137px]","data-sentry-element":"SearchFilter.SearchText","data-sentry-source-file":"ConsignmentOrderFilter.tsx"}),(0,l.jsx)(Ve.A.SearchText,{label:"차량번호",placeholder:"차량번호 입력",fieldName:"searchPlateNumber",className:"!w-[137px]","data-sentry-element":"SearchFilter.SearchText","data-sentry-source-file":"ConsignmentOrderFilter.tsx"})]})]})};var Mr=function(){return(0,l.jsxs)("div",{className:"flex flex-col gap-[12px] px-[24px] py-[20px]","data-sentry-component":"PartnerOrderFilter","data-sentry-source-file":"PartnerOrderFilter.tsx",children:[(0,l.jsxs)("div",{className:"flex gap-[16px]",children:[(0,l.jsx)(Ve.A.AllMetaAutocompleteSearch,{label:"파트너",allMetaType:Ze.k.COMMON_VENDOR_CODE,className:"!w-[310px]","data-sentry-element":"SearchFilter.AllMetaAutocompleteSearch","data-sentry-source-file":"PartnerOrderFilter.tsx"}),(0,l.jsxs)("div",{className:"ml-auto flex gap-[8px]",children:[(0,l.jsx)(Ve.A.ResetButton,{"data-sentry-element":"SearchFilter.ResetButton","data-sentry-source-file":"PartnerOrderFilter.tsx"}),(0,l.jsx)(Ve.A.SearchButton,{"data-sentry-element":"SearchFilter.SearchButton","data-sentry-source-file":"PartnerOrderFilter.tsx"})]})]}),(0,l.jsx)("div",{className:"flex",children:(0,l.jsx)(Ve.A.SearchText,{label:"차량번호",placeholder:"차량번호 입력",fieldName:"searchPlateNumber",className:"!w-[310px]","data-sentry-element":"SearchFilter.SearchText","data-sentry-source-file":"PartnerOrderFilter.tsx"})})]})};var Dr=e=>{let{className:t="",tabList:a,onChange:s}=e;const[n,o]=(0,r.useState)(a[0].path);return(0,l.jsx)("div",{className:t,"data-sentry-component":"StaticTabs","data-sentry-source-file":"StaticTabs.tsx",children:(0,l.jsx)(x.TJY,{value:n,onChange:(e,t)=>{o(t),s(e,t)},sx:{minHeight:"unset"},TabIndicatorProps:{sx:{borderRadius:"9999px 9999px 0px 0px",background:"#16171B",height:"4px"}},"data-sentry-element":"BasicTabs","data-sentry-source-file":"StaticTabs.tsx",children:a.map(((e,t)=>(0,l.jsx)(x.M5I,{label:e.name,value:e.path,sx:{fontSize:"14px",padding:"8px 0px 12px 0px",minHeight:"unset",minWidth:"unset",marginRight:"24px",color:"#B6BCC8","&.Mui-selected":{color:"#16171B"}}},e.path)))})})};const jr=[{field:"__check__",width:48,sortable:!1},{field:"_id_",width:48,headerName:"No.",align:"center",type:da._.VIEW_MODE_ID},{field:"mdmCostCenterName",width:164,headerName:"코스트 센터"},{field:"mdmManageNoCode",width:162,headerName:"관리번호"},{field:"plateNumber",width:162,headerName:"차량번호"},{field:"vehicleTypeName",width:142,headerName:"차종"},{field:"tonName",width:142,headerName:"톤급"},{field:"driverUserName",width:162,headerName:"운전자명"},{field:"driverPhoneNumber",width:162,headerName:"전화번호",type:da._.VIEW_MODE_PHONE_NUMBER},{field:"remark",width:120,headerName:"비고",valueGetter:()=>"-"}],Pr=[{field:"__check__",width:48,sortable:!1},{field:"_id_",width:48,headerName:"No.",align:"center",type:da._.VIEW_MODE_ID},{field:"vendorMdmCode",headerName:"MDM코드",width:182},{field:"vendorName",headerName:"파트너",width:182},{field:"mdmManageNoCode",width:162,headerName:"관리번호"},{field:"plateNumber",width:162,headerName:"차량번호"},{field:"vehicleTypeName",width:162,headerName:"차종"},{field:"tonName",width:162,headerName:"톤급"},{field:"driverUserName",width:162,headerName:"운전자명"},{field:"driverPhoneNumber",width:162,headerName:"전화번호",type:da._.VIEW_MODE_PHONE_NUMBER},{field:"remark",width:120,headerName:"비고",valueGetter:()=>"-"}];var Lr=function(e){let{type:t,rowsLength:a,setIsOpenedModal:s,refetch:n}=e;const[o,i]=(0,r.useState)({}),d=(0,r.useRef)(null),c=(0,D.bBi)();var u;const{setInitData:m,getSelectedRows:p}=null!==(u=null==d?void 0:d.current)&&void 0!==u?u:{},[h,f]=(0,r.useState)([]),C=(0,$e.P9)(),{mutateAsync:x,isSuccess:N,data:y}=(0,T.n)(["orderDispatch/orderDispatchManager/queries/vendorVehicleV1ListMutation"],(async e=>{var t;return null===(t=(await I.q.api((t=>t.ApiVendorVehicleV1List(e)))).data)||void 0===t?void 0:t.result})),{mutateAsync:E,isSuccess:v,data:A}=(0,T.n)(["orderDispatch/orderDispatchManager/queries/vendorVehicleCreateMutation"],(async e=>{var t;return null===(t=(await I.q.api((t=>t.ApiPersonalV1VendorVehicleCreate(e)))).data)||void 0===t?void 0:t.result})),g=async()=>{const e=t===R.h5w.CONSIGNMENT,a=e?t:null,l=e?[]:[R.MZz.PARTNER,R.MZz.NORMAL_PARTNER];var r;const s={...o,vendorType:a,vendorTypeList:l,vendorId:null!==(r=o.commonVendorCode)&&void 0!==r?r:null};await x(s)};return(0,r.useLayoutEffect)((()=>{g()}),[]),(0,r.useEffect)((()=>{N&&m(y.vendorVehicleList)}),[y]),(0,r.useEffect)((()=>{v&&(C({message:"저장되었습니다."}),s(!1),n())}),[A]),(0,l.jsxs)(Pe.A,{title:"".concat(t===R.h5w.CONSIGNMENT?"위수탁":"파트너","  차량 추가"),modalWidth:1280,modalContentHeight:434,onClickCloseButton:()=>s(!1),confirmButtonLabel:"추가하기",confirmButtonDisabled:0===h.length,onClickConfirmButton:async()=>{const e=p().map(((e,t)=>({vendorVehicleId:e.vendorVehicleId,sequence:a+(t+1)})));await E({itemList:e})},"data-sentry-element":"TmsBasicModal","data-sentry-component":"VehicleAddModal","data-sentry-source-file":"VehicleAddModal.tsx",children:[(0,l.jsx)(Ve.A.Provider,{params:o,setParams:i,onSearch:g,"data-sentry-element":"SearchFilter.Provider","data-sentry-source-file":"VehicleAddModal.tsx",children:e=>(0,l.jsxs)("div",{className:"flex gap-[16px]",children:[t===R.h5w.CONSIGNMENT?(0,l.jsx)(Ve.A.SearchText,{label:"관리번호",placeholder:"관리번호 입력",fieldName:"searchMdmManageNo",className:"!w-[200px]"}):(0,l.jsx)(Ve.A.AllMetaAutocompleteSearch,{label:"파트너",allMetaType:Ze.k.COMMON_VENDOR_CODE,className:"!w-[310px]"}),(0,l.jsx)(Ve.A.SearchText,{label:"차량번호",placeholder:"차량번호 입력",fieldName:"searchPlateNumber",className:"!w-[200px]"}),(0,l.jsx)(Ve.A.SearchButton,{})]})}),(0,l.jsx)("div",{className:"mt-[12px] h-[346px]",children:(0,l.jsx)(Fa.A,{checkboxSelection:!0,ref:d,gridApiRef:c,columns:t===R.h5w.CONSIGNMENT?jr:Pr,onRowSelectionModelChange:f,"data-sentry-element":"TmsWrappBasicDataGrid","data-sentry-source-file":"VehicleAddModal.tsx"})})]})},Br=a(17314);var Ur=function(e){let{label:t="삭제",buttonLevel:a=m.V.level_5,disabled:r,handleDelete:s}=e;return(0,l.jsx)(u.A,{label:t,level:a,size:m.M.Small,leftIcon:(0,l.jsx)(Br.A,{width:16,height:16,className:C()(r?"text-redDisabled":"text-error")}),onClick:s,disabled:r,"data-sentry-element":"TmsBasicButton","data-sentry-component":"DeleteButton","data-sentry-source-file":"DeleteButton.tsx"})};var Vr,Fr,Gr=function(){const{rows:e,searchParams:t,setSearchParams:a,isActive:r,setIsActive:s,columns:n,columnVisibilityModel:o,wrapGridRef:i,gridApiRef:d,handleRowOrderChange:c,rowSelectionModel:p,setRowSelectionModel:h,handleSearch:f,fastOrderActiveTab:C,setFastOrderActiveTab:x,isOpenedVendorVehicleDelete:y,setIsOpenedVendorVehicleDelete:E,handleVendorVehicleDeleteComplete:v,isOpenedConsignmentVehicleAddModal:A,setIsOpenedConsignmentVehicleAddModal:g,moveUpSelectedRows:T,moveDownSelectedRows:I,handleListSave:b,dispatchInfo:S,isOpenedCheckDispatchModal:_,setIsOpenedCheckDispatchModal:w,handleDispatchComplete:O}=Tr();return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"absolute top-0 ".concat(r?"right-[600px]":"right-0"," z-[101] flex cursor-pointer justify-center"),onClick:()=>s(!r),children:[(0,l.jsx)(Sr,{"data-sentry-element":"IconBookmark","data-sentry-source-file":"FastOrderDispatchPanel.tsx"}),(0,l.jsxs)("p",{className:"absolute left-[8px] ".concat(r?"top-[31px]":"top-[14px]"," text-white"),children:[r?(0,l.jsx)(wr,{}):(0,l.jsx)(sr,{}),(0,l.jsx)("div",{className:"Body4_B space mt-[4px] [writing-mode:tb]",children:r?"접기":"빠른배차"})]})]}),(0,l.jsx)("div",{className:"absolute ".concat(r?"right-[600px]":"right-0"," top-0 z-10 flex"),children:(0,l.jsx)("div",{className:"bg-primary h-[calc(100vh-87px)] w-[2px]"})}),r&&(0,l.jsxs)("div",{className:"bg-blue98 border-blue80 absolute right-0 top-0 z-[101] h-[calc(100vh-87px)] w-[600px] border-l-[2px]",children:[(0,l.jsx)("div",{className:"Title2_EX px-[24px] py-[22px]",children:"빠른 배차"}),(0,l.jsx)(Dr,{tabList:[{name:"위수탁 즐겨찾기",path:R.h5w.CONSIGNMENT},{name:"파트너 즐겨찾기",path:R.h5w.PARTNER}],onChange:(e,t)=>x(t)}),(0,l.jsxs)("div",{className:"border-blue80 border-t-[1px] bg-white",children:[(0,l.jsx)(Ve.A.Provider,{params:t,setParams:a,onSearch:f,initialParams:{commonMdmCorporationCode:[]},children:e=>(0,l.jsxs)(l.Fragment,{children:[C===R.h5w.CONSIGNMENT&&(0,l.jsx)(Or,{}),C===R.h5w.PARTNER&&(0,l.jsx)(Mr,{})]})}),(0,l.jsxs)("div",{className:"",children:[(0,l.jsx)("div",{className:"h-[calc(100vh-373.5px)]",children:(0,l.jsx)(Fa.A,{ref:i,gridApiRef:d,checkboxSelection:!0,columns:n,pinnedColumns:{right:["actions"]},onRowOrderChange:c,onRowSelectionModelChange:h,columnVisibilityModel:o})}),(0,l.jsxs)("div",{className:"border-grey90 bottom-0 flex items-center gap-[8px] border-t-[1px] px-[24px] py-[16px]",children:[(0,l.jsx)(u.A,{label:"추가",level:m.V.level_5,size:m.M.Small,leftIcon:(0,l.jsx)(Jl,{widht:16,height:16}),onClick:()=>g(!0)}),(0,l.jsx)(Ur,{handleDelete:()=>E(!0),disabled:0===p.length}),(0,l.jsx)("p",{className:"bg-grey90 flex h-[11px] w-[1px]"}),(0,l.jsx)("p",{className:"border-grey90 flex h-[28px] w-[28px] cursor-pointer items-center justify-center rounded-[6px] border-[1px]",onClick:()=>T("first"),children:(0,l.jsx)(pr,{width:16,height:16,className:"text-grey50"})}),(0,l.jsx)("p",{className:"border-grey90 flex h-[28px] w-[28px] cursor-pointer items-center justify-center rounded-[6px] border-[1px]",onClick:()=>T("numbering"),children:(0,l.jsx)(dr,{width:16,height:16,className:"text-grey50"})}),(0,l.jsx)("p",{className:"border-grey90 flex h-[28px] w-[28px] cursor-pointer items-center justify-center rounded-[6px] border-[1px]",onClick:()=>I("numbering"),children:(0,l.jsx)(xr,{width:16,height:16,className:"text-grey50"})}),(0,l.jsx)("p",{className:"border-grey90 flex h-[28px] w-[28px] cursor-pointer items-center justify-center rounded-[6px] border-[1px]",onClick:()=>I("last"),children:(0,l.jsx)(yr,{width:16,height:16,className:"text-grey50"})}),(0,l.jsx)("p",{className:"ml-auto",children:(0,l.jsx)(_t.A,{handleSave:b})})]})]})]})]}),y&&(0,l.jsx)(N,{title:"즐겨찾기에서 차량을 삭제하시겠어요?",description:"삭제 시, 즐겨찾기 목록에서 이 차량이 삭제됩니다.",confirmButtonLabel:"삭제하기",confirmButtonType:"destructive",onClickCloseButton:()=>E(!1),onClickConfirmButton:v}),A&&(0,l.jsx)(Lr,{type:C,rowsLength:e.length,setIsOpenedModal:g,refetch:f}),_&&(0,l.jsx)(N,{title:"선택된 주문에 아래의 차량을 배차 하시겠어요?",confirmButtonLabel:"배차하기",onClickCloseButton:()=>w(!1),onClickConfirmButton:O,children:(0,l.jsxs)("ul",{className:"text-grey50 Body4_M list-disc pl-[20px]",children:[(0,l.jsxs)("li",{children:[C===R.h5w.CONSIGNMENT?"위수탁":"파트너","즐겨찾기 차량"]}),(0,l.jsxs)("li",{children:["코스트 센터: ",S.mdmCostCenterName]}),(0,l.jsxs)("li",{children:["관리번호: ",S.mdmManageNoCode]}),(0,l.jsxs)("li",{children:["차량번호: ",S.plateNumber]})]})})]})};a(35578);function kr(){return kr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},kr.apply(null,arguments)}var Yr=function(e){return r.createElement("svg",kr({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 16 16"},e),Vr||(Vr=r.createElement("path",{fill:"#F5BDB6",d:"M8 1.334A6.67 6.67 0 0 0 1.334 8 6.67 6.67 0 0 0 8 14.667 6.67 6.67 0 0 0 14.667 8 6.67 6.67 0 0 0 8 1.334"})),Fr||(Fr=r.createElement("path",{fill:"#DC2F0C",d:"M8.44 4h-.88a.2.2 0 0 0-.2.2v.88c0 .11.089.2.2.2h.88a.2.2 0 0 0 .2-.2V4.2a.2.2 0 0 0-.2-.2M8.44 6.4h-.88a.2.2 0 0 0-.2.2v5.2c0 .11.089.2.2.2h.88a.2.2 0 0 0 .2-.2V6.6a.2.2 0 0 0-.2-.2"})))},qr=a(47900);var Wr=function(e){let{message:t,children:a,childrenPosition:s="bottom",isShowBotName:n=!0}=e;return(0,l.jsxs)("div",{className:C()({"mt-[4px]":!n}),"data-sentry-component":"ChatOrderBotMessage","data-sentry-source-file":"ChatOrderBotMessage.tsx",children:[n&&(0,l.jsx)("div",{className:"Caption1_M text-grey40 mb-[4px]",children:"더운반 챗주문"}),"top"===s&&a,(0,l.jsx)("div",{className:"bg-grey95 text-grey30 Body5_M w-fit break-words rounded-[12px] px-[12px] py-[8px]",children:(o=t,o.split("\\n").map(((e,t)=>(0,l.jsxs)(r.Fragment,{children:[e,t<o.split("\\n").length-1&&(0,l.jsx)("br",{})]},t))))}),"bottom"===s&&a]});var o},Hr=a(53912);function Kr(e){let{className:t,style:a,children:r}=e;return(0,l.jsx)("div",{className:C()("border-grey90 flex w-full flex-col border-t-[1px]",t),style:a,"data-sentry-component":"TmsBasicInfoTable","data-sentry-source-file":"TmsBasicInfoTable.tsx",children:r})}function zr(e){const{required:t=!1,focusable:a=!0}=e,[s,n]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{n(!1)}),[e.children]),(0,l.jsx)(Et.A,{title:e.error,statusType:"error",transitionTime:0,arrowPosition:"left","data-sentry-element":"TmsBasicTooltip","data-sentry-component":"TmsBasicInfoTableItem","data-sentry-source-file":"TmsBasicInfoTable.tsx",children:(0,l.jsxs)("div",{className:"relative flex w-full flex-row",onFocus:()=>a&&n(!0),onBlur:()=>a&&n(!1),children:[(0,l.jsx)("div",{className:C()("Body5_M text-grey30 bg-warmGrey95 flex min-w-[120px] flex-row items-center break-keep border-[1px] px-[12px]",{"border-error border-r-blackOpacity8":!!e.error,"border-blue50 border-r-blackOpacity8":!e.error&&s,"border-blackOpacity8 border-l-0 border-t-0":!e.error&&!s},e.labelClassName),style:e.labelStyle,children:(0,l.jsxs)("p",{className:"flex flex-row gap-[2px] leading-none",children:[e.label,t&&(0,l.jsx)("span",{className:"bg-decide h-[3px] w-[3px] self-start rounded-[3px]"})]})}),(0,l.jsx)("div",{className:C()("Body5_M text-grey30 border-blackOpacity8 flex min-h-[30px] w-full max-w-full flex-row items-center justify-start border-[1px] border-l-0",{"border-error border-l-0":!!e.error,"border-blue50 border-l-0":!e.error&&s,"border-blackOpacity8 border-l-0 border-r-0 border-t-0":!e.error&&!s,"bg-warmGrey98 text-grey50 px-[12px]":["string","number"].includes(typeof e.children)},e.descriptionClassName),children:e.children})]})})}const Xr="필수 정보를 입력해 주세요.";var Qr=function(e){let{setIsShowModal:t,reloadOwnerList:a}=e;var s,n,o;const i=E(),{mutateAsync:d,isSuccess:c}=(0,T.n)(["useChatOrderCreateOwner"],(async e=>(await I.q.api((t=>t.ApiPersonalV1CustomerByChatCreate(e)))).data.result)),{mutateAsync:u,data:m}=(0,Wt.lM)(),{mutateAsync:p,data:h}=(0,T.n)(["useChatOrderContractList"],(async e=>(await I.q.api((t=>t.ApiPersonalV1CustomerByChatContractList(e)))).data.result)),{control:f,formState:C,handleSubmit:x}=(0,Hr.mN)({defaultValues:{customerId:"",contractId:"",nickName:""},mode:"onChange"}),{errors:N}=C,y=(0,Hr.FH)({control:f,name:"customerId"}),v=(0,$e.P9)(),A=e=>{d({itemList:[{customerId:e.customerId,name:e.nickName,contractSalesId:e.contractId}]})},g=()=>{i({title:"고객사를 추가할 수 없습니다.",description:"필수 정보를 입력 후, 다시 시도해 주세요."})};return(0,r.useLayoutEffect)((()=>{u({})}),[]),(0,r.useEffect)((()=>{y&&p({customerId:y})}),[y]),(0,r.useEffect)((()=>{c&&(a(),t(!1),v({message:"화주가 추가되었습니다."}))}),[c]),(0,l.jsx)(Pe.A,{title:"화주 추가",modalWidth:448,modalContentHeight:116,confirmButtonLabel:"추가하기",isShowedBottomButton:!1,isShowedConfirmButton:!0,onClickConfirmButton:x(A,g),onClickCloseButton:()=>t(!1),"data-sentry-element":"TmsBasicModal","data-sentry-component":"ChatOrderCreateOwnerModal","data-sentry-source-file":"ChatOrderCreateOwnerModal.tsx",children:(0,l.jsx)("form",{autoComplete:"off",onSubmit:x(A,g),className:"flex flex-col",children:(0,l.jsxs)(Kr,{"data-sentry-element":"TmsBasicInfoTable","data-sentry-source-file":"ChatOrderCreateOwnerModal.tsx",children:[(0,l.jsx)(zr,{label:"화주",required:!0,error:null===(s=N.customerId)||void 0===s?void 0:s.message,"data-sentry-element":"TmsBasicInfoTableItem","data-sentry-source-file":"ChatOrderCreateOwnerModal.tsx",children:(0,l.jsx)(Hr.xI,{name:"customerId",control:f,rules:{required:Xr},render:e=>{let{field:t}=e;var a;return(0,l.jsx)(He.A,{autocompleteBoxClassName:"w-full",selectedId:t.value,componentType:"autocomplete-table",placeholder:"화주 입력",options:null==m||null===(a=m.itemList)||void 0===a?void 0:a.map((e=>({id:e.customerId,label:e.name}))),onChange:(e,a)=>t.onChange(a.id)})},"data-sentry-element":"Controller","data-sentry-source-file":"ChatOrderCreateOwnerModal.tsx"})}),(0,l.jsx)(zr,{label:"계약 마스터",required:!0,error:null===(n=N.contractId)||void 0===n?void 0:n.message,"data-sentry-element":"TmsBasicInfoTableItem","data-sentry-source-file":"ChatOrderCreateOwnerModal.tsx",children:(0,l.jsx)(Hr.xI,{name:"contractId",control:f,rules:{required:Xr},render:e=>{let{field:t}=e;var a;return(0,l.jsx)(He.A,{autocompleteBoxClassName:"w-full",selectedId:t.value,componentType:"autocomplete-table",placeholder:"계약 마스터 입력",options:null==h||null===(a=h.itemList)||void 0===a?void 0:a.map((e=>({id:e.contractSalesId,label:e.contractName}))),onChange:(e,a)=>t.onChange(a.id)})},"data-sentry-element":"Controller","data-sentry-source-file":"ChatOrderCreateOwnerModal.tsx"})}),(0,l.jsx)(zr,{label:"별칭",required:!0,error:null===(o=N.nickName)||void 0===o?void 0:o.message,"data-sentry-element":"TmsBasicInfoTableItem","data-sentry-source-file":"ChatOrderCreateOwnerModal.tsx",children:(0,l.jsx)(Hr.xI,{name:"nickName",control:f,rules:{required:Xr},render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{componentType:"input-table",placeholder:"별칭 입력",className:"w-full",...t})},"data-sentry-element":"Controller","data-sentry-source-file":"ChatOrderCreateOwnerModal.tsx"})})]})})})};const Zr=e=>{e.preventDefault();const t=e.clipboardData;if(!t)return null;const a=t.getData("text/plain");return a?a.replace(/<[^>]*>/g,"").replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/&nbsp;/g," ").replace(/\s+/g," ").trim():null};var Jr=function(e){let{reloadOwnerList:t}=e;const[a,s]=(0,r.useState)(new Map),[n,o]=(0,r.useState)(""),[i,d]=(0,r.useState)(!1),[c,p]=(0,r.useState)(!1),h=e=>{let{message:t,direction:a,customerId:l="default"}=e;const r={message:t,direction:a,position:"normal"};s((e=>{const s=new Map(e),n=s.get(l)||{messages:[],histories:[]},o=[...n.messages];return"string"==typeof t?"incoming"===a?o.push({type:"element",content:{...r,type:"custom",message:t}}):o.push({type:"message",content:{...r}}):o.push({type:"element",content:{...r,type:"custom"}}),s.set(l,{...n,messages:o}),s}))},f=(e=>{const t=a.get(e);return(null==t?void 0:t.messages)||[]})("default"),C=(0,r.useCallback)((()=>{var e;n&&(h({message:(e=n,e.replace(/(?:\n)\n{2,}/,"\n\n")),direction:"outgoing",customerId:"default"}),o(""),x())}),[h,n]),x=()=>{let e="안녕하세요. 더운반 챗주문이에요.\n화주를 먼저 추가해 주세요.";f.length>0&&(e="화주를 먼저 추가해 주세요."),h({message:(0,l.jsx)(Wr,{message:e,children:(0,l.jsx)("div",{className:"mt-[12px]",children:(0,l.jsx)(u.A,{label:"화주 추가",level:m.V.level_5,size:m.M.Small,leftIcon:(0,l.jsx)(Jl,{className:"text-grey40 h-[16px] w-[16px]"}),onClick:()=>{p(!0)}})})}),direction:"incoming",customerId:"default"})};return(0,r.useEffect)((()=>{0===f.length&&x()}),[]),(0,l.jsxs)("div",{className:"h-[calc(100%-64px)]","data-sentry-component":"ChatOrderNoOwnerChat","data-sentry-source-file":"ChatOrderNoOwnerChat.tsx",children:[(0,l.jsx)("div",{className:"Body2_B border-b-grey90 mx-[20px] border-b py-[20px]",children:"새 채팅"}),(0,l.jsx)("div",{className:"h-full",style:{width:"100%"},id:"chat-order-panel",children:(0,l.jsxs)(qr.J3,{"data-sentry-element":"MainContainer","data-sentry-source-file":"ChatOrderNoOwnerChat.tsx",children:[(0,l.jsxs)(qr.cW,{"data-sentry-element":"ChatContainer","data-sentry-source-file":"ChatOrderNoOwnerChat.tsx",children:[(0,l.jsxs)(qr.Mf,{id:"messageList",className:"h-full",autoScrollToBottom:!0,"data-sentry-element":"MessageList","data-sentry-source-file":"ChatOrderNoOwnerChat.tsx",children:[(0,l.jsx)("div",{className:"my-[16px] flex justify-center",children:(0,l.jsxs)("div",{className:"border-red50 bg-red98 text-red50 Caption1_B flex w-[144px] items-center justify-center gap-[4px] rounded-full border py-[4px]",children:[(0,l.jsx)(Yr,{className:"h-[16px] w-[16px]","data-sentry-element":"IconInfoRed","data-sentry-source-file":"ChatOrderNoOwnerChat.tsx"}),"화주 추가가 필요해요"]})}),f.map(((e,t)=>{var a,r;return(0,l.jsx)(qr.$4,{direction:null===(a=e.content)||void 0===a?void 0:a.direction,children:(0,l.jsx)(qr.$4.Messages,{children:(0,l.jsx)(qr.QB,{model:e.content,avatarPosition:"tl",children:"incoming"===(null===(r=e.content)||void 0===r?void 0:r.direction)&&(0,l.jsx)(qr.eu,{src:"/chat-order-bot-avatar.png",name:"더운반",size:"sm"})})})},"default-".concat(t))}))]}),(0,l.jsx)(qr.Ep,{value:n,onChange:e=>{o(e)},attachButton:!1,disabled:!1,sendButton:!1,activateAfterChange:!0,onSend:()=>{C()},onFocus:()=>d(!0),onBlur:()=>d(!1),onPaste:e=>{const t=Zr(e);t&&(e.preventDefault(),o(t))},"data-sentry-element":"MessageInput","data-sentry-source-file":"ChatOrderNoOwnerChat.tsx"})]}),!i&&!n&&(0,l.jsxs)("div",{className:"text-grey60 Body5_M pointer-events-none absolute bottom-[70px] left-[32px] z-[2]",children:[(0,l.jsx)("div",{children:"이렇게 입력해 보세요."}),(0,l.jsx)("div",{children:"예시) 인천 출발 부천 도착 / 카고 1톤 / 파렛트"})]}),(0,l.jsx)(u.A,{className:"!bg-primary disabled:!bg-primaryDisabled absolute bottom-[33px] right-[33px] z-[2] w-[60px] disabled:!opacity-100",label:"전송",level:m.V.level_2,size:m.M.Small,disabled:!n,onClick:()=>C(),"data-sentry-element":"TmsBasicButton","data-sentry-source-file":"ChatOrderNoOwnerChat.tsx"})]})}),c&&(0,l.jsx)(Qr,{setIsShowModal:p,reloadOwnerList:t})]})};const $r=(0,r.createContext)(void 0);function es(e){let{children:t}=e;const[a,s]=(0,r.useState)(new Map),[n,o]=(0,r.useState)(null),[i,d]=(0,r.useState)(!1),c={chatGroups:a,setChatGroups:s,selectedOrder:n,setSelectedOrder:o,appendMessage:e=>{let{message:t,direction:a,customerId:l="default"}=e;const r={message:t,direction:a,position:"normal"};s((e=>{const s=new Map(e),n=s.get(l)||{messages:[],histories:[]},o=[...n.messages];return"string"==typeof t?"incoming"===a?o.push({type:"element",content:{...r,type:"custom",message:t}}):o.push({type:"message",content:{...r}}):o.push({type:"element",content:{...r,type:"custom"}}),s.set(l,{...n,messages:o}),s}))},getChatMessages:e=>{const t=a.get(e);return(null==t?void 0:t.messages)||[]},replaceLastIncomingMessage:(e,t,a,l)=>{s((r=>{const s=new Map(r),n=s.get(l)||{messages:[],histories:[]},o=n.messages;let i=-1;for(let e=o.length-1;e>=0;e--){var d;if("incoming"===(null===(d=o[e].content)||void 0===d?void 0:d.direction)){i=e;break}}if(-1!==i){const r=[...o];r[i]={type:"element",content:{message:e,direction:"incoming",position:"normal",type:"custom"}},s.set(l,{...n,messages:r,histories:t,txId:a})}return s}))},setTxId:(e,t)=>{s((a=>{const l=new Map(a),r=l.get(e)||{messages:[],histories:[]};return l.set(e,{...r,txId:t}),l}))},getTxId:e=>{const t=a.get(e);return null==t?void 0:t.txId},getHistories:e=>{const t=a.get(e);return(null==t?void 0:t.histories)||[]},appendMessageToLast:e=>{let{message:t,direction:a,customerId:r="default"}=e;s((e=>{const s=new Map(e),n=s.get(r)||{messages:[],histories:[]},o=[...n.messages],i=o.length-1;if(i>=0){var d;const e=o[i];if((null===(d=e.content)||void 0===d?void 0:d.direction)===a)if("string"==typeof t){var c;const a=(null===(c=e.content)||void 0===c?void 0:c.message)||"",l="string"==typeof a?"".concat(a,"\n").concat(t):t;o[i]={...e,content:{...e.content,message:l}}}else{var u;o[i]={...e,content:{...e.content,message:(0,l.jsxs)("div",{children:[null===(u=e.content)||void 0===u?void 0:u.message,t]})}}}else{const e={message:t,direction:a,position:"normal"};"string"==typeof t?"incoming"===a?o.push({type:"element",content:{...e,type:"custom",message:t}}):o.push({type:"message",content:{...e}}):o.push({type:"element",content:{...e,type:"custom"}})}}else{const e={message:t,direction:a,position:"normal"};"string"==typeof t?"incoming"===a?o.push({type:"element",content:{...e,type:"custom",message:t}}):o.push({type:"message",content:{...e}}):o.push({type:"element",content:{...e,type:"custom"}})}return s.set(r,{...n,messages:o}),s}))},isOrderLoading:i,setIsOrderLoading:d};return(0,l.jsx)($r.Provider,{value:c,"data-sentry-element":"ChatOrderContext.Provider","data-sentry-component":"ChatOrderProvider","data-sentry-source-file":"ChatOrderContext.tsx",children:t})}function ts(){const e=(0,r.useContext)($r);if(void 0===e)throw new Error("useChatOrder must be used within a ChatOrderProvider");return e}var as=a(55837),ls=JSON.parse('{"nm":"Main Scene","ddd":0,"h":26,"w":135,"meta":{"g":"@lottiefiles/creator 1.47.2"},"layers":[{"ty":4,"nm":"Rectangle 1","sr":1,"st":0,"op":86,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[-9.5,0.022050142288208008]},"s":{"a":0,"k":[710.311,200.1999]},"sk":{"a":0,"k":0},"p":{"a":0,"k":[0,13]},"r":{"a":0,"k":0},"sa":{"a":0,"k":0},"o":{"a":0,"k":100}},"shapes":[{"ty":"rc","bm":0,"hd":false,"nm":"Rectangle Path 2","d":1,"p":{"a":0,"k":[0,0]},"r":{"a":0,"k":0},"s":{"a":0,"k":[19,12.942921962984817]}},{"ty":"gf","bm":0,"hd":false,"nm":"Fill","e":{"a":0,"k":[11.794869379924563,0]},"g":{"p":5,"k":{"a":1,"k":[{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[0,0.9686274509803922,0.9686274509803922,1,0.083,0.9686274509803922,0.9686274509803922,1,0.083,0.9686274509803922,0.9686274509803922,1,0.18316831683168316,0.9686274509803922,0.9686274509803922,1,1,0.9686274509803922,0.9686274509803922,1,0,0,0.083,0.8,0.083,0.6,0.18316831683168316,0.2,1,0],"t":0},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[0,0.9686274509803922,0.9686274509803922,1,0.09405940594059406,0.9686274509803922,0.9686274509803922,1,0.19306930693069307,0.9686274509803922,0.9686274509803922,1,0.28217821782178215,0.9686274509803922,0.9686274509803922,1,1,0.9686274509803922,0.9686274509803922,1,0,0,0.09405940594059406,0.2,0.19306930693069307,0.6,0.28217821782178215,0.2,1,0],"t":22},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[0,0.9686274509803922,0.9686274509803922,1,0.4801980198019802,0.9686274509803922,0.9686274509803922,1,0.5891089108910891,0.9686274509803922,0.9686274509803922,1,0.6782178217821783,0.9686274509803922,0.9686274509803922,1,1,0.9686274509803922,0.9686274509803922,1,0,0,0.4801980198019802,0.2,0.5891089108910891,0.6,0.6782178217821783,0.2,1,0],"t":46},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[0,0.9686274509803922,0.9686274509803922,1,0.7227722772277227,0.9686274509803922,0.9686274509803922,1,0.8267326732673267,0.9686274509803922,0.9686274509803922,1,0.905940594059406,0.9686274509803922,0.9686274509803922,1,1,0.9686274509803922,0.9686274509803922,1,0,0,0.7227722772277227,0.2,0.8267326732673267,0.6,0.905940594059406,0.2,1,0],"t":64},{"s":[0,0.9686274509803922,0.9686274509803922,1,0.902,0.9686274509803922,0.9686274509803922,1,0.946,0.9686274509803922,0.9686274509803922,1,0.969,0.9686274509803922,0.9686274509803922,1,1,0.9686274509803922,0.9686274509803922,1,0,0,0.902,0,0.946,0.6,0.969,0,1,0],"t":74}]}},"t":1,"a":{"a":0,"k":0},"h":{"a":0,"k":0},"s":{"a":0,"k":[-11.565806110106896,-0.29827803991501245]},"r":1,"o":{"a":0,"k":100}}],"ind":1},{"ty":4,"nm":"Order Start Text Container","sr":1,"st":0,"op":86,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[67.4990005493164,13.021949768066406]},"s":{"a":0,"k":[100,100]},"sk":{"a":0,"k":0},"p":{"a":0,"k":[67.4990005493164,13.021949768066406]},"r":{"a":0,"k":0},"sa":{"a":0,"k":0},"o":{"a":0,"k":100}},"shapes":[{"ty":"gr","bm":0,"hd":false,"nm":"Group 1","it":[{"ty":"sh","bm":0,"hd":false,"nm":"Path 1","d":1,"ks":{"a":0,"k":{"c":true,"i":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"v":[[95.4656,8.54834],[97.949,8.54834],[97.949,9.55615],[91.6609,9.55615],[91.6609,8.54834],[94.1453,8.54834],[94.1453,7.6001],[95.4656,7.6001],[95.4656,8.54834]]}}},{"ty":"fl","bm":0,"hd":false,"nm":"Fill","c":{"a":0,"k":[0.0706,0.149,0.6]},"r":1,"o":{"a":0,"k":100}},{"ty":"tr","a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"sk":{"a":0,"k":0},"p":{"a":0,"k":[0,0]},"r":{"a":0,"k":0},"sa":{"a":0,"k":0},"o":{"a":0,"k":100}}]},{"ty":"gr","bm":0,"hd":false,"nm":"Group 2","it":[{"ty":"sh","bm":0,"hd":false,"nm":"Path 2","d":1,"ks":{"a":0,"k":{"c":true,"i":[[0,0],[-0.6718999999999937,-0.31198999999999977],[-0.00010000000000331966,-0.5917099999999991],[0.6717000000000013,-0.3200000000000003],[1.2079000000000022,0],[0.671999999999997,0.3119999999999994],[0,0.5919900000000009],[-0.6717000000000013,0.31194000000000166],[-1.2079999999999984,0]],"o":[[1.2079000000000022,0.000020000000000131024],[0.6716000000000122,0.31194000000000166],[0,0.5918900000000011],[-0.6718999999999937,0.3119999999999994],[-1.2079999999999984,0],[-0.6719000000000008,-0.3200000000000003],[0.00010000000000331966,-0.5917899999999996],[0.671999999999997,-0.3119999999999994],[0,0]],"v":[[62.2429,7.87646],[65.0632,8.34424],[66.071,9.69971],[65.0632,11.0679],[62.2429,11.5356],[59.4226,11.0679],[58.4148,9.69971],[59.4226,8.34424],[62.2429,7.87646]]}}},{"ty":"sh","bm":0,"hd":false,"nm":"Path 3","d":1,"ks":{"a":0,"k":{"c":true,"i":[[0,0],[0.4160000000000039,-0.15193999999999974],[0,-0.28800000000000026],[-0.4076000000000022,-0.14390000000000036],[-0.8079999999999998,0],[-0.4160000000000039,0.14400000000000013],[-0.0002000000000066393,0.2797999999999998],[0.42379999999999995,0.14400000000000013],[0.7999000000000009,0.000009999999999621423]],"o":[[-0.8078000000000003,0],[-0.4159999999999968,0.14400000000000013],[0.00009999999999621423,0.2797299999999989],[0.4159999999999968,0.14400000000000013],[0.8157999999999959,-0.00009999999999976694],[0.41570000000000107,-0.14390000000000036],[0,-0.28791999999999973],[-0.4158999999999935,-0.15198],[0,0]],"v":[[62.2429,8.83643],[60.407,9.06396],[59.783,9.7124],[60.3943,10.3481],[62.2312,10.564],[64.0789,10.3481],[64.7029,9.7124],[64.0671,9.06396],[62.2429,8.83643]]}}},{"ty":"fl","bm":0,"hd":false,"nm":"Fill","c":{"a":0,"k":[0.0706,0.149,0.6]},"r":2,"o":{"a":0,"k":100}},{"ty":"tr","a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"sk":{"a":0,"k":0},"p":{"a":0,"k":[0,0]},"r":{"a":0,"k":0},"sa":{"a":0,"k":0},"o":{"a":0,"k":100}}]},{"ty":"gr","bm":0,"hd":false,"nm":"Group 3","it":[{"ty":"sh","bm":0,"hd":false,"nm":"Path 4","d":1,"ks":{"a":0,"k":{"c":true,"i":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"v":[[44.9265,9.11182],[38.9382,9.11182],[38.9382,10.7681],[44.9978,10.7681],[44.9978,11.8237],[37.6423,11.8237],[37.6423,8.04443],[44.9265,8.04443],[44.9265,9.11182]]}}},{"ty":"fl","bm":0,"hd":false,"nm":"Fill","c":{"a":0,"k":[0.0706,0.149,0.6]},"r":1,"o":{"a":0,"k":100}},{"ty":"tr","a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"sk":{"a":0,"k":0},"p":{"a":0,"k":[0,0]},"r":{"a":0,"k":0},"sa":{"a":0,"k":0},"o":{"a":0,"k":100}}]},{"ty":"gr","bm":0,"hd":false,"nm":"Group 4","it":[{"ty":"sh","bm":0,"hd":false,"nm":"Path 5","d":1,"ks":{"a":0,"k":{"c":true,"i":[[0,0],[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0],[0,0]],"v":[[31.6121,12.064],[24.3884,12.064],[24.3884,8.17627],[31.6121,8.17627],[31.6121,12.064]]}}},{"ty":"sh","bm":0,"hd":false,"nm":"Path 6","d":1,"ks":{"a":0,"k":{"c":true,"i":[[0,0],[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0],[0,0]],"v":[[25.6843,11.0083],[30.3162,11.0083],[30.3162,9.2085],[25.6843,9.2085],[25.6843,11.0083]]}}},{"ty":"fl","bm":0,"hd":false,"nm":"Fill","c":{"a":0,"k":[0.0706,0.149,0.6]},"r":2,"o":{"a":0,"k":100}},{"ty":"tr","a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"sk":{"a":0,"k":0},"p":{"a":0,"k":[0,0]},"r":{"a":0,"k":0},"sa":{"a":0,"k":0},"o":{"a":0,"k":100}}]},{"ty":"gr","bm":0,"hd":false,"nm":"Group 5","it":[{"ty":"sh","bm":0,"hd":false,"nm":"Path 7","d":1,"ks":{"a":0,"k":{"c":true,"i":[[0,0],[0,0],[-0.261099999999999,-0.33860000000000134],[-0.5439000000000007,-0.27199999999999847],[-0.7040000000000006,-0.08800000000000097],[0,0],[0.6400000000000006,0.3520000000000003],[0.35999999999999943,0.5199999999999996],[0.04410000000000025,0.07959999999999923],[0.05280000000000129,-0.0774000000000008],[0.639899999999999,-0.35989999999999966],[0.8239999999999998,-0.11999999999999922],[0,0],[-0.5440000000000005,0.27200000000000024],[-0.2959999999999994,0.3758999999999997],[-0.030799999999999272,0.3573000000000004],[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0.030799999999999272,0.3573000000000004],[0.2959999999999994,0.3758999999999997],[0.5439999999999969,0.27200000000000024],[0,0],[-0.8240000000000016,-0.11999999999999922],[-0.6399000000000008,-0.35989999999999966],[-0.0517000000000003,-0.07750000000000057],[-0.04499999999999815,0.07949999999999946],[-0.35190000000000055,0.5198999999999998],[-0.6400000000000006,0.3520000000000003],[0,0],[0.7039999999999988,-0.08800000000000097],[0.5438999999999989,-0.27199999999999847],[0.26099999999999923,-0.33860000000000134],[0,0],[0,0],[0,0],[0,0],[0,0]],"v":[[21.4597,9.35205],[18.2869,9.35205],[18.7244,10.396],[19.9841,11.3677],[21.8562,11.9077],[21.364,12.9644],[19.1677,12.2563],[17.6677,10.936],[17.5251,10.6997],[17.3796,10.936],[15.8923,12.2563],[13.696,12.9644],[13.2039,11.9077],[15.0759,11.3677],[16.3357,10.396],[16.7732,9.35205],[13.5759,9.35205],[13.5759,8.29639],[21.4597,8.29639],[21.4597,9.35205]]}}},{"ty":"fl","bm":0,"hd":false,"nm":"Fill","c":{"a":0,"k":[0.0706,0.149,0.6]},"r":1,"o":{"a":0,"k":100}},{"ty":"tr","a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"sk":{"a":0,"k":0},"p":{"a":0,"k":[0,0]},"r":{"a":0,"k":0},"sa":{"a":0,"k":0},"o":{"a":0,"k":100}}]},{"ty":"gr","bm":0,"hd":false,"nm":"Group 6","it":[{"ty":"sh","bm":0,"hd":false,"nm":"Path 8","d":1,"ks":{"a":0,"k":{"c":true,"i":[[0,0],[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0],[0,0]],"v":[[67.0671,13.1685],[57.4187,13.1685],[57.4187,12.1118],[67.0671,12.1118],[67.0671,13.1685]]}}},{"ty":"fl","bm":0,"hd":false,"nm":"Fill","c":{"a":0,"k":[0.0706,0.149,0.6]},"r":1,"o":{"a":0,"k":100}},{"ty":"tr","a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"sk":{"a":0,"k":0},"p":{"a":0,"k":[0,0]},"r":{"a":0,"k":0},"sa":{"a":0,"k":0},"o":{"a":0,"k":100}}]},{"ty":"gr","bm":0,"hd":false,"nm":"Group 7","it":[{"ty":"sh","bm":0,"hd":false,"nm":"Path 9","d":1,"ks":{"a":0,"k":{"c":true,"i":[[0,0],[-0.4719000000000051,-0.3199000000000005],[0,-0.5359999999999996],[0.480000000000004,-0.3119999999999994],[0.7916000000000025,-0.00009999999999976694],[0.4719999999999942,0.31200000000000117],[0,0.5359999999999996],[-0.46399999999999864,0.3119999999999994],[-0.7920000000000016,0]],"o":[[0.7837999999999994,0.000030000000000640625],[0.480000000000004,0.3119999999999994],[0,0.5359999999999996],[-0.4719000000000051,0.31180000000000163],[-0.784000000000006,0],[-0.46399999999999864,-0.3119999999999994],[0,-0.5359999999999996],[0.4719999999999942,-0.3200000000000003],[0,0]],"v":[[94.8054,9.89209],[96.6892,10.3716],[97.4089,11.644],[96.6892,12.9165],[94.7937,13.3843],[92.9089,12.9165],[92.2136,11.644],[92.9089,10.3716],[94.8054,9.89209]]}}},{"ty":"sh","bm":0,"hd":false,"nm":"Path 10","d":1,"ks":{"a":0,"k":{"c":true,"i":[[0,0],[0.2400000000000091,-0.14400000000000013],[0,-0.25590000000000046],[-0.23179999999999268,-0.14400000000000013],[-0.416000000000011,0],[-0.23199999999999932,0.13589999999999947],[-0.00010000000000331966,0.2560000000000002],[0.23999999999999488,0.13599999999999923],[0.4158999999999935,0.0001000000000015433]],"o":[[-0.416000000000011,0],[-0.23179999999999268,0.13589999999999947],[0,0.25590000000000046],[0.2400000000000091,0.13599999999999923],[0.4158999999999935,-0.0001000000000015433],[0.23989999999999156,-0.14400000000000013],[0,-0.2560000000000002],[-0.23199999999999932,-0.14400000000000013],[0,0]],"v":[[94.8054,10.8403],[93.821,11.0562],[93.4734,11.644],[93.821,12.2437],[94.8054,12.4478],[95.7771,12.2437],[96.1375,11.644],[95.7771,11.0562],[94.8054,10.8403]]}}},{"ty":"fl","bm":0,"hd":false,"nm":"Fill","c":{"a":0,"k":[0.0706,0.149,0.6]},"r":2,"o":{"a":0,"k":100}},{"ty":"tr","a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"sk":{"a":0,"k":0},"p":{"a":0,"k":[0,0]},"r":{"a":0,"k":0},"sa":{"a":0,"k":0},"o":{"a":0,"k":100}}]},{"ty":"gr","bm":0,"hd":false,"nm":"Group 8","it":[{"ty":"sh","bm":0,"hd":false,"nm":"Path 11","d":1,"ks":{"a":0,"k":{"c":true,"i":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"v":[[100.001,10.0718],[101.489,10.0718],[101.489,11.1519],[100.001,11.1519],[100.001,13.4917],[98.6814,13.4917],[98.6814,7.68408],[100.001,7.68408],[100.001,10.0718]]}}},{"ty":"fl","bm":0,"hd":false,"nm":"Fill","c":{"a":0,"k":[0.0706,0.149,0.6]},"r":1,"o":{"a":0,"k":100}},{"ty":"tr","a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"sk":{"a":0,"k":0},"p":{"a":0,"k":[0,0]},"r":{"a":0,"k":0},"sa":{"a":0,"k":0},"o":{"a":0,"k":100}}]},{"ty":"gr","bm":0,"hd":false,"nm":"Group 9","it":[{"ty":"sh","bm":0,"hd":false,"nm":"Path 12","d":1,"ks":{"a":0,"k":{"c":true,"i":[[0,0],[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0],[0,0]],"v":[[46.1023,13.7437],[36.4539,13.7437],[36.4539,12.6763],[46.1023,12.6763],[46.1023,13.7437]]}}},{"ty":"fl","bm":0,"hd":false,"nm":"Fill","c":{"a":0,"k":[0.0706,0.149,0.6]},"r":1,"o":{"a":0,"k":100}},{"ty":"tr","a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"sk":{"a":0,"k":0},"p":{"a":0,"k":[0,0]},"r":{"a":0,"k":0},"sa":{"a":0,"k":0},"o":{"a":0,"k":100}}]},{"ty":"gr","bm":0,"hd":false,"nm":"Group 10","it":[{"ty":"sh","bm":0,"hd":false,"nm":"Path 13","d":1,"ks":{"a":0,"k":{"c":true,"i":[[0,0],[0,0],[0,0],[-0.1839999999999975,-0.41579999999999906],[-0.3756999999999948,-0.32789999999999964],[-0.5360000000000014,-0.17600000000000016],[0,0],[0.4398000000000053,0.4159000000000006],[0.21890000000000498,0.47669999999999924],[0.42029999999999745,-0.41279999999999895],[0.6319000000000017,-0.2159999999999993],[0,0],[-0.3919999999999959,0.3439999999999994],[-0.20000000000000284,0.43979999999999997],[-0.00010000000000331966,0.47987],[0,0],[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0.0000999999999891088,0.44784999999999897],[0.19190000000000396,0.41580000000000084],[0.38400000000000034,0.3279999999999994],[0,0],[-0.615799999999993,-0.20800000000000018],[-0.379099999999994,-0.3719999999999999],[-0.2231999999999914,0.5394999999999985],[-0.4480000000000075,0.4319000000000006],[0,0],[0.5519999999999925,-0.18400000000000105],[0.3918999999999926,-0.35190000000000055],[0.19989999999999952,-0.43989999999999974],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"v":[[87.1609,9.43604],[84.9646,9.43604],[84.9646,9.54443],[85.241,10.8403],[86.0925,11.9556],[87.4734,12.7124],[86.8005,13.7437],[85.2166,12.8081],[84.3201,11.5347],[83.3572,12.9644],[81.7371,13.936],[81.0408,12.9038],[82.4568,12.1118],[83.3445,10.9243],[83.6453,9.54443],[83.6453,9.43604],[81.4128,9.43604],[81.4128,8.38037],[87.1609,8.38037],[87.1609,9.43604]]}}},{"ty":"fl","bm":0,"hd":false,"nm":"Fill","c":{"a":0,"k":[0.0706,0.149,0.6]},"r":1,"o":{"a":0,"k":100}},{"ty":"tr","a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"sk":{"a":0,"k":0},"p":{"a":0,"k":[0,0]},"r":{"a":0,"k":0},"sa":{"a":0,"k":0},"o":{"a":0,"k":100}}]},{"ty":"gr","bm":0,"hd":false,"nm":"Group 11","it":[{"ty":"sh","bm":0,"hd":false,"nm":"Path 14","d":1,"ks":{"a":0,"k":{"c":true,"i":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"v":[[89.5125,10.3716],[91.0007,10.3716],[91.0007,11.4644],[89.5125,11.4644],[89.5125,14.1284],[88.1931,14.1284],[88.1931,7.7085],[89.5125,7.7085],[89.5125,10.3716]]}}},{"ty":"fl","bm":0,"hd":false,"nm":"Fill","c":{"a":0,"k":[0.0706,0.149,0.6]},"r":1,"o":{"a":0,"k":100}},{"ty":"tr","a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"sk":{"a":0,"k":0},"p":{"a":0,"k":[0,0]},"r":{"a":0,"k":0},"sa":{"a":0,"k":0},"o":{"a":0,"k":100}}]},{"ty":"gr","bm":0,"hd":false,"nm":"Group 12","it":[{"ty":"sh","bm":0,"hd":false,"nm":"Path 15","d":1,"ks":{"a":0,"k":{"c":true,"i":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"v":[[55.3904,10.7085],[49.4382,10.7085],[49.4382,11.5718],[55.6189,11.5718],[55.6189,12.5796],[52.4148,12.5796],[52.4148,13.48],[56.6023,13.48],[56.6023,14.5483],[46.9304,14.5483],[46.9304,13.48],[51.0945,13.48],[51.0945,12.5796],[48.1541,12.5796],[48.1541,9.77197],[54.0945,9.77197],[54.0945,8.94385],[48.1306,8.94385],[48.1306,7.93604],[55.3904,7.93604],[55.3904,10.7085]]}}},{"ty":"fl","bm":0,"hd":false,"nm":"Fill","c":{"a":0,"k":[0.0706,0.149,0.6]},"r":1,"o":{"a":0,"k":100}},{"ty":"tr","a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"sk":{"a":0,"k":0},"p":{"a":0,"k":[0,0]},"r":{"a":0,"k":0},"sa":{"a":0,"k":0},"o":{"a":0,"k":100}}]},{"ty":"gr","bm":0,"hd":false,"nm":"Group 13","it":[{"ty":"sh","bm":0,"hd":false,"nm":"Path 16","d":1,"ks":{"a":0,"k":{"c":true,"i":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"v":[[32.8484,14.104],[28.78,14.104],[28.78,16.0483],[27.4607,16.0483],[27.4607,14.104],[23.1765,14.104],[23.1765,13.0601],[32.8484,13.0601],[32.8484,14.104]]}}},{"ty":"fl","bm":0,"hd":false,"nm":"Fill","c":{"a":0,"k":[0.0706,0.149,0.6]},"r":1,"o":{"a":0,"k":100}},{"ty":"tr","a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"sk":{"a":0,"k":0},"p":{"a":0,"k":[0,0]},"r":{"a":0,"k":0},"sa":{"a":0,"k":0},"o":{"a":0,"k":100}}]},{"ty":"gr","bm":0,"hd":false,"nm":"Group 14","it":[{"ty":"sh","bm":0,"hd":false,"nm":"Path 17","d":1,"ks":{"a":0,"k":{"c":true,"i":[[0,0],[-0.21590000000000487,-0.6239000000000008],[-0.40800000000000125,-0.48799999999999955],[-0.5598000000000098,-0.24789999999999957],[0,0],[0.46399999999999864,0.5760000000000005],[0.23529999999999518,0.6669999999999998],[0.43789999999999907,-0.5664000000000016],[0.6480000000000103,-0.3119999999999994],[0,0],[-0.4159999999999968,0.5039999999999996],[-0.22399999999998954,0.6479999999999997],[-0.0000999999999891088,0.6958000000000002],[0,0],[0,0],[0,0]],"o":[[0,0.6638999999999999],[0.21599999999999397,0.623899999999999],[0.4158999999999935,0.47990000000000066],[0,0],[-0.6319999999999908,-0.2959999999999994],[-0.40970000000000084,-0.524799999999999],[-0.2383000000000095,0.7374000000000009],[-0.45599999999998886,0.5999999999999996],[0,0],[0.568000000000012,-0.2560000000000002],[0.4239000000000033,-0.5039999999999996],[0.22390000000000043,-0.6557999999999993],[0,0],[0,0],[0,0],[0,0]],"v":[[74.6687,10.2524],[74.9929,12.1841],[75.9285,13.8521],[77.3923,14.9438],[76.6248,16.0122],[74.9802,14.7036],[74.0134,12.9155],[73.0007,14.8716],[71.3445,16.2397],[70.5525,15.1479],[72.0291,14.0083],[73.0007,12.2798],[73.3367,10.2524],[73.3367,8.57178],[74.6687,8.57178],[74.6687,10.2524]]}}},{"ty":"fl","bm":0,"hd":false,"nm":"Fill","c":{"a":0,"k":[0.0706,0.149,0.6]},"r":1,"o":{"a":0,"k":100}},{"ty":"tr","a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"sk":{"a":0,"k":0},"p":{"a":0,"k":[0,0]},"r":{"a":0,"k":0},"sa":{"a":0,"k":0},"o":{"a":0,"k":100}}]},{"ty":"gr","bm":0,"hd":false,"nm":"Group 15","it":[{"ty":"sh","bm":0,"hd":false,"nm":"Path 18","d":1,"ks":{"a":0,"k":{"c":true,"i":[[0,0],[-0.5999999999999943,-0.23198000000000008],[-0.3359999999999985,-0.43178999999999945],[0,-0.5600000000000005],[0.3359999999999985,-0.43189999999999884],[0.33199999999999363,-0.19490000000000052],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0.2259999999999991,0.27860000000000085],[0,0.5596999999999994],[-0.3359999999999985,0.42398000000000025],[-0.5919999999999987,0.23198000000000008],[-0.7600000000000051,0]],"o":[[0.7599999999999909,0.000020000000001019203],[0.6000000000000085,0.2319199999999988],[0.3359999999999985,0.42398000000000025],[0,0.5599000000000007],[-0.2189999999999941,0.27669999999999995],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[-0.3329999999999984,-0.19570000000000043],[-0.3359999999999985,-0.43189999999999884],[0,-0.5600000000000005],[0.3439999999999941,-0.4319499999999987],[0.6000000000000085,-0.2319400000000016],[0,0]],"v":[[117.45,8.27197],[119.49,8.61963],[120.893,9.61572],[121.398,11.0923],[120.893,12.5796],[120.066,13.2856],[120.066,16.0122],[122.298,16.0122],[122.298,17.0796],[112.626,17.0796],[112.626,16.0122],[114.845,16.0122],[114.845,13.2896],[114.006,12.5796],[113.502,11.0923],[114.006,9.61572],[115.41,8.61963],[117.45,8.27197]]}}},{"ty":"sh","bm":0,"hd":false,"nm":"Path 19","d":1,"ks":{"a":0,"k":{"c":true,"i":[[0,0],[0.4609999999999985,0],[0.3990000000000009,0.08389999999999986],[0,0],[0,0],[0,0]],"o":[[-0.4029999999999916,0.08559999999999945],[-0.45700000000000784,0],[0,0],[0,0],[0,0],[0,0]],"v":[[118.746,13.7827],[117.45,13.9116],[116.166,13.7847],[116.166,16.0122],[118.746,16.0122],[118.746,13.7827]]}}},{"ty":"sh","bm":0,"hd":false,"nm":"Path 20","d":1,"ks":{"a":0,"k":{"c":true,"i":[[0,0],[0.4000000000000057,-0.14394000000000062],[0.22400000000000375,-0.27196],[0,-0.35999999999999943],[-0.21599999999999397,-0.2718999999999987],[-0.3990000000000009,-0.14400000000000013],[-0.519999999999996,0],[-0.3999999999999915,0.14400000000000013],[-0.21599999999999397,0.2638000000000016],[0,0.36790000000000056],[0.22400000000000375,0.27200000000000024],[0.4000000000000057,0.1439699999999995],[0.519999999999996,0.000020000000001019203]],"o":[[-0.519999999999996,0],[-0.3999999999999915,0.14400000000000013],[-0.22400000000000375,0.27200000000000024],[0,0.36790000000000056],[0.22400000000000375,0.26390000000000136],[0.40800000000000125,0.14400000000000013],[0.519999999999996,0],[0.40800000000000125,-0.14400000000000013],[0.22400000000000375,-0.2718999999999987],[0,-0.35999999999999943],[-0.22400000000000375,-0.2718600000000002],[-0.3999999999999915,-0.14398000000000089],[0,0]],"v":[[117.45,9.3042],[116.07,9.52002],[115.134,10.144],[114.798,11.0923],[115.122,12.0522],[116.057,12.6636],[117.45,12.8804],[118.83,12.6636],[119.765,12.0522],[120.101,11.0923],[119.765,10.144],[118.83,9.52002],[117.45,9.3042]]}}},{"ty":"fl","bm":0,"hd":false,"nm":"Fill","c":{"a":0,"k":[0.0706,0.149,0.6]},"r":2,"o":{"a":0,"k":100}},{"ty":"tr","a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"sk":{"a":0,"k":0},"p":{"a":0,"k":[0,0]},"r":{"a":0,"k":0},"sa":{"a":0,"k":0},"o":{"a":0,"k":100}}]},{"ty":"gr","bm":0,"hd":false,"nm":"Group 16","it":[{"ty":"sh","bm":0,"hd":false,"nm":"Path 21","d":1,"ks":{"a":0,"k":{"c":true,"i":[[0,0],[0,0],[0,0],[0,0],[0.3190000000000026,-0.3968000000000007],[0.9519999999999982,-0.5600000000000005],[0,0],[-0.5040000000000049,0.5917999999999992],[-0.23199999999999932,0.7119],[-0.05100000000000193,0.5612999999999992],[0,0],[0,0],[0,0],[0.2560000000000002,-0.863900000000001],[0.007000000000005002,-0.024100000000000676],[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[-0.22100000000000364,0.4347999999999992],[-0.5840000000000032,0.7279999999999998],[0,0],[0.8079999999999927,-0.47990000000000066],[0.5030000000000001,-0.5919000000000008],[0.15900000000000603,-0.48660000000000103],[0,0],[0,0],[0,0],[0,1.0238999999999994],[-0.007000000000005002,0.02430000000000021],[0,0],[0,0],[0,0],[0,0],[0,0]],"v":[[109.013,17.8716],[107.777,17.8716],[107.777,12.9517],[105.909,12.9517],[105.101,14.1997],[102.798,16.1323],[102.042,15.1958],[104.01,13.5884],[105.113,11.6323],[105.426,10.0601],[102.582,10.0601],[102.582,8.9917],[106.746,8.9917],[106.361,11.8237],[106.338,11.896],[107.777,11.896],[107.777,7.94775],[109.013,7.94775],[109.013,17.8716]]}}},{"ty":"fl","bm":0,"hd":false,"nm":"Fill","c":{"a":0,"k":[0.0706,0.149,0.6]},"r":1,"o":{"a":0,"k":100}},{"ty":"tr","a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"sk":{"a":0,"k":0},"p":{"a":0,"k":[0,0]},"r":{"a":0,"k":0},"sa":{"a":0,"k":0},"o":{"a":0,"k":100}}]},{"ty":"gr","bm":0,"hd":false,"nm":"Group 17","it":[{"ty":"sh","bm":0,"hd":false,"nm":"Path 22","d":1,"ks":{"a":0,"k":{"c":true,"i":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"v":[[25.6599,17.1284],[31.78,17.1284],[31.78,18.1841],[24.3406,18.1841],[24.3406,15.0884],[25.6599,15.0884],[25.6599,17.1284]]}}},{"ty":"fl","bm":0,"hd":false,"nm":"Fill","c":{"a":0,"k":[0.0706,0.149,0.6]},"r":1,"o":{"a":0,"k":100}},{"ty":"tr","a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"sk":{"a":0,"k":0},"p":{"a":0,"k":[0,0]},"r":{"a":0,"k":0},"sa":{"a":0,"k":0},"o":{"a":0,"k":100}}]},{"ty":"gr","bm":0,"hd":false,"nm":"Group 18","it":[{"ty":"sh","bm":0,"hd":false,"nm":"Path 23","d":1,"ks":{"a":0,"k":{"c":true,"i":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"v":[[100.001,16.5522],[94.3855,16.5522],[94.3855,17.3081],[100.349,17.3081],[100.349,18.2925],[93.0896,18.2925],[93.0896,15.6401],[98.7048,15.6401],[98.7048,14.9438],[93.0652,14.9438],[93.0652,13.9722],[100.001,13.9722],[100.001,16.5522]]}}},{"ty":"fl","bm":0,"hd":false,"nm":"Fill","c":{"a":0,"k":[0.0706,0.149,0.6]},"r":1,"o":{"a":0,"k":100}},{"ty":"tr","a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"sk":{"a":0,"k":0},"p":{"a":0,"k":[0,0]},"r":{"a":0,"k":0},"sa":{"a":0,"k":0},"o":{"a":0,"k":100}}]},{"ty":"gr","bm":0,"hd":false,"nm":"Group 19","it":[{"ty":"sh","bm":0,"hd":false,"nm":"Path 24","d":1,"ks":{"a":0,"k":{"c":true,"i":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"v":[[65.8669,16.4917],[59.8552,16.4917],[59.8552,17.2964],[66.1667,17.2964],[66.1667,18.2925],[58.571,18.2925],[58.571,15.5679],[64.571,15.5679],[64.571,14.8716],[58.5349,14.8716],[58.5349,13.8765],[65.8669,13.8765],[65.8669,16.4917]]}}},{"ty":"fl","bm":0,"hd":false,"nm":"Fill","c":{"a":0,"k":[0.0706,0.149,0.6]},"r":1,"o":{"a":0,"k":100}},{"ty":"tr","a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"sk":{"a":0,"k":0},"p":{"a":0,"k":[0,0]},"r":{"a":0,"k":0},"sa":{"a":0,"k":0},"o":{"a":0,"k":100}}]},{"ty":"gr","bm":0,"hd":false,"nm":"Group 20","it":[{"ty":"sh","bm":0,"hd":false,"nm":"Path 25","d":1,"ks":{"a":0,"k":{"c":true,"i":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"v":[[55.4626,18.3276],[54.1423,18.3276],[54.1423,16.2876],[47.9988,16.2876],[47.9988,15.2202],[55.4626,15.2202],[55.4626,18.3276]]}}},{"ty":"fl","bm":0,"hd":false,"nm":"Fill","c":{"a":0,"k":[0.0706,0.149,0.6]},"r":1,"o":{"a":0,"k":100}},{"ty":"tr","a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"sk":{"a":0,"k":0},"p":{"a":0,"k":[0,0]},"r":{"a":0,"k":0},"sa":{"a":0,"k":0},"o":{"a":0,"k":100}}]},{"ty":"gr","bm":0,"hd":false,"nm":"Group 21","it":[{"ty":"sh","bm":0,"hd":false,"nm":"Path 26","d":1,"ks":{"a":0,"k":{"c":true,"i":[[0,0],[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0],[0,0]],"v":[[111.282,18.3765],[110.021,18.3765],[110.021,7.6958],[111.282,7.6958],[111.282,18.3765]]}}},{"ty":"fl","bm":0,"hd":false,"nm":"Fill","c":{"a":0,"k":[0.0706,0.149,0.6]},"r":1,"o":{"a":0,"k":100}},{"ty":"tr","a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"sk":{"a":0,"k":0},"p":{"a":0,"k":[0,0]},"r":{"a":0,"k":0},"sa":{"a":0,"k":0},"o":{"a":0,"k":100}}]},{"ty":"gr","bm":0,"hd":false,"nm":"Group 22","it":[{"ty":"sh","bm":0,"hd":false,"nm":"Path 27","d":1,"ks":{"a":0,"k":{"c":true,"i":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"v":[[89.5125,18.3882],[88.1931,18.3882],[88.1931,15.6997],[82.4685,15.6997],[82.4685,14.644],[89.5125,14.644],[89.5125,18.3882]]}}},{"ty":"fl","bm":0,"hd":false,"nm":"Fill","c":{"a":0,"k":[0.0706,0.149,0.6]},"r":1,"o":{"a":0,"k":100}},{"ty":"tr","a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"sk":{"a":0,"k":0},"p":{"a":0,"k":[0,0]},"r":{"a":0,"k":0},"sa":{"a":0,"k":0},"o":{"a":0,"k":100}}]},{"ty":"gr","bm":0,"hd":false,"nm":"Group 23","it":[{"ty":"sh","bm":0,"hd":false,"nm":"Path 28","d":1,"ks":{"a":0,"k":{"c":true,"i":[[0,0],[-0.6478999999999999,-0.34389999999999965],[0,-0.6159999999999979],[0.6559000000000026,-0.3360000000000021],[1.1517999999999944,-0.00009999999999976694],[0.6559999999999988,0.34399999999999764],[0.00009999999999621423,0.6239000000000026],[-0.6478000000000037,0.3360000000000003],[-1.1600000000000037,0]],"o":[[1.1517999999999944,0],[0.6560000000000059,0.3360000000000003],[0,0.6240000000000023],[-0.6479999999999961,0.3438999999999979],[-1.1600000000000037,0],[-0.6477000000000004,-0.3360000000000021],[0,-0.6158999999999981],[0.6559999999999988,-0.3440000000000012],[0,0]],"v":[[41.2546,14.4878],[43.9539,15.0044],[44.9382,16.4321],[43.9539,17.8716],[41.2546,18.3882],[38.53,17.8716],[37.5583,16.4321],[38.53,15.0044],[41.2546,14.4878]]}}},{"ty":"sh","bm":0,"hd":false,"nm":"Path 29","d":1,"ks":{"a":0,"k":{"c":true,"i":[[0,0],[0.40789999999999793,-0.1598999999999986],[0,-0.3038999999999987],[-0.39990000000000236,-0.15990000000000038],[-0.7680000000000007,0],[-0.39990000000000236,0.15200000000000102],[0,0.3119000000000014],[0.40800000000000125,0.16000000000000014],[0.7678000000000011,0]],"o":[[-0.7597999999999985,0],[-0.39990000000000236,0.16000000000000014],[0,0.3119000000000014],[0.40800000000000125,0.15200000000000102],[0.767799999999994,-0.00009999999999976694],[0.39970000000000283,-0.15990000000000038],[0,-0.3039999999999985],[-0.3999999999999986,-0.1598999999999986],[0,0]],"v":[[41.2419,15.4956],[39.49,15.7358],[38.8904,16.4321],[39.49,17.1401],[41.2546,17.3677],[43.0066,17.1401],[43.6062,16.4321],[42.9939,15.7358],[41.2419,15.4956]]}}},{"ty":"fl","bm":0,"hd":false,"nm":"Fill","c":{"a":0,"k":[0.0706,0.149,0.6]},"r":2,"o":{"a":0,"k":100}},{"ty":"tr","a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"sk":{"a":0,"k":0},"p":{"a":0,"k":[0,0]},"r":{"a":0,"k":0},"sa":{"a":0,"k":0},"o":{"a":0,"k":100}}]},{"ty":"gr","bm":0,"hd":false,"nm":"Group 24","it":[{"ty":"sh","bm":0,"hd":false,"nm":"Path 30","d":1,"ks":{"a":0,"k":{"c":true,"i":[[0,0],[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0],[0,0]],"v":[[79.4685,18.3999],[78.1482,18.3999],[78.1482,7.68408],[79.4685,7.68408],[79.4685,18.3999]]}}},{"ty":"fl","bm":0,"hd":false,"nm":"Fill","c":{"a":0,"k":[0.0706,0.149,0.6]},"r":1,"o":{"a":0,"k":100}},{"ty":"tr","a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"sk":{"a":0,"k":0},"p":{"a":0,"k":[0,0]},"r":{"a":0,"k":0},"sa":{"a":0,"k":0},"o":{"a":0,"k":100}}]},{"ty":"gr","bm":0,"hd":false,"nm":"Group 25","it":[{"ty":"sh","bm":0,"hd":false,"nm":"Path 31","d":1,"ks":{"a":0,"k":{"c":true,"i":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"v":[[22.3601,14.7397],[18.1599,14.7397],[18.1599,18.3999],[16.8396,18.3999],[16.8396,14.7397],[12.7,14.7397],[12.7,13.6724],[22.3601,13.6724],[22.3601,14.7397]]}}},{"ty":"fl","bm":0,"hd":false,"nm":"Fill","c":{"a":0,"k":[0.0706,0.149,0.6]},"r":1,"o":{"a":0,"k":100}},{"ty":"tr","a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"sk":{"a":0,"k":0},"p":{"a":0,"k":[0,0]},"r":{"a":0,"k":0},"sa":{"a":0,"k":0},"o":{"a":0,"k":100}}]},{"ty":"gr","bm":0,"hd":false,"nm":"Group 26","it":[{"ty":"rc","bm":0,"hd":false,"nm":"Rectangle 1","d":1,"p":{"a":0,"k":[67.499,12.9999]},"r":{"a":0,"k":12.4999},"s":{"a":0,"k":[133.998,24.9998]}},{"ty":"st","bm":0,"hd":false,"nm":"Stroke","lc":1,"lj":1,"ml":4,"o":{"a":0,"k":100},"w":{"a":0,"k":1},"c":{"a":0,"k":[0.0706,0.149,0.6]}},{"ty":"tr","a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"sk":{"a":0,"k":0},"p":{"a":0,"k":[0,0]},"r":{"a":0,"k":0},"sa":{"a":0,"k":0},"o":{"a":0,"k":100}}]},{"ty":"gr","bm":0,"hd":false,"nm":"Group 27","it":[{"ty":"rc","bm":0,"hd":false,"nm":"Rectangle 2","d":1,"p":{"a":0,"k":[67.499,12.9999]},"r":{"a":0,"k":12.4999},"s":{"a":0,"k":[133.998,24.9998]}},{"ty":"fl","bm":0,"hd":false,"nm":"Fill","c":{"a":0,"k":[0.9686,0.9686,1]},"r":1,"o":{"a":0,"k":100}},{"ty":"tr","a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"sk":{"a":0,"k":0},"p":{"a":0,"k":[0,0]},"r":{"a":0,"k":0},"sa":{"a":0,"k":0},"o":{"a":0,"k":100}}]}],"ind":2}],"v":"5.7.0","fr":60,"op":86,"ip":0,"assets":[]}');var rs=function(){return(0,l.jsx)(as.ai,{src:ls,autoplay:!0,loop:!0,style:{height:"26px",width:"135px"},"data-sentry-element":"Player","data-sentry-component":"ChatOrderInitAnimation","data-sentry-source-file":"ChatOrderInitAnimation.tsx"})},ss=JSON.parse('{"nm":"Main Scene","ddd":0,"h":14,"w":20,"meta":{"g":"@lottiefiles/creator 1.47.2"},"layers":[{"ty":4,"nm":"loaing","sr":1,"st":0,"op":70,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[10,7.022049903869629]},"s":{"a":0,"k":[100,100]},"sk":{"a":0,"k":0},"p":{"a":0,"k":[10,7.022]},"r":{"a":0,"k":0},"sa":{"a":0,"k":0},"o":{"a":0,"k":100}},"shapes":[{"ty":"gr","bm":0,"hd":false,"nm":"Group 1","it":[{"ty":"el","bm":0,"hd":false,"nm":"Ellipse 1","d":1,"p":{"a":0,"k":[18,10]},"s":{"a":0,"k":[4,4]}},{"ty":"fl","bm":0,"hd":false,"nm":"Fill","c":{"a":1,"k":[{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[0.7137,0.7373,0.7843],"t":25},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[0.5255,0.549,0.5961],"t":40},{"s":[0.7137,0.7373,0.7843],"t":59}]},"r":1,"o":{"a":0,"k":100}},{"ty":"tr","a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"sk":{"a":0,"k":0},"p":{"a":1,"k":[{"o":{"x":0.55,"y":0.06},"i":{"x":0.36,"y":1},"s":[0,0],"t":25},{"o":{"x":0.65,"y":0},"i":{"x":0.36,"y":1},"s":[0,-4],"t":40},{"s":[0,0],"t":59}]},"r":{"a":0,"k":0},"sa":{"a":0,"k":0},"o":{"a":0,"k":100}}]},{"ty":"gr","bm":0,"hd":false,"nm":"Group 2","it":[{"ty":"el","bm":0,"hd":false,"nm":"Ellipse 2","d":1,"p":{"a":0,"k":[10,10]},"s":{"a":0,"k":[4,4]}},{"ty":"fl","bm":0,"hd":false,"nm":"Fill","c":{"a":1,"k":[{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[0.7137,0.7373,0.7843],"t":10},{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[0.5255,0.549,0.5961],"t":25},{"s":[0.7137,0.7373,0.7843],"t":40}]},"r":1,"o":{"a":0,"k":100}},{"ty":"tr","a":{"a":0,"k":[10,10]},"s":{"a":0,"k":[100,100]},"sk":{"a":0,"k":0},"p":{"a":1,"k":[{"o":{"x":0.55,"y":0.06},"i":{"x":0.36,"y":1},"s":[10,10],"t":10},{"o":{"x":0.65,"y":0},"i":{"x":0.36,"y":1},"s":[10,6],"t":25},{"s":[10,10],"t":40}]},"r":{"a":0,"k":0},"sa":{"a":0,"k":0},"o":{"a":0,"k":100}}]},{"ty":"gr","bm":0,"hd":false,"nm":"Group 3","it":[{"ty":"el","bm":0,"hd":false,"nm":"Ellipse 3","d":1,"p":{"a":0,"k":[2,6]},"s":{"a":0,"k":[4,4]}},{"ty":"fl","bm":0,"hd":false,"nm":"Fill","c":{"a":1,"k":[{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[0.5255,0.549,0.5961],"t":0},{"s":[0.7137,0.7373,0.7843],"t":20}]},"r":1,"o":{"a":0,"k":100}},{"ty":"tr","a":{"a":0,"k":[2,6]},"s":{"a":0,"k":[100,100]},"sk":{"a":0,"k":0},"p":{"a":1,"k":[{"o":{"x":0.55,"y":0.06},"i":{"x":0.36,"y":1},"s":[2,6],"t":0},{"s":[2,10],"t":20}]},"r":{"a":0,"k":0},"sa":{"a":0,"k":0},"o":{"a":0,"k":100}}]}],"ind":1}],"v":"5.7.0","fr":60,"op":70,"ip":0,"assets":[]}');var ns,os,is=function(){return(0,l.jsx)(as.ai,{src:ss,autoplay:!0,loop:!0,style:{height:"14px",width:"20px"},"data-sentry-element":"Player","data-sentry-component":"ChatOrderLoadingAnimation","data-sentry-source-file":"ChatOrderLoadingAnimation.tsx"})};function ds(){return ds=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},ds.apply(null,arguments)}var cs,us,ms=function(e){return r.createElement("svg",ds({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},e),r.createElement("mask",{id:"icon-check-circle_svg__a",width:24,height:24,x:0,y:0,maskUnits:"userSpaceOnUse",style:{maskType:"alpha"}},ns||(ns=r.createElement("path",{fill:"#D9D9D9",d:"M0 0h24v24H0z"}))),os||(os=r.createElement("g",{mask:"url(#icon-check-circle_svg__a)"},r.createElement("path",{fill:"currentColor",d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m5.93 7.2-7.75 7.76c-.1.09-.26.09-.36 0L6.07 13.2c-.09-.09-.09-.25 0-.35l.78-.78c.1-.09.26-.09.35 0l2.87 2.86 6.73-6.86c.09-.09.25-.09.35 0l.78.78c.09.1.09.26 0 .35"}))))};function ps(){return ps=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},ps.apply(null,arguments)}var hs=function(e){return r.createElement("svg",ps({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 22 22"},e),r.createElement("mask",{id:"icon-arrow-circle-right_svg__a",width:22,height:22,x:0,y:0,maskUnits:"userSpaceOnUse",style:{maskType:"alpha"}},cs||(cs=r.createElement("path",{fill:"#D9D9D9",d:"M0 0h22v22H0z"}))),us||(us=r.createElement("g",{mask:"url(#icon-arrow-circle-right_svg__a)"},r.createElement("path",{fill:"#C9CDD7",d:"M11 14.34 14.34 11 11 7.66l-.957.957 1.696 1.696H7.563v1.375h4.176l-1.696 1.696zm.002 5.369a8.5 8.5 0 0 1-3.397-.686 8.8 8.8 0 0 1-2.765-1.861 8.8 8.8 0 0 1-1.862-2.764 8.5 8.5 0 0 1-.686-3.396q0-1.807.686-3.397a8.8 8.8 0 0 1 1.86-2.765 8.8 8.8 0 0 1 2.765-1.862A8.5 8.5 0 0 1 11 2.292q1.806 0 3.396.686a8.8 8.8 0 0 1 2.766 1.86 8.8 8.8 0 0 1 1.862 2.765A8.5 8.5 0 0 1 19.709 11a8.5 8.5 0 0 1-.686 3.396 8.8 8.8 0 0 1-1.861 2.766 8.8 8.8 0 0 1-2.764 1.862 8.5 8.5 0 0 1-3.396.686"}))))};var fs=function(e){let{orderList:t}=e;const{setSelectedOrder:a,selectedOrder:r}=ts(),s=(e,t,a,l)=>{try{const t=je()("".concat(a," ").concat(l)),r=je()(a).diff(je()(e),"day"),s=t.format("HH:mm");return 0===r?s:1===r?"익일 ".concat(s):r>1?"".concat(r,"일뒤 ").concat(s):s}catch(e){return l}};return(0,l.jsx)("div",{className:"mt-[8px] flex w-[358px] flex-col gap-[8px]","data-sentry-component":"ChatOrderOrderList","data-sentry-source-file":"ChatOrderOrderList.tsx",children:t.map(((e,t)=>{var n;const o=(null==r?void 0:r.id)===e.id;return(0,l.jsxs)("div",{className:C()("flex cursor-pointer flex-col gap-[8px] rounded-[12px] border p-[12px]",{"border-primary":o,"border-grey90":!o}),onClick:()=>a(e),children:[(0,l.jsxs)("div",{className:C()("Caption1_B flex justify-between",{"text-primary":o,"text-grey60":!o}),children:[(0,l.jsx)("div",{children:e.createdCount?"".concat(e.createdCount,"회 등록"):"계약 마스터"}),(0,l.jsx)(ms,{className:"h-[18px] w-[18px]"})]}),(0,l.jsxs)("div",{className:"Body3_B flex justify-between text-black",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{children:e.departureName}),(0,l.jsx)("div",{className:"Body5_B text-grey50",children:je()("".concat(e.departureRequestDate," ").concat(e.departureRequestTime)).format("HH:mm")})]}),(0,l.jsx)(hs,{className:"h-[22px] w-[22px]"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-right",children:e.arrivalName}),(0,l.jsx)("div",{className:"Body5_B text-grey50 text-right",children:s(e.departureRequestDate,e.departureRequestTime,e.arrivalRequestDate,e.arrivalRequestTime)})]})]}),(0,l.jsxs)("div",{className:"border-grey95 flex justify-between border-t pt-[6px]",children:[(0,l.jsxs)("div",{className:"Body5_M text-grey50 flex items-center gap-[8px]",children:[(0,l.jsx)("div",{children:e.itemCodeName}),(0,l.jsx)("div",{className:"bg-grey70 h-[4px] w-[4px] rounded-full"}),(0,l.jsxs)("div",{children:[e.vehicleTypeName," ",e.tonCodeName]}),(0,l.jsx)("div",{className:"bg-grey70 h-[4px] w-[4px] rounded-full"}),(0,l.jsx)("div",{children:e.salesRateCodeName})]}),(0,l.jsxs)("div",{className:"Body3_B text-black",children:[(null===(n=e.finalAmount)||void 0===n?void 0:n.toLocaleString())||0,"원"]})]})]},e.id)}))})};var Cs=function(e){let{selectedCustomer:t}=e;const{appendMessage:a,getChatMessages:s,replaceLastIncomingMessage:n,getHistories:o,getTxId:i,setIsOrderLoading:d}=ts(),c=t.personalAdminCustomerByChatId,[p,h]=(0,r.useState)(""),[f,x]=(0,r.useState)(!1),[N,y]=(0,r.useState)(87),E=(0,r.useRef)(null),{mutateAsync:v,isSuccess:A,isError:g,isLoading:b,data:R}=(0,T.n)(["useChatOrderRecommend"],(async e=>(await I.q.api((t=>t.ApiV1OrderTransferChatOrderRecommend(e,{headers:{"disable-loading":"true"}})))).data.result)),S=s(c),_=(0,r.useCallback)((()=>{var e;p&&(a({message:(e=p,e.replace(/(?:\n)\n{2,}/,"\n\n")),direction:"outgoing",customerId:c}),h(""),x(!1),w())}),[a,p,c]),w=()=>{O(),v({txId:i(c),customerMdmCode:t.customerMdmCode,contractNo:t.contractSalesNo,prompt:p,histories:o(c),contextType:0})},O=()=>{a({message:(0,l.jsx)(Wr,{message:"최근 주문 내역을 찾고 있어요.",childrenPosition:"top",children:(0,l.jsx)("div",{className:"mb-[8px] flex",children:(0,l.jsx)(is,{})})}),direction:"incoming",customerId:c})};return(0,r.useEffect)((()=>{0===S.length&&a({message:(0,l.jsx)(Wr,{message:"안녕하세요. 더운반 챗주문이에요. \\n주문 정보를 입력해 주세요."}),direction:"incoming",customerId:c})}),[c]),(0,r.useEffect)((()=>{const e=()=>{if(E.current){const e=E.current.offsetHeight;y(e)}};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[t]),(0,r.useEffect)((()=>{if(A){if(!(null==R?void 0:R.isSuccess)&&R.returnMessage)return void n((0,l.jsx)(Wr,{message:R.returnMessage}),null==R?void 0:R.histories,null==R?void 0:R.txId,c);(null==R?void 0:R.itemList.length)?n((0,l.jsx)(Wr,{message:"가장 많이 등록한 주문 정보를 찾았어요.",children:(0,l.jsx)(fs,{orderList:null==R?void 0:R.itemList.map((e=>({...e,id:(0,pe.yk)()})))})}),null==R?void 0:R.histories,null==R?void 0:R.txId,c):n((0,l.jsx)(Wr,{message:"주문 정보를 찾을 수 없어요. \n아래와 같이 다시 입력해 주세요. \n\n예시) 인천 출발 부천 도착 / 카고 1톤 / 파렛트"}),null==R?void 0:R.histories,null==R?void 0:R.txId,c)}}),[A]),(0,r.useEffect)((()=>{g&&n((0,l.jsx)(Wr,{message:"요청을 처리하는 중 일시적인 문제가 발생했습니다. \n잠시 후 다시 시도해 주세요."}),o(c),i(c),c)}),[g]),(0,r.useEffect)((()=>{d(b)}),[b]),(0,l.jsxs)("div",{className:"flex h-full flex-col","data-sentry-component":"ChatOrderWithOwnerChat","data-sentry-source-file":"ChatOrderWithOwnerChat.tsx",children:[(0,l.jsx)("div",{ref:E,className:"Body2_B border-b-grey90 chat-header mx-[20px] border-b py-[20px]",children:(0,l.jsxs)("div",{children:[t.name,(0,l.jsxs)("div",{className:"Body5_M text-grey50 mt-[4px] flex items-center gap-[4px]",children:[t.contractSalesName,(0,l.jsx)("div",{className:"bg-grey70 h-[4px] w-[4px] rounded-full"}),t.contractSalesNo]})]})}),(0,l.jsx)("div",{className:"flex-1",style:{width:"100%",height:"calc(100% - ".concat(N,"px)")},id:"chat-order-panel",children:(0,l.jsxs)(qr.J3,{"data-sentry-element":"MainContainer","data-sentry-source-file":"ChatOrderWithOwnerChat.tsx",children:[(0,l.jsxs)(qr.cW,{"data-sentry-element":"ChatContainer","data-sentry-source-file":"ChatOrderWithOwnerChat.tsx",children:[(0,l.jsxs)(qr.Mf,{id:"messageList",className:"h-full",autoScrollToBottom:!0,"data-sentry-element":"MessageList","data-sentry-source-file":"ChatOrderWithOwnerChat.tsx",children:[(0,l.jsx)("div",{className:"my-[16px] flex justify-center",children:(0,l.jsx)(rs,{"data-sentry-element":"ChatOrderInitAnimation","data-sentry-source-file":"ChatOrderWithOwnerChat.tsx"})}),S.map(((e,t)=>{var a,r;return(0,l.jsx)(qr.$4,{direction:null===(a=e.content)||void 0===a?void 0:a.direction,children:(0,l.jsx)(qr.$4.Messages,{children:(0,l.jsx)(qr.QB,{model:e.content,avatarPosition:"tl",children:"incoming"===(null===(r=e.content)||void 0===r?void 0:r.direction)&&(0,l.jsx)(qr.eu,{src:"/chat-order-bot-avatar.png",name:"더운반",size:"sm"})})})},"".concat(c,"-").concat(t))}))]}),(0,l.jsx)(qr.Ep,{className:C()({"is-focused":f}),value:p,onChange:e=>{h(e)},attachButton:!1,disabled:b,sendButton:!1,activateAfterChange:!0,onSend:()=>{_()},onFocus:()=>x(!0),onBlur:()=>x(!1),onPaste:e=>{const t=Zr(e);t&&(e.preventDefault(),h(t))},"data-sentry-element":"MessageInput","data-sentry-source-file":"ChatOrderWithOwnerChat.tsx"})]}),!f&&!p&&(0,l.jsxs)("div",{className:"text-grey60 Body5_M pointer-events-none absolute bottom-[70px] left-[32px] z-[2]",children:[(0,l.jsx)("div",{children:"이렇게 입력해 보세요."}),(0,l.jsx)("div",{children:"예시) 인천 출발 부천 도착 / 카고 1톤 / 파렛트"})]}),(0,l.jsx)(u.A,{className:"!bg-primary disabled:!bg-primaryDisabled absolute bottom-[33px] right-[33px] z-[2] w-[60px] disabled:!opacity-100",label:"전송",level:m.V.level_2,size:m.M.Small,disabled:!p,onClick:()=>_(),"data-sentry-element":"TmsBasicButton","data-sentry-source-file":"ChatOrderWithOwnerChat.tsx"})]})})]})};var xs,Ns,ys=function(e){let{selectedCustomer:t,reloadOwnerList:a}=e;return t?(0,l.jsx)(Cs,{selectedCustomer:t,"data-sentry-element":"ChatOrderWithOwnerChat","data-sentry-component":"ChatOrderOwnerChat","data-sentry-source-file":"ChatOrderOwnerChat.tsx"}):(0,l.jsx)(Jr,{reloadOwnerList:a})};function Es(){return Es=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},Es.apply(null,arguments)}var vs,As,gs=function(e){return r.createElement("svg",Es({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},e),r.createElement("mask",{id:"icon-more-vert_svg__a",width:24,height:24,x:0,y:0,maskUnits:"userSpaceOnUse",style:{maskType:"alpha"}},xs||(xs=r.createElement("path",{fill:"#D9D9D9",d:"M0 0h24v24H0z"}))),Ns||(Ns=r.createElement("g",{fill:"#040000",mask:"url(#icon-more-vert_svg__a)"},r.createElement("path",{d:"M12 13.6a1.6 1.6 0 1 0 0-3.2 1.6 1.6 0 0 0 0 3.2M12 8a1.6 1.6 0 1 0 0-3.2A1.6 1.6 0 0 0 12 8M12 19.2a1.6 1.6 0 1 0 0-3.2 1.6 1.6 0 0 0 0 3.2"}))))};function Ts(){return Ts=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},Ts.apply(null,arguments)}var Is,bs=function(e){return r.createElement("svg",Ts({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 16 16"},e),r.createElement("mask",{id:"icon-keep_svg__a",width:16,height:16,x:0,y:0,maskUnits:"userSpaceOnUse",style:{maskType:"alpha"}},vs||(vs=r.createElement("path",{fill:"#D9D9D9",d:"M0 0h16v16H0z"}))),As||(As=r.createElement("g",{mask:"url(#icon-keep_svg__a)"},r.createElement("path",{fill:"currentColor",d:"m10.685 7.683 1.372 1.372v1.15H8.575v4.22L8 15l-.575-.575v-4.22H3.943v-1.15l1.372-1.372V2.15h-.767V1h6.904v1.15h-.767zM5.584 9.055h4.833l-.883-.882V2.15H6.466v6.022z"}))))};function Rs(){return Rs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},Rs.apply(null,arguments)}var Ss,_s=function(e){return r.createElement("svg",Rs({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14"},e),Is||(Is=r.createElement("path",{fill:"currentColor",d:"M10.993.238v1.13h-.765v5.789L9.08 6.025V1.37H6.02v1.64L4.79 1.797 4.402.986h-.294V.238zM7.55 14l-.574-.566V9.287H3.504V8.156l1.369-1.349V5.621L0 .795.806 0 14 13.005l-.83.795-4.578-4.513h-.468v4.147zM5.14 8.156H7.46l-1.415-1.38-.024.513z"})))};function ws(){return ws=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},ws.apply(null,arguments)}var Os=function(e){return r.createElement("svg",ws({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20"},e),Ss||(Ss=r.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M18.275 4.85 15.15 1.725a.21.21 0 0 0-.15-.058.21.21 0 0 0-.15.058L2.558 14.11s-.058.091-.058.141v3.042c0 .117.092.208.208.208H5.75c.05 0 .108-.025.142-.058L18.275 5.15a.23.23 0 0 0 0-.3M5.283 16.167l-1.45-1.45 9.1-9.167 1.517 1.517z",clipRule:"evenodd"})))};var Ms=function(e){let{customerList:t,selectedCustomer:a,setSelectedCustomer:s,reloadOwnerList:n}=e;const o=null==a?void 0:a.personalAdminCustomerByChatId,{mutateAsync:i,isSuccess:d}=(0,T.n)(["useChatOrderContractList"],(async e=>(await I.q.api((t=>t.ApiPersonalV1CustomerByChatUpdateName(e)))).data.result)),{mutateAsync:c,isSuccess:p}=(0,T.n)(["useChatOrderSetOwnerPositionFix"],(async e=>(await I.q.api((t=>t.ApiPersonalV1CustomerByChatToggleFix(e)))).data.result)),{mutateAsync:h,isSuccess:f}=(0,T.n)(["useChatOrderDeleteOwner"],(async e=>(await I.q.api((t=>t.ApiPersonalV1CustomerByChatDelete(e)))).data.result)),[x,N]=(0,r.useState)(!1),[y,A]=(0,r.useState)(null),[g,b]=(0,r.useState)(null),[R,S]=(0,r.useState)(null),[_,w]=(0,r.useState)(""),O=v(),M=E(),D=(0,$e.P9)(),j=()=>{A(null)},P=async e=>{""!==_.trim()?await i({personalAdminCustomerByChatId:e,name:_}):L()},L=()=>{S(null),w("")};return(0,r.useEffect)((()=>{const e=()=>{g&&b(null)};return document.addEventListener("click",e),()=>{document.removeEventListener("click",e)}}),[g]),(0,r.useEffect)((()=>{if(d){const e=t.find((e=>(null==e?void 0:e.personalAdminCustomerByChatId)===R));e&&(e.name=_),o===R&&s({...a,name:_}),S(null),w("")}}),[d]),(0,r.useEffect)((()=>{p&&n()}),[p]),(0,r.useEffect)((()=>{f&&(D({message:"화주가 목록에서 삭제되었습니다."}),n())}),[f]),(0,l.jsxs)("div",{className:"","data-sentry-component":"ChatOrderOwnerList","data-sentry-source-file":"ChatOrderOwnerList.tsx",children:[(0,l.jsxs)("div",{className:"flex justify-between px-[20px] pb-[10px] pt-[20px]",children:[(0,l.jsx)("div",{className:"Body2_B text-black",children:"화주"}),(0,l.jsx)(u.A,{className:"h-[24px] w-[24px]",level:m.V.level_5,size:m.M.Small,leftIcon:(0,l.jsx)(Jl,{className:"text-grey30 h-[16px] w-[16px]"}),onClick:()=>{t.length>=20?M({title:"등록 가능한 개수를 초과했습니다.",description:"등록된 화주를 삭제 후, 다시 시도해 주세요."}):N(!0)},"data-sentry-element":"TmsBasicButton","data-sentry-source-file":"ChatOrderOwnerList.tsx"}),x&&(0,l.jsx)(Qr,{setIsShowModal:N,reloadOwnerList:n})]}),(0,l.jsxs)("div",{className:"Body5_M h-[635px] overflow-y-auto overflow-x-hidden pl-[8px]",children:[0===t.length&&(0,l.jsx)("div",{className:'flex h-[56px] w-[192px] items-center bg-[url("/item-active-bg.png")] bg-cover bg-center bg-no-repeat pl-[12px]',children:"새 채팅"}),t.length>0&&t.map(((e,t)=>{const a=e.personalAdminCustomerByChatId,r=o!==a&&y!==a&&e.isFixed;return(0,l.jsxs)("div",{className:C()("relative flex h-[56px] w-[192px] items-center",{'bg-[url("/item-active-bg.png")] bg-cover bg-center bg-no-repeat':o===a&&R!==a,"mt-[-20px]":t>0}),children:[R===a?(0,l.jsx)("div",{className:"relative h-[36px] w-full items-center rounded-l-[8px] bg-[rgba(18,38,153,0.10)] pl-[12px]",children:(0,l.jsx)("input",{type:"text",value:_,onChange:e=>w(e.target.value),className:"Body5_M h-full w-full bg-[unset] focus:border-[rgba(18,38,153,0.10)] focus:outline-none",autoFocus:!0,onKeyDown:e=>{"Enter"===e.key?P(a):"Escape"===e.key&&L()},onBlur:()=>P(a)})}):(0,l.jsxs)("button",{className:C()("relative flex h-[36px] w-full flex-1 items-center rounded-l-[8px] pl-[12px] text-left",{"bg-[rgba(18,38,153,0.10)]":y===a&&a!==o}),onClick:()=>s(e),onMouseEnter:()=>{A(a)},onMouseLeave:j,children:[(0,l.jsx)("p",{className:C()("truncate",{"w-[144px]":y===a||r,"w-[168px]":y!==a&&!r}),children:e.name}),r&&(0,l.jsx)(bs,{className:"text-grey30 absolute bottom-[10px] right-[12px] h-[16px] w-[16px]"}),(y===a||g===a)&&(0,l.jsx)("button",{className:"absolute bottom-[10px] right-[12px]",onClick:e=>((e,t)=>{e.stopPropagation(),b(g===t?null:t)})(e,a),children:(0,l.jsx)(gs,{className:"text-grey30 h-[16px] w-[16px]"})})]}),g===a&&(0,l.jsxs)("div",{className:"border-grey80 absolute right-[4px] top-[38px] z-10 h-[104px] w-[100px] rounded-[10px] border bg-white p-[4px]",children:[(0,l.jsxs)("button",{className:"Body5_M flex w-full items-center gap-[8px] px-[8px] py-[6px] text-left text-black",onClick:()=>(async e=>{await c({personalAdminCustomerByChatId:e})})(a),children:[e.isFixed&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(_s,{className:"text-grey70 h-[16px] w-[16px]"}),"고정 해제"]}),!e.isFixed&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(bs,{className:"text-grey70 h-[16px] w-[16px]"}),"고정"]})]}),(0,l.jsxs)("button",{className:"Body5_M flex w-full items-center gap-[8px] px-[8px] py-[6px] text-left text-black",onClick:()=>(e=>{S(e.personalAdminCustomerByChatId),w(e.name),b(null)})(e),children:[(0,l.jsx)(Os,{className:"text-grey70 h-[16px] w-[16px]"}),"별칭 변경"]}),(0,l.jsxs)("button",{className:"text-red50 Body5_M flex w-full items-center gap-[8px] px-[8px] py-[6px] text-left hover:bg-gray-50",onClick:()=>(e=>{O({title:"화주를 삭제하시겠어요?",description:"삭제 시, 해당 화주가 목록에서 삭제됩니다.",confirmButtonLabel:"삭제하기",confirmButtonType:"destructive",onClickConfirmButton:async()=>{await h({deleteIdList:[e]})}})})(a),children:[(0,l.jsx)(Br.A,{className:"text-red50 h-[16px] w-[16px]"}),"삭제"]})]})]},a)}))]})]})};var Ds=function(e){let{customerList:t,selectedCustomer:a,setSelectedCustomer:r,reloadOwnerList:s}=e;return(0,l.jsxs)("div",{className:"flex h-full","data-sentry-component":"ChatOrderOwnerPanel","data-sentry-source-file":"ChatOrderOwnerPanel.tsx",children:[(0,l.jsx)("div",{className:"h-full w-[200px] rounded-bl-[8px] rounded-tl-[8px] bg-[rgba(255,255,255,0.9)]",children:(0,l.jsx)(Ms,{customerList:t,selectedCustomer:a,setSelectedCustomer:r,reloadOwnerList:s,"data-sentry-element":"ChatOrderOwnerList","data-sentry-source-file":"ChatOrderOwnerPanel.tsx"})}),(0,l.jsx)("div",{className:"h-full flex-1 rounded-br-[8px] rounded-tr-[8px] bg-white",children:(0,l.jsx)(ys,{selectedCustomer:a,reloadOwnerList:s,"data-sentry-element":"ChatOrderOwnerChat","data-sentry-source-file":"ChatOrderOwnerPanel.tsx"})})]})};const js=()=>{const e=je()((0,pe.Z5)(new Date,30)).format("HH:mm");return{departureRequestDate:new Date,departureRequestTime:e,arrivalRequestDate:new Date,arrivalRequestTime:e,remark:"",departureUserAddress:"",arrivalUserAddress:"",weight:"",itemQuantity:"",rateQuantity:""}},Ps=(e,t)=>({customerId:e.customerId,contractSalesId:e.contractSalesId,salesRateCode:t.salesRateCode,departureNodeCode:t.departureNodeCode,departureCustomerPlaceId:t.departureCustomerPlaceId,arrivalNodeCode:t.arrivalNodeCode,arrivalCustomerPlaceId:t.arrivalCustomerPlaceId,itemCode:t.itemCode,vehicleType:R.xRy[t.vehicleType],tonCode:t.tonCode,settingDistance:t.settingDistance,departureRequestDate:je()().format("YYYY-MM-DD"),departureRequestTime:t.departureRequestTime,weight:t.weight,itemQuantity:t.itemQuantity,rateQuantity:t.rateQuantity}),Ls=(e,t)=>({customerId:e.customerId,contractSalesId:e.contractSalesId,salesRateCode:t("salesRateCode"),departureNodeCode:t("departureNodeCode"),departureCustomerPlaceId:t("departureCustomerPlaceId"),arrivalNodeCode:t("arrivalNodeCode"),arrivalCustomerPlaceId:t("arrivalCustomerPlaceId"),itemCode:t("itemCode"),vehicleType:R.xRy[t("vehicleType")],tonCode:t("tonCode"),settingDistance:t("settingDistance"),departureRequestDate:je()(t("departureRequestDate")).format("YYYY-MM-DD"),departureRequestTime:t("departureRequestTime"),weight:t("weight"),itemQuantity:t("itemQuantity"),rateQuantity:t("rateQuantity")}),Bs=(e,t)=>({customerId:e.customerId,contractSalesId:e.contractSalesId,recommendOrderTransferId:t.recommendOrderTransferId,salesRateCode:t.salesRateCode,departureNodeCode:t.departureNodeCode,departureCustomerPlaceId:t.departureCustomerPlaceId,departureUserAddress:t.departureUserAddress,departureRequestDate:je()(t.departureRequestDate).format("YYYY-MM-DD"),departureRequestTime:t.departureRequestTime,arrivalNodeCode:t.arrivalNodeCode,arrivalCustomerPlaceId:t.arrivalCustomerPlaceId,arrivalUserAddress:t.arrivalUserAddress,arrivalRequestDate:je()(t.arrivalRequestDate).format("YYYY-MM-DD"),arrivalRequestTime:t.arrivalRequestTime,itemCode:t.itemCode,weight:t.weight,vehicleType:R.RJg[t.vehicleType],tonCode:t.tonCode,rateAmount:t.salesRateAmount,actualAmount:t.salesActualRateAmount,finalAmount:t.salesActualRateAmount,itemQuantity:t.itemQuantity,rateQuantity:t.rateQuantity,remark:t.remark,estimateDistance:t.estimateDistance}),Us=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(null==e?void 0:e.map((e=>{let a="";return a=t&&t?"".concat(e.codeKey,"-").concat(e[t]):e.codeKey,{...e,id:a,label:e.name||"없음",groupTitle:"customerPlaceId"===t?e.customerPlaceId?"거래처 마스터":"계약 마스터":""}})))||[]};var Vs=a(62780),Fs=a.n(Vs);function Gs(e,t,a,l){const s=(0,$e.P9)(),n=E(),[o,i]=(0,r.useState)(!0),[d,u]=(0,r.useState)({rateInfoList:[],departureNodeInfoList:[],arrivalNodeInfoList:[],itemInfoList:[],vehicleInfoList:[],tonInfoList:[]}),{mutateAsync:m,isSuccess:p,data:h,isError:f}=(0,T.n)(["getOrderTransferChatOrderOptionList"],(async e=>(await I.q.api((t=>t.ApiV1OrderTransferChatOrderOption(e)))).data.result)),{mutateAsync:C,isSuccess:x}=(0,T.n)(["saveChatOrderTransfer"],(async e=>(await I.q.api((t=>t.ApiV1OrderTransferChatOrderSave(e)))).data.result)),{control:N,formState:y,getValues:v,handleSubmit:A,reset:g,setValue:b,setError:R}=(0,Hr.mN)({defaultValues:js(),mode:"onChange"}),{errors:S}=y,_=(0,Hr.FH)({control:N}),w=(0,r.useMemo)((()=>"3"===_.salesRateCode),[_.salesRateCode]),O=c().debounce((()=>{m(Ls(e,v))}),800);return(0,r.useEffect)((()=>{"3"===_.salesRateCode&&(b("rateQuantity",1),b("itemQuantity",1))}),[_.salesRateCode]),(0,r.useEffect)((()=>{f&&l()}),[f]),(0,r.useEffect)((()=>{t&&e&&(i(!0),m(Ps(e,t)))}),[t]),(0,r.useEffect)((()=>{p&&(u({departureNodeInfoList:Us(h.departureNodeInfoList||[],"customerPlaceId"),arrivalNodeInfoList:Us(h.arrivalNodeInfoList||[],"customerPlaceId"),itemInfoList:Us(h.itemInfoList||[]),vehicleInfoList:Us(h.vehicleInfoList||[]),tonInfoList:Us(h.tonInfoList||[]),rateInfoList:Us(h.rateInfoList||[])}),b("salesRateAmount",h.salesRateAmount||0),b("salesActualRateAmount",h.salesActualRateAmount||0),o&&setTimeout((()=>{if(t){const e=je()(t.arrivalRequestDate).diff(je()(t.departureRequestDate),"day"),a=je()(t.departureRequestDate).isSameOrAfter(je()(),"day");g({...t,estimateDistance:h.estimateDistance||null,departureUserAddress:t.departureFullAddress||"",arrivalUserAddress:t.arrivalFullAddress||"",salesRateAmount:h.salesRateAmount||0,salesActualRateAmount:h.salesActualRateAmount||0,departureRequestDate:a?t.departureRequestDate:v("departureRequestDate"),arrivalRequestDate:a?t.arrivalRequestDate:je()().add(e,"day"),departureNodeCodePlaceId:"".concat(t.departureNodeCode,"-").concat(t.departureCustomerPlaceId),arrivalNodeCodePlaceId:"".concat(t.arrivalNodeCode,"-").concat(t.arrivalCustomerPlaceId),remark:""},{keepDefaultValues:!1})}}),50))}),[p,o]),(0,r.useEffect)((()=>{x&&(s({message:"신규 주문이 등록되었습니다."}),g(js(),{keepDefaultValues:!1}),a())}),[x]),{control:N,handleSubmit:A,setValue:b,errors:S,isRateInfoPerUnit:w,formOptions:d,handleChangeDynamicOption:(e,t)=>{"salesRateCode"===e&&g({departureNodeCode:"",departureCustomerPlaceId:null,arrivalNodeCode:"",arrivalCustomerPlaceId:null,orderItemCode:"",vehicleCode:"",tonInfoCode:"",...js()},{keepDirty:!1,keepTouched:!1,keepErrors:!1}),b(e,t),i(!1),O()},onSubmitForm:async t=>{const a=je()(t.departureRequestDate).format("YYYY-MM-DD"),l=je()(t.arrivalRequestDate).format("YYYY-MM-DD");if(je()(a).isAfter(l))R("arrivalRequestDate",{message:"상차일보다 동일 또는 미래 날짜로 설정해 주세요."});else{if(a===l){const e=t.departureRequestTime||"00:00",r=t.arrivalRequestTime||"00:00",s=je()("".concat(a," ").concat(e)),n=je()("".concat(l," ").concat(r));if(s.isAfter(n))return void R("arrivalRequestTime",{message:"상차 시간보다 미래 시간으로 설정해 주세요"})}0!==(_.salesActualRateAmount||0)?await C(Bs(e,t)):n({title:"계약운임이 존재하지 않습니다."})}},onErrorForm:e=>{window.console.error(e)},getValues:v,isInitialLoad:o,watchForm:_}}je().extend(Fs());var ks=function(e){let{label:t,labelChildren:a,required:r,className:s,style:n,children:o}=e;return(0,l.jsxs)("section",{className:C()("Body5_M text-grey60 mb-[8px] flex max-h-[28px] w-full flex-row items-center justify-between gap-[8px]",s),style:n,"data-sentry-component":"TmsBasicDetailSection","data-sentry-source-file":"TmsBasicDetailSection.tsx",children:[(0,l.jsxs)("div",{className:"flex w-full min-w-[120px] flex-row gap-[2px] break-keep",children:[(0,l.jsxs)("span",{className:"flex w-full flex-row items-center",children:[t," ",a]}),r&&(0,l.jsx)("span",{className:"bg-decide h-[3px] w-[3px] flex-none rounded-[3px]"})]}),(0,l.jsx)("div",{className:"flex flex-row justify-end gap-[8px]",children:o})]})};function Ys(e){let{label:t,autocompleteBoxClassName:a,autocompleteClassName:s,componentType:n="autocomplete-filter",value:o,minInterval:i=30,onChange:d}=e;const c=(0,r.useMemo)((()=>{const e=i||30,t=[];for(let a=0;a<24;a++)for(let l=0;l<60;l+=e){const e=String(a).padStart(2,"0"),r=String(l).padStart(2,"0"),s="".concat(e,":").concat(r);t.push({id:s,label:s})}return t}),[]);return(0,l.jsx)(He.A,{selectedId:o||"",label:t,placeholder:"선택",options:c,autocompleteBoxClassName:a,autocompleteClassName:s,componentType:n,onChange:d,"data-sentry-element":"TmsBasicAutocomplete","data-sentry-component":"TmsBasicFormTimeAutocomplete","data-sentry-source-file":"TmsBasicFormTimeAutocomplete.tsx"})}const qs=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,a=e.replace(/[^0-9.-]/g,"");a.indexOf("-")>0&&(a=a.replace(/-/g,""));const l=a.indexOf(".");if(-1!==l&&(a=a.substring(0,l+1)+a.substring(l+1).replace(/\./g,"")),a.startsWith(".")&&(a="0"+a),/^0[0-9]+/.test(a)&&(a=a.replace(/^0+/,"")),a.includes("."))if(0===t)a=a.split(".")[0];else if(t>0){const[e,l]=a.split(".");a=e+"."+l.slice(0,t)}return a},Ws="필수 정보를 입력해 주세요.";var Hs=e=>{let{orderInfo:t=null,selectedOwner:a,isOrderSearching:r,onSaveOrderSuccess:s,resetSelectedOrder:n}=e;var o,i,d,c,p,h,f,x,N,y,E,v,A;const{control:g,handleSubmit:T,setValue:I,errors:b,isRateInfoPerUnit:R,formOptions:S,handleChangeDynamicOption:_,onSubmitForm:w,onErrorForm:O,isInitialLoad:M,watchForm:j}=Gs(a,t,s,n),P=(e,t)=>e?(0,l.jsx)(D.mHZ,{variant:"rounded",className:"mx-3 my-[6px] w-full bg-gradient-to-r from-[#EDEFF5] to-[#F5F7FC]",animation:"wave",height:18}):t;return(0,l.jsxs)("form",{autoComplete:"off",onSubmit:T(w,O),className:"flex flex-col","data-sentry-component":"OrderFormContents","data-sentry-source-file":"OrderFormContents.tsx",children:[(0,l.jsxs)("div",{className:"flex flex-col gap-4 overflow-y-auto",children:[(0,l.jsx)("div",{children:(0,l.jsxs)(Kr,{"data-sentry-element":"TmsBasicInfoTable","data-sentry-source-file":"OrderFormContents.tsx",children:[(0,l.jsx)(zr,{label:"화주",required:!0,descriptionClassName:"bg-warmGrey98","data-sentry-element":"TmsBasicInfoTableItem","data-sentry-source-file":"OrderFormContents.tsx",children:(0,l.jsx)(Hr.xI,{name:"customerName",control:g,render:()=>(0,l.jsx)("span",{className:"Body5_M text-grey50 px-3",children:null==a?void 0:a.customerName}),"data-sentry-element":"Controller","data-sentry-source-file":"OrderFormContents.tsx"})}),(0,l.jsx)(zr,{label:"계약 마스터",required:!0,descriptionClassName:"bg-warmGrey98","data-sentry-element":"TmsBasicInfoTableItem","data-sentry-source-file":"OrderFormContents.tsx",children:(0,l.jsx)(Hr.xI,{name:"contractSalesName",control:g,render:()=>(0,l.jsx)("span",{className:"Body5_M text-grey50 px-3",children:null==a?void 0:a.contractSalesName}),"data-sentry-element":"Controller","data-sentry-source-file":"OrderFormContents.tsx"})}),(0,l.jsx)(zr,{label:"요율 구분",required:!0,error:null===(o=b.salesRateCode)||void 0===o?void 0:o.message,"data-sentry-element":"TmsBasicInfoTableItem","data-sentry-source-file":"OrderFormContents.tsx",children:(0,l.jsx)(Hr.xI,{name:"salesRateCode",control:g,rules:{required:Ws},render:e=>{let{field:t}=e;return P(r,(0,l.jsx)(He.A,{autocompleteBoxClassName:"w-full",selectedId:t.value,componentType:"autocomplete-table",placeholder:"요율 구분 선택",options:S.rateInfoList,onChange:(e,a)=>{t.onChange(a.id),I("itemQuantity",1),_(t.name,a.id)}}))},"data-sentry-element":"Controller","data-sentry-source-file":"OrderFormContents.tsx"})})]})}),(0,l.jsxs)("div",{children:[(0,l.jsx)(ks,{label:"상차 정보","data-sentry-element":"TmsBasicDetailSection","data-sentry-source-file":"OrderFormContents.tsx"}),(0,l.jsxs)(Kr,{"data-sentry-element":"TmsBasicInfoTable","data-sentry-source-file":"OrderFormContents.tsx",children:[(0,l.jsx)(zr,{label:"주소",required:!0,error:null===(i=b.departureNodeCodePlaceId)||void 0===i?void 0:i.message,"data-sentry-element":"TmsBasicInfoTableItem","data-sentry-source-file":"OrderFormContents.tsx",children:(0,l.jsx)(Hr.xI,{name:"departureNodeCodePlaceId",control:g,rules:{required:Ws},render:e=>{let{field:t}=e;return P(r,(0,l.jsx)(He.A,{autocompleteBoxClassName:"w-full",selectedId:t.value,componentType:"autocomplete-table",groupBy:e=>e.groupTitle,renderGroup:e=>(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"Caption2_B text-grey70 my-2 px-2",children:e.group}),(0,l.jsx)("div",{children:e.children})]},e.key),placeholder:"주소 입력",options:S.departureNodeInfoList,onChange:(e,a)=>{_(t.name,a.id),I("departureUserAddress",a.fullAddress||""),I("departureNodeCode",a.codeKey),I("departureCustomerPlaceId",a.customerPlaceId)}}))},"data-sentry-element":"Controller","data-sentry-source-file":"OrderFormContents.tsx"})}),(0,l.jsx)(zr,{label:"상세 주소",required:!0,error:null===(d=b.departureUserAddress)||void 0===d?void 0:d.message,"data-sentry-element":"TmsBasicInfoTableItem","data-sentry-source-file":"OrderFormContents.tsx",children:(0,l.jsx)(Hr.xI,{name:"departureUserAddress",control:g,rules:{required:Ws},render:e=>{let{field:t}=e;return P(r,(0,l.jsx)(Tt.A,{componentType:"input-table",placeholder:"상세 주소 입력",className:"w-full",...t}))},"data-sentry-element":"Controller","data-sentry-source-file":"OrderFormContents.tsx"})}),(0,l.jsx)(Et.A,{className:"chat-order-form-tooltip",title:"상/하차 일시를 확인해 주세요",statusType:"caution",transitionTime:0,arrowPosition:"top-right",isOpened:!!t,placement:"bottom-end","data-sentry-element":"TmsBasicTooltip","data-sentry-source-file":"OrderFormContents.tsx",children:(0,l.jsxs)("div",{className:C()("flex justify-between",{"border-primary80 border":!!t}),children:[(0,l.jsx)("div",{className:"flex-1",children:(0,l.jsx)(zr,{label:"일자","data-sentry-element":"TmsBasicInfoTableItem","data-sentry-source-file":"OrderFormContents.tsx",children:(0,l.jsx)(Hr.xI,{name:"departureRequestDate",control:g,render:e=>{let{field:t}=e;return P(r,(0,l.jsx)(gt.A,{value:je()(t.value),componentType:"date-picker-table",datePickerClassName:"w-full",placeholder:"일자 입력",onChange:e=>{t.onChange(je()(e).format("YYYY-MM-DD")),_(t.name,je()(e).format("YYYY-MM-DD"))}}))},"data-sentry-element":"Controller","data-sentry-source-file":"OrderFormContents.tsx"})})}),(0,l.jsx)("div",{className:"flex-1",children:(0,l.jsx)(zr,{label:"시간","data-sentry-element":"TmsBasicInfoTableItem","data-sentry-source-file":"OrderFormContents.tsx",children:(0,l.jsx)(Hr.xI,{name:"departureRequestTime",control:g,render:e=>{let{field:t}=e;return P(r,(0,l.jsx)(Ys,{value:t.value,componentType:"autocomplete-table",autocompleteBoxClassName:"w-full",placeholder:"시간 입력",onChange:(e,a)=>{t.onChange(a.id),_(t.name,a.id)}}))},"data-sentry-element":"Controller","data-sentry-source-file":"OrderFormContents.tsx"})})})]})})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(ks,{label:"하차 정보","data-sentry-element":"TmsBasicDetailSection","data-sentry-source-file":"OrderFormContents.tsx"}),(0,l.jsxs)(Kr,{"data-sentry-element":"TmsBasicInfoTable","data-sentry-source-file":"OrderFormContents.tsx",children:[(0,l.jsx)(zr,{label:"주소",required:!0,error:null===(c=b.arrivalNodeCodePlaceId)||void 0===c?void 0:c.message,"data-sentry-element":"TmsBasicInfoTableItem","data-sentry-source-file":"OrderFormContents.tsx",children:(0,l.jsx)(Hr.xI,{name:"arrivalNodeCodePlaceId",control:g,rules:{required:Ws},render:e=>{let{field:t}=e;return P(r,(0,l.jsx)(He.A,{autocompleteBoxClassName:"w-full",selectedId:t.value,componentType:"autocomplete-table",placeholder:"주소 입력",groupBy:e=>e.groupTitle,renderGroup:e=>(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"Caption2_B text-grey70 my-2 px-2",children:e.group}),(0,l.jsx)("div",{children:e.children})]},e.key),options:S.arrivalNodeInfoList,onChange:(e,a)=>{_(t.name,a.id),I("arrivalUserAddress",a.fullAddress||""),I("arrivalNodeCode",a.codeKey),I("arrivalCustomerPlaceId",a.customerPlaceId)}}))},"data-sentry-element":"Controller","data-sentry-source-file":"OrderFormContents.tsx"})}),(0,l.jsx)(zr,{label:"상세 주소",required:!0,error:null===(p=b.arrivalUserAddress)||void 0===p?void 0:p.message,"data-sentry-element":"TmsBasicInfoTableItem","data-sentry-source-file":"OrderFormContents.tsx",children:(0,l.jsx)(Hr.xI,{name:"arrivalUserAddress",control:g,rules:{required:Ws},render:e=>{let{field:t}=e;return P(r,(0,l.jsx)(Tt.A,{componentType:"input-table",placeholder:"상세 주소 입력",className:"w-full",...t}))},"data-sentry-element":"Controller","data-sentry-source-file":"OrderFormContents.tsx"})}),(0,l.jsxs)("div",{className:C()("flex justify-between",{"border-primary80 border":!!t}),children:[(0,l.jsx)("div",{className:"flex-1",children:(0,l.jsx)(zr,{label:"일자",required:!0,error:null===(h=b.arrivalRequestDate)||void 0===h?void 0:h.message,"data-sentry-element":"TmsBasicInfoTableItem","data-sentry-source-file":"OrderFormContents.tsx",children:(0,l.jsx)(Hr.xI,{name:"arrivalRequestDate",control:g,render:e=>{let{field:t}=e;return P(r,(0,l.jsx)(gt.A,{value:je()(t.value),componentType:"date-picker-table",datePickerClassName:"w-full",placeholder:"일자 입력",onChange:e=>{t.onChange(je()(e).format("YYYY-MM-DD"))}}))},"data-sentry-element":"Controller","data-sentry-source-file":"OrderFormContents.tsx"})})}),(0,l.jsx)("div",{className:"flex-1",children:(0,l.jsx)(zr,{label:"시간",error:null===(f=b.arrivalRequestTime)||void 0===f?void 0:f.message,"data-sentry-element":"TmsBasicInfoTableItem","data-sentry-source-file":"OrderFormContents.tsx",children:(0,l.jsx)(Hr.xI,{name:"arrivalRequestTime",control:g,render:e=>{let{field:t}=e;return P(r,(0,l.jsx)(Ys,{value:t.value,componentType:"autocomplete-table",autocompleteBoxClassName:"w-full",placeholder:"시간 입력",onChange:(e,a)=>{t.onChange(a.id),_(t.name,a.id)}}))},"data-sentry-element":"Controller","data-sentry-source-file":"OrderFormContents.tsx"})})})]})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(ks,{label:"품목 및 요청사항","data-sentry-element":"TmsBasicDetailSection","data-sentry-source-file":"OrderFormContents.tsx"}),(0,l.jsxs)(Kr,{"data-sentry-element":"TmsBasicInfoTable","data-sentry-source-file":"OrderFormContents.tsx",children:[(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("div",{className:"flex-1",children:(0,l.jsx)(zr,{label:"품목",required:!0,error:null===(x=b.itemCode)||void 0===x?void 0:x.message,"data-sentry-element":"TmsBasicInfoTableItem","data-sentry-source-file":"OrderFormContents.tsx",children:(0,l.jsx)(Hr.xI,{name:"itemCode",control:g,rules:{required:Ws},render:e=>{let{field:t}=e;return P(r,(0,l.jsx)(He.A,{autocompleteBoxClassName:"w-full",selectedId:t.value,componentType:"autocomplete-table",placeholder:"품목 입력",options:S.itemInfoList,onChange:(e,a)=>{_(t.name,a.id)}}))},"data-sentry-element":"Controller","data-sentry-source-file":"OrderFormContents.tsx"})})}),(0,l.jsx)("div",{className:"flex-1",children:(0,l.jsx)(zr,{label:"중량",required:!0,error:null===(N=b.weight)||void 0===N?void 0:N.message,"data-sentry-element":"TmsBasicInfoTableItem","data-sentry-source-file":"OrderFormContents.tsx",children:(0,l.jsx)(Hr.xI,{name:"weight",control:g,rules:{validate:{positive:(e,t)=>Number(e)>0||"중량은 0이상 입력해주세요."}},render:e=>{let{field:t}=e;return P(r,(0,l.jsx)(Tt.A,{classNameInput:"!min-w-[unset]",componentType:"input-table",placeholder:"중량 입력",...t,onChange:e=>{const a=qs(e.target.value,3);t.onChange(a),_(t.name,a)}}))},"data-sentry-element":"Controller","data-sentry-source-file":"OrderFormContents.tsx"})})})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("div",{className:"flex-1",children:(0,l.jsx)(zr,{label:"차종",required:!0,error:null===(y=b.vehicleType)||void 0===y?void 0:y.message,"data-sentry-element":"TmsBasicInfoTableItem","data-sentry-source-file":"OrderFormContents.tsx",children:(0,l.jsx)(Hr.xI,{name:"vehicleType",control:g,rules:{required:Ws},render:e=>{let{field:t}=e;return P(r,(0,l.jsx)(He.A,{autocompleteBoxClassName:"w-full",selectedId:t.value,componentType:"autocomplete-table",placeholder:"차종 입력",options:S.vehicleInfoList,onChange:(e,a)=>{_(t.name,a.id)}}))},"data-sentry-element":"Controller","data-sentry-source-file":"OrderFormContents.tsx"})})}),(0,l.jsx)("div",{className:"flex-1",children:(0,l.jsx)(zr,{label:"톤급",required:!0,error:null===(E=b.tonCode)||void 0===E?void 0:E.message,"data-sentry-element":"TmsBasicInfoTableItem","data-sentry-source-file":"OrderFormContents.tsx",children:(0,l.jsx)(Hr.xI,{name:"tonCode",control:g,rules:{required:Ws},render:e=>{let{field:t}=e;return P(r,(0,l.jsx)(He.A,{autocompleteBoxClassName:"w-full",selectedId:t.value,componentType:"autocomplete-table",placeholder:"톤급 입력",options:S.tonInfoList,onChange:(e,a)=>{_(t.name,a.id)}}))},"data-sentry-element":"Controller","data-sentry-source-file":"OrderFormContents.tsx"})})})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("div",{className:"flex-1",children:(0,l.jsx)(zr,{label:"의뢰량",required:!0,error:null===(v=b.itemQuantity)||void 0===v?void 0:v.message,"data-sentry-element":"TmsBasicInfoTableItem","data-sentry-source-file":"OrderFormContents.tsx",children:(0,l.jsx)(Hr.xI,{name:"itemQuantity",control:g,rules:{required:Ws},render:e=>{let{field:t}=e;return P(r,(0,l.jsx)(Tt.A,{componentType:"input-table",classNameInput:"!min-w-[unset]",disabled:R,placeholder:"의뢰량 입력",...t,onChange:e=>{const a=qs(e.target.value,3);_(t.name,a)}}))},"data-sentry-element":"Controller","data-sentry-source-file":"OrderFormContents.tsx"})})}),(0,l.jsx)("div",{className:"flex-1",children:(0,l.jsx)(zr,{label:"수송량",required:!0,error:null===(A=b.rateQuantity)||void 0===A?void 0:A.message,"data-sentry-element":"TmsBasicInfoTableItem","data-sentry-source-file":"OrderFormContents.tsx",children:(0,l.jsx)(Hr.xI,{name:"rateQuantity",control:g,rules:{required:Ws},render:e=>{let{field:t}=e;return P(r,(0,l.jsx)(Tt.A,{componentType:"input-table",classNameInput:"!min-w-[unset]",disabled:R,placeholder:"수송량 입력",...t,onChange:e=>{const a=qs(e.target.value,3);_(t.name,a)}}))},"data-sentry-element":"Controller","data-sentry-source-file":"OrderFormContents.tsx"})})})]}),(0,l.jsx)(zr,{label:"요청 사항","data-sentry-element":"TmsBasicInfoTableItem","data-sentry-source-file":"OrderFormContents.tsx",children:(0,l.jsx)(Hr.xI,{name:"remark",control:g,render:e=>{let{field:t}=e;return P(r,(0,l.jsx)(Tt.A,{componentType:"input-table",placeholder:"요청 사항 입력",className:"w-full",...t}))},"data-sentry-element":"Controller","data-sentry-source-file":"OrderFormContents.tsx"})})]})]})]}),(0,l.jsxs)("div",{className:"border-grey95 flex flex-shrink-0 justify-between border-t pt-[20px]",children:[(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("div",{className:"text-grey60 Body5_B mr-2",children:"계약 운임"}),(0,l.jsxs)("div",{className:"text-tertiary50 Body1_EX",children:[(j.salesActualRateAmount||0).toLocaleString(),"원"]}),M&&Number(j.salesActualRateAmount||0)>0&&Number((null==t?void 0:t.finalAmount)||0)!==Number(j.salesActualRateAmount||0)&&(0,l.jsx)("div",{className:"text-tertiary50 bg-tertiary98 Caption2_B ml-[8px] rounded-[4px] px-[4px] py-[2px]",children:"계약 운임이 변경됐어요"})]}),(0,l.jsx)(u.A,{type:"submit",label:"등록",level:m.V.level_2,size:m.M.Large,leftIcon:(0,l.jsx)(Pt.A,{width:20,height:18,className:"text-white"}),"data-sentry-element":"TmsBasicButton","data-sentry-source-file":"OrderFormContents.tsx"})]})]})};var Ks,zs=function(e){let{selectedCustomer:t}=e;const{selectedOrder:a,isOrderLoading:r,setSelectedOrder:s,appendMessageToLast:n}=ts(),o=()=>{s(null)};return(0,l.jsx)(Hs,{selectedOwner:t,orderInfo:a,isOrderSearching:r,onSaveOrderSuccess:()=>{n({message:(0,l.jsx)(Wr,{message:"신규 주문이 등록되었어요.",isShowBotName:!1}),direction:"incoming",customerId:t.personalAdminCustomerByChatId}),o()},resetSelectedOrder:o,"data-sentry-element":"OrderFormContents","data-sentry-component":"ChatOrderFormPanel","data-sentry-source-file":"ChatOrderFormPanel.tsx"})};function Xs(){return Xs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},Xs.apply(null,arguments)}var Qs=function(e){return r.createElement("svg",Xs({xmlns:"http://www.w3.org/2000/svg",width:22,height:10,fill:"none"},e),Ks||(Ks=r.createElement("path",{fill:"#fff",d:"M1.85 10q-.544 0-.814-.164a.77.77 0 0 1-.351-.41 1.8 1.8 0 0 1-.082-.54q0-.843.17-1.716.176-.879.456-1.863.282-.985.598-2.133.117-.421.37-.903.256-.48.615-.902.357-.427.785-.697t.89-.27q.498 0 .698.211.205.21.205.557 0 .405-.264.99-.264.586-.902 1.383-.639.791-1.764 1.828-.105.44-.246.961-.141.522-.246 1.031-.105.51-.106.92 0 .417.147.68.152.258.539.258.316 0 .65-.2.34-.198.627-.515.288-.322.463-.692t.176-.703a.85.85 0 0 0-.334-.691q-.334-.27-1.166-.27.059-.21.281-.45.228-.241.51-.41.287-.17.504-.17.65 0 .943.374.293.375.293.967 0 .345-.076.78-.07.427-.252.831-.182.405-.521.68.263-.152.603-.434.346-.287.691-.609.346-.328.604-.598l-.07.75q-.236.264-.639.627-.405.358-.984.71-.575.345-1.325.573-.75.23-1.675.229m.815-5.748q.3-.188.621-.533.322-.352.598-.768.281-.416.451-.808.176-.393.176-.674 0-.393-.393-.393-.122 0-.305.281a6 6 0 0 0-.38.715q-.2.428-.375.885-.176.45-.287.809-.105.357-.106.486M8.097 10q-.71 0-1.131-.469t-.422-1.224q0-.633.205-1.243.21-.609.592-1.095.387-.492.914-.78a2.36 2.36 0 0 1 1.166-.293q.575 0 .978.223.405.223.405.809 0 .45-.258.832-.252.374-.65.603a1.7 1.7 0 0 1-.844.223q-.246 0-.545-.147a1.35 1.35 0 0 1-.516-.486 2.38 2.38 0 0 0-.17 1.693q.088.306.305.499.217.192.598.193.274 0 .615-.223.339-.223.703-.556.363-.34.709-.692t.627-.615v.644q-.81.95-1.617 1.53Q8.958 10 8.097 10m1.049-2.918q.345 0 .591-.34a1.25 1.25 0 0 0 .246-.75q0-.334-.146-.451-.147-.117-.404-.117a1 1 0 0 0-.61.199q-.264.2-.433.457-.165.252-.229.428.205.27.463.422.264.152.522.152M12.075 10q-.416 0-.556-.287a1.6 1.6 0 0 1-.141-.686q0-.327.059-.638l.093-.504.106-.522q.046-.199.1-.398l.134-.533q.082-.33.217-.909a4 4 0 0 1-.363-.017q-.182-.018-.182-.235 0-.063.023-.1.03-.04.194-.058l.492-.047q.21-.69.44-1.26.228-.567.585-.908.358-.34.955-.34l.024.024q0 .024-.094.287l-.234.656-.276.809q-.135.415-.222.732l1.787-.082-.13.211q-.063.123-.38.182-.311.058-.697.076-.387.012-.674.012-.006 0-.076.264-.07.257-.176.656-.105.397-.21.826-.107.421-.177.768-.07.345-.07.486 0 .216.041.38.041.159.246.159.111 0 .428-.234.316-.236.785-.645.469-.416 1.02-.937v.65q-.317.34-.704.72-.386.375-.802.704a4.8 4.8 0 0 1-.815.533 1.65 1.65 0 0 1-.75.205M16.118 10q-.369 0-.568-.246a1.4 1.4 0 0 1-.264-.592 3.3 3.3 0 0 1-.07-.65q0-.651.305-1.29.31-.638.85-1.16.538-.527 1.235-.837.704-.317 1.483-.317.264 0 .498.059.234.053.486.135-.012.07-.082.38-.07.306-.164.733-.094.428-.187.867-.089.44-.153.791-.058.346-.058.492 0 .375.176.375.157 0 .427-.217a7 7 0 0 0 .627-.574q.351-.357.739-.785v.674a7 7 0 0 1-.41.44 15 15 0 0 1-1.272 1.124 5 5 0 0 1-.627.428q-.287.17-.463.17-.264 0-.357-.234a1.5 1.5 0 0 1-.088-.534q0-.151.011-.298.018-.153.035-.27a5 5 0 0 1-.574.621 3.3 3.3 0 0 1-.726.516q-.393.2-.809.199m.92-.937a.83.83 0 0 0 .41-.135q.234-.136.463-.328.228-.194.387-.364l.674-2.882q-.492 0-.944.263-.45.263-.802.692a3.5 3.5 0 0 0-.557.92 2.5 2.5 0 0 0-.205.955q0 .34.123.609.129.27.451.27"})))};var Zs=e=>{let{setIsShowModal:t}=e;const{mutateAsync:a,isSuccess:s,data:n}=(0,T.n)(["useChatOrderOwnerList"],(async()=>(await I.q.api((e=>e.ApiPersonalV1CustomerByChatList({})))).data.result)),[o,i]=(0,r.useState)(null),d=()=>{a()};return(0,r.useEffect)((()=>{s&&(n.itemList.length>0?i(n.itemList[0]):i(null))}),[s]),(0,r.useEffect)((()=>{d()}),[]),(0,l.jsx)(es,{"data-sentry-element":"ChatOrderProvider","data-sentry-component":"ChatOrderModal","data-sentry-source-file":"ChatOrderModal.tsx",children:(0,l.jsx)(Pe.A,{title:(0,l.jsxs)("div",{className:"flex text-white",children:[(0,l.jsx)("div",{className:"Title3_EX mr-[4px]",children:"챗주문"}),(0,l.jsx)(Qs,{}),(0,l.jsx)("div",{className:"Body4_B ml-[12px]",children:" 계약 주문만 등록할 수 있어요."})]}),modalWidth:1216,modalContentHeight:682,confirmButtonLabel:"지정하기",isShowedBottomButton:!1,isShowedConfirmButton:!1,onClickCloseButton:()=>t(!1),containerClassName:"bg-[linear-gradient(202deg,#007B96_5.32%,#2065CC_14.91%,#122699_82.04%,#007B96_101.22%)]",closeButtonClassName:"text-white",contentClassName:"!px-[8px] !pb-[8px]","data-sentry-element":"TmsBasicModal","data-sentry-source-file":"ChatOrderModal.tsx",children:(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("div",{className:"h-[682px] w-[640px] rounded-[8px]",children:(0,l.jsx)(Ds,{customerList:(null==n?void 0:n.itemList)||[],selectedCustomer:o,setSelectedCustomer:i,reloadOwnerList:d,"data-sentry-element":"ChatOrderOwnerPanel","data-sentry-source-file":"ChatOrderModal.tsx"})}),(0,l.jsxs)("div",{className:"w-[552px] rounded-[8px] bg-white",children:[(0,l.jsx)("div",{className:"Body2_B p-[20px]",children:"주문 정보"}),(0,l.jsx)("div",{className:"px-[20px]",children:(0,l.jsx)(zs,{selectedCustomer:o,"data-sentry-element":"ChatOrderFormPanel","data-sentry-source-file":"ChatOrderModal.tsx"})})]})]})})})};var Js=function(){const[e,t]=r.useState(!1);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("button",{className:"ralative flex h-[64px] w-[56px]",onClick:()=>t(!0),children:[(0,l.jsx)("img",{src:"/chat-order.png",alt:"챗주문 버튼",className:"h-[56px] w-[56px]"}),(0,l.jsx)("div",{className:"Body5_M absolute bottom-[5px] left-0 flex h-[20px] w-[56px] items-center justify-center rounded-full bg-black text-white",children:"챗주문"})]}),e&&(0,l.jsx)(Zs,{setIsShowModal:t})]})},$s=a(47310),en=a(46377),tn=a(53467);const an=e=>{switch(e){case"0040":return 3.5;case"0060":return 5;case"0085":return 8;default:return Number((parseInt(e)/10).toFixed(1))||1}},ln=function(e){var t,a;const l=["customerId","contractCategoryType","contractSalesName","salesInfoRateCode","departureNodeCode","arrivalNodeCode"].includes(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"");var r,s,n,o,i,d,c,u;return{customerId:e.customerId,contractSalesId:e.contractSalesId||"",contractCategoryType:e.contractCategoryType,salesRateCode:e.salesInfoRateCode,departureNodeCode:(null===(t=e.departureNodeCode)||void 0===t?void 0:t.split("-")[0])||"",arrivalNodeCode:(null===(a=e.arrivalNodeCode)||void 0===a?void 0:a.split("-")[0])||"",itemCode:e.orderItemCode,vehicleType:e.requestVehicleType||null,tonCode:null!==(r=e.requestVehicleTonCode)&&void 0!==r?r:null,purchaseRateCode:null!==(s=e.purchaseInfoRateCode)&&void 0!==s?s:null,vendorId:null!==(n=e.vendorId)&&void 0!==n?n:null,orderMdmCorporationCode:null!==(o=e.orderCorporationCode)&&void 0!==o?o:null,departureCustomerPlaceId:null!==(i=e.departureCustomerPlaceId)&&void 0!==i?i:null,arrivalCustomerPlaceId:null!==(d=e.arrivalCustomerPlaceId)&&void 0!==d?d:null,departureRequestDate:je()(e.departureRequestDate).format("YYYY-MM-DD"),departureRequestTime:null!==(c=e.departureRequestTime)&&void 0!==c?c:null,settingDistance:l?null:(u=e.distance,"DISTANCE"===e.contractCategoryType?u:0===u||"0"===u||""===u||null==u?null:u)}},rn=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(null==e?void 0:e.map((e=>({...e,id:t?"".concat(e.codeKey,"-").concat(e[t]):e.codeKey,label:e.name||"없음",groupTitle:"customerPlaceId"===t?e.customerPlaceId?"거래처 마스터":"계약 마스터":""}))))||[]},sn=e=>{let t={};switch(e){case"customerId":t={contractCategoryType:"SECTION",...tn.nP,salesInfoRateCode:"",...tn.qW,...tn.e6,...tn.AA,...tn.Tt};break;case"contractCategoryType":t={...tn.nP,salesInfoRateCode:"",...tn.qW,...tn.e6,...tn.AA};break;case"contractSalesName":t={salesInfoRateCode:"",...tn.qW,...tn.AA};break;case"salesInfoRateCode":t={...tn.qW}}return t},nn=(e,t,a)=>{const l=["customerId","contractCategoryType","contractSalesName","salesInfoRateCode","departureNodeCode","arrivalNodeCode","departureRequestDate"].includes(a),r={arrivalRequestDate:l?t.arrivalRequestDate||"":e.arrivalRequestDate,arrivalRequestTime:l?t.arrivalRequestTime||"":e.arrivalRequestTime},s=["customerId","contractCategoryType","contractSalesName","salesInfoRateCode","departureNodeCode","arrivalNodeCode"].includes(a)?t.beforeDistance||t.estimateDistance||"0":e.distance||"0",n="3"===e.salesInfoRateCode?{orderQuantity:"1",salesInfoQuantity:"1"}:{},o="3"===e.purchaseInfoRateCode?{purchaseInfoQuantity:"1"}:{},i="NONE"===e.contractCategoryType?{}:{purchaseInfoRateAmount:t.salesPurchaseAmount||"0",salesInfoRateAmount:t.salesRateAmount||"0"},d={industryCode:t.industryCode||"",serviceCode:t.serviceCode||"",serviceCode2:t.serviceCode2||""},c={contractCorporationCodeList:t.contractCorporationCodeList||[],contractPurchaseCostCenterCodeList:t.contractPurchaseCostCenterCodeList||[],contractSalesCostCenterCodeList:t.contractSalesCostCenterCodeList||[]},u={isMafra:t.isMafra||!1,govGrainItemDetailType:t.govGrainItemDetailType,govGrainPackageUnitType:t.govGrainPackageUnitType,govGrainRegionSubType:t.govGrainRegionSubType,govGrainRegionType:t.govGrainRegionType,govGrainTransportType:t.govGrainTransportType,govGrainUsageType:t.govGrainUsageType};return{...e,...i,purchaseInfoRateAmountEditable:(0,en.Nk)(e.contractCategoryType,t.salesPurchaseAmount),salesInfoRateAmountEditable:(0,en.Nk)(e.contractCategoryType,t.salesRateAmount),purchaseInfoFinalAmountEdit:!1,estimateDistance:t.estimateDistance||"0",distance:s,...r,...n,...o,...d,...c,...u,baseUnitPrice:t.baseUnitPrice||0,materialName:t.materialName||"",_dynamicOptions:{...e._dynamicOptions,VEHICLE_TYPE:e._isNew?rn(t.vehicleInfoList):null,departureNodeCode:e._isNew?rn(t.departureNodeInfoList,"customerPlaceId"):null,arrivalNodeCode:e._isNew?rn(t.arrivalNodeInfoList,"customerPlaceId"):null,requestVehicleType:e._isNew?rn(t.vehicleInfoList):null,salesInfoRateCode:rn(t.rateInfoList),orderItemCode:e._isNew?rn(t.itemInfoList):null,vendorId:rn(t.contractVendorList),requestVehicleTonCode:rn(t.tonInfoList)}}},on=(e,t,a)=>{const l=nn(t,e,a.field),r=t._isNew?{itemInfoList:"orderItemCode",vehicleInfoList:"requestVehicleType",tonInfoList:"requestVehicleTonCode",rateInfoList:"salesInfoRateCode",departureNodeInfoList:"departureNodeCode",arrivalNodeInfoList:"arrivalNodeCode"}:{tonInfoList:"requestVehicleTonCode"};let s={};var n,o,i;n=e,o={...r},i=t,s=Object.entries(o).reduce(((e,t)=>{let[a,l]=t;if("NONE"===i.contractCategoryType)return e;const r=null==n?void 0:n[a],s=null==i?void 0:i[l],o=["departureNodeInfoList","arrivalNodeInfoList"].includes(a);var d;if(Array.isArray(r))if(1===r.length&&(null===(d=r[0])||void 0===d?void 0:d.codeKey)){var c;const t=o?"".concat(r[0].codeKey,"-").concat(null===(c=r[0])||void 0===c?void 0:c.customerPlaceId):r[0].codeKey;s!==t&&(e._isRefetch=!0),e[l]=t}else if(null!=s){const t=r.some((e=>o?"".concat(e.codeKey,"-").concat(e.customerPlaceId)===s:e.codeKey===s));e[l]=t?s:null}else e[l]=null;else e[l]=null;return e}),{_isRefetch:!1}),s=((e,t,a)=>{let l={...t};const{departureNodeInfoList:r,arrivalNodeInfoList:s}=e,{departureNodeCode:n,arrivalNodeCode:o}=t;if(n&&a.departureNodeCode!==n&&r.length){const e=r.find((e=>"".concat(e.codeKey,"-").concat(e.customerPlaceId)===n)),{name:t,nodeAddress:a,fullAddress:s,customerPlaceId:o,managerName:i,managerPhoneNumber:d}=e,c={departureNodeName:t,departureNodeAddress:a||s||"-",departureUserAddress:s||"-",departureCustomerPlaceId:o,departureManagerName:i,departureManagerPhoneNumber:d};l={...l,...c}}if(o&&a.arrivalNodeCode!==o&&s.length){const e=s.find((e=>"".concat(e.codeKey,"-").concat(e.customerPlaceId)===o)),{name:t,nodeAddress:a,fullAddress:r,customerPlaceId:n,managerName:i,managerPhoneNumber:d}=e,c={arrivalNodeName:t,arrivalNodeAddress:a||r||"-",arrivalUserAddress:r||"-",arrivalCustomerPlaceId:n,arrivalManagerName:i,arrivalManagerPhoneNumber:d};l={...l,...c}}return l})(e,s,l);let d={id:a.id,...l,...s};if("3"===d.salesInfoRateCode&&d.requestVehicleTonCode){const e=an(d.requestVehicleTonCode);d={...d,orderWeight:e}}return d},dn="orderItemCode",cn=function(e){const t=(0,$e.P9)(),a=(0,$s.Vj)(),l=(0,r.useRef)(!1),s=async(e,l,r)=>{const s=r.api.getRow(e.id);try{if(!e.colDef.dynamicOption||!s.customerId)return;const l=sn(e.field),n={customerId:s.customerId,contractCategoryType:l.contractCategoryType||s.contractCategoryType},o=Object.hasOwn(l,"contractSalesId")?await(async(e,a)=>{if(e.customerId){if(e.contractCategoryType&&"NONE"!==e.contractCategoryType)try{const l=(await(0,$s.T7)({contractCategoryType:e.contractCategoryType,customerId:Number(e.customerId)}))[0]||null;if(l)return{...a,contractSalesId:l.contractSalesId,contractSalesName:l.contractNameSales,orderCorporationCode:l.orderCorporationCode,purchaseCostCenterCode:l.purchaseCostCenterCode,salesCostCenterCode:l.salesCostCenterCode};t({message:"계약 구분에 대한 계약마스터가 없습니다.",type:"caution",delay:5e3})}catch(e){t({message:e.message,type:"caution",delay:5e3})}return a}t({message:"선택된 화주가 없습니다.",type:"caution",delay:5e3})})(n,l):{...l};e.api.updateRows([{...s,...o}]);const i=r.api.getRow(e.id),d=ln(i,e.field),c=await a.mutateAsync(d),u=on(c,i,e);if(e.api.updateRows([u]),u._isRefetch,u._isRefetch){const t=r.api.getRow(e.id),l=ln(t),s=await a.mutateAsync(l),n=nn(t,s,e.field);e.api.updateRows([n])}}catch(a){((e,a,l)=>{e&&t({message:e.message,type:"fail",delay:5e3}),a.id,sn("contractSalesName"),l._dynamicOptions})(a,e,s)}};return(0,r.useEffect)((()=>{let t;(null==e?void 0:e.current)&&e.current&&!l.current&&(t=e.current.subscribeEvent("selectedOnChange",s),l.current=!0)}),[e]),null==e?void 0:e.current};var un=a(89012),mn=a.n(un);const pn=function(e,t,a){let l=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const[s,n]=(0,r.useState)(null),o=(0,r.useRef)(!1),i=(0,r.useCallback)(mn()((e=>{if(t){const a=Object.keys(e)[0],l=(Object.keys(Object.values(e)[0])[0],t().find((e=>e._id_===a)));if(!l)return;l.isDirty=!0,Object.keys(l.errorMap||{}).forEach((e=>{l[e]&&delete l.errorMap[e]}))}}),500),[l,t]);return(0,r.useEffect)((()=>{let t;e&&a.current&&!o.current&&(t=a.current.subscribeEvent("customRowUpdate",i),o.current=!0)}),[e,l]),{updateTargetRow:s}};var hn=a(97290);const fn=()=>{const{commonServiceInfoOption:e}=(0,Je.X)(),t=async(e,t,a)=>{"edit"===a.cellMode&&await a.api.setEditCellValue({id:a.id,field:a.field,value:t.id},e),a.api.updateRows([{...a.row,serviceCode:t.id,serviceCode2:"",isDirty:!0}])},a=t=>{var a,l,r;return null!==(r=null===(l=e.find((e=>e.id===t.row.serviceCode)))||void 0===l||null===(a=l.children)||void 0===a?void 0:a.map((e=>({id:e.mdmCode,label:e.value}))))&&void 0!==r?r:[]},l=async(e,t,a)=>{"edit"===a.cellMode&&await a.api.setEditCellValue({id:a.id,field:a.field,value:t.id},e),a.api.updateRows([{...a.row,serviceCode2:t.id,isDirty:!0}])};return{ftOneColumns:(0,r.useMemo)((()=>[{field:"industryCode",headerName:"사업 구분",cellClassName:"wide-cell",required:!0,editable:!0,defaultEditable:!0,metaKey:Ze.k.INDUSTRY_CODE,type:da._.CUSTOM_SELECT,width:131},{field:"serviceCode",headerName:"서비스",cellClassName:"wide-cell",required:!0,editable:!0,defaultEditable:!0,width:120,type:da._.CUSTOM_SELECT,options:e,onChange:t},{field:"serviceCode2",headerName:"서비스(2)",cellClassName:"wide-cell",required:!0,editable:!0,defaultEditable:!0,width:120,type:da._.CUSTOM_SELECT,options:a,onChange:l}]),[e,a,t,l]),serviceOptions:e,handleChangeService:t,service2Options:a,handleChangeService2:l}},Cn=g()((()=>a.e(573).then(a.bind(a,23573))),{loadableGenerated:{webpack:()=>[23573]},ssr:!1});function xn(e){let{params:t,defaultReadonly:a=!1,readonly:s}=e;(0,$e.P9)();const[n,o]=(0,r.useState)(t.row[t.field]),[i,d]=(0,r.useState)(!1);(0,r.useEffect)((()=>{o(t.row[t.field])}),[t.row[t.field]]);const c=()=>{d(!0)};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(Zt.A,{className:"tms-basic-input-mui",value:n,placeholder:a?"자동 입력":s?"":"입력",onKeyDown:e=>{"Space"!==e.code&&"ArrowRight"!==e.key&&"ArrowLeft"!==e.key||e.stopPropagation(),"Enter"===e.key&&c()},onChange:e=>{o(e.target.value)},slotProps:{input:{readOnly:s,endAdornment:(0,l.jsx)(se.A,{width:20,height:20,className:"cursor-pointer ".concat(s&&"text-greyDisabled"),onClick:()=>{s||c()}})}},"data-sentry-element":"TmsBasicInputMui","data-sentry-source-file":"GridColumnGovInstructionSearchInput.tsx"}),i&&(0,l.jsx)(Cn,{params:t,defaultInstructionNo:n,onRowDoubleClickProps:(e,a,l)=>{const r={...t.row,govGrainInstructionId:e.row.govGrainInstructionId,govGrainInstructionName:e.row.instructionNo};t.api.updateRows([r]),o(e.row.instructionNo),d(!1)},onClose:()=>d(!1)})]})}function Nn(){return{regionOptions:(0,r.useMemo)((()=>[{id:"SUDO",label:"수도권",children:[{id:"SEOUL",label:"서울특별시"},{id:"INCHEON",label:"인천광역시"},{id:"GYEONGGI",label:"경기도"}]},{id:"YEONGDONG",label:"영동권",children:[{id:"GANGWON",label:"강원도"}]},{id:"YEONGNAM",label:"영남권",children:[{id:"GYEONGBUK",label:"경상북도"},{id:"GYEONGNAM",label:"경상남도"},{id:"DAEGU",label:"대구광역시"},{id:"ULSAN",label:"울산광역시"},{id:"BUSAN",label:"부산광역시"}]},{id:"CHUNGCHEONG",label:"충청권",children:[{id:"CHUNGBUK",label:"충청북도"},{id:"CHUNGNAM",label:"충청남도"},{id:"DAEJEON",label:"대전광역시"},{id:"SEJONG",label:"세종특별자치시"}]},{id:"HONAM",label:"호남권",children:[{id:"JEONBUK",label:"전라북도"},{id:"JEONNAM",label:"전라남도"},{id:"GWANGJU",label:"광주광역시"},{id:"JEJU",label:"제주특별자치도"}]}]),[])}}var yn=a(94106);const En=()=>{const{user:e}=(0,i.o)(),{commonMetaV2List:t}=(0,Je.X)(),a=(0,r.useMemo)((()=>"GOV_GRAIN"===(null==e?void 0:e.orderDispatchManageType)),[e]),s=(0,r.useMemo)((()=>t[Ze.k.GOV_GRAIN_ITEM_DETAIL_TYPE]),[]),n=(0,r.useMemo)((()=>t[Ze.k.GOV_GRAIN_PACKAGE_UNIT_TYPE]),[]),o=(0,r.useMemo)((()=>t[Ze.k.GOV_GRAIN_TRANSPORT_TYPE]),[]),d=(0,r.useMemo)((()=>t[Ze.k.GOV_GRAIN_USAGE_TYPE]),[]),c=(0,r.useMemo)((()=>t[Ze.k.GOV_GRAIN_CREATION_CHANNEL_TYPE]),[]),{regionOptions:u}=Nn(),m=async(e,t,a)=>{let l="";"YEONGDONG"===t.id&&(l="GANGWON"),a.api.updateRows([{...a.row,govGrainRegionType:t.id,govGrainRegionSubType:l,isDirty:!0}])},p=async(e,t,a)=>{a.api.updateRows([{...a.row,govGrainRegionSubType:t.id,isDirty:!0}])},h=e=>{var t,a;return null!==(a=null===(t=u.find((t=>t.id===e.row.govGrainRegionType)))||void 0===t?void 0:t.children)&&void 0!==a?a:[]},f=(e,t)=>a=>{if(!a.aggregation)return(0,l.jsx)(yn.A,{params:a,options:"function"==typeof e?e(a):e,disableClearable:!0,readonly:!a.row.isMafra,onChangeProps:t})};return{isGov:a,govColumns:(0,r.useMemo)((()=>[{field:"govGrainRegionType",headerName:"정부양곡 권역",cellClassName:"wide-cell",width:150,editable:!1,defaultEditable:!1,renderCell:f(u,m)},{field:"govGrainRegionSubType",headerName:"정부양곡 세부권역",cellClassName:"wide-cell",width:150,editable:!1,defaultEditable:!1,renderCell:f(h,p)},{field:"govGrainItemDetailType",headerName:"정부양곡 상세 품목",cellClassName:"wide-cell",width:150,editable:!0,defaultEditable:!0,renderCell:f(s,null)},{field:"govGrainUsageType",headerName:"정부양곡 용도",cellClassName:"wide-cell",width:150,editable:!0,defaultEditable:!0,renderCell:f(d,null)},{field:"govGrainPackageUnitType",headerName:"정부양곡 포장 단위",cellClassName:"wide-cell",width:150,editable:!0,defaultEditable:!0,renderCell:f(n,null)},{field:"govGrainTransportType",headerName:"정부양곡 수송 구분",cellClassName:"wide-cell",width:150,editable:!0,defaultEditable:!0,renderCell:f(o,null)},{field:"govGrainInstructionName",headerName:"정부양곡 지시번호",cellClassName:"wide-cell",width:150,headerAlign:"center",editable:!0,defaultEditable:!0,renderCell:e=>{if(!e.aggregation)return(0,l.jsx)(xn,{params:e,readonly:!e.row.isMafra})}},{field:"govGrainCreationChannelType",headerName:"정부양곡 등록 방법",cellClassName:"wide-cell",width:150,editable:!0,defaultEditable:!0,renderCell:f(c,null)}]),[u,s,d,n,o,c]),govItemDetailOptions:s,govUsageOptions:d,govPackateUnitOptions:n,govTransportOptions:o}},vn={TEMP:{className:"bg-failLight text-fail",label:"화물임시등록"},DISPATCH_REQUEST:{className:"bg-failLight text-fail",label:"배차의뢰"},DISPATCH_PLAN:{className:"bg-failLight text-fail",label:"배차계획"},CONFIRM_ASSIGNMENT:{className:"bg-cautionLight text-caution",label:"배정확정"},CONFIRM_DISPATCH:{className:"bg-decideLight text-decide",label:"배차확정"},DELIVERY_START:{className:"bg-progressLight text-progress",label:"운행시작"},PICKUP_MOVING:{className:"bg-progressLight text-progress",label:"운행시작"},PICKUP_COMPLETE:{className:"bg-progressLight text-progress",label:"운행시작"},WAYPOINT:{className:"bg-progressLight text-progress",label:"운행시작"},DROP_MOVING:{className:"bg-progressLight text-progress",label:"운행시작"},DROP_COMPLETE:{className:"bg-progressLight text-progress",label:"운행시작"},DELIVERY_COMPLETE:{className:"bg-successLight text-success",label:"운행완료"},REQUEST_RESULT_CONFIRM:{className:"bg-purple95 text-purple50",label:"운송실적요청"},CONFIRM_RESULT:{className:"bg-secondary95 text-secondary50",label:"운송실적확정"},ORDER_CANCEL:{className:"bg-errorLight text-error",label:"주문취소"},DELIVERY_CANCEL:{className:"bg-errorLight text-error",label:"운행중단"}},An={className:"bg-failLight text-fail",label:""};var gn={RoundTag:e=>{let{isLink:t}=e;return(0,l.jsx)("div",{className:"bg-grey90 flex h-[20px] w-[20px] items-center justify-center rounded-full p-[2px]","data-sentry-component":"RoundTag","data-sentry-source-file":"GridComponent.tsx",children:t?"Y":"N"})},OrderStatusTag:e=>{let{status:t}=e;const{className:a,label:r}=vn[t]||An;return(0,l.jsx)("div",{className:"Caption1_B h-[20px] rounded-[3px] px-1 py-[1px] ".concat(a),"data-sentry-component":"OrderStatusTag","data-sentry-source-file":"GridComponent.tsx",children:r||"-"})}};const Tn=g()((()=>a.e(677).then(a.bind(a,49677))),{loadableGenerated:{webpack:()=>[49677]},ssr:!1});function In(e){let{params:t,defaultReadonly:a=!1,readonly:s}=e;const n=(0,$e.P9)(),[o,i]=(0,r.useState)(""),[d,c]=(0,r.useState)(!1);(0,r.useEffect)((()=>{i(t.row[t.field])}),[t]);const u=()=>{s||(t.row._isNew?t.row.customerId?t.row.contractCategoryType?"NONE"!==t.row.contractCategoryType?c(!0):n({message:"계약 외 주문은 계약 마스터를 선택할 수 없습니다.",type:"fail"}):n({message:"계약 구분을 선택해주세요.",type:"fail"}):n({message:"고객명을 선택해주세요.",type:"fail"}):n({message:"계약 마스터를 변경할 수 없습니다.",type:"fail"}))};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(Zt.A,{className:"basic-search-input",value:o,onKeyUp:e=>{"Enter"===e.key&&u()},onChange:e=>{i(e.target.value)},slotProps:{input:{readOnly:s,endAdornment:(0,l.jsx)(se.A,{width:20,height:20,className:"cursor-pointer ".concat(s?"hidden":""),onClick:()=>u()})}},"data-sentry-element":"TmsBasicInputMui","data-sentry-source-file":"GridColumnContractMasterSearchInput.tsx"}),d&&(0,l.jsx)(Tn,{customerId:t.row.customerId,contractCategoryType:t.row.contractCategoryType,onRowDoubleClickProps:(e,a,l)=>{const r={...t.row,contractSalesId:e.row.contractSalesId,contractSalesName:e.row.contractNameSales,orderCorporationCode:e.row.orderCorporationCode,purchaseCostCenterCode:e.row.purchaseCostCenterCode,salesCostCenterCode:e.row.salesCostCenterCode};t.api.updateRows([r]),i(e.row.contractNameSales),c(!1);const s={...t,row:r};t.api.publishEvent("selectedOnChange",s,a)},onClose:()=>c(!1)})]})}var bn=a(87881);const Rn=g()((()=>a.e(350).then(a.bind(a,22350))),{loadableGenerated:{webpack:()=>[22350]},ssr:!1});function Sn(e){let{params:t,defaultReadonly:a=!1,readonly:s,rowFieldMap:n,usePermission:o=!0,isExcel:i=!1}=e;const d=(0,$e.P9)(),[c,u]=(0,r.useState)(!1),[m,p]=(0,r.useState)(t.row[t.field]),[h,f]=(0,r.useState)(!1),C=e=>{const t={};return Object.entries(n).forEach((a=>{let[l,r]=a;t[l]=e[r]})),t};(0,r.useEffect)((()=>{p(t.row[t.field])}),[t.row[t.field]]);const x=()=>{if(o){if(!["DISPATCH_REQUEST","DISPATCH_PLAN"].includes(t.row.orderStatusType))return void d({message:"배차 정보를 변경할 수 없습니다.",type:"fail",delay:3e3})}f(!0)};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(Zt.A,{onMouseOver:()=>u(!0),onMouseLeave:()=>u(!1),className:"tms-basic-input-mui",value:m,placeholder:a?"자동 입력":s?"":"입력",onKeyDown:e=>{t.api.setCellSelectionModel({id:t.id,field:"_id_"}),"Space"!==e.code&&"ArrowRight"!==e.key&&"ArrowLeft"!==e.key||e.stopPropagation(),"Enter"===e.key&&(e.stopPropagation(),x())},onChange:e=>{p(e.target.value)},slotProps:{input:{readOnly:s,endAdornment:(0,l.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[m&&!s&&c&&(0,l.jsx)(bn.A,{width:"16",height:"16",className:"text-grey60 cursor-pointer",onClick:()=>{if(t.row[t.field]){const e={_id_:t.row._id_,[t.field]:"",vendorId:null,...tn.z9};t.api.updateRows([e]);const a={...t,row:{...t.row}};t.api.publishEvent("selectedOnChange",a,{})}else p("")}}),(0,l.jsx)(se.A,{width:20,height:20,className:"cursor-pointer ".concat(s&&"text-greyDisabled"),onClick:e=>{s||(e.stopPropagation(),t.api.setCellSelectionModel({id:t.id,field:"_id_"}),x())}})]})}},"data-sentry-element":"TmsBasicInputMui","data-sentry-source-file":"GridColumnPlateNumberSearchInput.tsx"}),h&&(0,l.jsx)(Rn,{isExcel:i,params:t,defaultPlateNumber:m,onRowDoubleClickProps:async e=>{const a={...t.row,...C(e)};C(e),t.api.updateRows([a]);const l={...t,row:a};t.api.publishEvent("selectedOnChange",l,{}),p(e.plateNumber),f(!1)},onClose:()=>f(!1)})]})}var _n=a(75101),wn=a(72050);const On=g()((()=>Promise.resolve().then(a.bind(a,12703))),{loadableGenerated:{webpack:()=>[12703]},ssr:!1});function Mn(e){let{params:t,defaultReadonly:a=!1,readonly:s,defaultRowField:n,onSubmit:o}=e;const i=(0,$e.P9)(),[d,c]=(0,r.useState)(""),[u,m]=(0,r.useState)(!1);(0,r.useEffect)((()=>{c((0,wn.e)(t.row[t.field]||"0"))}),[t.row[t.field]]);const p=(0,r.useMemo)((()=>{const e=!t.row.vendorId&&"purchaseTotalExtraAmount"===t.field;return{isDisable:["ORDER_CANCEL","DELIVERY_CANCEL"].includes(t.row.orderStatusType)||e,message:"추가운임 설정이 불가능합니다."}}),[t]),h=()=>{const{isDisable:e,message:t}=p;e?i({message:t,type:"fail"}):m(!0)};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(Zt.A,{className:"tms-basic-input-mui",value:d,placeholder:a?"자동 입력":s?"":"입력",onKeyDown:e=>{"Enter"===e.key&&h()},onChange:e=>{e.preventDefault()},sx:{"& .MuiInputBase-input":{textAlign:"right"}},slotProps:{input:{readOnly:s,endAdornment:(0,l.jsx)(se.A,{width:20,height:20,className:"cursor-pointer ".concat(s&&"text-greyDisabled"),onClick:()=>{h()}})}},"data-sentry-element":"TmsBasicInputMui","data-sentry-source-file":"GridColumnTradeExtraChargeInput.tsx"}),u&&(0,l.jsx)(On,{params:t,defaultRowField:n,onSubmit:e=>{_n.v.toOrderDispatchSubmit(e),t.api.updateRows([{...t.row,..._n.v.toOrderDispatchSubmit(e)}])},onClose:()=>m(!1)})]})}const Dn=g()((()=>a.e(762).then(a.bind(a,44762))),{loadableGenerated:{webpack:()=>[44762]},ssr:!1});function jn(e){let{params:t,defaultReadonly:a=!1,readonly:s}=e;const n=(0,$e.P9)(),[o,i]=(0,r.useState)(),[d,c]=(0,r.useState)(!1);(0,r.useEffect)((()=>{var e;const a=(null==t||null===(e=t.row)||void 0===e?void 0:e.waypointPlaceInfoList)||[];i(a.length||"0")}),[t]);const u=(0,r.useMemo)((()=>({isDisable:["ORDER_CANCEL","CONFIRM_RESULT","DELIVERY_CANCEL"].includes(t.row.orderStatusType)||s,message:"다착지 설정이 불가능합니다."})),[t]),m=()=>{const{isDisable:e,message:t}=u;e?n({message:t,type:"caution",delay:3e3}):c(!0)};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(Zt.A,{className:"tms-basic-input-mui !bg-opacity-0",value:o,placeholder:a?"자동 입력":s?"":"입력",onKeyDown:e=>{e.preventDefault(),e.stopPropagation(),"Enter"===e.key&&m()},sx:{"& .MuiInputBase-input":{textAlign:"right"}},slotProps:{popper:{sx:{backgroundColor:"#000"}},input:{readOnly:s,endAdornment:(0,l.jsx)(se.A,{width:20,height:20,className:"cursor-pointer ".concat(s&&"text-greyDisabled"),onClick:m})}},"data-sentry-element":"TmsBasicInputMui","data-sentry-source-file":"GridColumnWaypointsSearchInput.tsx"}),d&&(0,l.jsx)(Dn,{params:t,onSubmit:e=>{t.api.updateRows([{...t.row,waypointPlaceInfoList:e,waypointCount:e.length}]),c(!1)},onClose:()=>c(!1)})]})}var Pn;function Ln(){return Ln=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},Ln.apply(null,arguments)}var Bn=function(e){return r.createElement("svg",Ln({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},e),Pn||(Pn=r.createElement("path",{fill:"currentColor",d:"M20 7h-3V4c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3v3c0 .55.45 1 1 1h12c.55 0 1-.45 1-1V8c0-.55-.45-1-1-1M4.6 15.4V4.6h10.8V7H8c-.55 0-1 .45-1 1v7.4zm10.8-6.8v6.8H8.6V8.6zm4 10.8H8.6V17H16c.55 0 1-.45 1-1V8.6h2.4z"})))};var Un=r.forwardRef(((e,t)=>{const{value:a,groupName:r,items:s,disabled:n=!1,onChange:o}=e,i=e=>t=>o(s[e].id,e);return(0,l.jsx)("div",{className:C()("flex h-full w-full flex-row items-center gap-[16px] px-[12px]",{"bg-warmGrey98 text-grey70":n}),children:s.map(((e,s)=>(0,l.jsxs)("label",{htmlFor:"".concat(r,"-").concat(e.id),className:"flex flex-row items-center gap-[4px]",children:[(0,l.jsx)("input",{ref:t,type:"radio",id:"".concat(r,"-").concat(e.id),name:r,value:e.id,checked:(null==a?void 0:a.toString())===e.id.toString(),disabled:n||e.disabled||!1,onChange:i(s)}),(0,l.jsx)("span",{children:e.label})]},"".concat(r,"-").concat(e.id,"-").concat(s))))})}));function Vn(e){let{className:t,style:a,children:r}=e;return(0,l.jsx)("div",{className:C()("border-grey90 flex w-full flex-col border-t-[1px]",t),style:a,"data-sentry-component":"InfoTable","data-sentry-source-file":"InfoTable.tsx",children:r})}function Fn(e){const{required:t=!1,focusable:a=!0}=e,[s,n]=(0,r.useState)(!1);return(0,l.jsx)(Et.A,{title:e.error,statusType:"error",transitionTime:0,arrowPosition:"left","data-sentry-element":"TmsBasicTooltip","data-sentry-component":"InfoTableItem","data-sentry-source-file":"InfoTable.tsx",children:(0,l.jsxs)("div",{className:"relative flex w-full flex-row",onFocus:()=>a&&n(!0),onBlur:()=>a&&n(!1),children:[(0,l.jsx)("div",{className:C()("Body5_M text-grey30 bg-warmGrey95 flex min-w-[120px] flex-row items-center break-keep border-[1px] px-[12px]",{"border-error border-r-blackOpacity8":!!e.error,"border-blue50 border-r-blackOpacity8":!e.error&&s,"border-blackOpacity8 border-l-0 border-t-0":!e.error&&!s},e.labelClassName),style:e.labelStyle,children:(0,l.jsxs)("p",{className:"flex flex-row gap-[2px] leading-none",children:[e.label,t&&(0,l.jsx)("span",{className:"bg-decide h-[3px] w-[3px] self-start rounded-[3px]"})]})}),(0,l.jsx)("div",{className:C()("Body5_M text-grey30 border-blackOpacity8 flex min-h-[30px] w-full max-w-full flex-row items-center justify-start border-[1px] border-l-0",{"border-error border-l-0":!!e.error,"border-blue50 border-l-0":!e.error&&s,"border-blackOpacity8 border-l-0 border-r-0 border-t-0":!e.error&&!s,"bg-warmGrey98 text-grey50 px-[12px]":["string","number"].includes(typeof e.children)},e.descriptionClassName),children:e.children})]})})}var Gn=a(8372);var kn=function(e){let{label:t,required:a,className:r,style:s,children:n}=e;return(0,l.jsxs)("section",{className:C()("Body5_M text-grey60 mb-[8px] flex max-h-[28px] w-full flex-row items-center justify-between gap-[8px]",r),style:s,"data-sentry-component":"DetailSection","data-sentry-source-file":"DetailSection.tsx",children:[(0,l.jsxs)("div",{className:"flex min-w-[120px] flex-row gap-[2px] break-keep",children:[(0,l.jsx)("span",{className:"flex flex-row items-center",children:t}),a&&(0,l.jsx)("span",{className:"bg-decide h-[3px] w-[3px] flex-none rounded-[3px]"})]}),(0,l.jsx)("div",{className:"flex flex-row justify-end gap-[8px]",children:n})]})},Yn=a(38662);function qn(e){let{value:t,placeholder:a,disabled:s=!1,onChange:n,optionsBoxWidth:o}=e;const[i,d]=(0,r.useState)(null==t?void 0:t.address1),[c,u]=r.useState(!1),{options:m,setOptions:p}=(0,Yn.Z)({mutationKey:"TmsBasicAddressAutocomplete",inputValue:i,isFocused:c});return(0,l.jsx)(He.A,{optionsBoxWidth:o,getOptionLabel:e=>Rl.q.formatAddress(e.address1,e.address2),autocompleteBoxClassName:"flex flex-1",value:t,options:m,onFocus:()=>{u(!0)},autoComplete:!0,includeInputInList:!0,filterSelectedOptions:!0,disablePortal:!0,filterOptions:e=>e,componentType:"autocomplete-table",optionHeight:48,disabled:s,onChange:(e,t)=>{t&&p((e=>e.find((e=>e.address1===t.address1))?e:[t,...e])),n(t)},inputValue:i,onInputChange:(e,t)=>{i!==t&&d(t)},isOptionEqualToValue:(e,t)=>e.id===t.id,renderInput:e=>(0,l.jsx)(Zt.A,{...e,placeholder:a,fullWidth:!0}),renderOption:(e,t)=>(0,l.jsx)("li",{...e,children:(0,l.jsxs)("p",{className:"flex flex-col",children:[(0,l.jsxs)("p",{className:"Body5_B flex-none",children:[(0,l.jsx)("span",{className:"Body5_EX ml-[4px]",children:t.address1}),t.address2," ",t.detailAddress&&" (".concat(t.detailAddress,")")]}),(0,l.jsxs)("p",{className:"text-grey50 Body5_M flex-none",children:[(0,l.jsx)("span",{className:"Body5_EX ml-[4px]",children:t.roadAddress1}),t.roadAddress2," ",t.detailAddress&&" (".concat(t.detailAddress,")")]})]})}),"data-sentry-element":"TmsBasicAutocomplete","data-sentry-component":"TmsBasicAddressAutocomplete","data-sentry-source-file":"TmsBasicAddressAutocomplete.tsx"})}const Wn={AGREE_TYPES:[{id:"YES",label:"동의"},{id:"NO",label:"동의 안 함"}],RECEIVE_TYPES:[{id:"true",label:"수신"},{id:"false",label:"미수신"}],ACTIVATE_TYPES:[{id:"true",label:"활성"},{id:"false",label:"비활성"}],CORRESPOND_TYPES:[{id:"true",label:"해당"},{id:"false",label:"해당 없음"}],TARGET_TYPES:[{id:"true",label:"대상"},{id:"false",label:"비대상"}],CONTRACT_TYPES:[{id:"true",label:"체결"},{id:"false",label:"미체결"}],INSURANCE_TYPES:[{id:"true",label:"대상"},{id:"false",label:"비대상"}],AFFILIATION_TYPES:[{id:"true",label:"원소속 있음"},{id:"false",label:"원소속 없음"}],RECEIVER_TYPES:[{id:"sms",label:"SMS 수신"},{id:"email",label:"이메일 수신"}],SETTLEMENT_GRADE_TYPES:[{id:"A",label:"A"},{id:"B",label:"B"},{id:"C",label:"C"}]};var Hn={required:"필수 정보를 입력해 주세요.",email:{value:/^\w+([\\.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/,message:"올바른 이메일 주소를 입력해 주세요."},businessNumber:{value:/^\d{3}-?\d{2}-?\d{5}$/,message:"올바른 사업자 번호를 입력해 주세요."},plateNumber:{value:/(^[0-9]{2,3}[가-힣][0-9]{4}$)|(^[가-힣]{2}[0-9]{1,2}[가-힣][0-9]{4}$)/,message:"올바른 차량 번호를 입력해 주세요."}};var Kn=function(e){var t,a,s;const n=(0,$e.P9)(),[o,i]=(0,r.useState)(!1),[d,c]=(0,r.useState)(!1),{control:u,formState:m,getValues:p,setValue:h,handleSubmit:f,reset:C,clearErrors:x}=(0,Hr.mN)({defaultValues:{name:"",nodeCode:"",addressInfo:null,detailAddress:"",managerName:"",managerPhoneNumber:"",isReceiveSms:"true",customerId:0},mode:"onChange"}),N=async t=>{try{if(Object.keys(m.errors).length)n({message:"거래처 마스터 추가 실패",type:"fail"});else{const a={...t,customerId:Number(e.customerId),contractSalesId:Number(e.contractSalesId),loadUnloadType:e.loadUnloadType,addressInfo:{...t.addressInfo,detailAddress:t.detailAddress||""},isReceiveSms:"true"===t.isReceiveSms};await(0,$s.SH)({saveRequestList:[a]});n({message:"거래처 마스터가 추가되었습니다.",type:"success"}),e.onSubmit(a)}}catch(e){const t=e;n({message:t.message,type:"fail"}),window.console.error("거래처 마스터 등록 실패:",t)}},y=e=>{window.console.error(e)};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(Pe.A,{title:"거래처 마스터 등록",modalWidth:612,modalContentHeight:310,confirmButtonLabel:"등록하기",onClickConfirmButton:f(N,y),onClickCloseButton:()=>{C({name:"",nodeCode:"",addressInfo:null,detailAddress:"",managerName:"",managerPhoneNumber:"",isReceiveSms:"true",customerId:0}),x(),e.onClose()},"data-sentry-element":"TmsBasicModal","data-sentry-source-file":"AddCustomerMasterModal.tsx",children:(0,l.jsxs)("form",{autoComplete:"off",className:"flex flex-col gap-[20px]",onSubmit:f(N,y),children:[(0,l.jsxs)("div",{children:[(0,l.jsx)(kn,{label:"거래처 정보","data-sentry-element":"DetailSection","data-sentry-source-file":"AddCustomerMasterModal.tsx"}),(0,l.jsxs)(Vn,{"data-sentry-element":"InfoTable","data-sentry-source-file":"AddCustomerMasterModal.tsx",children:[(0,l.jsx)(Fn,{label:"거래처명",required:!0,error:null===(t=m.errors.name)||void 0===t?void 0:t.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"AddCustomerMasterModal.tsx",children:(0,l.jsx)(Hr.xI,{name:"name",control:u,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{componentType:"input-table",placeholder:"거래처명 입력",className:"w-full",...t})},"data-sentry-element":"Controller","data-sentry-source-file":"AddCustomerMasterModal.tsx"})}),(0,l.jsx)(Fn,{label:"노드명",required:!0,error:null===(a=m.errors.nodeCode)||void 0===a?void 0:a.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"AddCustomerMasterModal.tsx",children:(0,l.jsx)(Hr.xI,{name:"nodeCode",control:u,rules:{required:Hn.required},render:t=>{let{field:a}=t;return(0,l.jsx)(He.A,{autocompleteBoxClassName:"flex flex-1",placeholder:"노드명 입력",componentType:"autocomplete-table",options:e.nodeOptions,selectedId:a.value,onChange:(e,t)=>a.onChange(t.id)})},"data-sentry-element":"Controller","data-sentry-source-file":"AddCustomerMasterModal.tsx"})}),(0,l.jsx)(Fn,{label:"기본 주소",required:!0,error:null===(s=m.errors.addressInfo)||void 0===s?void 0:s.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"AddCustomerMasterModal.tsx",children:(0,l.jsx)(Hr.xI,{name:"addressInfo",control:u,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(qn,{placeholder:"사업장 주소 입력",...t})},"data-sentry-element":"Controller","data-sentry-source-file":"AddCustomerMasterModal.tsx"})}),(0,l.jsx)(Fn,{label:"상세 주소","data-sentry-element":"InfoTableItem","data-sentry-source-file":"AddCustomerMasterModal.tsx",children:(0,l.jsx)(Hr.xI,{name:"detailAddress",control:u,render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{componentType:"input-table",placeholder:"상세 주소 입력",className:"w-full",...t})},"data-sentry-element":"Controller","data-sentry-source-file":"AddCustomerMasterModal.tsx"})})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(kn,{label:"담당자 정보","data-sentry-element":"DetailSection","data-sentry-source-file":"AddCustomerMasterModal.tsx"}),(0,l.jsxs)(Vn,{"data-sentry-element":"InfoTable","data-sentry-source-file":"AddCustomerMasterModal.tsx",children:[(0,l.jsx)(Fn,{label:"담당자명","data-sentry-element":"InfoTableItem","data-sentry-source-file":"AddCustomerMasterModal.tsx",children:(0,l.jsx)(Hr.xI,{name:"managerName",control:u,render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{componentType:"input-table",placeholder:"담당자명 입력",className:"w-full",...t})},"data-sentry-element":"Controller","data-sentry-source-file":"AddCustomerMasterModal.tsx"})}),(0,l.jsx)(Fn,{label:"휴대폰 번호 입력","data-sentry-element":"InfoTableItem","data-sentry-source-file":"AddCustomerMasterModal.tsx",children:(0,l.jsx)(Hr.xI,{name:"managerPhoneNumber",control:u,render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{componentType:"input-table",placeholder:"휴대폰 번호 입력",className:"w-full",...t})},"data-sentry-element":"Controller","data-sentry-source-file":"AddCustomerMasterModal.tsx"})}),(0,l.jsx)(Fn,{label:"SMS 수신 여부","data-sentry-element":"InfoTableItem","data-sentry-source-file":"AddCustomerMasterModal.tsx",children:(0,l.jsx)(Hr.xI,{name:"isReceiveSms",control:u,render:e=>{let{field:t}=e;return(0,l.jsx)(Un,{groupName:"isReceiveSms",items:Wn.RECEIVE_TYPES,...t})},"data-sentry-element":"Controller","data-sentry-source-file":"AddCustomerMasterModal.tsx"})})]})]})]})}),o&&(0,l.jsx)(Gn.default,{searchInputValueProps:p().nodeAddress,setIsOpened:i,onRowDoubleClickProps:(e,t,a)=>{h("nodeAddress",e.row.mdmNodeName)}})]})};function zn(e){let{updateIdsRef:t,params:a,options:s=[],readonly:n=!1,onChangeProps:o}=e;const i=(0,$e.P9)(),[d,c]=(0,r.useState)(!1),{contractSalesId:p,customerId:h}=a.row,f=(0,r.useMemo)((()=>"departureNodeCode"===a.field?"PICKUP":"arrivalNodeCode"===a.field?"DROP":"PICKUP_DROP"),[a]),C=e=>{const t="departureNodeCode"===e;return{nodeCode:t?"departureNodeCode":"arrivalNodeCode",nodeName:t?"departureNodeName":"arrivalNodeName",nodeAddress:t?"departureNodeAddress":"arrivalNodeAddress",userAddress:t?"departureUserAddress":"arrivalUserAddress",customerPlaceId:t?"departureCustomerPlaceId":"arrivalCustomerPlaceId",managerName:t?"departureManagerName":"arrivalManagerName",managerPhoneNumber:t?"departureManagerPhoneNumber":"arrivalManagerPhoneNumber"}},x=o||(async(e,a,l)=>{const{nodeCode:r,nodeName:s,nodeAddress:n,userAddress:o,customerPlaceId:i,managerName:d,managerPhoneNumber:c}=C(l.field),u={...l.row,[s]:a.label,[r]:a.id,[n]:a.nodeAddress||a.fullAddress||"-",[o]:a.fullAddress||"-",[i]:a.customerPlaceId,[d]:a.managerName,[c]:a.managerPhoneNumber};l.api.updateRows([u]);const m={...l,row:u};l.api.publishEvent("selectedOnChange",m,e),t.current=[...t.current,l.id]}),[N,y]=(0,r.useState)(0),E=(0,r.useMemo)((()=>a.row[a.field]),[a.row,a.field]);(0,r.useEffect)((()=>{y((e=>e+1))}),[E]);const v=(0,r.useMemo)((()=>{var e,t;const l="departureNodeCode"===a.field;var r;const s=null!==(r=null===(e=a.row._dynamicOptions)||void 0===e?void 0:e.departureNodeCode)&&void 0!==r?r:[];var n;const o=null!==(n=null===(t=a.row._dynamicOptions)||void 0===t?void 0:t.arrivalNodeCode)&&void 0!==n?n:[];return(l?s:o).filter((e=>!e.customerPlaceId)).map((e=>({...e,id:e.id.split("-")[0]})))}),[a.row._dynamicOptions]);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(He.A,{autocompleteBoxClassName:"flex flex-1",selectedId:E,componentType:"autocomplete-table",disableClearable:!0,options:s,onChange:(e,t)=>x(e,t,a),disabled:!a.isEditable,readOnly:n,groupBy:e=>e.groupTitle,renderGroup:e=>(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"Caption2_B text-grey70 my-2 px-2",children:e.group}),(0,l.jsx)("div",{children:e.children})]},e.key),noOptionsText:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(Ne.A,{type:"select",description_1:"조회 결과가 없습니다.",description_2:"검색어를 확인해 주세요."}),(0,l.jsx)("div",{className:"mt-2 flex w-full justify-center",children:(0,l.jsx)(u.A,{label:"거래처 마스터 등록",level:m.V.level_4,size:m.M.Small,leftIcon:(0,l.jsx)(Bn,{with:16,height:16}),onClick:()=>{p||h?c(!0):i({message:"고객명과 계약마스터를 선택해주세요.",type:"fail"})}})})]}),"data-sentry-element":"TmsBasicAutocomplete","data-sentry-source-file":"GridColumnWrappAutocompleteWithCustomerMasterModal.tsx"},N),d&&(0,l.jsx)(Kn,{nodeOptions:v,contractSalesId:p,customerId:h,onClose:()=>c(!1),loadUnloadType:f,onSubmit:e=>{const{nodeCode:l,nodeName:r,nodeAddress:s,userAddress:n,customerPlaceId:o,managerName:i,managerPhoneNumber:d}=C(a.field),u={[r]:e.name,[l]:e.nodeCode,[s]:"".concat(e.addressInfo.address1," ").concat(e.addressInfo.address2)||"주소 정보 업뎃 예정",[n]:e.addressInfo.detailAddress,[o]:e.customerPlaceId,[i]:e.managerName,[d]:e.managerPhoneNumber},m={...a.row,...u};a.api.updateRows([m]);const p={...a,row:m};a.api.publishEvent("selectedOnChange",p,{}),t.current=[...t.current,a.id],c(!1)}})]})}function Xn(e){let{updateIdsRef:t,params:a,options:s=[],readonly:n=!1,onChangeProps:o}=e;const i=o||(async(e,a,l)=>{const r="purchaseInfoRateCode"===l.field&&"3"===a.id?"1":l.row.purchaseInfoQuantity,s={...l.row,[l.field]:a.id,purchaseInfoQuantity:r};l.api.updateRows([s]);const n={...l,row:s};l.api.publishEvent("selectedOnChange",n,e),t&&(t.current=[...t.current,l.id])}),[d,c]=(0,r.useState)(0),u=(0,r.useMemo)((()=>a.row[a.field]),[a.row,a.field]);(0,r.useEffect)((()=>{c((e=>e+1))}),[u]);const m=(0,r.useMemo)((()=>{switch(a.field){case"orderCorporationCode":case"salesCostCenterCode":case"purchaseCostCenterCode":{var e,t;const l=(null==a||null===(e=a.row)||void 0===e?void 0:e.isSalesSettlementComplete)&&(null==a||null===(t=a.row)||void 0===t?void 0:t.isPurchaseSettlementComplete);return["ORDER_CANCEL","DELIVERY_CANCEL"].includes(a.row.orderStatusType)||l}}}),[a]);return(0,l.jsx)(He.A,{autocompleteBoxClassName:"flex flex-1",selectedId:u,componentType:"autocomplete-table",options:s,onChange:(e,t)=>i(e,t,a),disabled:!a.isEditable||m,readOnly:n,disableClearable:!0,optionsBoxWidth:a.colDef.optionsBoxWidth||200,"data-sentry-element":"TmsBasicAutocomplete","data-sentry-component":"GridColumnWrappOrderDispatchAutocomplete","data-sentry-source-file":"GridColumnWrappOrderDispatchAutocomplete.tsx"},d)}const Qn=e=>["TEMP","DISPATCH_REQUEST","DISPATCH_PLAN","CONFIRM_ASSIGNMENT","CONFIRM_DISPATCH"].includes(null==e?void 0:e.orderStatusType),Zn=Qn,Jn=Qn,$n=Qn,eo=e=>{const t=e.isSalesSettlementComplete,a=e.isPurchaseSettlementComplete;return!["ORDER_CANCEL","DELIVERY_CANCEL"].includes(null==e?void 0:e.orderStatusType)&&!t&&!a},to=e=>{if("3"===e.salesInfoRateCode)return!1;return!["CONFIRM_RESULT","ORDER_CANCEL","DELIVERY_CANCEL"].includes(null==e?void 0:e.orderStatusType)},ao=eo,lo=e=>{const t=e.isSalesSettlementComplete,a=e.isPurchaseSettlementComplete,l="3"===e.salesInfoRateCode;return t||a||l},ro=e=>["TEMP","DISPATCH_REQUEST","DISPATCH_PLAN","CONFIRM_ASSIGNMENT"].includes(null==e?void 0:e.orderStatusType),so=e=>{const t=e.isSalesSettlementComplete,a=e.isPurchaseSettlementComplete,l="3"===e.salesInfoRateCode;return t||a||l},no=e=>["DISPATCH_REQUEST","DISPATCH_PLAN","CONFIRM_ASSIGNMENT","CONFIRM_DISPATCH","DELIVERY_START","PICKUP_MOVING","PICKUP_COMPLETE","WAYPOINT","DROP_MOVING","DROP_COMPLETE","DELIVERY_COMPLETE"].includes(null==e?void 0:e.orderStatusType),oo=no,io=e=>{const t=[R.nwF.DISPATCH_REQUEST,R.nwF.DISPATCH_PLAN];return e.every((e=>t.includes(e.orderStatusType)))},co=io,uo=["계약 파트너","계약 외 파트너"];function mo(e){let{updateIdsRef:t,params:a,options:s=[],readonly:n=!1,onChangeProps:o,disableClearable:i}=e;const{commonVendorInfoOption:d}=(0,Je.X)(),[c,u]=(0,r.useState)([]),[m,p]=((0,$e.P9)(),(0,r.useState)(0)),h=o||(async(e,a,l)=>{const r={...l.row,[l.field]:a.id,...tn.z9,vendorType:a.vendorType||""};l.api.updateRows([r]);const s={...l,row:r};l.api.publishEvent("selectedOnChange",s,e),t.current=[...t.current,l.id]}),f=(0,r.useMemo)((()=>(e=>{const{contractCategoryType:t,orderStatusType:a,purchaseInfoRateAmount:l,purchaseInfoRateCode:r,purchaseInfoQuantity:s}=e;return[R.nwF.DISPATCH_REQUEST,R.nwF.DISPATCH_PLAN].includes(a)})(a.row)),[a]),C=(0,r.useMemo)((()=>"vendorId"===a.field),[a]),x=(0,r.useMemo)((()=>{var e,t;return null!==(t=null===(e=a.row[a.field])||void 0===e?void 0:e.toString())&&void 0!==t?t:""}),[a.row[a.field]]);return(0,r.useEffect)((()=>{f?u((()=>{var e,t;const l=(s.length?s:null!==(t=null==a||null===(e=a.row)||void 0===e?void 0:e.contractVendorIdList)&&void 0!==t?t:[]).map((e=>String(e.id||e)));let r=!1,n=!1;const o=[],i=[];d.forEach((e=>{l.includes(String(e.id))?(r||(o.push({id:"contract-header",label:"계약 파트너",groupTitle:"계약 파트너",isGroupTitle:!0}),r=!0),o.push({...e,groupTitle:"계약 파트너"})):(n||(i.push({id:"non-contract-header",label:"계약 외 파트너",groupTitle:"계약 외 파트너",isGroupTitle:!0}),n=!0),i.push({...e,groupTitle:"계약 외 파트너"}))}));const c=[...o,...i];return C?c:c.filter((e=>!e.isGroupTitle))})()):(()=>{const e=a.row[a.field],t=d.find((t=>t.id===e));u(t?[t]:[])})()}),[f,a,d]),(0,r.useEffect)((()=>{a.row[a.field]&&f&&p((e=>e+1))}),[a.row[a.field],f]),(0,l.jsx)(He.A,{autocompleteBoxClassName:"flex flex-1",selectedId:x,componentType:"autocomplete-table",options:c,onChange:(e,t)=>h(e,t,a),disabled:!f,readOnly:n,disableClearable:i,optionsBoxWidth:480,groupTitleList:C?uo:[],"data-sentry-element":"TmsBasicAutocomplete","data-sentry-component":"GridColumnWrappVendorAutoComplete","data-sentry-source-file":"GridColumnWrappVendorAutoComplete.tsx"},m)}var po=a(87727);function ho(e){let{type:t="string",allowDemical:a=!1,value:s,params:n,defaultReadonly:o=!1,readonly:i,subNodes:d=[],purchaseInfoFinalAmountEdit:c=!1}=e;const u=(0,r.useMemo)((()=>{var e;const t=(null==n||null===(e=n.row)||void 0===e?void 0:e[n.field])||s||"0";return(0,wn.e)(t)}),[s,n]);return(0,l.jsx)(Zt.A,{className:"tms-basic-input-mui",value:u,placeholder:o?"자동 입력":i?"":"입력",onChange:e=>{let{target:{value:t}}=e;return(e=>{const t=(0,wn.Z)(e);n.api.updateRows([{...n.row,[n.field]:t,purchaseInfoFinalAmountEdit:c,...(0,po.i)(d,t),isDirty:!0}])})(t)},slotProps:{input:{readOnly:i,onFocus:e=>{if(i)return;const t=e.target;setTimeout((()=>{try{t.select()}catch(e){}}),0)}}},sx:{"& .MuiInputBase-input":{textAlign:"right"}},"data-sentry-element":"TmsBasicInputMui","data-sentry-component":"GridColumnPurchaseFinalAmount","data-sentry-source-file":"GridColumnPurchaseFinalAmount.tsx"})}function fo(e){let{type:t="string",value:a,params:s,defaultReadonly:n=!1,readonly:o,subNodes:i=[]}=e;(0,r.useEffect)((()=>{const e=s.row[s.field],t=s.row.purchaseInfoFinalAmountEdit,a=(0,en.Yv)(null,s.row);t||String(a)!==String(e)&&d(a)}),[s]),(0,r.useEffect)((()=>{s.row.isDirty&&s.api.updateRows([{_id_:s.row._id_,purchaseInfoFinalAmountEdit:!1}])}),[s.row.purchaseInfoQuantity,s.row.purchaseInfoRateAmount,s.row.arrivalRequestDate,s.row.arrivalRequestTime]);const d=e=>{const t=(0,wn.Z)(e);s.api.updateRows([{_id_:s.row._id_,[s.field]:t,...(0,po.i)(i,t)}])},c=(0,r.useMemo)((()=>{var e;const t=(null==s||null===(e=s.row)||void 0===e?void 0:e[s.field])||a||"0";return(0,wn.e)(t)}),[a,s]);return(0,l.jsx)(Zt.A,{className:"tms-basic-input-mui",value:c,placeholder:n?"자동 입력":o?"":"입력",onChange:e=>{e.preventDefault()},slotProps:{input:{readOnly:o}},sx:{"& .MuiInputBase-input":{textAlign:"right"}},"data-sentry-element":"TmsBasicInputMui","data-sentry-component":"GridColumnPurchaseActualAmount","data-sentry-source-file":"GridColumnPurchaseActualAmount.tsx"})}function Co(e){let{type:t="string",allowDemical:a=!1,value:s,params:n,defaultReadonly:o=!1,readonly:i,subNodes:d=[]}=e;const c=(0,r.useMemo)((()=>mn()((e=>{n.api.publishEvent("selectedOnChange",e,{})}),300)),[n.api]),u=(0,r.useMemo)((()=>{var e;const t=(null==n||null===(e=n.row)||void 0===e?void 0:e[n.field])||s||"";return(0,wn.e)(t)}),[s,n]);return(0,l.jsx)(Zt.A,{className:"tms-basic-input-mui",value:u,placeholder:o?"자동 입력":i?"":"입력",onKeyDown:e=>{"Space"!==e.code&&"ArrowRight"!==e.key&&"ArrowLeft"!==e.key||e.stopPropagation()},onChange:e=>{let{target:{value:t}}=e;return(e=>{let t=(0,wn.Z)(e,3,!1);const a={...n.row,[n.field]:t,...(0,po.i)(d,t)};n.api.updateRows([a]);const l={...n,row:a};"DISTANCE"===n.row.contractCategoryType&&c(l)})(t)},slotProps:{input:{readOnly:i},onFocus:e=>{if(i)return;const t=e.target;setTimeout((()=>{try{t.select()}catch(e){}}),0)}},sx:{"& .MuiInputBase-input":{textAlign:"right"}},"data-sentry-element":"TmsBasicInputMui","data-sentry-component":"GridColumnDistance","data-sentry-source-file":"GridColumnDistance.tsx"})}function xo(e){let{updateIdsRef:t,params:a}=e;var r;const s={onMouseDownCapture:e=>e.stopPropagation(),onClick:e=>e.stopPropagation(),onDoubleClick:e=>e.stopPropagation(),onKeyDown:e=>e.stopPropagation()},n=(null===(r=a.row)||void 0===r?void 0:r[a.field])?je()(a.row[a.field]):null;return(0,l.jsx)("div",{...s,"data-sentry-component":"GridColumnDepartureDatePicker","data-sentry-source-file":"GridColumnDepartureDatePicker.tsx",children:(0,l.jsx)(gt.A,{...s,value:n,componentType:"date-picker-table",onChange:e=>((e,a)=>{if(!je()(e).isValid())return;const l={...a.row,[a.field]:e,isDirty:!0};a.api.updateRows([l]),t&&(t.current=[...t.current,a.id]);const r={...a,row:l};a.api.publishEvent("selectedOnChange",r,{})})(e,a),disabled:!a.isEditable,"data-sentry-element":"TmsBasicDatePicker","data-sentry-source-file":"GridColumnDepartureDatePicker.tsx"})})}function No(e){let{updateIdsRef:t,params:a,subNodes:r=[]}=e;const s={onMouseDownCapture:e=>e.stopPropagation(),onClick:e=>e.stopPropagation(),onDoubleClick:e=>e.stopPropagation(),onKeyDown:e=>e.stopPropagation()};return(0,l.jsx)("div",{...s,"data-sentry-component":"GridColumnArrivalDatePicker","data-sentry-source-file":"GridColumnArrivalDatePicker.tsx",children:(0,l.jsx)(gt.A,{...s,value:je()(a.row[a.field]),componentType:"date-picker-table",onChange:e=>((e,a)=>{if(!je()(e).isValid())return;const l={...a.row,[a.field]:e,isDirty:!0,...(0,po.i)(r,"08:00")};a.api.updateRows([l]),t&&(t.current=[...t.current,a.id])})(e,a),disabled:!a.isEditable,"data-sentry-element":"TmsBasicDatePicker","data-sentry-source-file":"GridColumnArrivalDatePicker.tsx"})})}function yo(e){let{updateIdsRef:t,params:a,options:s=[],readonly:n=!1,onChangeProps:o,isSingle:i=!0}=e;const d=o||(async(e,a,l)=>{const r="3"===l.row.salesInfoRateCode,s=r?an(a.id):l.row.orderWeight;let n=l.row.salesInfoQuantity,o=l.row.purchaseInfoQuantity;if(r){n=lo(l.row)?n:s,o=so(l.row)?o:s}const i={_id_:l.row._id_,[l.field]:a.id,orderWeight:s,salesInfoQuantity:n,purchaseInfoQuantity:o};l.api.updateRows([i]);const d={...l,row:i};l.api.publishEvent("selectedOnChange",d,e),t&&(t.current=[...t.current,l.id])}),[c,u]=(0,r.useState)(0),m=(0,r.useMemo)((()=>a.row[a.field]),[a.row,a.field]);(0,r.useEffect)((()=>{u((e=>e+1))}),[m]);const p=(0,r.useMemo)((()=>{if(!i)return"3"===a.row.salesInfoRateCode}),[a]);return(0,l.jsx)(He.A,{autocompleteBoxClassName:"flex flex-1",selectedId:m,componentType:"autocomplete-table",options:s,onChange:(e,t)=>d(e,t,a),disabled:!a.isEditable||p,readOnly:n,disableClearable:!0,optionsBoxWidth:a.colDef.optionsBoxWidth||200,"data-sentry-element":"TmsBasicAutocomplete","data-sentry-component":"GridColumnWrappTonAutocomplete","data-sentry-source-file":"GridColumnWrappTonAutocomplete.tsx"},c)}function Eo(e){let{value:t,params:a,readonly:r,defaultReadonly:s=!1}=e;const n=e=>{t=(0,wn.Z)(e,3,!1);let l=a.row.orderQuantity,r=a.row.salesInfoQuantity,s=a.row.purchaseInfoQuantity;const n=!to(a.row),o=lo(a.row),i=so(a.row);r=o?r:t,s=i?s:t;"2"===a.row.salesInfoRateCode&&"2"===a.row.purchaseInfoRateCode&&(l=n?l:t),a.api.updateRows([{_id_:a.row._id_,[a.field]:t,orderQuantity:l,salesInfoQuantity:r,purchaseInfoQuantity:s,isDirty:!0}])};return(0,l.jsx)(Zt.A,{className:"tms-basic-input-mui",value:t||a.row[a.field],placeholder:s?"자동 입력":r?"":"입력",onChange:e=>{let{target:{value:t}}=e;return n(t)},slotProps:{input:{readOnly:r,onFocus:e=>{if(r)return;const t=e.target;setTimeout((()=>{try{t.select()}catch(e){}}),0)}}},sx:{"& .MuiInputBase-input":{textAlign:"right"}},"data-sentry-element":"TmsBasicInputMui","data-sentry-component":"GridColumnOrderWeight","data-sentry-source-file":"GridColumnOrderWeight.tsx"})}function vo(e){let{value:t,params:a,readonly:r,defaultReadonly:s=!1}=e;const n=e=>{t=(0,wn.Z)(e,3,!1);let l=a.row.orderWeight,r=a.row.salesInfoQuantity,s=a.row.purchaseInfoQuantity;const n=!ao(a.row),o=lo(a.row),i=so(a.row);l=n?l:t,r=o?r:t,s=i?s:t,a.api.updateRows([{_id_:a.row._id_,[a.field]:t,orderWeight:l,salesInfoQuantity:r,purchaseInfoQuantity:s,isDirty:!0}])};return(0,l.jsx)(Zt.A,{className:"tms-basic-input-mui",value:t||a.row[a.field],placeholder:s?"자동 입력":r?"":"입력",onChange:e=>{let{target:{value:t}}=e;return n(t)},slotProps:{input:{readOnly:r,onFocus:e=>{if(r)return;const t=e.target;setTimeout((()=>{try{t.select()}catch(e){}}),0)}}},sx:{"& .MuiInputBase-input":{textAlign:"right"}},"data-sentry-element":"TmsBasicInputMui","data-sentry-component":"GridColumnOrderQuantity","data-sentry-source-file":"GridColumnOrderQuantity.tsx"})}function Ao(e){let{params:t,options:a=[],readonly:s=!1,onChangeProps:n,disableClearable:o}=e;var i;const{commonMdmItemInfoOption:d}=(0,Je.X)();(0,r.useEffect)((()=>{var e;t.row.materialName||t.api.updateRows([{_id_:t.row._id_,materialName:(null===(e=d.find((e=>e.id===t.row[t.field]||e.label===t.row[t.field])))||void 0===e?void 0:e.materialName)||""}])}),[]);const c=n||(async(e,t,a)=>{const l=(null==t?void 0:t.id)||"",r={...a.row,isDirty:!0,[a.field]:l,materialName:(null==t?void 0:t.materialName)||""};a.api.updateRows([r])});var u;return(0,l.jsx)(He.A,{autocompleteBoxClassName:"flex flex-1",selectedId:null!==(u=null===(i=t.row[t.field])||void 0===i?void 0:i.toString())&&void 0!==u?u:"",componentType:"autocomplete-table",options:a,onChange:(e,a)=>c(e,a,t),disabled:!t.isEditable,readOnly:s,disableClearable:o,optionsBoxWidth:t.colDef.optionsBoxWidth||200,getOptionDisabled:e=>e.disabled,"data-sentry-element":"TmsBasicAutocomplete","data-sentry-component":"GridColumnWrappItemAutocomplete","data-sentry-source-file":"GridColumnWrappItemAutocomplete.tsx"})}var go=function(){const{mdmCorporationOptionsByUser:e}=(0,hn.z)();return(0,l.jsxs)(xt.A,{"data-sentry-element":"SearchContainer","data-sentry-component":"OrderDispatchManagerFilter","data-sentry-source-file":"OrderDispatchManagerFilter.tsx",children:[(0,l.jsxs)(Ct.A,{"data-sentry-element":"SearchBox","data-sentry-source-file":"OrderDispatchManagerFilter.tsx",children:[(0,l.jsx)(Ve.A.SearchAutocomplete,{label:"인사 조직",autocompleteClassName:"max-w-[236px]",fieldName:"commonMdmCorporationCode",options:e,optionsBoxWidth:300,"data-sentry-element":"SearchFilter.SearchAutocomplete","data-sentry-source-file":"OrderDispatchManagerFilter.tsx"}),(0,l.jsx)(Ve.A.CustomerNameAutocomplete,{label:"화주",fieldName:"customerId",className:"max-w-[236px]","data-sentry-element":"SearchFilter.CustomerNameAutocomplete","data-sentry-source-file":"OrderDispatchManagerFilter.tsx"}),(0,l.jsx)(Ve.A.SearchText,{label:"요청 사항",placeholder:"요청 사항 입력",fieldName:"requestedThings",className:"max-w-[236px]","data-sentry-element":"SearchFilter.SearchText","data-sentry-source-file":"OrderDispatchManagerFilter.tsx"})]}),(0,l.jsxs)(Ct.A,{width:"w-[420px]","data-sentry-element":"SearchBox","data-sentry-source-file":"OrderDispatchManagerFilter.tsx",children:[(0,l.jsx)(Ve.A.SearchDate,{label:"상차일자",isQuickButton:!0,datePickerClassName:"w-[128px]","data-sentry-element":"SearchFilter.SearchDate","data-sentry-source-file":"OrderDispatchManagerFilter.tsx"}),(0,l.jsx)(Ve.A.DoubleSearchText,{label:"등록자",mainInput:{placeholder:"등록자 입력",fieldName:"searchCreatedByName",className:"w-[173px]"},subInput:{placeholder:"배차 등록자 입력",fieldName:"searchDispatchByName",className:"w-[173px]"},"data-sentry-element":"SearchFilter.DoubleSearchText","data-sentry-source-file":"OrderDispatchManagerFilter.tsx"}),(0,l.jsx)(Ve.A.DoubleSearchText,{label:"상/하차지",mainInput:{placeholder:"상차지 입력",fieldName:"searchDeparture",className:"w-[173px]"},subInput:{placeholder:"하차지 입력",fieldName:"searchArrival",className:"w-[173px]"},"data-sentry-element":"SearchFilter.DoubleSearchText","data-sentry-source-file":"OrderDispatchManagerFilter.tsx"})]}),(0,l.jsxs)(Ct.A,{"data-sentry-element":"SearchBox","data-sentry-source-file":"OrderDispatchManagerFilter.tsx",children:[(0,l.jsx)(Ve.A.SearchText,{label:"차량번호",placeholder:"차량번호 또는 관리번호 입력",fieldName:"searchKeyword",className:"!max-w-[240px]","data-sentry-element":"SearchFilter.SearchText","data-sentry-source-file":"OrderDispatchManagerFilter.tsx"}),(0,l.jsx)(Ve.A.VendorAutocomplete,{label:"파트너",className:"!max-w-[240px]","data-sentry-element":"SearchFilter.VendorAutocomplete","data-sentry-source-file":"OrderDispatchManagerFilter.tsx"}),(0,l.jsx)(Ve.A.SearchText,{label:"모션명",placeholder:"모선명 입력",fieldName:"vesselName",className:"max-w-[240px]","data-sentry-element":"SearchFilter.SearchText","data-sentry-source-file":"OrderDispatchManagerFilter.tsx"})]}),(0,l.jsxs)(Ct.A,{"data-sentry-element":"SearchBox","data-sentry-source-file":"OrderDispatchManagerFilter.tsx",children:[(0,l.jsx)(Ve.A.SearchMultiAutocomplete,{label:"주문 상태",className:"max-w-[236px]",fieldName:"orderStatusType",options:[{id:"DISPATCH_REQUEST",label:"배차의뢰"},{id:"DISPATCH_PLAN",label:"배차계획"},{id:"CONFIRM_ASSIGNMENT",label:"배정확정"},{id:"CONFIRM_DISPATCH",label:"배차확정"},{id:"DELIVERY_START",label:"운행시작"},{id:"DELIVERY_COMPLETE",label:"운행완료"},{id:"REQUEST_RESULT_CONFIRM",label:"실적확인 요청"},{id:"CONFIRM_RESULT",label:"운송실적 확정"},{id:"ORDER_CANCEL",label:"주문 취소"},{id:"DELIVERY_CANCEL",label:"운행중단"}],"data-sentry-element":"SearchFilter.SearchMultiAutocomplete","data-sentry-source-file":"OrderDispatchManagerFilter.tsx"}),(0,l.jsx)(Ve.A.ItemNameAutocomplete,{label:"품목",className:"!max-w-[236px]","data-sentry-element":"SearchFilter.ItemNameAutocomplete","data-sentry-source-file":"OrderDispatchManagerFilter.tsx"}),(0,l.jsx)(Ve.A.SearchAutocomplete,{label:"연계 여부",options:[{id:"Y",label:"Y(플랫폼 매칭 전송)"},{id:"N",label:"N"}],fieldName:"isLinkClassification",isUseAll:!0,autocompleteClassName:"!max-w-[236px]","data-sentry-element":"SearchFilter.SearchAutocomplete","data-sentry-source-file":"OrderDispatchManagerFilter.tsx"})]}),(0,l.jsxs)(Ct.A,{"data-sentry-element":"SearchBox","data-sentry-source-file":"OrderDispatchManagerFilter.tsx",children:[(0,l.jsx)(Ve.A.AllMetaAutocompleteSearch,{label:"운영 구분",allMetaType:Ze.k.OPERATION_CLASSIFICATION_CODE,className:"!max-w-[206px]","data-sentry-element":"SearchFilter.AllMetaAutocompleteSearch","data-sentry-source-file":"OrderDispatchManagerFilter.tsx"}),(0,l.jsx)(Ve.A.SearchAutocomplete,{label:"매입 정산 제외",options:[{id:"INCLUDE",label:"포함"},{id:"EXCLUDE",label:"제외"}],fieldName:"inclusionPurchaseSettlement",isUseAll:!0,autocompleteClassName:"!max-w-[206px]","data-sentry-element":"SearchFilter.SearchAutocomplete","data-sentry-source-file":"OrderDispatchManagerFilter.tsx"}),(0,l.jsx)(Ve.A.BusinessGroupType,{autocompleteClassName:"!max-w-[206px]","data-sentry-element":"SearchFilter.BusinessGroupType","data-sentry-source-file":"OrderDispatchManagerFilter.tsx"})," "]})]})};const To=(e,t,a)=>{let l=e()||[],r=l.some((e=>e.orderStatusType!==t));l=l.map((e=>{var t,l;const r=null!==(l=null==a||null===(t=a.apiRef)||void 0===t?void 0:t.getRowIndexRelativeToVisibleRows(e._id_))&&void 0!==l?l:0;return e.rowIndex=r+1,e}));const s={itemList:l.map((e=>({orderTransferId:e.orderTransferId,rowNum:e.rowIndex,vendorVehicleId:e.vendorVehicleId,purchaseTransferRateInfo:{actualAmount:e.purchaseInfoActualAmount,createdAt:e.purchaseInfoCreatedAt,finalAmount:e.purchaseInfoFinalAmount,isExtra:e.purchaseInfoIsExtra,orderTransferDispatchId:e.purchaseInfoOrderTransferDispatchId,orderTransferDispatchRateId:e.purchaseInfoOrderTransferDispatchRateId,purchaseCostType:e.purchaseInfoPurchaseCostType,quantity:e.purchaseInfoQuantity,rateAmount:e.purchaseInfoRateAmount,rateCode:e.purchaseInfoRateCode,remark:e.purchaseInfoRemark}})))};return{selectRows:l,isOtherRowPresent:r,request:s}},Io=e=>{let{getSelectedRows:t,wrapGridRef:a,onSearch:s,validateSelectedRows:n,updateRows:o}=e;const[i,d]=(0,r.useState)(!1),c=E(),u=v(),m=(0,$e.P9)(),p=(0,$s.ge)(),h=(0,$s.nN)();return{isOpenedFranchiseModal:i,setIsOpenedFranchiseModal:d,handleClickFranchise:()=>{const{selectRows:e,isOtherRowPresent:r,request:s}=To(t,R.nwF.CONFIRM_ASSIGNMENT,a.current);if(!n(e))return;const o=co(e),i=(e=>{const t=[R.nwF.CONFIRM_ASSIGNMENT];return e.every((e=>t.includes(e.orderStatusType)))})(e);if(o||i)if(o){const t=new Set(e.map((e=>e.customerId))),a=new Set(e.map((e=>e.contractSalesId)));if(1!==t.size||1!==a.size)return void m({message:"동일한 화주, 계약 마스터 주문만 가능합니다.",type:"caution",delay:3e3});d(!0)}else i&&u({title:"파트너 지정을 취소하시겠어요?",confirmButtonLabel:"취소하기",onClickConfirmButton:()=>{h.mutateAsync(s).then((e=>{e&&(d(!1),m({message:"파트너 지정이 취소되었습니다.",type:"success"}))}))},onClickCloseButton:()=>d(!1)});else c({title:"파트너를 지정하거나, 취소할 수 없습니다.",children:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"Body4_M text-grey40",children:"아래 중 동일한 주문 상태만 선택하여 다시 시도해 주세요."}),(0,l.jsxs)("div",{className:"Body4_B text-grey50 mt-[20px]",children:[(0,l.jsx)("div",{children:'· 파트너 지정: "배차의뢰", "배차계획" 상태'}),(0,l.jsx)("div",{children:'· 파트너 지정 취소: "배정확정" 상태'})]})]}),modalWidth:400})},handleClickFranchiseMulti:()=>{const e=t(),a=e.every((e=>!!e.vendorId)),r=e.every((e=>!e.vendorId));a?u({title:"파트너 지정을 취소하시겠어요?",confirmButtonLabel:"취소하기",onClickConfirmButton:()=>{o(e.map((e=>({...e,vendorId:null,vendorType:null,vehicleNumber:"",vendorMdmCode:"",...tn.z9,purchaseInfoRateAmount:0,isDirty:!0})))),m({message:"파트너 지정이 취소되었습니다.",type:"success"})}}):r?d(!0):c({title:"파트너를 지정하거나, 취소할 수 없습니다.",children:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"Body4_M text-grey40",children:"아래 중 동일한 파트너 지정 상태만 선택하여 다시 시도해 주세요."}),(0,l.jsxs)("div",{className:"Body4_B text-grey50 mt-[20px]",children:[(0,l.jsx)("div",{children:"· 파트너 지정: 파트너 미지정 상태"}),(0,l.jsx)("div",{children:"· 파트너 지정 취소: 파트너 지정 상태"})]})]}),modalWidth:400})},handleClickFranchiseAssigned:e=>{try{const{orderRows:l,selectVendorRows:r,isContract:s,resetModal:n}=e,{selectRows:o,isOtherRowPresent:i}=To(t,null,a.current);let c={itemList:[],isContract:s,vendorId:r[0].vendorId};c=s?{...c,itemList:o.map((e=>({rowNum:e.rowIndex,orderTransferId:e.orderTransferId})))}:{...c,itemList:l.map((e=>({rowNum:e.rowIndex,orderTransferId:e.orderTransferId,rateAmount:e.purchaseInfoRateAmount,rateCode:e.purchaseInfoRateCode,quantity:e.purchaseInfoQuantity,actualAmount:e.purchaseInfoActualAmount,finalAmount:e.purchaseInfoFinalAmount})))},p.mutateAsync(c).then((e=>{e&&(d(!1),n(),m({message:"파트너가 지정되었습니다.",type:"success"}))}))}catch(e){m({message:e.message,type:"fail",delay:3e3})}},handleClickFranchiseAssignedMulti:e=>{const{orderRows:t,selectVendorRows:a,isContract:l,resetModal:r}=e,{vendorId:s,vendorType:n,mdmCode:i,registrationNumber:c}=a[0],u=t.map((e=>({...e,vendorId:s,vendorType:n,vendorMdmCode:i,vendorBusinessRegistrationNumber:c})));o([...u]),m({message:"파트너가 지정되었습니다.",type:"success"}),r(),d(!1)},isVendorAssignSuccess:p.isSuccess,isVendorCancelSuccess:h.isSuccess}},bo=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"width",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1150;const a=!0,[l,s]=(0,r.useState)((()=>"width"===e?window.innerWidth>=t:window.innerHeight>=t));return(0,r.useEffect)((()=>{const a=mn()((()=>s("width"===e?window.innerWidth>=t:window.innerHeight>=t)),50);return window.addEventListener("resize",a),a(),()=>{window.removeEventListener("resize",a),a.cancel()}}),[e,t,a]),l};var Ro=a(5061),So=a(19131);var _o=e=>{let{label:t,options:a=[],startDateFiled:s="startDate",endDateFiled:n="endDate",startTimeFiled:o="startTime",endTimeFiled:i="endTime",autocompleteBoxClassName:d,autocompleteClassName:c,componentType:u,gridCellParams:m,onChange:p,defaultEndTime:h}=e;const f=new Date,C=0!==a.length,[x,N]=(0,r.useState)({}),[y,E]=(0,r.useState)(je()(f)),[v,A]=(0,r.useState)(je()(f)),[g,T]=(0,r.useState)(je()((0,pe.Z5)(f)).format("HH:mm")),[I,b]=(0,r.useState)(je()((0,pe.Z5)(f)).format("HH:mm")),R=(0,r.useMemo)((()=>{const e=[];for(let t=0;t<24;t++)for(let a=0;a<60;a+=30){const l=String(t).padStart(2,"0"),r=String(a).padStart(2,"0"),s="".concat(l,":").concat(r);e.push({id:s,label:s})}return e}),[]);return(0,r.useEffect)((()=>{x[s]&&E(je()(x[s])),x[n]&&A(je()(x[n]))}),[x,s,n]),(0,r.useEffect)((()=>{if(x[o])T(je()(x[o]).format("HH:mm"));else if(m){var e;T(null===(e=m.row)||void 0===e?void 0:e[o])}if(x[i])b(je()(x[i]).format("HH:mm"));else if(m){var t;b(null===(t=m.row)||void 0===t?void 0:t[i])}}),[x,m,o,i]),(0,r.useEffect)((()=>{}),[x]),(0,r.useEffect)((()=>{null==p||p(y.format("YYYY-MM-DD"),g,v.format("YYYY-MM-DD"),I)}),[p,y,g,v,I]),(0,l.jsxs)("div",{className:"flex items-center gap-[8px]","data-sentry-component":"DateTimeRangeSearch","data-sentry-source-file":"DateTimeRangeSearch.tsx",children:[t&&(0,l.jsx)(So.A,{label:t}),C&&(0,l.jsx)(He.A,{autocompleteClassName:"!w-[80px]",options:a,selectedId:String(a[0].id)}),(0,l.jsx)(gt.A,{datePickerClassName:"w-[138px]",value:y,onChange:e=>{N((t=>({...t,[s]:""===e?je()(e).startOf("day").format():null}))),E(je()(e))},"data-sentry-element":"TmsBasicDatePicker","data-sentry-source-file":"DateTimeRangeSearch.tsx"}),(0,l.jsx)(He.A,{selectedId:g,placeholder:"선택",options:R,autocompleteBoxClassName:d,autocompleteClassName:c,componentType:u,autocompleteSize:Ha.A.Small,onChange:(e,t)=>{T(null==t?void 0:t.id),null==m||m.api.updateRows([{...m.row,[m.field]:null==t?void 0:t.id}])},onKeyDown:e=>{"ArrowUp"!==e.key&&"ArrowDown"!==e.key||e.stopPropagation()},"data-sentry-element":"TmsBasicAutocomplete","data-sentry-source-file":"DateTimeRangeSearch.tsx"}),"~",(0,l.jsx)(gt.A,{datePickerClassName:"w-[138px]",value:v,onChange:e=>{N((t=>({...t,[n]:""===e?je()(e).endOf("day").format():null}))),h&&b(h),A(je()(e))},"data-sentry-element":"TmsBasicDatePicker","data-sentry-source-file":"DateTimeRangeSearch.tsx"}),(0,l.jsx)(He.A,{selectedId:I,placeholder:"선택",options:R,autocompleteBoxClassName:d,autocompleteClassName:c,componentType:u,autocompleteSize:Ha.A.Small,onChange:(e,t)=>{b(null==t?void 0:t.id),null==m||m.api.updateRows([{...m.row,[m.field]:null==t?void 0:t.id}])},onKeyDown:e=>{"ArrowUp"!==e.key&&"ArrowDown"!==e.key||e.stopPropagation()},"data-sentry-element":"TmsBasicAutocomplete","data-sentry-source-file":"DateTimeRangeSearch.tsx"})]})};var wo=function(e){let{title:t="일자 일괄 적용",onSubmit:a,onClose:s}=e;const n=E(),[o,i]=(0,r.useState)(""),[d,c]=(0,r.useState)(""),[u,m]=(0,r.useState)(""),[p,h]=(0,r.useState)("");return(0,l.jsx)(Pe.A,{title:t,modalWidth:612,modalContentHeight:50,confirmButtonLabel:"적용하기",onClickConfirmButton:()=>{const e=je()("".concat(o," ").concat(d));je()("".concat(u," ").concat(p)).isAfter(e)?a(o,d,u,p):n({title:"하차일시는 상차일시보다 미래여야 합니다.",description:"상하차 일시를 다시 선택해주세요.",modalWidth:400,onClickConfirmButton:()=>{}})},onClickCloseButton:()=>s(),"data-sentry-element":"TmsBasicModal","data-sentry-component":"DateRangeBatchApplyModal","data-sentry-source-file":"DateRangeBatchApplyModal.tsx",children:(0,l.jsx)("div",{className:"flex gap-[16px]",children:(0,l.jsx)("div",{className:"flex w-full flex-row justify-between",children:(0,l.jsx)(_o,{label:"",onChange:(e,t,a,l)=>{i(e),c(t),m(a),h(l)},autocompleteBoxClassName:"w-[112px]",componentType:"autocomplete-filter",defaultEndTime:"08:00","data-sentry-element":"DateTimeRangeSearch","data-sentry-source-file":"DateRangeBatchApplyModal.tsx"})})})})},Oo=a(12703);var Mo,Do,jo=function(e){let{onSubmit:t,onClose:a}=e;const{commonMetaV2List:s}=(0,Je.X)(),[n,o]=(0,r.useState)(""),[i,d]=(0,r.useState)("");return(0,l.jsxs)(Pe.A,{title:"톤급/의뢰량 일괄 적용",modalWidth:500,modalContentHeight:65,confirmButtonLabel:"적용하기",onClickConfirmButton:()=>t(n,i),onClickCloseButton:()=>a(),"data-sentry-element":"TmsBasicModal","data-sentry-component":"TonBatchApplyModal","data-sentry-source-file":"TonBatchApplyModal.tsx",children:[(0,l.jsx)("div",{className:"text-orange50 Body5_M mb-[16px] mt-[-24px]",children:"요율구분 “대당” 주문은 일괄 적용 불가"}),(0,l.jsx)("div",{className:"flex gap-[16px]",children:(0,l.jsxs)("div",{className:"flex w-full flex-row gap-[16px]",children:[(0,l.jsx)(He.A,{autocompleteClassName:"!w-[140px]",autocompleteSize:Ha.A.Small,selectedId:n,label:"톤급",placeholder:"톤급 선택",componentType:"autocomplete-filter",options:s[Ze.k.VEHICLE_TON_CODE],onChange:(e,t)=>{return a=String(t.id),o(a);var a},"data-sentry-element":"TmsBasicAutocomplete","data-sentry-source-file":"TonBatchApplyModal.tsx"}),(0,l.jsx)(Tt.A,{label:"의뢰량",value:i,placeholder:"입력",classNameInput:"w-[140px]",onChange:e=>d(e.target.value),"data-sentry-element":"TmsBasicInput","data-sentry-source-file":"TonBatchApplyModal.tsx"})]})})]})},Po=a(30117);function Lo(){return Lo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},Lo.apply(null,arguments)}var Bo=function(e){return r.createElement("svg",Lo({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},e),Mo||(Mo=r.createElement("g",{fill:"currentColor",clipPath:"url(#icon-sweep_svg__a)"},r.createElement("path",{d:"m16.93 7.13-1.06-1.06c-.1-.1-.25-.1-.35 0l-9.35 9.04c-.1.1-.25.1-.35 0l-4.34-4.04c-.1-.1-.25-.1-.35 0L.07 12.13c-.1.1-.1.25 0 .35l5.75 5.45c.1.1.25.1.35 0L16.92 7.48c.1-.1.1-.25 0-.35zM23.75 8.4h-4.5a.25.25 0 0 0-.25.25v1.1c0 .138.112.25.25.25h4.5a.25.25 0 0 0 .25-.25v-1.1a.25.25 0 0 0-.25-.25M23.75 12.4h-7.5a.25.25 0 0 0-.25.25v1.1c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.1a.25.25 0 0 0-.25-.25M23.75 16.4h-11.5a.25.25 0 0 0-.25.25v1.1c0 .138.112.25.25.25h11.5a.25.25 0 0 0 .25-.25v-1.1a.25.25 0 0 0-.25-.25"}))),Do||(Do=r.createElement("defs",null,r.createElement("clipPath",{id:"icon-sweep_svg__a"},r.createElement("path",{fill:"#fff",d:"M0 0h24v24H0z"})))))};const Uo=e=>e.map((e=>{const t=Number(e.rateInfo_count||0);return{...e,count:t}})),Vo=e=>(0===e.length||e.forEach((e=>{e.orderContractRateTonInfoList.forEach((t=>{const a="".concat(t.tonCode,"_count");void 0!==e[a]&&(t.count=Number(e[a]))}))})),e),Fo=e=>e.map(((e,t)=>{const a="2"===e.salesInfoRateCode&&"2"===e.purchaseInfoRateCode,l="3"===e.salesInfoRateCode,r=an(e.requestVehicleTonCode);let s={orderQuantity:1,orderWeight:1,salesInfoQuantity:1,purchaseInfoQuantity:1};return a?s={orderQuantity:r,orderWeight:r,salesInfoQuantity:r,purchaseInfoQuantity:r}:l&&(s={...s,orderWeight:r}),{...e,orderStatusType:e.orderStatusType||"DISPATCH_REQUEST",...s,departureLoadUnloadMethodType:"FORKLIFT",arrivalLoadUnloadMethodType:"FORKLIFT",inclusionPurchaseSettlement:"INCLUDE",purchaseInfoRateCode:e.salesInfoRateCode}})),Go=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e.map((e=>({_id_:e._id_,contractSalesId:e.contractSalesId,salesRateCode:e.salesInfoRateCode,purchaseRateCode:e.purchaseInfoRateCode,departureNodeCode:e.departureNodeCode.split("-")[0],arrivalNodeCode:e.arrivalNodeCode.split("-")[0],itemCode:e.orderItemCode,departureRequestDate:e.departureRequestDate,vehicleType:e.requestVehicleType,tonCode:e.requestVehicleTonCode,vendorId:t||e.vendorId,orderCorporationCode:e.orderCorporationCode,salesRateAmount:e.salesInfoRateAmount,purchaseRateAmount:e.purchaseInfoRateAmount})))},ko=(e,t,a)=>e.map((e=>a?{_id_:e._id_,salesInfoRateAmount:e.salesRateAmount,purchaseInfoRateAmount:e.purchaseRateAmount,vendorId:e.vendorId}:{_id_:e._id_,contractSalesId:e.contractSalesId,salesInfoRateCode:e.salesRateCode,purchaseInfoRateCode:e.purchaseRateCode,departureNodeCode:t.departureNodeCode,arrivalNodeCode:t.arrivalNodeCode,orderItemCode:e.itemCode,departureRequestDate:e.departureRequestDate,requestVehicleType:e.vehicleType,requestVehicleTonCode:e.tonCode,vendorId:e.vendorId,orderCorporationCode:e.orderCorporationCode,salesInfoRateAmount:e.salesRateAmount,purchaseInfoRateAmount:e.purchaseRateAmount})),Yo=()=>(0,T.n)(["franchiseModalQuery/usePurchaseVendorPartnerListQuery"],(async e=>(await I.q.api((t=>t.ApiV1ContractPurchaseVendorPartnerList(e)))).data.result.vendorInfoList)),qo=()=>(0,T.n)(["franchiseModalQuery/useVendorRateInfo"],(async e=>{let{row:t,vendorId:a,isOnlyRateInfo:l=!1}=e;const r={contractRateInfo:Go(t,a)},s=await I.q.api((e=>e.ApiV1OrderTransferContractRateFind(r)));return ko(s.data.result.contractRateInfo,t,l)})),Wo=(e,t)=>{const{commonMetaV2List:a,getMetaLabel:s}=(0,Je.X)();(0,r.useMemo)((()=>a[Ze.k.RATE_CATEGORY_CODE]),[]);return{contractColumnVisibilityModel:{vendorId:!1},contractColumns:[{field:"vendorId"},{field:"radio_select",headerName:"선택",width:48,align:"center",renderCell:a=>(0,l.jsx)("input",{type:"radio",checked:a.row.vendorId===t,onChange:()=>e(a.row.vendorId)})},{field:"no",headerName:"No.",align:"center",width:48,sortable:!1,filterable:!1,renderCell:e=>e.api.getRowIndexRelativeToVisibleRows(e.id)+1},{field:"name",headerName:"파트너",width:210,filterable:!1},{field:"mdmCode",headerName:"MDM 코드",width:90,filterable:!1},{field:"representativeName",headerName:"대표자명",width:70,filterable:!1},{field:"registrationNumber",headerName:"사업자 번호",width:122,filterable:!1}],orderColumns:[{field:"franchiseId"},{field:"no",headerName:"No.",align:"center",width:48,sortable:!1,filterable:!1,editable:!1,defaultEditable:!1,type:da._.VIEW_MODE_ID},{field:"customerName",headerName:"화주명",headerAlign:"left",width:200,flex:1,editable:!1,defaultEditable:!1,filterable:!1},{field:"departureNodeAddress",headerName:"상차지",headerAlign:"left",width:175,editable:!1,defaultEditable:!1,filterable:!1,valueGetter:(e,t)=>t.departureNodeAddress||t.departureNodeName},{field:"arrivalNodeAddress",headerName:"하차지",headerAlign:"left",width:175,editable:!1,defaultEditable:!1,filterable:!1,valueGetter:(e,t)=>t.arrivalNodeAddress||t.arrivalNodeName},{field:"purchaseInfoRateCode",headerName:"매입 요율 구분",width:110,filterable:!1,headerAlign:"center",required:!0,editable:!0,defaultEditable:!0,valueGetter:(e,t)=>s(Ze.k.RATE_CATEGORY_CODE,e)||"-"},{field:"purchaseInfoQuantity",headerName:"매입 수송량",width:110,filterable:!1,required:!0,editable:!0,defaultEditable:!0,cellClassName:"wide-cell",renderCell:e=>{const t=lo(e.row),a="2"===e.row.salesInfoRateCode&&"2"===e.row.purchaseInfoRateCode?["orderQuantity","orderWeight","purchaseInfoQuantity"]:["purchaseInfoQuantity"];return(0,l.jsx)(ua.A,{params:e,type:"number",readonly:t,defaultReadonly:!1,allowDemical:!0,subNodes:a})}},{field:"salesInfoActualAmount",headerName:"매출 금액(실)",width:110,filterable:!1,type:"number",editable:!1,defaultEditable:!1,valueGetter:en.N_},{field:"purchaseInfoActualAmount",headerName:"매입 금액(실)",width:110,filterable:!1,required:!0,editable:!0,defaultEditable:!0,type:"number",renderCell:e=>(0,l.jsx)(ua.A,{params:e,type:"number",defaultReadonly:!1,allowDemical:!0,subNodes:["purchaseInfoFinalAmount"]})}],unContractVendorColumns:[{field:"vendorId"},{field:"radio_select",headerName:"선택",width:48,align:"center",renderCell:a=>(0,l.jsx)("input",{type:"radio",checked:a.row.vendorId===t,onChange:()=>e(a.row.vendorId)})},{field:"no",headerName:"No.",align:"center",width:48,sortable:!1,filterable:!1,renderCell:e=>e.api.getRowIndexRelativeToVisibleRows(e.id)+1},{field:"mdmCorporationName",headerName:"인사조직",headerAlign:"left",width:160,filterable:!1},{field:"name",headerName:"파트너",headerAlign:"left",width:160,filterable:!1},{field:"mdmCode",headerName:"MDM 코드",headerAlign:"left",width:90,filterable:!1},{field:"representativeName",headerName:"대표자명",width:70,filterable:!1},{field:"managerPhoneNumber",headerName:"전화번호",headerAlign:"left",width:126,filterable:!1},{field:"address",headerName:"주소",headerAlign:"left",flex:1,filterable:!1}],orderColumnVisibilityModel:{franchiseId:!1},unContractVendorColumnVisibilityModel:{vendorId:!1}}};var Ho,Ko,zo;function Xo(){return Xo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},Xo.apply(null,arguments)}var Qo,Zo,Jo=function(e){return r.createElement("svg",Xo({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none"},e),Ho||(Ho=r.createElement("path",{fill:"#D5F0E8",d:"M17.501 5.833h-7.5v-2.5a.836.836 0 0 0-.833-.833H2.501a.836.836 0 0 0-.833.833v13.334c0 .458.375.833.833.833h15a.836.836 0 0 0 .834-.833v-10a.836.836 0 0 0-.834-.834"})),Ko||(Ko=r.createElement("path",{fill:"#11A277",d:"M8.668 5.832v-2H6.501v2zM6.501 7.165v2h2.167v-2zM8.668 12.832v-2.333H6.501v2.333zM5.168 3.832H3.001v2h2.167zM5.168 7.165H3.001v2h2.167zM5.168 10.499H3.001v2.333h2.167zM3.001 14.165v2h2.167v-2zM6.501 14.165v2h2.167v-2zM10.002 16.168h7v-9h-7v2h2.291c.117 0 .209.092.209.208v.917a.206.206 0 0 1-.209.208h-2.291v2.334h2.291c.117 0 .209.091.209.208v.917a.206.206 0 0 1-.209.208h-2.291z"})),zo||(zo=r.createElement("path",{fill:"#D5F0E8",d:"M15.625 9.168h-.917a.21.21 0 0 0-.208.208v.917c0 .115.093.208.208.208h.917a.21.21 0 0 0 .208-.208v-.917a.21.21 0 0 0-.208-.208M15.625 12.832h-.917a.21.21 0 0 0-.208.208v.917c0 .115.093.208.208.208h.917a.21.21 0 0 0 .208-.208v-.917a.21.21 0 0 0-.208-.208"})))};function $o(){return $o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},$o.apply(null,arguments)}var ei,ti,ai=function(e){return r.createElement("svg",$o({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},e),r.createElement("mask",{id:"icon-info-fill_svg__a",width:24,height:24,x:0,y:0,maskUnits:"userSpaceOnUse",style:{maskType:"alpha"}},Qo||(Qo=r.createElement("path",{fill:"#D9D9D9",d:"M0 0h24v24H0z"}))),Zo||(Zo=r.createElement("g",{mask:"url(#icon-info-fill_svg__a)"},r.createElement("path",{fill:"currentColor",d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m.8 14.75c0 .14-.11.25-.25.25h-1.1c-.14 0-.25-.11-.25-.25v-6.5c0-.14.11-.25.25-.25h1.1c.14 0 .25.11.25.25zm0-8.4c0 .14-.11.25-.25.25h-1.1c-.14 0-.25-.11-.25-.25v-1.1c0-.14.11-.25.25-.25h1.1c.14 0 .25.11.25.25z"}))))};function li(){return li=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},li.apply(null,arguments)}var ri=function(e){return r.createElement("svg",li({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none"},e),ei||(ei=r.createElement("path",{fill:"currentColor",d:"m11.512 13.107 2.593-2.84h.113l-2.693 2.853zm0-6.22h.006L14.472 10l-.047.053-2.913-3.16z"})),ti||(ti=r.createElement("path",{fill:"currentColor",d:"M7.833 2.667H4.826c-2.047 0-3.88 1.466-4.127 3.5a4 4 0 0 0 3.967 4.5h8.173l-2.133 2.34c-.053.066-.053.173 0 .233l.713.713s.074.047.114.047q.062.001.113-.047l3.627-3.833a.15.15 0 0 0 .053-.12.15.15 0 0 0-.053-.12l-3.627-3.834S11.573 6 11.526 6a.16.16 0 0 0-.12.046l-.707.707a.2.2 0 0 0 0 .24L13.1 9.6H4.82c-1.546 0-2.94-1.127-3.073-2.673a2.93 2.93 0 0 1 2.92-3.194h3.167a.165.165 0 0 0 .166-.167v-.733a.165.165 0 0 0-.166-.167"})))};function si(e){let{onClickUncontracted:t,onSelected:a,onClose:s,selectedRows:n,isSingle:o}=e;const i=(0,$e.P9)(),[d,c]=(0,r.useState)([]),u=qo(),[m,p]=(0,r.useState)(0),{contractColumns:h,contractColumnVisibilityModel:f}=Wo((e=>{p(e)}),m),C=Yo(),x=(0,D.bBi)();return(0,r.useEffect)((()=>{if(n.length>0){(async()=>{const e={contractSalesIdList:n.filter((e=>e.contractSalesId>0)).map((e=>e.contractSalesId)),orderTransferIdList:n.map((e=>e.orderTransferId)),isContract:!0};try{const t=await C.mutateAsync(e);c(t)}catch(e){}})()}}),[n]),(0,l.jsx)(Pe.A,{title:"파트너 지정",modalWidth:616,modalContentHeight:400,confirmButtonLabel:"지정하기",isShowedBottomButton:!0,bottomButtonLabel:"계약 외 파트너 지정",onClickBottomButton:t,onClickConfirmButton:async()=>{try{const e=d.find((e=>e.vendorId===m));if(!e)return void i({message:"파트너를 선택해주세요.",type:"caution",delay:3e3});const t=()=>{c([])};let l=n;o||(l=await u.mutateAsync({row:l,vendorId:e.vendorId})),a({orderRows:l,selectVendorRows:[e],isContract:!0,resetModal:t})}catch(e){i({message:e.message,type:"fail",delay:3e3})}},onClickCloseButton:()=>s(),"data-sentry-element":"TmsBasicModal","data-sentry-component":"FranchiseContractedModal","data-sentry-source-file":"FranchiseModal.tsx",children:(0,l.jsx)("div",{className:"flex h-[386px]",children:(0,l.jsx)(Fe.A,{rows:d,apiRef:x,columns:h,getRowId:e=>e.vendorId,columnVisibilityModel:f,disableColumnMenu:!0,noRowDescription:{description_1:"조회된 파트너가 없습니다.",description_2:"조회 조건을 입력하거나, 조건을 다시 확인해 주세요."},"data-sentry-element":"TmsBasicDataGrid","data-sentry-source-file":"FranchiseModal.tsx"})})})}function ni(e){let{onSelected:t,onClose:a,selectedRows:s}=e;const n=(0,$e.P9)(),{commonMetaV2List:o}=(0,Je.X)(),[i,d]=(0,r.useState)(!1),[c,p]=(0,r.useState)([]),[h,f]=(0,r.useState)([]),[C,x]=(0,r.useState)(""),[N,y]=(0,r.useState)("ALL"),[E,v]=(0,r.useState)(""),A=Yo(),g=(0,r.useRef)(null),T=(0,D.bBi)(),[I,b]=(0,r.useState)(0),{orderColumns:R,orderColumnVisibilityModel:S,unContractVendorColumns:_,unContractVendorColumnVisibilityModel:w}=Wo((e=>{b(e)}),I);var O;const{setInitData:M,updateRows:j,getAllRows:P}=null!==(O=null==g?void 0:g.current)&&void 0!==O?O:{};(0,r.useEffect)((()=>{d(!0)}),[]),(0,r.useEffect)((()=>{i&&M(s)}),[i]);const L=()=>(e=>{if(e.some((e=>!e.purchaseInfoRateCode)))throw new Error("매입 요율 구분을 선택해주세요.");return e.map((e=>{let t=0;const{purchaseInfoQuantity:a,purchaseInfoRateCode:l,purchaseInfoActualAmount:r}=e;if(!r||"0"===r)throw new Error("매입 금액(실)을 입력해주세요.");return t="4"===l?Math.round(r/(0,en.k7)(e)*1e3)/1e3:"3"===l||"10"===l?r:Math.round(r/a*1e3)/1e3,{...e,purchaseInfoRateAmount:t}}))})(P()),B=()=>{const e=s.map((e=>e.orderTransferId)),t=s.filter((e=>e.contractSalesId>0)).map((e=>e.contractSalesId)),a={corporationCode:"ALL"===N?"":N,searchVendorName:E,orderTransferIdList:e,contractSalesIdList:t};A.mutateAsync(a)};return(0,r.useEffect)((()=>{A.data&&f(A.data)}),[A.data]),(0,r.useEffect)((()=>{B()}),[]),(0,l.jsxs)(Pe.A,{title:"파트너 지정 (계약 외 주문)",modalWidth:1292,modalContentHeight:540,confirmButtonLabel:"지정하기",onClickConfirmButton:()=>{try{const e=h.find((e=>e.vendorId===I));if(!e)return void n({message:"파트너를 선택해주세요.",type:"caution",delay:3e3});const a=()=>{f([])};t({orderRows:L(),selectVendorRows:[e],isContract:!1,resetModal:a})}catch(e){n({message:e.message,type:"fail",delay:3e3})}},onClickCloseButton:()=>a(),"data-sentry-element":"TmsBasicModal","data-sentry-component":"FranchiseUncontractedModal","data-sentry-source-file":"FranchiseModal.tsx",children:[(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"flex flex-row items-center justify-between gap-[16px]",children:[(0,l.jsxs)("div",{className:"flex flex-row items-center gap-[4px]",children:[(0,l.jsx)(ai,{width:16,height:16,className:"text-grey95","data-sentry-element":"InfoIcon","data-sentry-source-file":"FranchiseModal.tsx"}),(0,l.jsxs)("div",{className:"Body4_B text-grey40 flex items-center justify-start gap-[6px]",children:[(0,l.jsx)("div",{className:"",children:"주문 정보"}),(0,l.jsx)("div",{className:"bg-grey60 h-[4px] w-[4px] rounded-full"}),(0,l.jsx)("div",{className:"Body5_M text-grey60",children:"화주"}),(0,l.jsx)("div",{className:"",children:s[0].customerName})]},"info-text")]}),(0,l.jsxs)("div",{className:"flex items-center gap-[16px]",children:[(0,l.jsx)(Tt.A,{value:C,label:"매입 금액(%)",placeholder:"입력",classNameInput:"w-[70px]",onChange:e=>{x((0,wn.Z)(e.target.value))},"data-sentry-element":"TmsBasicInput","data-sentry-source-file":"FranchiseModal.tsx"}),(0,l.jsx)(u.A,{label:"계산",level:m.V.level_3,size:m.M.Small,leftIcon:(0,l.jsx)(ri,{className:"text-blue50"}),onClick:()=>{try{const e=((e,t)=>{const a=Number(t)/100;if(!a)throw new Error("매입 금액(%) 를 입력해주세요");if(e.some((e=>!e.purchaseInfoRateCode)))throw new Error("매입 요율 구분을 선택해주세요.");return e.map((e=>{const t=(0,en.N_)(null,e),l=Math.round(t*a*1e3)/1e3;return{...e,purchaseInfoActualAmount:l,purchaseInfoFinalAmount:l}}))})(P(),C);j(e)}catch(e){n({message:e.message,type:"fail",delay:3e3})}},"data-sentry-element":"TmsBasicButton","data-sentry-source-file":"FranchiseModal.tsx"})]})]}),(0,l.jsx)("div",{className:"mt-[12px] flex h-[150px]",children:(0,l.jsx)(Fa.A,{ref:g,gridApiRef:T,rows:s,columns:R,getRowId:e=>e._id_,columnVisibilityModel:S,rowSelectionModel:c,disableColumnMenu:!0,noRowDescription:{description_1:"조회된 주문 정보가 없습니다.",description_2:"조회 조건을 입력하거나, 조건을 다시 확인해 주세요."},"data-sentry-element":"WrappTmsBasicDataGrid","data-sentry-source-file":"FranchiseModal.tsx"})})]}),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"mt-[24px] flex flex-row items-center justify-between gap-[16px]",children:[(0,l.jsxs)("div",{className:"flex flex-row items-center gap-[4px]",children:[(0,l.jsx)(Jo,{width:16,height:16,"data-sentry-element":"DomainIcon","data-sentry-source-file":"FranchiseModal.tsx"}),(0,l.jsx)("p",{className:"Body4_B text-grey40",children:"파트너"},"info-text")]}),(0,l.jsxs)("div",{className:"flex items-center gap-[16px]",children:[(0,l.jsx)(He.A,{label:"인사 조직",selectedId:N,placeholder:"인사 조직",firstOptionType:"all",autocompleteBoxClassName:"w-[220px]",autocompleteSize:Ha.A.Small,options:o[Ze.k.COMMON_MDM_CORPORATION_CODE],onChange:(e,t)=>y(null==t?void 0:t.id),"data-sentry-element":"TmsBasicAutocomplete","data-sentry-source-file":"FranchiseModal.tsx"}),(0,l.jsx)(Tt.A,{label:"파트너",placeholder:"파트너 입력",classNameInput:"w-[200px]",value:E,onChange:e=>v(e.target.value),"data-sentry-element":"TmsBasicInput","data-sentry-source-file":"FranchiseModal.tsx"}),(0,l.jsx)(u.A,{label:"조회",level:m.V.level_3,size:m.M.Small,leftIcon:(0,l.jsx)(se.A,{width:16,height:16,className:"text-blue50"}),onClick:B,"data-sentry-element":"TmsBasicButton","data-sentry-source-file":"FranchiseModal.tsx"})]})]}),(0,l.jsx)("div",{className:"mt-[12px] flex h-[260px]",children:(0,l.jsx)(Fe.A,{rows:h,disableMultipleRowSelection:!0,columns:_,getRowId:e=>e.vendorId,columnVisibilityModel:w,disableColumnMenu:!0,noRowDescription:{description_1:"조회된 파트너가 없습니다.",description_2:"조회 조건을 입력하거나, 조건을 다시 확인해 주세요."},"data-sentry-element":"TmsBasicDataGrid","data-sentry-source-file":"FranchiseModal.tsx"})})]})]})}var oi=(0,r.memo)((function(e){let{onSelected:t,onClose:a,selectedRows:s,isSingle:n}=e;const[o,i]=(0,r.useState)(!0);return(0,r.useEffect)((()=>{if(s&&s.length){const e=s.every((e=>"NONE"!==e.contractCategoryType));i(e)}}),[s]),o?(0,l.jsx)(si,{isSingle:n,onClickUncontracted:()=>i(!1),onSelected:t,onClose:a,selectedRows:s}):(0,l.jsx)(ni,{isSingle:n,onSelected:t,onClose:a,selectedRows:s})}),((e,t)=>c().isEqual(e.selectedRows,t.selectedRows)));var ii=function(e){let{isSingle:t=!1,onSearch:a,selectedRows:s,getSelectedRows:n,addRow:o,removeSelectedRow:i,updateRows:d,wrapGridRef:c,copySelectedRowV2:h}=e;v();const f=E(),C=(0,$e.P9)(),[x,N]=(0,r.useState)(!1),[y,A]=(0,r.useState)(!1),[g,T]=(0,r.useState)(!1),[I,b]=(0,r.useState)(!1),{isOpenedFranchiseModal:R,setIsOpenedFranchiseModal:S,handleClickFranchiseMulti:_,handleClickFranchiseAssignedMulti:w}=Io({getSelectedRows:n,wrapGridRef:c,onSearch:a,validateSelectedRows:e=>e.length?!e.some((e=>{let{_isNew:t}=e;return t}))||(C({message:"등록되지 않은 주문이 있습니다.",type:"fail",delay:3e3}),!1):(C({message:"선택된 항목이 없습니다.",type:"fail",delay:3e3}),!1),updateRows:d}),O=e=>{const t=n();switch(e){case"1":if(t.some((e=>!Zn(e))))return void f({title:"상/하차일 일괄 적용이 불가합니다.",children:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"Body4_M text-grey50",children:"아래 적용 가능한 주문 상태를 확인해 주세요."}),(0,l.jsx)("div",{className:"Body4_B text-primary mt-3",children:(0,l.jsx)("div",{children:"· “배차의뢰”, “배차계획”, “배정확정”, “배차확정”"})})]}),modalWidth:480});A(!0);break;case"2":if(t.some((e=>(e=>{const t=e.isSalesSettlementComplete,a=e.isPurchaseSettlementComplete;return t||a})(e))))return void f({title:"추가 운임 일괄 적용이 불가합니다.",children:(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("div",{className:"Body4_M text-grey50",children:"정산이 확정된 경우, 추가 운임 일괄 적용이 불가합니다."})}),modalWidth:480});T(!0);break;case"3":D();break;case"4":j();break;case"5":_()}},M=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:n()).filter((e=>{let{_isNew:t}=e;return!t})).map((e=>{let{_id_:t,orderTransferId:a}=e;var l,r;return{rowNum:(null==c||null===(r=c.current)||void 0===r||null===(l=r.apiRef)||void 0===l?void 0:l.getRowIndexRelativeToVisibleRows(t))+1,orderTransferId:a}}))},D=async()=>{try{n(),await(0,$s.$N)({itemList:M()});C({message:"매입 정산 제외가 일괄 적용되었습니다.",type:"success"})}catch(e){C({message:e.message,type:"fail"})}finally{a()}},j=()=>{n().some((e=>"3"===e.salesInfoRateCode))?f({title:"요율 구분이 ‘대당’인 주문은 변경할 수 없습니다."}):b(!0)},P=function(){return bo("width",arguments.length>0&&void 0!==arguments[0]?arguments[0]:1150)}(1540);return(0,l.jsxs)("div",{className:"justift-start flex items-center gap-[8px]","data-sentry-component":"OrderDispatchManagerFooterLeft","data-sentry-source-file":"OrderDispatchManagerFooterLeft.tsx",children:[t&&(0,l.jsx)(St.A,{label:"신규",handleAddRow:()=>{o()}}),(0,l.jsx)(Rt,{handleDeleteRow:()=>{i(!t)},isDisabled:!s.length,"data-sentry-element":"TmsDataGridDeleteRowBtn","data-sentry-source-file":"OrderDispatchManagerFooterLeft.tsx"}),t&&(0,l.jsx)(Ya,{isDisabled:!s.length,handleCopyRow:()=>{h((e=>(0,Po.kQ)(e)),!0),C({message:"선택한 주문이 복사되었습니다.",type:"success",delay:3e3})}}),P?t?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(u.A,{label:"상/하차일시",level:m.V.level_4,size:m.M.Small,disabled:!s.length,onClick:()=>O("1")}),(0,l.jsx)(u.A,{label:"매출/매입 추가 운임",level:m.V.level_4,size:m.M.Small,disabled:!s.length,onClick:()=>O("2")}),(0,l.jsx)(u.A,{label:"매입 정산 제외",level:m.V.level_4,size:m.M.Small,disabled:!s.length,onClick:()=>O("3")})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(u.A,{label:"상/하차일시",level:m.V.level_4,size:m.M.Small,disabled:!s.length,onClick:()=>O("1")}),(0,l.jsx)(u.A,{label:"톤급/의뢰량",level:m.V.level_4,size:m.M.Small,disabled:!s.length,onClick:()=>O("4")}),(0,l.jsx)(u.A,{label:"파트너 지정/취소",level:m.V.level_4,size:m.M.Small,disabled:!s.length,onClick:()=>O("5")})]}):(0,l.jsx)(Ro.default,{options:[{id:"1",label:"상/하차일시"},...t?[{id:"2",label:"매출/매입 추가 운임"},{id:"3",label:"매입 정산 제외"}]:[{id:"4",label:"톤급/의뢰량"},{id:"5",label:"파트너 지정/취소"}]],isOpened:x,renderer:(0,l.jsx)(u.A,{label:"일괄 적용",level:m.V.level_6,size:m.M.Small,leftIcon:(0,l.jsx)(Bo,{with:16,height:16}),rightIcon:(0,l.jsx)(p.A,{width:16,height:16}),onClick:()=>N(!0),disabled:!s.length}),className:"w-[160px]",onClickClose:()=>N(!1),onSelected:e=>O(e)}),y&&(0,l.jsx)(wo,{title:"상/하차일시 일괄 적용",onClose:()=>A(!1),onSubmit:async(e,t,a,l)=>{const r=n();d(r.map((r=>({...r,departureRequestDate:e,departureRequestTime:t,arrivalRequestDate:a,arrivalRequestTime:l,isDirty:!0})))),C({message:"상/하차일이 일괄 적용되었습니다.",type:"success",delay:3e3}),A(!1)}}),g&&(0,l.jsx)(Oo.default,{defaultRowField:"transferRateInfoExtraList",onClose:()=>T(!1),onSubmit:async e=>{const t=_n.v.toOrderDispatchSubmit(e),a=n();d(a.map((e=>({...e,isDirty:!0,purchaseTotalExtraAmount:Number(e.purchaseTotalExtraAmount)+Number(t.purchaseTotalExtraAmount),salesTotalExtraAmount:Number(e.salesTotalExtraAmount)+Number(t.salesTotalExtraAmount),transferRateInfoExtraList:[...e.transferRateInfoExtraList,...t.transferRateInfoExtraList],purchaseTransferRateInfoExtraList:[...e.purchaseTransferRateInfoExtraList,...t.purchaseTransferRateInfoExtraList],salesTransferRateInfoExtraList:[...e.salesTransferRateInfoExtraList,...t.salesTransferRateInfoExtraList]})))),C({message:"매출/매입 추가 운임이 일괄 적용되었습니다.",type:"success",delay:3e3}),T(!1)}}),I&&(0,l.jsx)(jo,{onSubmit:async(e,t)=>{const a=n();d(a.map((a=>{const l=t||a.orderQuantity;let r=l||a.orderWeight,s=l||a.salesInfoQuantity,n=l||a.purchaseInfoQuantity;return r=!ao(a)?r:l,s=lo(a)?s:l,n=so(a)?n:l,{...a,requestVehicleTonCode:e||a.requestVehicleTonCode,orderQuantity:l||a.orderQuantity,orderWeight:r,salesInfoQuantity:s,purchaseInfoQuantity:n,isDirty:!0}}))),C({message:"톤급/의뢰량이 일괄 적용되었습니다.",type:"success",delay:3e3}),b(!1)},onClose:()=>b(!1)}),R&&(0,l.jsx)(oi,{isSingle:t,selectedRows:n()||[],onSelected:e=>w(e),onClose:()=>S(!1)})]})},di=a(68653),ci=a(56901);function ui(e){let{type:t="button",label:a="등록",className:r,isDisabled:s,handleRegister:n=()=>null}=e;return(0,l.jsx)(u.A,{type:t,label:a,level:m.V.level_2,size:m.M.Small,leftIcon:(0,l.jsx)(ci.A,{width:16,height:16,className:"text-white"}),className:r,onClick:n,disabled:s,"data-sentry-element":"TmsBasicButton","data-sentry-component":"TmsDataGridRegisterBtn","data-sentry-source-file":"TmsDataGridRegisterBtn.tsx"})}const mi={id:!1},pi=[{field:"_id_",headerName:"No.",sortable:!1,align:"center",width:48,renderCell:e=>e.api.getRowIndexRelativeToVisibleRows(e.id)+1},{field:"orderStatusType",headerName:"주문 상태",width:98,headerAlign:"center",align:"center",cellClassName:"flex h-full w-full items-center justify-center",renderCell:e=>(0,l.jsx)(gn.OrderStatusTag,{status:e.value})},{field:"purchaseTotalAmountTemp",headerName:"매입 금액",width:120,filterable:!1,valueGetter:(e,t)=>e||(0,en.am)(e,t)},{field:"vendorType",headerName:"운영 구분",width:82,headerAlign:"center",valueGetter:(e,t)=>"".concat(Je.X.getState().getMetaLabel(Ze.k.VENDOR_TYPE,e))},{field:"vendorName",headerName:"파트너",width:160,filterable:!1},{field:"vendorVehiclePlateNumber",headerName:"차량번호",width:136,filterable:!1},{field:"equipmentManageNo",headerName:"관리번호",width:92,filterable:!1},{field:"departureRequestDate",headerName:"상차일시",width:143,filterable:!1},{field:"customerName",headerName:"고객명",width:200,filterable:!1},{field:"orderItemName",headerName:"품목",width:90,filterable:!1,valueGetter:(e,t)=>{var a;return(null===(a=t.departureOrderSalesPlaceInfo)||void 0===a?void 0:a.itemName)||"-"}},{field:"departureNodeName",headerName:"상차지",width:160,filterable:!1},{field:"arrivalNodeName",headerName:"하차지",width:160,filterable:!1},{field:"requestVehicleType",headerName:"차종",width:94,filterable:!1,valueGetter:(e,t)=>"".concat(Je.X.getState().getMetaLabel(Ze.k.VEHICLE_TYPE,e))},{field:"requestVehicleTonCode",headerName:"요청 톤급",width:94,filterable:!1,valueGetter:(e,t)=>"".concat(Je.X.getState().getMetaLabel(Ze.k.VEHICLE_TON_CODE,e))},{field:"orderQuantity",headerName:"의뢰량",width:94,filterable:!1},{field:"salesTotalAmount",headerName:"매출 금액",width:120,filterable:!1,valueGetter:en.p$}];var hi=a(89136),fi=a.n(hi);var Ci=function(e){let{beCancelled:t,onClose:a,selectedRows:s,onSearch:n}=e;const o=(0,$e.P9)(),[i,d]=(0,r.useState)([]),[c,p]=(0,r.useState)(""),{data:h,refetch:f,remove:x}=(0,Ul.I)(["MixedLoadingQuery"],(async()=>({})));return(0,r.useEffect)((()=>{s&&s.length&&(d(fi()(s)),p(s.reduce(((e,t)=>e+(0,en.am)(null,t)),0)))}),[]),(0,l.jsxs)(Pe.A,{title:"혼적",modalWidth:1244,modalContentHeight:410,confirmButtonClassName:C()({"!bg-red50":t}),confirmButtonLabel:t?"혼적 취소하기":"저장하기",onClickConfirmButton:()=>{i.map((e=>e.orderTransferId));o({message:"혼적 배정이 완료 되었습니다.",type:"success",delay:3e3})},onClickCloseButton:()=>a(),"data-sentry-element":"TmsBasicModal","data-sentry-component":"MixedLoadingModal","data-sentry-source-file":"MixedLoadingModal.tsx",children:[(0,l.jsx)("div",{className:"flex flex-row items-center justify-between gap-[16px]",children:(0,l.jsxs)("div",{className:"flex items-center gap-[16px]",children:[(0,l.jsx)(Tt.A,{label:"총 매입 금액",placeholder:"입력",classNameInput:"w-[100px]",value:c,onChange:e=>p((0,wn.Z)(e.target.value,3)),"data-sentry-element":"TmsBasicInput","data-sentry-source-file":"MixedLoadingModal.tsx"}),(0,l.jsx)(u.A,{label:"계산",level:m.V.level_3,size:m.M.Small,leftIcon:(0,l.jsx)(ri,{className:"text-blue50"}),onClick:()=>{const e=Number(c)/i.length;d(i.map((t=>({...t,purchaseTotalAmountTemp:e}))))},"data-sentry-element":"TmsBasicButton","data-sentry-source-file":"MixedLoadingModal.tsx"})]})}),(0,l.jsx)("div",{className:"mt-[12px] flex h-[346px]",children:(0,l.jsx)(Fe.A,{rows:i,columns:pi,columnVisibilityModel:mi,getRowId:e=>e._id_,disableColumnMenu:!0,noRowDescription:{description_1:"조회된 혼적 정보가 없습니다.",description_2:"조회 조건을 입력하거나, 조건을 다시 확인해 주세요."},"data-sentry-element":"TmsBasicDataGrid","data-sentry-source-file":"MixedLoadingModal.tsx"})})]})},xi=a(10346);var Ni,yi=function(e){let{isSplit:t,splitTargetOrder:a,splitOrderResult:s,onSelected:n,onClose:o}=e;const i=(0,$e.P9)(),{orderColumns:d,itemsColumns:c}=(()=>{const{commonMetaV2List:e,getMetaLabel:t}=(0,Je.X)();return{orderColumns:[{field:"orderItemCode",headerName:"품목",width:553,filterable:!1},{field:"salesInfoRateCode",headerName:"요율 구분",width:120,filterable:!1},{field:"orderQuantity",headerName:"의뢰량(중량)",type:"number",width:120,filterable:!1},{field:"departureRequestDate",headerName:"상차 일시",width:160,filterable:!1},{field:"arrivalRequestDate",headerName:"하차 일시",width:160,filterable:!1},{field:"salesInfoActualAmount",headerName:"매출 금액",width:120,filterable:!1,valueGetter:en.N_}],itemsColumns:[{field:"no",headerName:"No.",align:"center",width:48,sortable:!1,filterable:!1,renderCell:e=>e.api.getRowIndexRelativeToVisibleRows(e.id)+1},{field:"orderStatusType",headerName:"주문 상태",width:98,align:"center",cellClassName:"flex h-full w-full items-center justify-center",renderCell:e=>(0,l.jsx)(gn.OrderStatusTag,{status:e.value})},{field:"orderItemCode",headerName:"품목",width:553,filterable:!1},{field:"rateCode",headerName:"요율 구분",width:120,filterable:!1},{field:"rateQuantity",headerName:"매출 수송량",width:120,filterable:!1},{field:"departureRequestDate",headerName:"상차 일시",width:160,filterable:!1},{field:"arrivalRequestDate",headerName:"하차 일시",width:160,filterable:!1},{field:"rateAmount",headerName:"매출 요율 금액",width:120,filterable:!1},{field:"salesInfoActualAmount",headerName:"매출 금액",width:120,filterable:!1}]}})(),[p,h]=(0,r.useState)("INTEGER_ROUND_UP"),[f,x]=(0,r.useState)(""),N=(0,r.useRef)(null),y=(0,D.bBi)(),E=(0,r.useRef)(null),v=(0,D.bBi)();var A;const{updateRows:g,getAllRows:T}=null!==(A=null==N?void 0:N.current)&&void 0!==A?A:{};var I;const{updateRows:b,getAllRows:R}=null!==(I=null==E?void 0:E.current)&&void 0!==I?I:{},S=((0,$s.cA)(),(0,$s.GP)()),_=(0,$s.bc)(),w=(0,$s.uE)(),[O,M]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{M(!0)}),[]),(0,r.useEffect)((()=>{O&&g&&(t?g([a]):(g([s[0]]),b(s)))}),[O]),(0,r.useEffect)((()=>{}),[p]),(0,l.jsxs)(Pe.A,{title:"분할",modalWidth:1283,modalContentHeight:645,confirmButtonClassName:C()({"!bg-red50":!t}),confirmButtonLabel:t?"저장하기":"분할 취소하기",onClickConfirmButton:async()=>{try{if(t){const e=await _.mutateAsync({orderTransferId:1985,rateCode:"1",splitInfo:[{itemQuantity:5,weight:5,rateQuantity:5,rateAmount:15e4},{itemQuantity:5,weight:5,rateQuantity:5,rateAmount:15e4}]});JSON.stringify(e)}else{const e=await w.mutateAsync({originOrderTransferId:1985});JSON.stringify(e)}}catch(e){i({message:e.message,type:"caution",delay:3e3})}},onClickCloseButton:()=>o(),"data-sentry-element":"TmsBasicModal","data-sentry-component":"DivisionModal","data-sentry-source-file":"DivisionModal.tsx",children:[(0,l.jsxs)("div",{className:"flex flex-row items-center justify-between gap-4",children:[(0,l.jsxs)("div",{className:"flex flex-row items-center gap-1",children:[(0,l.jsx)(ai,{width:16,height:16,"data-sentry-element":"InfoIcon","data-sentry-source-file":"DivisionModal.tsx"}),(0,l.jsx)("p",{className:"Body4_B text-grey40",children:"주문 정보"},"info-text")]}),t&&(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsx)(xi.A,{defaultValue:p,value:p,handleChange:e=>h(e),label:"분할 방법",options:[{id:"INTEGER_ROUND_UP",label:"정수 우선분할(올림)"},{id:"INTEGER_ROUND_DOWN",label:"정수 우선분할(내림)"},{id:"DECIMAL_ROUND",label:"실수 균등분할(반올림)"},{id:"DECIMAL_TRUNCATE",label:"실수 균등분할(버림)"}]}),(0,l.jsx)(Tt.A,{label:"분할 수량",placeholder:"입력",classNameInput:"w-[70px]",value:f,onChange:e=>x((0,wn.Z)(e.target.value,0))}),(0,l.jsx)(u.A,{label:"분할",level:m.V.level_3,size:m.M.Small,leftIcon:(0,l.jsx)(Bn,{width:16,height:16,className:"text-blue50"}),onClick:async()=>{if(f)try{const{orderTransferId:e}=T()[0],t=await S.mutateAsync({orderTransferId:e,splitCnt:Number(f),orderSplitType:p});JSON.stringify(t)}catch(e){i({message:e.message,type:"caution",delay:3e3})}else i({message:"분할수량을 입력해 주세요.",type:"caution",delay:3e3})}})]})]}),(0,l.jsx)("div",{className:"mt-[12px] flex h-[66px]",children:(0,l.jsx)(Fa.A,{ref:N,gridApiRef:y,columns:d,disableColumnMenu:!0,noRowDescription:{description_1:"조회된 주문 정보가 없습니다.",description_2:"조회 조건을 입력하거나, 조건을 다시 확인해 주세요."},"data-sentry-element":"WrappTmsBasicDataGrid","data-sentry-source-file":"DivisionModal.tsx"})}),(0,l.jsx)("div",{className:"mt-[24px] flex flex-row items-center justify-between gap-[16px]",children:(0,l.jsxs)("div",{className:"flex flex-row items-center gap-[4px]",children:[(0,l.jsx)(ms,{width:16,height:16,"data-sentry-element":"CheckCircleIcon","data-sentry-source-file":"DivisionModal.tsx"}),(0,l.jsx)("p",{className:"Body4_B text-grey40",children:"분할 내용"},"info-text")]})}),(0,l.jsx)("div",{className:"mt-[12px] flex h-[460px]",children:(0,l.jsx)(Fa.A,{ref:E,gridApiRef:v,columns:c,disableColumnMenu:!0,noRowDescription:{description_1:"조회된 분할 정보가 없습니다.",description_2:"조회 조건을 입력하거나, 조건을 다시 확인해 주세요."},"data-sentry-element":"WrappTmsBasicDataGrid","data-sentry-source-file":"DivisionModal.tsx"})})]})};function Ei(){return Ei=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},Ei.apply(null,arguments)}var vi,Ai=function(e){return r.createElement("svg",Ei({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},e),Ni||(Ni=r.createElement("path",{fill:"currentColor",d:"M12 2c5.52 0 10 4.48 10 10s-4.48 10-10 10S2 17.52 2 12 6.48 2 12 2m0 1.6c-4.63 0-8.4 3.77-8.4 8.4s3.77 8.4 8.4 8.4 8.4-3.77 8.4-8.4-3.77-8.4-8.4-8.4m3.8 3.48c.1-.1.26-.1.36 0l.77.77c.1.1.1.26 0 .36L13.14 12l3.79 3.79c.1.1.1.26 0 .36l-.77.77c-.1.1-.26.1-.36 0l-3.79-3.79-3.79 3.79c-.1.1-.26.1-.36 0l-.77-.77c-.1-.1-.1-.26 0-.36L10.88 12 7.09 8.21c-.1-.1-.1-.26 0-.36l.77-.77c.1-.1.26-.1.36 0l3.79 3.79z"})))};function gi(){return gi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},gi.apply(null,arguments)}var Ti=function(e){return r.createElement("svg",gi({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none"},e),vi||(vi=r.createElement("path",{fill:"currentColor",d:"M7.973 1.333c3.466 0 6.326 2.634 6.66 6q.032.328.033.667-.002.339-.033.667c-.334 3.367-3.26 6-6.66 6s-6.22-2.534-6.64-5.807a.174.174 0 0 1 .174-.193h.74c.086 0 .153.06.16.14A5.59 5.59 0 0 0 7.972 13.6c2.873 0 5.253-2.16 5.58-4.933a5.5 5.5 0 0 0 0-1.334C13.226 4.56 10.846 2.4 7.973 2.4c-1.66 0-3.16.72-4.18 1.867h1.373c.093 0 .167.073.167.167v.733a.165.165 0 0 1-.167.166h-3A.165.165 0 0 1 2 5.167v-3C2 2.074 2.073 2 2.166 2h.733c.094 0 .167.074.167.167v1.3a6.7 6.7 0 0 1 4.907-2.134m1.88 4.054a.17.17 0 0 1 .24 0l.513.513a.17.17 0 0 1 0 .24L8.746 8l1.86 1.86a.17.17 0 0 1 0 .24l-.513.513a.17.17 0 0 1-.24 0l-1.86-1.86-1.86 1.86a.17.17 0 0 1-.24 0L5.38 10.1a.17.17 0 0 1 0-.24L7.24 8 5.38 6.14a.17.17 0 0 1 0-.24l.513-.513a.17.17 0 0 1 .24 0l1.86 1.86z"})))},Ii=a(56740);var bi=function(e){let{isSingle:t=!1,isFtOne:a=!1,onSearch:s,selectedRows:n,onRegister:o,getSelectedRows:d,wrapGridRef:c}=e;const p=v(),h=E(),f=(0,$e.P9)(),{params:C}=(0,di.W)(),{user:x}=(0,i.o)(),{mdmCorporationCodeList:N=[]}=x||{},{data:y,mutateAsync:A,isSuccess:g}=(0,$s.Wv)(),T=(0,$s.lQ)(),I=(0,$s.rG)(),b=(0,$s.f0)(),S=(0,$s.Px)(),_=(0,$s.g6)(),w=(0,$s.Ib)(),[O,M]=(0,r.useState)(!1),[D,j]=(0,r.useState)(!1),[P,L]=(0,r.useState)(!1),[B,U]=(0,r.useState)(null),[V,F]=(0,r.useState)([]),[G,k]=(0,r.useState)(!0),Y=e=>{k(!1),U(e.detail[0]),F(e.detail),L(!0)};(0,r.useEffect)((()=>(t&&pe.sV.on(Ar,Y),()=>{})),[t]);const q=e=>e.length?!e.some((e=>{let{_isNew:t}=e;return t}))||(f({message:"등록되지 않은 주문이 있습니다.",type:"fail",delay:3e3}),!1):(f({message:"선택된 항목이 없습니다.",type:"fail",delay:3e3}),!1),{isOpenedFranchiseModal:W,setIsOpenedFranchiseModal:H,handleClickFranchise:K,handleClickFranchiseAssigned:z,isVendorAssignSuccess:X,isVendorCancelSuccess:Q}=Io({getSelectedRows:d,wrapGridRef:c,onSearch:s,validateSelectedRows:q}),Z={1:{mutation:_,successMessage:"주문이 취소 처리 되었습니다."},2:{mutation:w,successMessage:"일괄 취소 처리 되었습니다."}},J=e=>{M(!0);const t=d()||[];if(!q(t))return;if((e=>{const t=[R.nwF.ORDER_CANCEL,R.nwF.DELIVERY_CANCEL];return e.some((e=>t.includes(e.orderStatusType)))})(t))return f({message:"주문취소, 운행중단인 주문은 취소할 수 없습니다.",type:"fail",delay:3e3}),!1;const{isValid:a,message:l}=((e,t)=>{const a="1"===e,l=R.nwF.DISPATCH_REQUEST;if(a&&!t.every((e=>e.orderStatusType===l)))return{isValid:!1,message:a?"배차의뢰 상태인 주문만 주문취소가 가능합니다.":"배차의뢰 상태를 제외한 주문만 일괄취소가 가능합니다."};return{isValid:!0,message:""}})(e,t);a?((e,t)=>{const a={itemList:t.map((e=>({orderTransferId:e.orderTransferId,rowNum:e.rowIndex})))};p({title:"선택한 주문을 취소 처리 하시겠어요?",confirmButtonType:"destructive",onClickConfirmButton:async()=>{try{const l=Z[e];await l.mutation.mutateAsync(a),f({message:"".concat(t.length,"건의 ").concat(l.successMessage),type:"success"})}catch(e){f({message:e.message,type:"fail",delay:3e3})}},onClickCloseButton:()=>{}})})(e,t):f({message:l,type:"caution",delay:3e3})};return(0,r.useEffect)((()=>{(T.isSuccess||I.isSuccess||X||Q||b.isSuccess||S.isSuccess||_.isSuccess||w.isSuccess)&&s()}),[T.isSuccess,I.isSuccess,X,Q,b.isSuccess,S.isSuccess,_.isSuccess,w.isSuccess]),(0,l.jsxs)("div",{className:"justift-start flex items-center gap-[8px]","data-sentry-component":"OrderDispatchManagerFooterRight","data-sentry-source-file":"OrderDispatchManagerFooterRight.tsx",children:[t&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(u.A,{label:"배차 확정/취소",level:m.V.level_4,size:m.M.Small,onClick:()=>{const{selectRows:e,isOtherRowPresent:t,request:a}=To(d,R.nwF.CONFIRM_DISPATCH,c.current);if(!q(e))return;const r=io(e),s=(e=>{const t=[R.nwF.CONFIRM_DISPATCH];return e.every((e=>t.includes(e.orderStatusType)))})(e);if(!r&&!s)return void h({title:"배차 정보를 확정하거나, 취소할 수 없습니다.",children:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"Body4_M text-grey40",children:"아래 중 동일한 주문 상태만 선택하여 다시 시도해 주세요."}),(0,l.jsxs)("div",{className:"Body4_B text-grey50 mt-[20px]",children:[(0,l.jsx)("div",{children:"· 배차 확정: “배차의뢰”, “배차계획” 상태"}),(0,l.jsx)("div",{children:"· 배차 확정 취소: “배차확정” 상태"})]})]}),modalWidth:400});const n=e.map((e=>{let{rowIndex:t}=e;return"".concat(t,"행")})).sort().join(", ");e.some((e=>!e.vendorVehiclePlateNumber))?h({title:"차량번호가 입력되지 않았습니다.",children:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"Body4_B text-grey40",children:[(0,l.jsx)("span",{className:"text-error",children:n}),"의 차량번호 입력 필요"]}),(0,l.jsx)("div",{className:"Body4_M text-grey50 mt-[20px]",children:"위 행의 차량번호 항목을 입력 후 다시 시도해 주세요."})]}),modalWidth:400}):e.some((e=>!e.salesInfoRateAmount||"0"===e.salesInfoRateAmount))?h({title:"매입 금액이 입력되지 않았습니다.",children:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"Body4_B text-grey40",children:[(0,l.jsx)("span",{className:"text-error",children:n}),"의 매입 금액 입력 필요"]}),(0,l.jsx)("div",{className:"Body4_M text-grey50 mt-[20px]",children:"위 행의 매입 금액 항목을 입력 후 다시 시도해 주세요."})]}),modalWidth:400}):r?p({title:"주문의 배차 정보를 확정하시겠어요?",onClickConfirmButton:async()=>{await T.mutateAsync(a)&&f({message:"배차 정보가 확정되었습니다.",type:"success"})},onClickCloseButton:()=>{}}):s&&p({title:"주문의 배차 정보를 취소하시겠어요?",confirmButtonType:"destructive",onClickConfirmButton:async()=>{await I.mutateAsync(a)&&f({message:"배차가 취소되었습니다.",type:"success"})},onClickCloseButton:()=>{}})}}),(0,l.jsx)(u.A,{label:"파트너 지정/취소",level:m.V.level_4,size:m.M.Small,onClick:K}),(0,l.jsx)(u.A,{label:"운송실적 확정/취소",level:m.V.level_4,size:m.M.Small,onClick:()=>{const{selectRows:e,isOtherRowPresent:t,request:a}=To(d,R.nwF.CONFIRM_RESULT,c.current);if(!q(e))return;const r=(e=>{const t=[R.nwF.DISPATCH_REQUEST,R.nwF.DISPATCH_PLAN,R.nwF.CONFIRM_ASSIGNMENT,R.nwF.CONFIRM_RESULT,R.nwF.ORDER_CANCEL,R.nwF.DELIVERY_CANCEL];return e.every((e=>!t.includes(e.orderStatusType)))})(e),s=(e=>{const t=[R.nwF.CONFIRM_RESULT];return e.every((e=>t.includes(e.orderStatusType)))})(e);r||s?r?p({title:'주문의 상태를 "운송실적확정"으로 변경하시겠어요?',onClickConfirmButton:async()=>{await b.mutateAsync(a)&&f({message:"운송실적이 확정되었습니다.",type:"success"})},onClickCloseButton:()=>{}}):s&&p({title:'"운송실적확정"처리를 취소하시겠어요?',confirmButtonType:"destructive",onClickConfirmButton:async()=>{await S.mutateAsync(a)&&f({message:"운송실적 확정이 취소되었습니다.",type:"success"})},onClickCloseButton:()=>{}}):h({title:"운송실적을 확정하거나, 취소할 수 없습니다. ",children:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"Body4_M text-grey40",children:"아래 중 동일한 주문 상태만 선택하여 다시 시도해 주세요."}),(0,l.jsxs)("div",{className:"Body4_B text-grey50 mt-[20px]",children:[(0,l.jsx)("div",{children:"· 운송실적 확정: “배차확정” 이후 상태"}),(0,l.jsx)("div",{children:"· 운송실적 확정 취소: “운송실적확정” 상태"})]})]}),modalWidth:400})}}),(0,l.jsx)(u.A,{label:"온디맨드 전송",level:m.V.level_4,size:m.M.Small,onClick:()=>{const e=d()||[];if(!q(e))return;e.every((e=>((e,t)=>{const a={DARMAS:["0003"],LABOR:["0005"],TRACTOR:["0225","0250"]};return a[e]?a[e].includes(t):["0010","0014","0025","0035","0050","0060","0080","0110","0180","0225","0250"].includes(t)})(e.requestVehicleType,e.requestVehicleTonCode)))?e.some((e=>Number(e.waypointCount||0)>0))?h({title:"온디맨드로 전송할 수 없습니다.",children:(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("div",{className:"Body4_M text-grey50",children:"다착지 주문은 온디맨드로 전송이 불가합니다."})}),modalWidth:480}):p({title:"주문을 더운반으로 전송하시겠어요?",confirmButtonLabel:"전송하기",onClickConfirmButton:async()=>{try{const t=await(0,$s.Fn)({orderTransferIds:e.map((e=>{let{orderTransferId:t}=e;return t}))});f({message:t.message,type:"success"}),s()}catch(e){const t=e;t.responseCode===tl.z.ORDER_TRANSFER_MATCHING_SEND_ERROR_BY_WAYPOINT?h({title:"온디맨드로 전송할 수 없습니다.",children:(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("div",{className:"Body4_M text-grey50",children:"다착지 주문은 온디맨드로 전송이 불가합니다."})}),modalWidth:480}):f({message:t.message,type:"caution",delay:3e3})}},onClickCloseButton:()=>{}}):h({title:"주문 전송이 불가한 주문이 존재합니다.",children:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"Body4_M text-grey50",children:"아래 전송 가능한 톤급을 확인해 주세요."}),(0,l.jsxs)("div",{className:"Body4_B text-primary mt-3",children:[(0,l.jsx)("div",{children:"· 다마스 : 0.3톤"}),(0,l.jsx)("div",{children:"· 라보 : 0.5톤"}),(0,l.jsx)("div",{children:"· 트렉터 : 22.5톤, 25톤"}),(0,l.jsx)("div",{children:"· 그 외 : 1톤, 1.4톤, 2.5톤, 3.5톤, 5톤, 5톤축, 8톤, 11톤, 18톤, 22.5톤, 25톤"})]})]}),modalWidth:480})}}),(0,l.jsx)("div",{className:"bg-grey90 h-[12px] w-[1px]"}),(0,l.jsx)(u.A,{label:"분할",level:m.V.level_4,size:m.M.Small,disabled:!n.length||n.length>1,leftIcon:(0,l.jsx)(Bn,{with:16,height:16}),onClick:()=>{const e=d()||[];if(!q(e))return;if(e.length>1)return void f({message:"분할은 하나의 행만 선택하여 시도해 주세요.",type:"caution",delay:3e3});(e=>{const t=[R.nwF.DISPATCH_REQUEST];return e.every((e=>t.includes(e.orderStatusType)&&!e.purchaseInfoRateAmount||"0"!==e.purchaseInfoRateAmount))})(e)?(U(e[0]),k(!0),L(!0)):h({title:"주문을 분할할 수 없습니다.",children:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"Body4_M text-grey40",children:"아래 중 동일한 주문 상태만 선택하여 다시 시도해 주세요."}),(0,l.jsxs)("div",{className:"Body4_B text-grey50 mt-[20px]",children:[(0,l.jsx)("div",{children:"· 주문 상태: “배차의뢰” 상태"}),(0,l.jsx)("div",{children:"· 매입 금액: 0"})]})]}),modalWidth:400})}}),(0,l.jsx)("div",{className:"bg-grey90 h-[12px] w-[1px]"}),(0,l.jsx)(We,{excelFileName:a?"(FT, O-NE)주문배차관리":"주문배차관리",isSuccessExcel:g,excelData:y,handleExcelDownload:async()=>{try{await A(Ii.X.toListRequest(C,N))}catch(e){f({message:e.message,type:"fail",delay:3e3})}}}),(0,l.jsx)("div",{className:"bg-grey90 h-[12px] w-[1px]"}),(0,l.jsx)(u.A,{label:"일괄 취소",level:m.V.level_4,size:m.M.Small,leftIcon:(0,l.jsx)(Ti,{with:16,height:16,className:"text-red50"}),onClick:()=>J("2")}),(0,l.jsx)(u.A,{label:"취소",level:m.V.level_4,size:m.M.Small,leftIcon:(0,l.jsx)(Ai,{with:16,height:16,className:"text-red50"}),onClick:()=>J("1")})]}),(0,l.jsx)(ui,{label:t?"저장":"등록",handleRegister:o,"data-sentry-element":"TmsDataGridRegisterBtn","data-sentry-source-file":"OrderDispatchManagerFooterRight.tsx"}),W&&(0,l.jsx)(oi,{isSingle:t,selectedRows:d()||[],onSelected:e=>z(e),onClose:()=>H(!1)}),D&&(0,l.jsx)(Ci,{selectedRows:d()||[],onClose:()=>j(!1)}),P&&(0,l.jsx)(yi,{isSplit:G,splitTargetOrder:B,splitOrderResult:V,onSelected:()=>{},onClose:()=>L(!1)})]})};var Ri=function(e){let{isSingle:t=!1,isFtOne:a=!1,onSearch:r,selectedRows:s,getSelectedRows:n,onRegister:o,addRow:i,removeSelectedRow:d,updateRows:c,wrapGridRef:u,copySelectedRowV2:m}=e;return(0,l.jsxs)("div",{className:"flex items-center justify-between gap-[8px]","data-sentry-component":"OrderDispatchManagerFooter","data-sentry-source-file":"OrderDispatchManagerFooter.tsx",children:[(0,l.jsx)(ii,{isSingle:t,onSearch:r,onRegister:o,updateRows:c,getSelectedRows:n,selectedRows:s,addRow:i,removeSelectedRow:d,copySelectedRowV2:m,wrapGridRef:u,"data-sentry-element":"OrderDispatchManagerFooterLeft","data-sentry-source-file":"OrderDispatchManagerFooter.tsx"}),(0,l.jsx)(bi,{isSingle:t,isFtOne:a,onSearch:r,onRegister:o,updateRows:c,getSelectedRows:n,selectedRows:s,addRow:i,removeSelectedRow:d,copySelectedRowV2:m,wrapGridRef:u,"data-sentry-element":"OrderDispatchManagerFooterRight","data-sentry-source-file":"OrderDispatchManagerFooter.tsx"})]})};const Si=e=>{let{targetRows:t,columns:a,isMultiple:l}=e;const r=e=>null==e||""===e,s=t.map((e=>{const t={};return a.forEach((a=>{if(a.required){const l=e[a.field],s=["salesInfoActualAmount","baseUnitPrice","additionalAmountDiff","expectedEffectPi"];r(l)&&("contractSalesName"===a.field&&"NONE"===e.contractCategoryType||s.includes(a.field)||(t[a.field]="필수 정보를 입력해 주세요."))}else if("vendorId"===a.field&&!r(e.vendorId)){["purchaseInfoQuantity","purchaseInfoRateAmount"].forEach((a=>{const s=e[a];l&&"purchaseInfoRateAmount"===a?(r(s)||0===s||"0"===s)&&(t[a]="필수 정보를 입력해 주세요."):r(s)&&(t[a]="필수 정보를 입력해 주세요.")}))}})),{...e,errorMap:t}})),n=s.every((e=>{let{errorMap:t}=e;return 0===Object.keys(t).length}));return{rows:s,isValid:n}},_i=(e,t,a,l)=>{if(!(a&&l&&e&&t))throw new Error("상하차 일자와 시간을 설정 해주세요.");try{const r="string"==typeof a?a:a.format("YYYY-MM-DD"),s="string"==typeof e?e:e.format("YYYY-MM-DD"),n=je()("".concat(r," ").concat(l),"YYYY-MM-DD HH:mm"),o=je()("".concat(s," ").concat(t),"YYYY-MM-DD HH:mm");return!n.isAfter(o)}catch(e){throw new Error("상하차 일자와 시간을 확인 해주세요.")}};var wi=function(e){let{isActive:t,isFtOne:a=!1,isGov:s}=e;const n=(0,$e.P9)(),o=v(),d=E(),{commonMetaV2List:c}=(0,Je.X)(),{setSelectedOrders:u}=Er(),{user:m}=(0,i.o)(),{mdmCorporationCodeList:p=[]}=m||{},[h,f]=(0,r.useState)([]),C={includeGovGrain:!a&&s,includeWD:a},x=(0,r.useMemo)((()=>({isLinkClassification:null,inclusionPurchaseSettlement:null,startDate:je()().startOf("day").format(),endDate:je()().endOf("day").format(),searchCreatedByName:"",searchDispatchByName:"",searchDeparture:"",searchArrival:"",commonMdmCorporationCode:null,orderStatusType:[],customerId:null,itemCode:"ALL",...C})),[c,s,a]),[N,y]=(0,r.useState)({...x}),[A,g]=(0,r.useState)(!1),T=(0,r.useRef)(null),I=(0,D.bBi)();var b;const{setInitData:R,addRowToFirst:S,removeSelectedRow:_,copySelectedRow:w,copySelectedRowV2:O,validateRequiredColumns:M,validateRequiredColumnsV2:j,updateRows:P,getSelectedRows:L,getAllRows:B,apiRef:U,updateIds:V}=null!==(b=null==T?void 0:T.current)&&void 0!==b?b:{},{columns:F}=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{getMetaLabel:a,contractCategoryTypeOptions:s,rateCategoryCodeOptions:n,vehicleTypeOptions:o,vehicleTonCodeOptions:i,loadUnloadMethodTypeOptions:d,mdmCorporationOptions:c,costCenterSalesOptions:u,costCenterPurchaseOptions:m,getOrgOptionsInternal:p,commonCustomerInfoOption:h,commonVendorInfoOption:f,commonMdmItemInfoOption:C}=(0,hn.z)(),{isGov:x,govColumns:N}=En(),{ftOneColumns:y}=fn();return{columns:(0,r.useMemo)((()=>[{field:"__check__",headerName:"",width:65,minWidth:65,maxWidth:65,sortable:!1,disableColumnMenu:!0,align:"center"},{field:"_id_",headerName:"No.",sortable:!1,align:"center",width:80,type:da._.VIEW_MODE_ID},{field:"isLink",headerName:"온디맨드",width:80,headerAlign:"center",align:"center",cellClassName:"flex h-full w-full items-center justify-center",type:"string",renderCell:e=>{if(!e.aggregation)return(0,l.jsx)(gn.RoundTag,{isLink:e.value})}},{field:"orderStatusType",headerName:"주문 상태",width:98,headerAlign:"center",align:"center",cellClassName:"flex h-full w-full items-center justify-center",renderCell:e=>{if(!e.aggregation)return(0,l.jsx)(gn.OrderStatusTag,{status:e.value})}},{field:"customerId",required:!0,headerName:"화주명",width:200,headerAlign:"center",type:da._.CUSTOM_SELECT,editable:!0,defaultEditable:!1,options:h,dynamicOption:!0,optionsBoxWidth:450,hideable:!1},{field:"contractCategoryType",required:!0,headerName:"계약 구분",width:136,headerAlign:"center",type:da._.CUSTOM_SELECT,editable:!0,defaultEditable:!1,dynamicOption:!0,options:s,hideable:!1},{field:"contractSalesName",required:!0,headerName:"계약 마스터",width:160,headerAlign:"center",editable:!0,defaultEditable:!1,dynamicOption:!0,cellClassName:"wide-cell",type:"string",hideable:!1,renderCell:e=>{if(!e.aggregation)return(0,l.jsx)(In,{readonly:!e.row._isNew||"NONE"===e.row.contractCategoryType,params:e})}},{field:"salesInfoRateCode",required:!0,headerName:"매출 요율 구분",width:104,headerAlign:"center",type:da._.CUSTOM_SELECT,CustomComponent:Xn,editable:!0,defaultEditable:!1,options:e=>{let{row:t}=e;return t.salesInfoRateCode?n.filter((e=>{let{id:a}=e;return a===t.salesInfoRateCode})):[]},dynamicOption:!0},{field:"departureNodeId",headerName:"상차 노드 ID",width:92,headerAlign:"center",editable:!1,defaultEditable:!1,valueGetter:(e,t)=>{var a,l;return null!==(l=null===(a=t.departureNodeCode)||void 0===a?void 0:a.split("-")[0])&&void 0!==l?l:"-"}},{field:"departureNodeCode",required:!0,headerName:"상차지명",width:200,headerAlign:"center",editable:!0,defaultEditable:!1,type:da._.CUSTOM_SELECT,dynamicOption:!0,CustomComponent:zn,options:e=>{let{row:t}=e;var a;return(null===(a=t.departureOrderSalesPlaceInfo)||void 0===a?void 0:a.nodeCode)?[{id:t.departureNodeCode,label:t.departureNodeName,groupTitle:t.departureCustomerPlaceId?"거래처 마스터":"계약 마스터"}]:[]}},{field:"departureNodeAddress",headerName:"상차지 주소",width:220,headerAlign:"center",valueFormatter:e=>null==e?null:e||"-"},{field:"departureUserAddress",required:!0,headerName:"상차지 상세 주소",cellClassName:"wide-cell required-cell",width:200,headerAlign:"center",editable:!0,defaultEditable:!0,type:da._.CUSTOM_INPUT_TEXT},{field:"arrivalNodeId",headerName:"하차 노드 ID",width:92,headerAlign:"center",valueGetter:(e,t)=>{var a,l;return null!==(l=null===(a=t.arrivalNodeCode)||void 0===a?void 0:a.split("-")[0])&&void 0!==l?l:"-"}},{field:"arrivalNodeCode",required:!0,headerName:"하차지명",width:200,headerAlign:"center",type:da._.CUSTOM_SELECT,editable:!0,defaultEditable:!1,dynamicOption:!0,CustomComponent:zn,options:e=>{let{row:t}=e;var a;return(null===(a=t.arrivalOrderSalesPlaceInfo)||void 0===a?void 0:a.nodeCode)?[{id:t.arrivalNodeCode,label:t.arrivalNodeName,groupTitle:t.arrivalCustomerPlaceId?"거래처 마스터":"계약 마스터"}]:[]}},{field:"arrivalNodeAddress",headerName:"하차지 주소",width:200,headerAlign:"center",valueFormatter:e=>null==e?null:e||"-"},{field:"arrivalUserAddress",required:!0,headerName:"하차지 상세 주소",width:220,cellClassName:"wide-cell required-cell",headerAlign:"center",editable:!0,defaultEditable:!0,type:da._.CUSTOM_INPUT_TEXT},{field:"departureRequestDate",required:!0,headerName:"상차 일자",cellClassName:"wide-cell",width:140,headerAlign:"center",editable:!0,defaultEditable:e=>Qn(e.row),dynamicOption:!0,renderCell:e=>{if(!e.aggregation)return(0,l.jsx)(xo,{params:e,updateIdsRef:null})}},{field:"departureRequestTime",required:!0,headerName:"상차 시간",width:100,headerAlign:"center",editable:!0,defaultEditable:e=>Zn(e.row),dynamicOption:!0,type:da._.CUSTOM_SELECT_TIME},{field:"arrivalRequestDate",required:!0,headerName:"하차 일자",cellClassName:"wide-cell",width:140,headerAlign:"center",editable:!0,defaultEditable:e=>Jn(e.row),renderCell:e=>{if(!e.aggregation)return(0,l.jsx)(No,{params:e,updateIdsRef:null,subNodes:["arrivalRequestTime"]})}},{field:"arrivalRequestTime",required:!0,headerName:"하차 시간",width:100,headerAlign:"center",editable:!0,defaultEditable:e=>$n(e.row),type:da._.CUSTOM_SELECT_TIME},{field:"distance",headerName:"거리(km)",width:98,headerAlign:"center",cellClassName:"wide-cell",editable:!0,defaultEditable:!0,dynamicOption:!0,renderCell:e=>{if(!e.aggregation)return(0,l.jsx)(Co,{params:e,type:"number",allowDemical:!0,defaultReadonly:!1})}},{field:"estimateDistance",headerName:"예상거리(km)",width:90,headerAlign:"center",align:"right"},{field:"orderItemCode",required:!0,headerName:"품목",width:122,headerAlign:"center",editable:!0,defaultEditable:!1,type:da._.CUSTOM_SELECT,CustomComponent:Ao,options:e=>{let{row:t}=e;var a,l,r;return(null===(a=t.departureOrderSalesPlaceInfo)||void 0===a?void 0:a.itemCode)?[{id:null===(l=t.departureOrderSalesPlaceInfo)||void 0===l?void 0:l.itemCode,label:null===(r=t.departureOrderSalesPlaceInfo)||void 0===r?void 0:r.itemName}]:[]},dynamicOption:!0},...t?[{field:"materialName",headerName:"물자",width:122,editable:!1,defaultEditable:!1}]:[],{field:"requestVehicleType",required:!0,headerName:"차종",width:122,headerAlign:"center",editable:!0,defaultEditable:!1,type:da._.CUSTOM_SELECT,CustomComponent:Xn,options:e=>{let{row:t}=e;return t.requestVehicleType?o.filter((e=>{let{id:a}=e;return a===t.requestVehicleType})):[]},dynamicOption:!0},{field:"requestVehicleTonCode",required:!0,headerName:"톤급",cellClassName:"wide-cell",width:82,headerAlign:"center",editable:!0,defaultEditable:e=>eo(e.row),type:da._.CUSTOM_SELECT,CustomComponent:yo,dynamicOption:!0,options:e=>{const t=e.row.requestVehicleTonCodeOption;return t?t.length?i.filter((t=>{let{id:a}=t;var l;return null===(l=e.row.requestVehicleTonCodeOption)||void 0===l?void 0:l.includes(a)})):i.filter((t=>{let{id:a}=t;return a===e.value})):[]}},{field:"requestVehicleNumber",required:!0,headerName:"요청 대수",cellClassName:"wide-cell",width:90,headerAlign:"center",align:"right",editable:!0,defaultEditable:!1,allowNegative:!1,type:da._.CUSTOM_INPUT_NUMBER},{field:"orderQuantity",required:!0,headerName:"의뢰량",cellClassName:"wide-cell",width:90,headerAlign:"center",editable:!0,defaultEditable:!0,renderCell:e=>{if(e.aggregation)return;const t=to(e.row);return(0,l.jsx)(vo,{params:e,readonly:!t,defaultReadonly:!1})}},{field:"orderWeight",required:!0,headerName:"중량",cellClassName:"wide-cell",width:90,headerAlign:"center",editable:!0,defaultEditable:!0,renderCell:e=>{if(e.aggregation)return(0,l.jsx)("span",{className:"flex justify-end",children:e.value||0});const t=ao(e.row);return(0,l.jsx)(Eo,{params:e,readonly:!t})}},{field:"salesInfoQuantity",required:!0,headerName:"매출 수송량",width:90,headerAlign:"center",cellClassName:"wide-cell",editable:!0,defaultEditable:!0,allowNegative:!1,renderCell:e=>{if(e.aggregation)return(0,l.jsx)("span",{className:"flex justify-end",children:e.value||0});const t=lo(e.row),a="2"===e.row.salesInfoRateCode&&"2"===e.row.purchaseInfoRateCode?["orderQuantity","orderWeight","purchaseInfoQuantity"]:["purchaseInfoQuantity"];return(0,l.jsx)(ua.A,{params:e,type:"number",readonly:t,defaultReadonly:!1,allowDemical:!0,subNodes:a})}},{field:"salesInfoRateAmount",required:!0,headerName:"매출 요율 금액",width:126,headerAlign:"center",editable:!0,defaultEditable:!0,cellClassName:"wide-cell",renderCell:e=>{if(e.aggregation)return(0,l.jsx)("span",{className:"flex justify-end",children:e.value||0});const t=(e=>{const t=e.salesInfoRateAmountEditable,a=!["TEMP","DISPATCH_REQUEST","DISPATCH_PLAN","CONFIRM_ASSIGNMENT","CONFIRM_DISPATCH"].includes(null==e?void 0:e.orderStatusType);return t||a})(e.row);return(0,l.jsx)(ua.A,{params:e,type:"number",allowDemical:!0,readonly:t,defaultReadonly:!1})}},{field:"salesInfoActualAmount",required:!0,headerName:"매출 금액(실)",width:126,headerAlign:"center",editable:!0,defaultEditable:!1,align:"right",valueGetter:(e,t)=>(0,wn.e)((0,en.N_)(e,t),3)},{field:"salesTotalExtraAmount",headerName:"매출 추가 운임",width:180,headerAlign:"center",editable:!0,defaultEditable:!0,cellClassName:"wide-cell",renderCell:e=>e.aggregation?(0,l.jsx)("span",{className:"flex justify-end",children:e.value||0}):(0,l.jsx)(Mn,{params:e,defaultRowField:"transferRateInfoExtraList"})},{field:"salesTotalAmount",headerName:"총 매출 금액",width:126,headerAlign:"center",align:"right",editable:!0,defaultEditable:!0,valueGetter:(e,t)=>(0,wn.e)((0,en.p$)(e,t),3)},{field:"purchaseInfoRateCode",headerName:"매입 요율 구분",width:124,headerAlign:"center",editable:!0,defaultEditable:e=>{return t=e.row,["TEMP","DISPATCH_REQUEST","DISPATCH_PLAN","CONFIRM_ASSIGNMENT","CONFIRM_DISPATCH"].includes(null==t?void 0:t.orderStatusType);var t},required:!0,type:da._.CUSTOM_SELECT,CustomComponent:Xn,options:n,dynamicOption:!0},{field:"vendorId",headerName:"파트너",width:160,headerAlign:"center",editable:!0,defaultEditable:!0,type:da._.CUSTOM_SELECT,CustomComponent:mo,dynamicOption:!0,options:[]},{field:"vendorType",headerName:"운영 구분",cellClassName:"wide-cell",width:120,headerAlign:"center",renderCell:e=>{if(e.aggregation)return;const t=ro(e.row);return(0,l.jsx)(ua.A,{value:a(Ze.k.VENDOR_TYPE,e.row.vendorType)||"-",params:e,readonly:!t,disableInput:!0})}},{field:"vendorVehiclePlateNumber",headerName:"차량번호",width:180,headerAlign:"center",cellClassName:"wide-cell",editable:!0,defaultEditable:!0,dynamicOption:!0,renderCell:e=>{if(e.aggregation)return null;const t=ro(e.row);return(0,l.jsx)(Sn,{params:e,readonly:!t,rowFieldMap:{vendorVehicleId:"vendorVehicleId",equipmentManageNo:"mdmManageNoCode",vendorVehiclePlateNumber:"plateNumber",vendorId:"vendorId",vendorVehicleDriverUserName:"driverUserName",vendorVehicleDriverUserPhoneNumber:"driverPhoneNumber",vendorType:"vendorType"}})}},{field:"equipmentManageNo",headerName:"관리번호",cellClassName:"wide-cell",width:130,headerAlign:"center",renderCell:e=>{if(e.aggregation)return null;const t=ro(e.row);return(0,l.jsx)(ua.A,{value:e.row.equipmentManageNo||"-",params:e,readonly:!t,disableInput:!0})}},{field:"purchaseInfoQuantity",required:!0,headerName:"매입 수송량",width:90,headerAlign:"center",editable:!0,defaultEditable:!0,cellClassName:"wide-cell",allowNegative:!1,renderCell:e=>{if(e.aggregation)return(0,l.jsx)("span",{className:"flex justify-end",children:e.value||0});const t=so(e.row);return(0,l.jsx)(ua.A,{params:e,type:"number",readonly:t,allowDemical:!0,defaultReadonly:!1})}},{field:"purchaseInfoRateAmount",headerName:"매입 요율 금액",width:126,headerAlign:"center",editable:!0,defaultEditable:!0,cellClassName:"wide-cell",renderCell:e=>{if(e.aggregation)return(0,l.jsx)("span",{className:"flex justify-end",children:e.value||0});const t=(e=>{const t=e.purchaseInfoRateAmountEditable,a=!!e.vendorId,l=!["TEMP","DISPATCH_REQUEST","DISPATCH_PLAN","CONFIRM_ASSIGNMENT","CONFIRM_DISPATCH"].includes(null==e?void 0:e.orderStatusType);return t||!a||l})(e.row);return(0,l.jsx)(ua.A,{params:e,type:"number",allowDemical:!0,readonly:t,defaultReadonly:!1})}},{field:"purchaseInfoActualAmount",headerName:"매입 금액(실)",width:106,headerAlign:"center",editable:!0,defaultEditable:!0,cellClassName:"wide-cell",renderCell:e=>e.aggregation?(0,l.jsx)("span",{className:"flex justify-end",children:e.value||0}):(0,l.jsx)(fo,{params:e,defaultReadonly:!0,readonly:!0,subNodes:["purchaseInfoFinalAmount"]})},{field:"purchaseInfoFinalAmount",headerName:"매입 금액(확정)",width:106,headerAlign:"center",editable:!0,defaultEditable:!0,cellClassName:"wide-cell",renderCell:e=>{if(e.aggregation)return(0,l.jsx)("span",{className:"flex justify-end",children:e.value||0});const t=(e=>{const t=e.isPurchaseSettlementComplete,a=!!e.vendorId;return["ORDER_CANCEL","DELIVERY_CANCEL"].includes(e.orderStatusType)||!a||t})(e.row);return(0,l.jsx)(ho,{params:e,type:"number",allowDemical:!0,defaultReadonly:!1,purchaseInfoFinalAmountEdit:!0,readonly:t,subNodes:["purchaseInfoActualAmount"]})}},{field:"purchaseTotalExtraAmount",headerName:"매입 추가 운임",width:180,headerAlign:"center",editable:!0,defaultEditable:!0,cellClassName:"wide-cell",renderCell:e=>e.aggregation?(0,l.jsx)("span",{className:"flex justify-end",children:e.value||0}):(0,l.jsx)(Mn,{params:e,defaultRowField:"transferRateInfoExtraList"})},{field:"purchaseTotalAmount",headerName:"총 매입 금액",width:106,headerAlign:"center",align:"right",editable:!0,defaultEditable:!0,valueGetter:(e,t)=>(0,wn.e)((0,en.am)(e,t),3)},{field:"baseUnitPrice",headerName:"기준 단가(매입)",width:110,headerAlign:"center",align:"right",editable:!1,required:!0,defaultEditable:!1,valueGetter:(e,t)=>(0,wn.e)(t.baseUnitPrice||0,3)},{field:"additionalAmountDiff",headerName:"추가 금액 차액",width:110,headerAlign:"center",align:"right",editable:!1,required:!0,defaultEditable:!1,valueGetter:(e,t)=>(0,wn.e)((0,en.Lu)(e,t),3)},{field:"expectedEffectPi",headerName:"기대 효과(PI)",width:106,headerAlign:"center",align:"right",editable:!1,required:!0,defaultEditable:!1,valueGetter:(e,t)=>(0,wn.e)((0,en.$U)(e,t),3)},{field:"departureLoadUnloadMethodType",headerName:"상차 방법",width:150,headerAlign:"center",required:!0,editable:!0,defaultEditable:e=>no(e.row),type:da._.CUSTOM_SELECT,options:d,optionsBoxWidth:150},{field:"arrivalLoadUnloadMethodType",required:!0,headerName:"하차 방법",width:150,headerAlign:"center",editable:!0,defaultEditable:e=>oo(e.row),type:da._.CUSTOM_SELECT,options:d,optionsBoxWidth:150},{field:"orderCorporationCode",required:!0,headerName:"인사 조직",width:200,headerAlign:"center",editable:!0,defaultEditable:!0,dynamicOption:!0,type:da._.CUSTOM_SELECT,CustomComponent:Xn,options:e=>{let{row:t}=e;return p(t.contractCorporationCodeList,"orderCorporationCode")},optionsBoxWidth:300},{field:"salesCostCenterCode",required:!0,headerName:"매출 조직",width:200,headerAlign:"center",editable:!0,defaultEditable:!0,type:da._.CUSTOM_SELECT,CustomComponent:Xn,options:e=>{let{row:t}=e;return p(t.contractSalesCostCenterCodeList,"salesCostCenterCode")},optionsBoxWidth:300},{field:"purchaseCostCenterCode",required:!0,headerName:"매입 조직",width:200,headerAlign:"center",editable:!0,defaultEditable:!0,type:da._.CUSTOM_SELECT,CustomComponent:Xn,options:e=>{let{row:t}=e;return p(t.contractPurchaseCostCenterCodeList,"purchaseCostCenterCode")},optionsBoxWidth:300},{field:"vesselName",headerName:"모선명",width:100,headerAlign:"center",editable:!0,defaultEditable:!0,type:da._.CUSTOM_INPUT_TEXT},{field:"remark",headerName:"요청 사항",width:200,headerAlign:"center",editable:!0,defaultEditable:!0,type:da._.CUSTOM_INPUT_TEXT},{field:"receiptCount",headerName:"인수증",width:82,headerAlign:"center",align:"right"},{field:"taxInvoiceCount",headerName:"세금계산서",width:82,headerAlign:"center",align:"right"},{field:"inclusionPurchaseSettlement",headerName:"매입 정산 제외",required:!0,width:100,headerAlign:"center",editable:!0,defaultEditable:!0,type:da._.CUSTOM_SELECT,options:[{id:"INCLUDE",label:"포함"},{id:"EXCLUDE",label:"제외"}]},{field:"waypointCount",headerName:"다착지",width:150,headerAlign:"center",cellClassName:"wide-cell",editable:!0,defaultEditable:!0,renderCell:e=>{if(e.aggregation)return;const t=(a=e.row,["DISPATCH_REQUEST","DISPATCH_PLAN","CONFIRM_ASSIGNMENT","CONFIRM_DISPATCH","DELIVERY_START","DELIVERY_COMPLETE","PICKUP_MOVING","PICKUP_COMPLETE","WAYPOINT","DROP_MOVING","DROP_COMPLETE","REQUEST_RESULT_CONFIRM"].includes(null==a?void 0:a.orderStatusType));var a;return(0,l.jsx)(jn,{params:e,readonly:!t})}},{field:"orderNumber",headerName:"주문번호",width:166,headerAlign:"center",align:"center"},{field:"dispatchNumber",headerName:"배차번호",width:100,headerAlign:"center",align:"center"},{field:"orderCreatedByName",headerName:"주문 등록자",width:84,headerAlign:"center",align:"center"},{field:"dispatchByName",headerName:"배차 등록자",width:84,headerAlign:"center",align:"center"},{field:"vendorVehicleDriverUserName",headerName:"운전원",width:84,headerAlign:"center",align:"center"},{field:"vendorVehicleDriverUserPhoneNumber",headerName:"운전원 연락처",width:126,headerAlign:"center",editable:!0,defaultEditable:!0,align:"center",valueFormatter:e=>null==e?null:(0,pe._v)(e)||"-"},{field:"customerName",headerName:"화주명",width:160,headerAlign:"center",align:"center"},{field:"customerMdmCode",headerName:"MDM 코드(화주)",width:120,headerAlign:"center",align:"center"},{field:"customerBusinessRegistrationNumber",headerName:"사업자 번호(화주)",width:120,headerAlign:"center",align:"center"},{field:"vendorName",headerName:"파트너명",width:160,headerAlign:"center",align:"center"},{field:"vendorMdmCode",headerName:"MDM 코드(파트너)",width:128,headerAlign:"center",align:"center"},{field:"vendorBusinessRegistrationNumber",headerName:"사업자 번호(파트너)",width:128,headerAlign:"center",align:"center"},...t?y:[],{field:"loadQuantity",headerName:"적재 수량",width:160,headerAlign:"center",editable:!0,defaultEditable:!0,align:"center",type:da._.CUSTOM_INPUT_TEXT},{field:"orderCreatedAt",headerName:"주문 등록 일시",width:180,headerAlign:"center",align:"center",valueGetter:e=>e?je()(e).format("YYYY-MM-DD HH:mm"):""},{field:"businessGroupName",headerName:"사업자 그룹",width:160,headerAlign:"center"},...x?N:[],{field:"departureManagerName",headerName:"상차지 담당자",width:110,headerAlign:"center",align:"center",editable:!0,defaultEditable:!0,type:da._.CUSTOM_INPUT_TEXT},{field:"departureManagerPhoneNumber",headerName:"상차지 담당자 연락처",width:144,headerAlign:"center",align:"center",editable:!0,defaultEditable:!0,type:da._.CUSTOM_INPUT_TEXT},{field:"arrivalManagerName",headerName:"하차지 담당자",width:110,headerAlign:"center",align:"center",editable:!0,defaultEditable:!0,type:da._.CUSTOM_INPUT_TEXT},{field:"arrivalManagerPhoneNumber",headerName:"하차지 담당자 연락처",width:144,headerAlign:"center",align:"center",editable:!0,defaultEditable:!0,type:da._.CUSTOM_INPUT_TEXT}].map((e=>e.rowSpanValueGetter?e:{...e,rowSpanValueGetter:()=>null}))),[h,s,n,o,i,d,c,u,m,f,a,t,y,x,N])}}(B,a),{mutateAsync:G,isSuccess:k,data:Y,isError:q,error:W}=(cn(I,a),(0,$s.si)()),H=qo(),{personalizedGridColumns:K,personalizedColumnVisibilityModel:z,...X}=Bl("".concat(jl,"_").concat(a?"FT_ONE":""),F,t),Q=(0,r.useRef)(null),[Z,J]=(0,r.useState)(!1),{updateTargetRow:$}=pn(A,B,I,Z);(0,r.useEffect)((()=>{A&&ae()}),[A]),(0,r.useEffect)((()=>(g(!0),pe.sV.on(vr,te),pe.sV.on(gr,ee),()=>{pe.sV.off(vr,te),pe.sV.off(gr,ee)})),[]);const ee=async e=>{try{var t,l;if(a)return;const{vendorMdmCode:r,plateNumber:s,vehicleType:o,mdmTonCode:i,mdmCostCenterCode:d,vendorVehicleId:c}=e.detail,u=await H.mutateAsync({row:null==T||null===(t=T.current)||void 0===t?void 0:t.getSelectedRows().map((e=>({...e}))),vendorId:e.detail.vendorId,isOnlyRateInfo:!0});null==T||null===(l=T.current)||void 0===l||l.updateRows(u.map((e=>({...e,vendorMdmCode:r,vendorVehiclePlateNumber:s,vendorVehicleId:c,isDirty:!0})))),n({message:"배차 정보가 저장되었습니다.",type:"success",delay:3e3})}catch(e){n({message:e.message,type:"caution",delay:3e3})}},te=()=>{g(!0)},ae=async()=>{const e={...N};await G(Ii.X.toListRequest(e,p))},le=async()=>{try{const e=B().filter((e=>e.isDirty||e._isNew)),t=async()=>{try{const t=await(0,$s.Ch)({...C,orderList:e}),a=t.orderTransferInfoIdList;(null==a?void 0:a.length)?(n({message:"".concat(a.length,"개의 주문이 등록되었습니다."),type:"success"}),ae()):n({message:"주문 등록에 실패했습니다.",type:"fail"})}catch(e){e.responseCode===tl.z.ORDER_TRANSFER_UPDATE_INVALID_SETTLEMENT_COMPLETE?d({title:"추가 운임을 수정할 수 없습니다.",description:"정산이 확정된 주문은 추가 운임 변경이 불가능합니다.",modalWidth:400}):n({message:e.message,type:"caution",delay:3e3})}},a=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:L()).filter((e=>{let{_isNew:t,isDirty:a}=e;return t||a})).map((e=>{let{_id_:t,orderTransferId:a}=e;return{rowNum:(null==U?void 0:U.getRowIndexRelativeToVisibleRows(t))+1,orderTransferId:a}}))};if(!e.length)return void n({message:"등록할 주문이 없습니다.",type:"caution",delay:3e3});const r=Si({targetRows:e,columns:F,isMultiple:!1});if(!r.isValid)return void P(r.rows);JSON.stringify(e);const s=e.some((e=>{let{departureRequestDate:t,departureRequestTime:a,arrivalRequestDate:l,arrivalRequestTime:r}=e;return _i(t,a,l,r)}));if(s)return void d({title:"시간을 다시 확인해주세요.",description:"상차일시보다 미래 일시로 설정해주세요.",modalWidth:400});if(e.some((e=>Number(e.requestVehicleNumber)>50)))return void n({message:"요청대수는 50대를 넘을 수 없습니다.",type:"caution",delay:3e3});const i=e.filter((e=>(0,en.am)(null,e)>(0,en.p$)(null,e)));if(i.length){const e=a(i);o({title:"매입 금액이 매출 금액보다 큽니다.",children:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"Body4_B text-grey40",children:[(0,l.jsx)("span",{className:"text-error",children:e.map((e=>{let{rowNum:t}=e;return"".concat(t,"행")})).sort().join(", ")}),"의 매입금액이 매출 금액보다 큼"]}),(0,l.jsx)("div",{className:"Body4_M text-grey50 mt-[20px]",children:"정확한 주문 등록을 위해 매출, 매입 금액 확인을 권장합니다. 저장하시겠어요?"})]}),confirmButtonLabel:"저장하기",onClickConfirmButton:async()=>{t()},onClickCloseButton:()=>{}})}else t()}catch(e){n({message:e.message,type:"fail",delay:3e3})}},re=()=>{var e;const t=(0,Po.P8)(N.customerId?N.customerId:""),a=S(t),l={...null==T||null===(e=T.current)||void 0===e?void 0:e.apiRef.getCellParams(a._id_,"customerId"),api:null==T?void 0:T.current.apiRef};var r;N.customerId&&(null==I||null===(r=I.current)||void 0===r||r.publishEvent("selectedOnChange",l,{}))};return(0,r.useEffect)((()=>{if(k)try{var e;R(Ii.X.toListResult(null!==(e=Y.orderTransferInfoList)&&void 0!==e?e:[])),g(!1)}catch(e){n({message:e.message,type:"caution",delay:3e3})}q&&n({message:W.message,type:"caution"})}),[Y]),(0,l.jsx)("div",{className:"relative flex h-full flex-col","data-sentry-component":"OrderDispatchManagerSingle","data-sentry-source-file":"OrderDispatchManagerSingle.tsx",children:(0,l.jsx)(Ve.A.Provider,{params:N,initialParams:x,setParams:y,onSearch:ae,"data-sentry-element":"SearchFilter.Provider","data-sentry-source-file":"OrderDispatchManagerSingle.tsx",children:e=>(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(go,{}),(0,l.jsx)("div",{ref:Q,className:"max-h-[calc(100vh-397px)] grow-[1]",children:(0,l.jsx)(Fa.A,{...X,ref:T,gridApiRef:I,columns:K,columnHeaderHeight:32,unstable_rowSpanning:!0,autoSelectRowSelection:!0,editMode:!1,isErrorMap:!0,isUpdateDebounce:!0,checkboxSelection:!0,initialState:{pinnedColumns:{left:["__check__","_id_"]},aggregation:Po.bs,columns:{columnVisibilityModel:z}},noRowDescription:{description_1:"조회된 주문 정보가 없습니다.",description_2:"조회 조건을 입력하거나, 조건을 다시 확인해 주세요."},selectionModel:h,onRowSelectionModelChange:e=>{f(e);const t=Array.from(I.current.getSelectedRows().values());u({orderTransferId:t.map((e=>e.orderTransferId)),orderStatusType:t.map((e=>e.orderStatusType))})}})}),(0,l.jsx)("div",{className:"border-grey90 border-t px-[40px] py-[16px]",children:(0,l.jsx)(Ri,{isSingle:!0,isFtOne:a,onSearch:ae,onRegister:le,updateRows:P,getSelectedRows:L,selectedRows:h,addRow:re,copySelectedRowV2:O,removeSelectedRow:_,wrapGridRef:T})})]})})})};const Oi={id:!1},Mi="".concat(s.dJ,"/filter");var Di=function(e){let{customerId:t,isActive:a,onUpdateContractMaster:s,isFavorites:n=!1,handleApplyAddRow:o}=e;const i="".concat(Mi,"/").concat(t,"/contractMaster"),{params:d,setParams:c,onSearch:p}=(0,di.W)(),[h,f]=(0,r.useState)(0),[C,x]=(0,r.useState)([]),N=(0,T.n)(["orderDispatch/orderDispatchManager/queries/orderDispatchManagerMultipleQuery/getContractListQuery2"],(async e=>{var t;return null===(t=(await I.q.api((t=>t.ApiV1OrderTransferMultiContractList(e)))).data)||void 0===t?void 0:t.result}));(0,r.useEffect)((()=>{if(N.isSuccess&&N.data.orderContractSalesInfoList){const e=N.data.orderContractSalesInfoList.map((e=>({id:e.contractSalesId||"",label:e.contractName||""})));x(e)}}),[N.isSuccess]),(0,r.useEffect)((()=>{if(C.length){const e=Number(localStorage.getItem(i));let t=C[0].id;C.map((e=>e.id)).includes(e)&&(t=e),c((e=>({...e,contractMaster:t}))),(n&&a||a&&d.contractMaster!==t)&&(s(t),p({...d,contractMaster:t}))}}),[C]),(0,r.useEffect)((()=>{localStorage.setItem(i,String(d.contractMaster)),f((e=>e+1))}),[d.contractMaster]);const y=(0,r.useRef)(!1);return(0,r.useEffect)((()=>{n?a&&N.mutateAsync({customerId:t}):a&&!y.current&&(y.current=!0,N.mutateAsync({customerId:t}))}),[t,a,n]),(0,l.jsx)("div",{className:"px-[40px] py-[16px]","data-sentry-component":"OrderDispatchManagerMultipleFilter","data-sentry-source-file":"OrderDispatchManagerMultipleFilter.tsx",children:(0,l.jsx)("div",{className:"flex flex-1 flex-col gap-3",children:(0,l.jsxs)("div",{className:"flex flex-1 justify-between align-top",children:[(0,l.jsxs)("div",{className:"flex flex-1 flex-wrap gap-4",children:[(0,l.jsx)(Ve.A.SearchAutocomplete,{label:"계약 마스터",fieldName:"contractMaster",options:C,autocompleteClassName:"!w-[376px]",isUseAll:!1,"data-sentry-element":"SearchFilter.SearchAutocomplete","data-sentry-source-file":"OrderDispatchManagerMultipleFilter.tsx"},h),(0,l.jsx)(Ve.A.OrderContractRateTypeSwitch,{onChange:e=>{p({...d,orderContractRateType:e})},"data-sentry-element":"SearchFilter.OrderContractRateTypeSwitch","data-sentry-source-file":"OrderDispatchManagerMultipleFilter.tsx"}),(0,l.jsx)(Ve.A.SearchText,{label:"상차지",placeholder:"상차지 입력",fieldName:"load",className:"w-[176px]","data-sentry-element":"SearchFilter.SearchText","data-sentry-source-file":"OrderDispatchManagerMultipleFilter.tsx"}),(0,l.jsx)(Ve.A.SearchText,{label:"하차지",placeholder:"하차지 입력",fieldName:"unload",className:"w-[176px]","data-sentry-element":"SearchFilter.SearchText","data-sentry-source-file":"OrderDispatchManagerMultipleFilter.tsx"})]}),(0,l.jsx)("div",{children:(0,l.jsxs)("div",{className:"flex flex-row gap-[8px]",children:[(0,l.jsx)(Ve.A.SearchButton,{"data-sentry-element":"SearchFilter.SearchButton","data-sentry-source-file":"OrderDispatchManagerMultipleFilter.tsx"}),(0,l.jsx)(u.A,{label:"적용",level:m.V.level_2,size:m.M.Small,leftIcon:(0,l.jsx)(ri,{className:"text-white"}),onClick:o,"data-sentry-element":"TmsBasicButton","data-sentry-source-file":"OrderDispatchManagerMultipleFilter.tsx"})]})})]})})})};var ji=function(e){let{isActive:t,isFtOne:a=!1,isGov:s,currentTab:n,isFavorites:o=!1}=e;var d,c;const u=(0,$e.P9)(),m=v(),p=E(),[h,f]=(0,r.useState)([]),C={includeGovGrain:!a&&s,includeWD:a},[x,N]=(0,r.useState)({contractMaster:-1,orderContractRateType:R.JP5.CONTRACT,...C}),[y,A]=(0,r.useState)(!1);(0,r.useEffect)((()=>{A(t)}),[t]);const g=(0,r.useRef)(null),b=(0,D.bBi)(),S=(0,r.useRef)(null),_=(0,D.bBi)(),w=(0,r.useRef)();var O;const{setInitData:M,addRowWithEditableFields:j,removeSelectedRow:P,getSelectedRows:L,updateRows:B,getAllRows:U,copySelectedRowV2:V,updateIds:F,apiRef:G}=null!==(O=null==S?void 0:S.current)&&void 0!==O?O:{};(0,r.useEffect)((()=>{var e;o&&t&&(M&&(M([]),null===(e=g.current)||void 0===e||e.setInitData([])))}),[o,t,n]);const k=(0,r.useRef)(null),Y=(0,T.n)(["orderDispatch/orderDispatchManager/queries/orderDispatchManagerMultipleQuery/orderTransferContractRateListQuery"],(async e=>{var t;return null===(t=(await I.q.api((t=>t.ApiV1OrderTransferMultiContractRateList(e)))).data)||void 0===t?void 0:t.result})),q=(0,T.n)(["orderDispatch/orderDispatchManager/queries/orderDispatchManagerMultipleQuery/orderMultiTransferContractRateConvertQuery"],(async e=>{var t,a;const l=await I.q.api((t=>t.ApiV1OrderTransferMultiContractRateConvert(e)));var r;return Fo(Ii.X.toListResult(null!==(r=null===(a=l.data)||void 0===a||null===(t=a.result)||void 0===t?void 0:t.orderTransferInfoList)&&void 0!==r?r:[]))})),{contractColumns:W,contractColumnGroupingModel:H}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const a=t.length>0,{vehicleTonCodeOptions:l}=(0,hn.z)(),s={fields:[{field:"rateInfo_salesAmount",headerName:"금액",width:100,type:"number",valueGetter:(e,t)=>"3"!==t.salesRateCode?t.salesRateAmount:"0"},{field:"rateInfo_count",headerName:"수량",cellClassName:"wide-cell",allowNegative:!1,width:80,renderCell:e=>{const t="3"===e.row.salesRateCode;return(0,ua.A)({type:"number",defaultReadonly:!1,readonly:t,params:e})}}],groups:[{groupId:"rateInfo",headerName:"매출 요율 금액",children:[{field:"rateInfo_salesAmount"},{field:"rateInfo_count"}]}]},n=(0,r.useMemo)((()=>{if(!(null==e?void 0:e.length))return s;var a,r;const n=[...new Set([...null!==(a=null==e?void 0:e.flatMap((e=>{let{orderContractRateTonInfoList:t}=e;return t})).map((e=>{let{tonCode:t}=e;return t})))&&void 0!==a?a:[],...null!==(r=null==t?void 0:t.map((e=>{let{tonCode:t}=e;return t})))&&void 0!==r?r:[]])];return l.filter((e=>n.includes(e.id))).reverse().reduce(((e,t)=>{const a=String(t.id);return e.fields.push({field:"".concat(a,"_salesAmount"),headerName:"금액",width:100,type:"number",valueGetter:(e,t)=>{var l;const r=null!==(l=t.orderContractRateTonInfoList.find((e=>e.tonCode===a)))&&void 0!==l?l:{},{isOnlyPurchaseAmount:s,purchaseRateLabel:n,salesAmount:o=""}=r;return s?n||"0":o}}),e.fields.push({field:"".concat(a,"_count"),headerName:"수량",cellClassName:"wide-cell",allowNegative:!1,width:80,renderCell:e=>{const t=e.row.orderContractRateTonInfoList.find((e=>e.tonCode===a));var l;const r=!(null!==(l=null==t?void 0:t.salesAmount)&&void 0!==l?l:void 0);return(0,ua.A)({type:"number",defaultReadonly:!1,readonly:r,params:e})}}),e.groups.push({groupId:a,headerName:"0000"===t.id?"톤수 없음":"".concat(t.label),children:[{field:"".concat(a,"_salesAmount")},{field:"".concat(a,"_count")}]}),e}),s)}),[l,e,t]);return{contractColumns:(0,r.useMemo)((()=>[{field:"departureNodeName",headerName:"상차지명",width:160,headerClassName:"height-wide-cell"},{field:"arrivalNodeName",headerName:"하차지명",width:160,headerClassName:"height-wide-cell"},{field:"itemName",headerName:"품목",width:122,headerClassName:"height-wide-cell"},{field:"salesRateCodeName",headerName:"요율 구분",width:74,headerClassName:"height-wide-cell"},{field:"vehicleTypeName",headerName:"차종",width:94,headerClassName:"height-wide-cell"},...n.fields]),[n,a]),contractColumnGroupingModel:[...n.groups]}}(null==Y||null===(d=Y.data)||void 0===d?void 0:d.orderContractRateInfoList,null==Y||null===(c=Y.data)||void 0===c?void 0:c.tonInfoList),{orderListColumn:K}=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const{getMetaLabel:t,rateCategoryCodeOptions:a,vehicleTypeOptions:s,vehicleTonCodeOptions:n,loadUnloadMethodTypeOptions:o,getOrgOptionsInternal:d}=(0,hn.z)(),{user:c}=(0,i.o)(),{commonMetaV2List:u}=(0,Je.X)(),m=(0,r.useMemo)((()=>"GOV_GRAIN"===(null==c?void 0:c.orderDispatchManageType)),[c]),p=(0,r.useMemo)((()=>u[Ze.k.GOV_GRAIN_ITEM_DETAIL_TYPE]),[]),h=(0,r.useMemo)((()=>u[Ze.k.GOV_GRAIN_PACKAGE_UNIT_TYPE]),[]),f=(0,r.useMemo)((()=>u[Ze.k.GOV_GRAIN_TRANSPORT_TYPE]),[]),C=(0,r.useMemo)((()=>u[Ze.k.GOV_GRAIN_USAGE_TYPE]),[]),x=(0,r.useMemo)((()=>u[Ze.k.GOV_GRAIN_CREATION_CHANNEL_TYPE]),[]),{regionOptions:N}=Nn(),y=async(e,t,a)=>{let l="";"YEONGDONG"===t.id&&(l="GANGWON"),a.api.updateRows([{...a.row,govGrainRegionType:t.id,govGrainRegionSubType:l}])},E=async(e,t,a)=>{a.api.updateRows([{...a.row,govGrainRegionSubType:t.id}])},v=e=>{var t,a;return null!==(a=null===(t=N.find((t=>t.id===e.row.govGrainRegionType)))||void 0===t?void 0:t.children)&&void 0!==a?a:[]},A=(e,t)=>a=>(0,l.jsx)(yn.A,{params:a,options:"function"==typeof e?e(a):e,disableClearable:!0,readonly:!a.row.isMafra,onChangeProps:t}),{ftOneColumns:g}=fn();return{orderListColumn:(0,r.useMemo)((()=>[{field:"__check__",headerName:"",width:65,minWidth:65,maxWidth:65,sortable:!1,disableColumnMenu:!0,align:"center"},{field:"_id_",headerName:"No.",sortable:!1,align:"center",width:48,type:da._.VIEW_MODE_ID},{field:"orderStatusType",headerName:"주문 상태",width:98,headerAlign:"center",align:"center",cellClassName:"flex h-full w-full items-center justify-center",renderCell:e=>(0,l.jsx)(gn.OrderStatusTag,{status:e.value})},{field:"contractSalesName",headerName:"계약 마스터",width:160,headerAlign:"center"},{field:"salesInfoRateCode",headerName:"매출 요율 구분",width:104,headerAlign:"center",valueGetter:(e,t)=>{var l,r;return null!==(r=null===(l=a.find((t=>t.id===e)))||void 0===l?void 0:l.label)&&void 0!==r?r:"-"}},{field:"departureNodeName",headerName:"상차지명",width:200,headerAlign:"center"},{field:"departureUserAddress",required:!0,headerName:"상차지 상세 주소",cellClassName:"wide-cell required-cell",width:220,headerAlign:"center",editable:!0,defaultEditable:!0,renderCell:e=>(0,l.jsx)(ua.A,{params:e,defaultReadonly:!1})},{field:"arrivalNodeName",headerName:"하차지명",width:200,headerAlign:"center"},{field:"arrivalUserAddress",required:!0,headerName:"하차지 상세 주소",width:220,cellClassName:"wide-cell required-cell",headerAlign:"center",editable:!0,defaultEditable:!0,type:da._.CUSTOM_INPUT_TEXT},{field:"departureRequestDate",required:!0,headerName:"상차 일자",cellClassName:"wide-cell",width:140,headerAlign:"center",editable:!0,defaultEditable:!0,dynamicOption:!0,renderCell:e=>(0,l.jsx)(xo,{params:e,updateIdsRef:null})},{field:"departureRequestTime",required:!0,headerName:"상차 시간",width:100,headerAlign:"center",editable:!0,defaultEditable:!0,dynamicOption:!0,type:da._.CUSTOM_SELECT_TIME},{field:"arrivalRequestDate",required:!0,headerName:"하차 일자",cellClassName:"wide-cell",width:140,headerAlign:"center",editable:!0,defaultEditable:!0,renderCell:e=>(0,l.jsx)(No,{params:e,updateIdsRef:null,subNodes:["arrivalRequestTime"]})},{field:"arrivalRequestTime",required:!0,headerName:"하차 시간",width:100,headerAlign:"center",editable:!0,defaultEditable:!0,type:da._.CUSTOM_SELECT_TIME},{field:dn,headerName:"품목",width:122,headerAlign:"center",valueGetter:(e,t)=>{var a,l;return null!==(l=null===(a=t.departureOrderSalesPlaceInfo)||void 0===a?void 0:a.itemName)&&void 0!==l?l:"-"}},{field:"requestVehicleType",headerName:"차종",width:122,headerAlign:"center",valueGetter:(e,t)=>{var a,l;return null!==(l=null===(a=s.find((t=>t.id===e)))||void 0===a?void 0:a.label)&&void 0!==l?l:"-"}},{field:"requestVehicleTonCode",required:!0,headerName:"톤급",cellClassName:"wide-cell",width:82,headerAlign:"center",editable:!0,defaultEditable:!0,dynamicOption:!0,renderCell:e=>(0,l.jsx)(yo,{params:e,isSingle:!1,options:n.filter((t=>{let{id:a}=t;var l;return null===(l=e.row.requestVehicleTonCodeOption)||void 0===l?void 0:l.includes(a)}))})},{field:"orderQuantity",required:!0,headerName:"의뢰량",cellClassName:"wide-cell",width:90,headerAlign:"center",editable:!0,defaultEditable:!0,renderCell:e=>{const t=to(e.row);return(0,l.jsx)(vo,{params:e,readonly:!t,defaultReadonly:!1})}},{field:"orderWeight",required:!0,headerName:"중량",cellClassName:"wide-cell",width:90,headerAlign:"center",editable:!0,defaultEditable:!0,allowNegative:!1,renderCell:e=>(0,l.jsx)(Eo,{params:e})},{field:"salesInfoQuantity",required:!0,headerName:"매출 수송량",cellClassName:"wide-cell",width:90,headerAlign:"center",editable:!0,defaultEditable:!0,allowNegative:!1,renderCell:e=>{const t=lo(e.row),a="2"===e.row.salesInfoRateCode&&"2"===e.row.purchaseInfoRateCode?["orderQuantity","orderWeight","purchaseInfoQuantity"]:["purchaseInfoQuantity"];return(0,l.jsx)(ua.A,{params:e,type:"number",readonly:t,defaultReadonly:!1,allowDemical:!0,subNodes:a})}},{field:"salesInfoRateAmount",required:!0,headerName:"매출 요율 금액",width:126,headerAlign:"center",cellClassName:"wide-cell",editable:!0,defaultEditable:!0,renderCell:e=>(0,l.jsx)(ua.A,{params:e,type:"number",allowDemical:!0,readonly:e.row.salesInfoRateAmountEditable,defaultReadonly:!1})},{field:"salesInfoActualAmount",required:!0,headerName:"매출 금액(실)",width:126,headerAlign:"center",align:"right",valueGetter:(e,t)=>(0,wn.e)((0,en.N_)(e,t))},{field:"purchaseInfoRateCode",headerName:"매입 요율 구분",width:124,headerAlign:"center",editable:!0,defaultEditable:!0,required:!0,type:da._.CUSTOM_SELECT,CustomComponent:Xn,options:a,dynamicOption:!0},{field:"vendorId",headerName:"파트너",width:160,headerAlign:"center",editable:!0,defaultEditable:!0,type:da._.CUSTOM_SELECT,CustomComponent:mo,dynamicOption:!0,options:[]},{field:"vendorVehiclePlateNumber",headerName:"차량번호",width:180,headerAlign:"center",editable:!0,defaultEditable:!0,dynamicOption:!0,renderCell:e=>(0,l.jsx)(Sn,{params:e,rowFieldMap:{vendorVehicleId:"vendorVehicleId",equipmentManageNo:"mdmManageNoCode",vendorVehiclePlateNumber:"plateNumber",vendorId:"vendorId",vendorVehicleDriverUserName:"driverUserName",vendorVehicleDriverUserPhoneNumber:"driverPhoneNumber"}})},{field:"equipmentManageNo",headerName:"관리번호",width:96,headerAlign:"center"},{field:"purchaseInfoQuantity",required:!0,headerName:"매입 수송량",width:90,headerAlign:"center",editable:!0,defaultEditable:!0,cellClassName:"wide-cell",allowNegative:!1,renderCell:e=>{const t="3"===e.row.purchaseInfoRateCode;return(0,l.jsx)(ua.A,{params:e,type:"number",readonly:t,allowDemical:!0,defaultReadonly:!1})}},{field:"purchaseInfoRateAmount",headerName:"매입 요율 금액",width:126,cellClassName:"wide-cell",headerAlign:"center",editable:!0,defaultEditable:!0,renderCell:e=>(0,l.jsx)(ua.A,{params:e,type:"number",allowDemical:!0,readonly:e.row.purchaseInfoRateAmountEditable,defaultReadonly:!1})},{field:"purchaseInfoActualAmount",headerName:"매입 금액(실)",width:106,headerAlign:"center",cellClassName:"wide-cell",editable:!0,defaultEditable:!0,renderCell:e=>(0,l.jsx)(fo,{params:e,defaultReadonly:!0,readonly:!0,subNodes:["purchaseInfoFinalAmount"]})},{field:"vendorType",headerName:"운영 구분",width:82,headerAlign:"center",valueGetter:(e,a)=>t(Ze.k.VENDOR_TYPE,e)||"-"},{field:"departureLoadUnloadMethodType",headerName:"상차 방법",width:150,headerAlign:"center",required:!0,editable:!0,defaultEditable:!0,type:da._.CUSTOM_SELECT,options:o},{field:"arrivalLoadUnloadMethodType",required:!0,headerName:"하차 방법",width:150,headerAlign:"center",editable:!0,defaultEditable:!0,type:da._.CUSTOM_SELECT,options:o},{field:"vesselName",headerName:"모선명",width:100,headerAlign:"center",editable:!0,defaultEditable:!0,type:da._.CUSTOM_INPUT_TEXT},{field:"remark",headerName:"요청 사항",width:200,headerAlign:"center",editable:!0,defaultEditable:!0,type:da._.CUSTOM_INPUT_TEXT},{field:"orderCorporationCode",required:!0,headerName:"인사 조직",width:200,headerAlign:"center",editable:!0,defaultEditable:!0,dynamicOption:!0,type:da._.CUSTOM_SELECT,options:e=>{let{row:t}=e;return d(t.contractCorporationCodeList,"orderCorporationCode")},optionsBoxWidth:300},{field:"salesCostCenterCode",required:!0,headerName:"매출 조직",width:200,headerAlign:"center",editable:!0,defaultEditable:!0,type:da._.CUSTOM_SELECT,options:e=>{let{row:t}=e;return d(t.contractSalesCostCenterCodeList,"salesCostCenterCode")},optionsBoxWidth:300},{field:"purchaseCostCenterCode",required:!0,headerName:"매입 조직",width:200,headerAlign:"center",editable:!0,defaultEditable:!0,type:da._.CUSTOM_SELECT,dynamicOption:!0,options:e=>{let{row:t}=e;return d(t.contractPurchaseCostCenterCodeList,"purchaseCostCenterCode")},optionsBoxWidth:300},{field:"distance",headerName:"거리(km)",cellClassName:"wide-cell",width:98,headerAlign:"center",editable:!0,defaultEditable:!0,dynamicOption:!0,allowNegative:!1,renderCell:e=>(0,l.jsx)(Co,{params:e,type:"number",allowDemical:!0,defaultReadonly:!1})},{field:"estimateDistance",headerName:"예상거리(km)",align:"right",width:90,headerAlign:"center"},...e?g:[],...m?[{field:"govGrainRegionType",headerName:"정부양곡 권역",cellClassName:"wide-cell",width:150,editable:!0,defaultEditable:!1,renderCell:A(N,y)},{field:"govGrainRegionSubType",headerName:"정부양곡 세부권역",cellClassName:"wide-cell",width:150,editable:!0,defaultEditable:!1,renderCell:A(v,E)},{field:"govGrainItemDetailType",headerName:"정부양곡 상세 품목",cellClassName:"wide-cell",width:150,editable:!0,defaultEditable:!0,renderCell:A(p,null)},{field:"govGrainUsageType",headerName:"정부양곡 용도",cellClassName:"wide-cell",width:150,editable:!0,defaultEditable:!0,renderCell:A(C,null)},{field:"govGrainPackageUnitType",headerName:"정부양곡 포장 단위",cellClassName:"wide-cell",width:150,editable:!0,defaultEditable:!0,renderCell:A(h,null)},{field:"govGrainTransportType",headerName:"정부양곡 수송 구분",cellClassName:"wide-cell",width:150,editable:!0,defaultEditable:!0,renderCell:A(f,null)},{field:"govGrainInstructionName",headerName:"정부양곡 지시번호",cellClassName:"wide-cell",width:150,headerAlign:"center",editable:!0,defaultEditable:!0,renderCell:e=>(0,l.jsx)(xn,{params:e,readonly:!e.row.isMafra})},{field:"govGrainCreationChannelType",headerName:"정부양곡 등록 방법",cellClassName:"wide-cell",width:150,editable:!0,defaultEditable:!0,renderCell:A(x,null)}]:[],{field:"departureManagerName",headerName:"상차지 담당자",width:110,headerAlign:"center",editable:!0,defaultEditable:!0,type:da._.CUSTOM_INPUT_TEXT},{field:"departureManagerPhoneNumber",headerName:"상차지 담당자 연락처",width:144,headerAlign:"center",editable:!0,defaultEditable:!0,type:da._.CUSTOM_INPUT_TEXT},{field:"arrivalManagerName",headerName:"하차지 담당자",width:110,headerAlign:"center",editable:!0,defaultEditable:!0,type:da._.CUSTOM_INPUT_TEXT},{field:"arrivalManagerPhoneNumber",headerName:"하차지 담당자 연락처",width:144,headerAlign:"center",editable:!0,defaultEditable:!0,type:da._.CUSTOM_INPUT_TEXT}]),[a,s,n,o,N,p,C,h,f,x,t,e,g,m])}}(a),{personalizedGridColumns:z,personalizedColumnVisibilityModel:X,...Q}=Bl("".concat(Pl,"_").concat(a?"FT_ONE":""),K,t),{updateTargetRow:Z}=(cn(_,a),pn(y,U,_)),J=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x;if(!t)return;if(-1==e.contractMaster||""==e.contractMaster)return void u({message:"계약 마스터를 선택해 주세요.",type:"caution",delay:3e3});w.current=e.contractMaster;const l={contractSalesId:e.contractMaster,orderContractRateType:e.orderContractRateType,searchDeparture:e.load,searchArrival:e.unload,includeGovGrain:!a&&s,includeWD:a};Y.mutateAsync(l)},$=async()=>{try{const e=async()=>{const e=(await(0,$s.Ch)({...C,orderList:a},"MULTI")).orderTransferInfoIdList;(null==e?void 0:e.length)?(u({message:"".concat(e.length,"개의 주문이 등록되었습니다."),type:"success"}),M([])):u({message:"주문 등록에 실패했습니다.",type:"fail"})},t=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:L()).map((e=>{let{_id_:t,orderTransferId:a}=e;return{rowNum:(null==G?void 0:G.getRowIndexRelativeToVisibleRows(t))+1,orderTransferId:a}}))},a=U();if(!a.length)return void u({message:"등록할 주문이 없습니다.",type:"caution",delay:3e3});if(a.length>100)return void u({message:"최대 100개까지 등록 가능합니다.",type:"caution",delay:3e3});const r=Si({targetRows:a,columns:K,isMultiple:!0});if(!r.isValid)return void B(r.rows);const s=a.some((e=>{let{departureRequestDate:t,departureRequestTime:a,arrivalRequestDate:l,arrivalRequestTime:r}=e;return _i(t,a,l,r)}));if(s)return void p({title:"시간을 다시 확인해주세요.",description:"상차일시보다 미래 일시로 설정해주세요.",modalWidth:400});const n=a.filter((e=>(0,en.am)(null,e)>(0,en.p$)(null,e)));if(n.length){t(n);const a=t(n);m({title:"매입 금액이 매출 금액보다 큽니다.",children:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"Body4_B text-grey40",children:[(0,l.jsx)("span",{className:"text-error",children:a.map((e=>{let{rowNum:t}=e;return"".concat(t,"행")})).sort().join(", ")}),"의 매입금액이 매출 금액보다 큼"]}),(0,l.jsx)("div",{className:"Body4_M text-grey50 mt-[20px]",children:"정확한 주문 등록을 위해 매출, 매입 금액 확인을 권장합니다. 저장하시겠어요?"})]}),confirmButtonLabel:"저장하기",onClickConfirmButton:async()=>{e()},onClickCloseButton:()=>{}})}else e()}catch(e){u({message:e.message,type:"fail"})}},ee=()=>{const e=(0,Po.P8)();j(e)},te=async()=>{try{var e;const t=(null==g||null===(e=g.current)||void 0===e?void 0:e.getAllRows())||[];if(0===t.length)return void u({message:"적용할 내용이 없습니다.",type:"caution",delay:3e3});const a=Vo(Uo(t)),l={contractSalesId:w.current,orderContractRateInfoList:a,...C},r=await q.mutateAsync(l);U(),M([...U(),...r])}catch(e){u({message:e.message,type:"fail",delay:3e3})}},ae=e=>{var t,a;e?null==k||null===(t=k.current)||void 0===t||t.setLayout([53,37]):null==k||null===(a=k.current)||void 0===a||a.setLayout([0,90])};return(0,r.useEffect)((()=>{var e,t;Y.isSuccess&&(null==Y||null===(e=Y.data)||void 0===e?void 0:e.orderContractRateInfoList)&&(null===(t=g.current)||void 0===t||t.setInitData(Y.data.orderContractRateInfoList))}),[Y.isSuccess,Y.data]),(0,l.jsx)("div",{className:"flex h-full flex-col","data-sentry-component":"OrderDispatchManagerMultiple","data-sentry-source-file":"OrderDispatchManagerMultiple.tsx",children:(0,l.jsx)(Ve.A.Provider,{params:x,setParams:N,onSearch:J,"data-sentry-element":"SearchFilter.Provider","data-sentry-source-file":"OrderDispatchManagerMultiple.tsx",children:e=>{var a;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(Di,{isActive:t,customerId:null!==(a=null==n?void 0:n.customerId)&&void 0!==a?a:-1,isFavorites:o,handleApplyAddRow:te,onUpdateContractMaster:e=>{}}),(0,l.jsxs)(cl.YZ,{autoSaveId:"tradeContractDetail",direction:"vertical",ref:k,children:[(0,l.jsx)(cl.Zk,{className:"flex h-full w-full flex-col",children:(0,l.jsx)("div",{className:"max-h-[calc(100%)] grow-[1]",children:(0,l.jsx)(Fa.A,{ref:g,gridApiRef:b,columns:W,columnVisibilityModel:Oi,columnGroupingModel:H,columnHeaderHeight:32,initialState:{pinnedColumns:{left:["departureNodeName","arrivalNodeName","itemName","salesRateCodeName","vehicleTypeName"]}},noRowDescription:{description_1:"조회된 계약 정보가 없습니다.",description_2:"조회 조건을 입력하거나, 조건을 다시 확인해 주세요."}})})}),(0,l.jsx)(pl,{handleIconClick:ae}),(0,l.jsxs)(cl.Zk,{className:"flex h-full w-full flex-col",children:[(0,l.jsx)("div",{className:"flex w-full flex-row px-[40px] py-[12px]",children:(0,l.jsx)("span",{className:"Body2_B",children:"주문 내역"})}),(0,l.jsx)("div",{className:"max-h-[calc(100%-110px)] grow-[1]",children:(0,l.jsx)(Fa.A,{...Q,ref:S,gridApiRef:_,columns:z,columnHeaderHeight:32,checkboxSelection:!0,isErrorMap:!0,isUpdateDebounce:!0,initialState:{pinnedColumns:{left:["__check__","_id_","orderStatusType","contractSalesName","salesInfoRateCode"]},columns:{columnVisibilityModel:X}},noRowDescription:{description_1:"추가된 주문 정보가 없습니다.",description_2:"수량을 입력하고 [주문 내역에 적용] 버튼을 눌러 추가해 주세요."},onRowSelectionModelChange:e=>f(e)})}),(0,l.jsx)("div",{className:"border-grey90 border-t px-[40px] py-[16px]",children:(0,l.jsx)(Ri,{onSearch:()=>J(),onRegister:$,updateRows:B,getSelectedRows:L,selectedRows:h,addRow:ee,removeSelectedRow:P,copySelectedRowV2:V})})]})]})]})}})})};function Pi(e){let{params:t,options:a=[],readonly:r=!1,onChangeProps:s,disableClearable:n,transactionType:o="sales"}=e;var i;const d=s||(async(e,t,a)=>{const l=(null==t?void 0:t.id)||"";let r=null;if("3"===l){let e;switch(o){case"sales":e="salesRateQuantity";break;case"purchase":e="purchaseRateQuantity"}r={[e]:1}}const s={...a.row,isDirty:!0,[a.field]:l,...r||{}};a.api.updateRows([s])});var c;return(0,l.jsx)(He.A,{autocompleteBoxClassName:"flex flex-1",selectedId:null!==(c=null===(i=t.row[t.field])||void 0===i?void 0:i.toString())&&void 0!==c?c:"",componentType:"autocomplete-table",options:a,onChange:(e,a)=>d(e,a,t),disabled:!t.isEditable,readOnly:r,disableClearable:n,optionsBoxWidth:t.colDef.optionsBoxWidth||200,getOptionDisabled:e=>e.disabled,"data-sentry-element":"TmsBasicAutocomplete","data-sentry-component":"OrderDispatchExcelUploadRateCode","data-sentry-source-file":"OrderDispatchExcelUploadRateCode.tsx"})}function Li(e){let{params:t,defaultReadonly:a=!1,readonly:s,subNodes:n=[],allowNegative:o=!1}=e;const i=(0,r.useMemo)((()=>(0,wn.e)(t.row[t.field]||0)),[t]);return(0,l.jsx)(Zt.A,{value:i,placeholder:a?"자동 입력":s?"":"입력",onKeyDown:e=>{"Space"!==e.code&&"ArrowRight"!==e.key&&"ArrowLeft"!==e.key||e.stopPropagation()},onChange:e=>{let{target:{value:a}}=e;return(async e=>{let a=(0,wn.Z)(e,3,o);t.api.updateRows([{...t.row,isDirty:!0,[t.field]:a,...(0,po.i)(n,a)}])})(a)},slotProps:{input:{readOnly:s}},sx:{"& .MuiInputBase-input":{textAlign:"right"}},"data-sentry-element":"TmsBasicInputMui","data-sentry-component":"OrderDispatchExcelUploadNumber","data-sentry-source-file":"OrderDispatchExcelUploadNumber.tsx"})}function Bi(e){let{value:t,params:a,defaultReadonly:r=!1,readonly:s,subNodes:n=[]}=e;var o;const i=async e=>{a.api.updateRows([{...a.row,isDirty:!0,[a.field]:e,...(0,po.i)(n,t)}])};return(0,l.jsx)(Zt.A,{value:(null==a||null===(o=a.row)||void 0===o?void 0:o[a.field])||t||"",placeholder:r?"자동 입력":s?"":"입력",onKeyDown:e=>{"Space"!==e.code&&"ArrowRight"!==e.key&&"ArrowLeft"!==e.key||e.stopPropagation()},onChange:e=>{let{target:{value:t}}=e;return i(t)},slotProps:{input:{readOnly:s}},"data-sentry-element":"TmsBasicInputMui","data-sentry-component":"OrderDispatchExcelUploadInput","data-sentry-source-file":"OrderDispatchExcelUploadInput.tsx"})}function Ui(e){let{params:t,defaultReadonly:a=!1,readonly:s}=e;const n=e=>{let a=(0,wn.Z)(e,3,!1);a=(e=>{var a,l,r;let s=e;if(t.row.isContractPurchaseAmount)return s;var n,o;if(["3","10"].includes(String(null==t||null===(n=t.row)||void 0===n?void 0:n.purchaseRate)))return s;const i="4"===String(null==t||null===(a=t.row)||void 0===a?void 0:a.purchaseRate)?(0,en.k7)({departureRequestDate:t.row.departureDate,departureRequestTime:t.row.departureTime,arrivalRequestDate:t.row.arrivalDate,arrivalRequestTime:t.row.arrivalTime}):null!==(o=null==t||null===(l=t.row)||void 0===l?void 0:l.purchaseRateQuantity)&&void 0!==o?o:0;var d;return Math.round((null!==(d=null==t||null===(r=t.row)||void 0===r?void 0:r.actualTransportFeePurchase)&&void 0!==d?d:0)/i*1e3)/1e3||0})(a),t.api.updateRows([{_id_:t.row._id_,isDirty:!0,[t.field]:a}])};(0,r.useEffect)((()=>{t.row.isContractPurchaseAmount||n(t.row[t.field])}),[t.row.isContractPurchaseAmount,t.row.purchaseRate,t.row.purchaseRateQuantity,t.row.actualTransportFeePurchase,t.row.departureDate,t.row.departureTime,t.row.arrivalDate,t.row.arrivalTime]);const o=(0,r.useMemo)((()=>(0,wn.e)(t.row[t.field]||0)),[t]);return(0,l.jsx)(Zt.A,{value:o,placeholder:a?"자동 입력":s?"":"입력",onKeyDown:e=>{"Space"!==e.code&&"ArrowRight"!==e.key&&"ArrowLeft"!==e.key||e.stopPropagation()},onChange:e=>{let{target:{value:t}}=e;return n(t)},slotProps:{input:{readOnly:s}},sx:{"& .MuiInputBase-input":{textAlign:"right"}},"data-sentry-element":"TmsBasicInputMui","data-sentry-component":"OrderDispatchExcelUploadPurchaseRateAmount","data-sentry-source-file":"OrderDispatchExcelUploadPurchaseRateAmount.tsx"})}function Vi(e){let{params:t,defaultReadonly:a=!1,readonly:s}=e;const n=e=>{let a=(0,wn.Z)(e,3,!1);a=(e=>{let a=e;if(t.row.isContractPurchaseAmount){var l,r,s,n;if(["3","10"].includes(String(null==t||null===(l=t.row)||void 0===l?void 0:l.purchaseRate)))return a;const e="4"===String(null==t||null===(r=t.row)||void 0===r?void 0:r.purchaseRate);var o;e&&(0,en.k7)({departureRequestDate:t.row.departureDate,departureRequestTime:t.row.departureTime,arrivalRequestDate:t.row.arrivalDate,arrivalRequestTime:t.row.arrivalTime});const d=e?(0,en.k7)({departureRequestDate:t.row.departureDate,departureRequestTime:t.row.departureTime,arrivalRequestDate:t.row.arrivalDate,arrivalRequestTime:t.row.arrivalTime}):null!==(o=null==t||null===(s=t.row)||void 0===s?void 0:s.purchaseRateQuantity)&&void 0!==o?o:0;var i;return Math.round((null!==(i=null==t||null===(n=t.row)||void 0===n?void 0:n.purchaseRateAmount)&&void 0!==i?i:0)*d*1e3)/1e3||0}return a})(a),t.api.updateRows([{_id_:t.row._id_,isDirty:!0,[t.field]:a}])};(0,r.useEffect)((()=>{t.row.isContractPurchaseAmount&&n(t.row[t.field])}),[t.row.isContractPurchaseAmount,t.row.purchaseRate,t.row.purchaseRateAmount,t.row.purchaseRateQuantity,t.row.departureDate,t.row.departureTime,t.row.arrivalDate,t.row.arrivalTime]);const o=(0,r.useMemo)((()=>(0,wn.e)(t.row[t.field]||0)),[t]);return(0,l.jsx)(Zt.A,{value:o,placeholder:a?"자동 입력":s?"":"입력",onKeyDown:e=>{"Space"!==e.code&&"ArrowRight"!==e.key&&"ArrowLeft"!==e.key||e.stopPropagation()},onChange:e=>{let{target:{value:t}}=e;return n(t)},slotProps:{input:{readOnly:s}},sx:{"& .MuiInputBase-input":{textAlign:"right"}},"data-sentry-element":"TmsBasicInputMui","data-sentry-component":"OrderDispatchExcelUploadPurchaseActualAmount","data-sentry-source-file":"OrderDispatchExcelUploadPurchaseActualAmount.tsx"})}function Fi(e){let{params:t,defaultReadonly:a=!1,readonly:s}=e;const n=(0,r.useMemo)((()=>(0,wn.e)(t.row[t.field]||0)),[t]);return(0,l.jsx)(Zt.A,{value:n,placeholder:a?"자동 입력":s?"":"입력",onKeyDown:e=>{"Space"!==e.code&&"ArrowRight"!==e.key&&"ArrowLeft"!==e.key||e.stopPropagation()},onChange:e=>{let{target:{value:a}}=e;return(e=>{let a=(0,wn.Z)(e,3,!1);t.api.updateRows([{...t.row,isDirty:!0,[t.field]:a}])})(a)},slotProps:{input:{readOnly:s}},sx:{"& .MuiInputBase-input":{textAlign:"right"}},"data-sentry-element":"TmsBasicInputMui","data-sentry-component":"OrderDispatchExcelUploadSalesRateAmount","data-sentry-source-file":"OrderDispatchExcelUploadSalesRateAmount.tsx"})}function Gi(e){let{params:t,defaultReadonly:a=!1,readonly:s}=e;const n=e=>{let a=(0,wn.Z)(e,3,!1);a=(e=>{var a,l,r,s;let n=e;if(["3","10"].includes(String(null==t||null===(a=t.row)||void 0===a?void 0:a.salesRate)))return n;const o="4"===String(null==t||null===(l=t.row)||void 0===l?void 0:l.salesRate);var i;o&&(0,en.k7)({departureRequestDate:t.row.departureDate,departureRequestTime:t.row.departureTime,arrivalRequestDate:t.row.arrivalDate,arrivalRequestTime:t.row.arrivalTime});const d=o?(0,en.k7)({departureRequestDate:t.row.departureDate,departureRequestTime:t.row.departureTime,arrivalRequestDate:t.row.arrivalDate,arrivalRequestTime:t.row.arrivalTime}):null!==(i=null==t||null===(r=t.row)||void 0===r?void 0:r.salesRateQuantity)&&void 0!==i?i:0;var c;return Math.round((null!==(c=null==t||null===(s=t.row)||void 0===s?void 0:s.salesRateAmount)&&void 0!==c?c:0)*d*1e3)/1e3||0})(a),t.api.updateRows([{_id_:t.row._id_,isDirty:!0,[t.field]:a}]),t.row};(0,r.useEffect)((()=>{n(t.row[t.field])}),[t.row.salesRate,t.row.salesRateAmount,t.row.salesRateQuantity,t.row.departureDate,t.row.departureTime,t.row.arrivalDate,t.row.arrivalTime]);const o=(0,r.useMemo)((()=>(0,wn.e)(t.row[t.field]||0)),[t]);return(0,l.jsx)(Zt.A,{value:o,placeholder:a?"자동 입력":s?"":"입력",onKeyDown:e=>{"Space"!==e.code&&"ArrowRight"!==e.key&&"ArrowLeft"!==e.key||e.stopPropagation()},onChange:e=>{let{target:{value:t}}=e;return n(t)},slotProps:{input:{readOnly:s}},sx:{"& .MuiInputBase-input":{textAlign:"right"}},"data-sentry-element":"TmsBasicInputMui","data-sentry-component":"OrderDispatchExcelUploadSalesActualAmount","data-sentry-source-file":"OrderDispatchExcelUploadSalesActualAmount.tsx"})}var ki=function(e){let{currentTab:t,onRegister:a,onExcelUpload:n,removeSelectedRow:o,selectedRows:i}=e;const[d,c]=(0,r.useState)(R.wSo.ORDER_CONTRACT);return(0,r.useEffect)((()=>{switch(t){case s.hE:c(R.wSo.ORDER_CONTRACT);break;case s.fk:c(R.wSo.ORDER_NON_CONTRACT);break;case s.LP:c(R.wSo.ORDER_NON_CONTRACT_GOV_GRAIN);break;case s.HH:c(R.wSo.ORDER_CONTRACT_FT_ONE);break;case s.Nb:c(R.wSo.ORDER_NON_CONTRACT_FT_ONE);break;default:c(R.wSo.ORDER_CONTRACT)}}),[t]),(0,l.jsxs)("div",{className:"flex items-center justify-between","data-sentry-component":"OrderDispatchExcelFooter","data-sentry-source-file":"OrderDispatchExcelFooter.tsx",children:[(0,l.jsx)(Rt,{handleDeleteRow:()=>{o(!0)},isDisabled:!i.length,"data-sentry-element":"TmsDataGridDeleteRowBtn","data-sentry-source-file":"OrderDispatchExcelFooter.tsx"}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(el,{serviceType:R.MFT.ADMIN_PORTAL,excelTemplateDownloadType:d,"data-sentry-element":"TemplateExcelDownloadButton","data-sentry-source-file":"OrderDispatchExcelFooter.tsx"}),(0,l.jsx)($a,{setExcelFile:async e=>{n(e)},"data-sentry-element":"TmsBasicDataGridExcelUpload","data-sentry-source-file":"OrderDispatchExcelFooter.tsx"}),(0,l.jsx)("div",{className:"bg-grey90 h-[12px] w-[1px]"}),(0,l.jsx)(ui,{label:"등록",handleRegister:a,"data-sentry-element":"TmsDataGridRegisterBtn","data-sentry-source-file":"OrderDispatchExcelFooter.tsx"})]})]})};const Yi=(e,t,a)=>e.map((e=>{var l,r,s,n;const o=(null==e||null===(l=e.departureDetailAddress)||void 0===l?void 0:l.trim().slice(0,50))||"",i=(null==e||null===(r=e.arrivalDetailAddress)||void 0===r?void 0:r.trim().slice(0,50))||"",d=(null==e||null===(s=e.vesselName)||void 0===s?void 0:s.trim().slice(0,500))||"",c=(null==e||null===(n=e.remark)||void 0===n?void 0:n.trim().slice(0,500))||"";return{...e,departureDate:je()(e.departureDate).format("YYYY-MM-DD"),arrivalDate:je()(e.arrivalDate).format("YYYY-MM-DD"),departureDetailAddress:o,arrivalDetailAddress:i,vesselName:d,remark:c,...t?{orderCorporationCode:e.orderCorporationCode||a.commonMdmCorporationCode||"",salesCostCenterCode:e.salesCostCenterCode||a.commonMdmCostCenterSalesCode||"",purchaseCostCenterCode:e.purchaseCostCenterCode||a.commonMdmCostCenterPurchaseCode||""}:{}}}));var qi=function(e){let{isActive:t,currentTab:a,nodeOptions:n}=e;var o,i,d;const c=(0,$e.P9)(),u=E(),{mdmCorporationOptionsByUser:m,costCenterSalesOptionsByUser:p,costCenterPurchaseOptionsByUser:h}=(0,hn.z)(),[f,C]=(0,r.useState)(!1),[x,N]=(0,r.useState)({orderStatusType:"CONFIRM_RESULT",commonMdmCorporationCode:(null==m||null===(o=m[0])||void 0===o?void 0:o.id)||"",commonMdmCostCenterPurchaseCode:(null==h||null===(i=h[0])||void 0===i?void 0:i.id)||"",commonMdmCostCenterSalesCode:(null==p||null===(d=p[0])||void 0===d?void 0:d.id)||""}),[y,v]=(0,r.useState)([]),A=(0,r.useRef)(null),g=(0,D.bBi)(),b=(0,r.useMemo)((()=>a===s.HH||a===s.Nb||a===s.uP),[a]),R=(0,r.useMemo)((()=>a===s.fk||a===s.LP||a===s.Nb),[a]),{columns:S}=((e,t)=>{const{contractCategoryTypeOptions:a,rateCategoryCodeOptions:s,vehicleTypeOptions:n,vehicleTonCodeOptions:o,loadUnloadMethodTypeOptions:i,mdmCorporationOptions:d,costCenterSalesOptions:c,costCenterPurchaseOptions:u,commonCustomerInfoOption:m,commonVendorInfoOption:p,commonMdmItemInfoOption:h,getOrgOptionsInternal:f}=(0,hn.z)(),C=(0,r.useMemo)((()=>h.map((e=>({...e,id:e.label})))),[h]),{ftOneColumns:x}=fn();return{columns:(0,r.useMemo)((()=>[{field:"__check__",headerName:"",width:76,minWidth:76,maxWidth:76,sortable:!1,disableColumnMenu:!0,align:"right",headerClassName:"check-right-align"},{field:"_id_",headerName:"No.",sortable:!1,align:"center",width:48,type:da._.VIEW_MODE_ID},{field:"customerMdmCode",headerName:"MDM 코드(화주)",cellClassName:"wide-cell",required:!0,width:180,align:"center",editable:!1,defaultEditable:!1,renderCell:e=>(0,l.jsx)(Bi,{params:e})},{field:"salesContractMasterNo",headerName:"계약 마스터(매출)",cellClassName:"wide-cell",required:!0,width:200,align:"center",editable:!1,defaultEditable:!1,renderCell:e=>(0,l.jsx)(Bi,{params:e})},{field:"departureAddress",required:!0,headerName:"상차지명",width:200,editable:!0,defaultEditable:!0,type:da._.CUSTOM_SELECT_FREE_SOLO_WITH_EDITABLE,options:t.map((e=>e.label))},{field:"arrivalAddress",required:!0,headerName:"하차지명",width:200,editable:!0,defaultEditable:!0,type:da._.CUSTOM_SELECT_FREE_SOLO_WITH_EDITABLE,options:t.map((e=>e.label))},{field:"departureDate",required:!0,headerName:"상차 일자",cellClassName:"wide-cell",width:140,editable:!0,defaultEditable:!0,type:da._.CUSTOM_DATE},{field:"departureTime",required:!0,headerName:"상차 시간",width:100,editable:!0,defaultEditable:!0,type:da._.CUSTOM_SELECT_TIME},{field:"arrivalDate",required:!0,headerName:"하차 일자",cellClassName:"wide-cell",width:140,editable:!0,defaultEditable:!0,renderCell:e=>(0,l.jsx)(No,{params:e,updateIdsRef:null,subNodes:["arrivalTime"]})},{field:"arrivalTime",required:!0,headerName:"하차 시간",width:100,editable:!0,defaultEditable:!0,type:da._.CUSTOM_SELECT_TIME},{field:"salesRate",required:!0,headerName:"매출 요율 구분",cellClassName:"wide-cell",width:130,editable:!0,defaultEditable:!0,renderCell:e=>(0,l.jsx)(Pi,{params:e,options:s})},{field:"purchaseRate",required:!0,headerName:"매입 요율 구분",cellClassName:"wide-cell",width:130,editable:!0,defaultEditable:!0,renderCell:e=>(0,l.jsx)(Pi,{params:e,options:s,transactionType:"purchase"})},...e?[{field:"materialName",headerName:"물자",width:122,editable:!1,defaultEditable:!1}]:[],{field:"item",required:!0,headerName:"품목",cellClassName:"wide-cell",width:122,editable:!0,defaultEditable:!0,renderCell:e=>(0,l.jsx)(Ao,{params:e,options:C})},{field:"weight",required:!0,headerName:"중량",cellClassName:"wide-cell",width:90,editable:!1,defaultEditable:!1,renderCell:e=>(0,l.jsx)(Li,{params:e})},{field:"vehicleType",required:!0,headerName:"차종",width:122,editable:!0,defaultEditable:!0,type:da._.CUSTOM_SELECT,options:n},{field:"vehicleTon",required:!0,headerName:"톤급",cellClassName:"wide-cell",width:82,editable:!0,defaultEditable:!0,type:da._.CUSTOM_SELECT,options:o},{field:"vendorMdm",headerName:"MDM 코드(차주, 파트너)",cellClassName:"wide-cell",required:!0,width:180,align:"center",editable:!1,defaultEditable:!1,renderCell:e=>(0,l.jsx)(Bi,{params:e})},{field:"plateNumber",required:!0,headerName:"차량번호",cellClassName:"wide-cell",width:180,renderCell:e=>(0,l.jsx)(Sn,{params:e,usePermission:!1,isExcel:!0,rowFieldMap:{plateNumber:"plateNumber",vendorMdm:"vendorMdmCode",mdmManageNoCode:"mdmManageNoCode"}})},{field:"mdmManageNoCode",headerName:"차량 관리번호",cellClassName:"wide-cell",width:180,editable:!1,defaultEditable:!1,renderCell:e=>(0,l.jsx)(Bi,{params:e})},{field:"salesRateQuantity",required:!0,headerName:"매출 수송량",cellClassName:"wide-cell",width:150,editable:!1,defaultEditable:!1,renderCell:e=>{const t=(e=>"3"===e.row.salesRate)(e);return(0,l.jsx)(Li,{params:e,readonly:t})}},{field:"salesRateAmount",required:!0,headerName:"매출 요율 금액",cellClassName:"wide-cell",width:150,editable:!1,defaultEditable:!1,renderCell:e=>(0,l.jsx)(Fi,{params:e,readonly:!0})},{field:"actualTransportFeeSales",required:!0,headerName:"매출 금액(실)",cellClassName:"wide-cell",width:150,editable:!1,defaultEditable:!1,renderCell:e=>(0,l.jsx)(Gi,{params:e,readonly:!0})},{field:"purchaseRateQuantity",required:!0,headerName:"매입 수송량",cellClassName:"wide-cell",width:150,editable:!1,defaultEditable:!1,renderCell:e=>{const t=(e=>"3"===e.row.purchaseRate)(e);return(0,l.jsx)(Li,{params:e,readonly:t})}},{field:"purchaseRateAmount",required:!0,headerName:"매입 요율 금액",cellClassName:"wide-cell",width:150,editable:!1,defaultEditable:!1,renderCell:e=>(0,l.jsx)(Ui,{params:e,readonly:!0})},{field:"actualTransportFeePurchase",required:!0,headerName:"매입 금액(실)",cellClassName:"wide-cell",width:150,editable:!1,defaultEditable:!1,renderCell:e=>(e.row.isContractPurchaseAmount,(0,l.jsx)(Vi,{params:e,readonly:!0}))},{field:"additionalTransportFeeSales",headerName:"추가 운송료(매출)",cellClassName:"wide-cell",width:150,editable:!1,defaultEditable:!1,renderCell:e=>(0,l.jsx)(Li,{params:e,allowNegative:!0})},{field:"additionalTransportFeePurchase",headerName:"추가 운송료(매입)",cellClassName:"wide-cell",width:150,editable:!1,defaultEditable:!1,renderCell:e=>(0,l.jsx)(Li,{params:e,allowNegative:!0})},{field:"extraTransportFeeSales",headerName:"기타 운송료(매출)",cellClassName:"wide-cell",width:150,editable:!1,defaultEditable:!1,renderCell:e=>(0,l.jsx)(Li,{params:e,allowNegative:!0})},{field:"extraTransportFeePurchase",headerName:"기타 운송료(매입)",cellClassName:"wide-cell",width:150,editable:!1,defaultEditable:!1,renderCell:e=>(0,l.jsx)(Li,{params:e,allowNegative:!0})},{field:"vesselName",headerName:"모선명",cellClassName:"wide-cell",width:180,editable:!1,defaultEditable:!1,renderCell:e=>(0,l.jsx)(Bi,{params:e}),valueGetter:e=>null==e?void 0:e.slice(0,500)},{field:"remark",headerName:"요청 사항",cellClassName:"wide-cell",width:200,editable:!1,defaultEditable:!1,renderCell:e=>(0,l.jsx)(Bi,{params:e}),valueGetter:e=>null==e?void 0:e.slice(0,500)},{field:"orderCorporationCode",headerName:"인사 조직",width:200,editable:!0,defaultEditable:!0,type:da._.CUSTOM_SELECT,options:e=>f(e.value,"orderCorporationCode")},{field:"salesCostCenterCode",headerName:"매출 조직",width:200,editable:!0,defaultEditable:!0,type:da._.CUSTOM_SELECT,options:e=>f(e.value,"salesCostCenterCode")},{field:"purchaseCostCenterCode",headerName:"매입 조직",width:200,editable:!0,defaultEditable:!0,type:da._.CUSTOM_SELECT,options:e=>f(e.value,"purchaseCostCenterCode")},...e?x:[]]),[C,t,m,a,s,n,o,i,d,c,u,p,x,e])}})(b,n),{columns:_}=((e,t)=>{const{contractCategoryTypeOptions:a,rateCategoryCodeOptions:s,vehicleTypeOptions:n,vehicleTonCodeOptions:o,loadUnloadMethodTypeOptions:i,mdmCorporationOptions:d,costCenterSalesOptions:c,costCenterPurchaseOptions:u,commonCustomerInfoOption:m,commonVendorInfoOption:p,commonMdmItemInfoOption:h,getOrgOptionsInternal:f}=(0,hn.z)(),C=(0,r.useMemo)((()=>h.map((e=>({...e,id:e.label})))),[h]),{ftOneColumns:x}=fn();return{columns:(0,r.useMemo)((()=>[{field:"__check__",headerName:"",width:76,minWidth:76,maxWidth:76,sortable:!1,disableColumnMenu:!0,align:"right",headerClassName:"check-right-align"},{field:"_id_",headerName:"No.",sortable:!1,align:"center",width:48,type:da._.VIEW_MODE_ID},{field:"customerMdmCode",headerName:"MDM 코드(화주)",cellClassName:"wide-cell",required:!0,width:180,align:"center",editable:!1,defaultEditable:!1,renderCell:e=>(0,l.jsx)(Bi,{params:e})},{field:"departureAddress",required:!0,headerName:"상차지명",width:200,editable:!0,defaultEditable:!0,type:da._.CUSTOM_SELECT_FREE_SOLO_WITH_EDITABLE,options:t.map((e=>e.label))},{field:"arrivalAddress",required:!0,headerName:"하차지명",width:200,editable:!0,defaultEditable:!0,type:da._.CUSTOM_SELECT_FREE_SOLO_WITH_EDITABLE,options:t.map((e=>e.label))},{field:"departureDate",required:!0,headerName:"상차 일자",cellClassName:"wide-cell",width:140,editable:!0,defaultEditable:!0,type:da._.CUSTOM_DATE},{field:"departureTime",required:!0,headerName:"상차 시간",width:100,editable:!0,defaultEditable:!0,type:da._.CUSTOM_SELECT_TIME},{field:"arrivalDate",required:!0,headerName:"하차 일자",cellClassName:"wide-cell",width:140,editable:!0,defaultEditable:!0,renderCell:e=>(0,l.jsx)(No,{params:e,updateIdsRef:null,subNodes:["arrivalTime"]})},{field:"arrivalTime",required:!0,headerName:"하차 시간",width:100,editable:!0,defaultEditable:!0,type:da._.CUSTOM_SELECT_TIME},{field:"salesRate",required:!0,headerName:"매출 요율 구분",cellClassName:"wide-cell",width:130,editable:!0,defaultEditable:!1,type:da._.CUSTOM_SELECT,options:s},{field:"purchaseRate",required:!0,headerName:"매입 요율 구분",cellClassName:"wide-cell",width:130,editable:!0,defaultEditable:!1,type:da._.CUSTOM_SELECT,options:s},...e?[{field:"materialName",headerName:"물자",width:122,editable:!1,defaultEditable:!1}]:[],{field:"item",required:!0,headerName:"품목",cellClassName:"wide-cell",width:122,editable:!0,defaultEditable:!0,renderCell:e=>(0,l.jsx)(Ao,{params:e,options:C})},{field:"weight",required:!0,headerName:"중량",cellClassName:"wide-cell",width:90,editable:!1,defaultEditable:!1,renderCell:e=>(0,l.jsx)(Li,{params:e})},{field:"vehicleType",required:!0,headerName:"차종",width:122,editable:!0,defaultEditable:!0,type:da._.CUSTOM_SELECT,options:n},{field:"vehicleTon",required:!0,headerName:"톤급",cellClassName:"wide-cell",width:82,editable:!0,defaultEditable:!0,type:da._.CUSTOM_SELECT,options:o},{field:"vendorMdm",headerName:"MDM 코드(차주, 파트너)",cellClassName:"wide-cell",required:!0,width:180,align:"center",editable:!1,defaultEditable:!1,renderCell:e=>(0,l.jsx)(Bi,{params:e})},{field:"plateNumber",required:!0,headerName:"차량번호",cellClassName:"wide-cell",width:180,renderCell:e=>(0,l.jsx)(Sn,{params:e,usePermission:!1,isExcel:!0,rowFieldMap:{plateNumber:"plateNumber",vendorMdm:"vendorMdmCode",mdmManageNoCode:"mdmManageNoCode"}})},{field:"mdmManageNoCode",headerName:"차량 관리번호",cellClassName:"wide-cell",width:180,editable:!1,defaultEditable:!1,renderCell:e=>(0,l.jsx)(Bi,{params:e})},{field:"actualTransportFeeSales",required:!0,headerName:"매출 금액(실)",cellClassName:"wide-cell",width:150,editable:!1,defaultEditable:!1,renderCell:e=>(0,l.jsx)(Li,{params:e})},{field:"actualTransportFeePurchase",required:!0,headerName:"매입 금액(실)",cellClassName:"wide-cell",width:150,editable:!1,defaultEditable:!1,renderCell:e=>(0,l.jsx)(Li,{params:e})},{field:"additionalTransportFeeSales",headerName:"추가 운송료(매출)",cellClassName:"wide-cell",width:150,editable:!1,defaultEditable:!1,renderCell:e=>(0,l.jsx)(Li,{params:e,allowNegative:!0})},{field:"additionalTransportFeePurchase",headerName:"추가 운송료(매입)",cellClassName:"wide-cell",width:150,editable:!1,defaultEditable:!1,renderCell:e=>(0,l.jsx)(Li,{params:e,allowNegative:!0})},{field:"extraTransportFeeSales",headerName:"기타 운송료(매출)",cellClassName:"wide-cell",width:150,editable:!1,defaultEditable:!1,renderCell:e=>(0,l.jsx)(Li,{params:e,allowNegative:!0})},{field:"extraTransportFeePurchase",headerName:"기타 운송료(매입)",cellClassName:"wide-cell",width:150,editable:!1,defaultEditable:!1,renderCell:e=>(0,l.jsx)(Li,{params:e,allowNegative:!0})},{field:"vesselName",headerName:"모선명",cellClassName:"wide-cell",width:180,editable:!1,defaultEditable:!1,renderCell:e=>(0,l.jsx)(Bi,{params:e}),valueGetter:e=>null==e?void 0:e.slice(0,500)},{field:"remark",headerName:"요청 사항",cellClassName:"wide-cell",width:200,editable:!1,defaultEditable:!1,renderCell:e=>(0,l.jsx)(Bi,{params:e}),valueGetter:e=>null==e?void 0:e.slice(0,500)},...e?x:[]]),[C,t,m,a,s,n,o,i,d,c,u,p,x,e])}})(b,n),{columns:w}=((e,t)=>{const{contractCategoryTypeOptions:a,rateCategoryCodeOptions:s,vehicleTypeOptions:n,vehicleTonCodeOptions:o,loadUnloadMethodTypeOptions:i,mdmCorporationOptions:d,costCenterSalesOptions:c,costCenterPurchaseOptions:u,commonCustomerInfoOption:m,commonVendorInfoOption:p,commonMdmItemInfoOption:h,getOrgOptionsInternal:f}=(0,hn.z)(),C=(0,r.useMemo)((()=>h.map((e=>({...e,id:e.label})))),[h]),{govItemDetailOptions:x,govUsageOptions:N,govPackateUnitOptions:y,govTransportOptions:E}=En();return{columns:(0,r.useMemo)((()=>[{field:"__check__",headerName:"",width:76,minWidth:76,maxWidth:76,sortable:!1,disableColumnMenu:!0,align:"right",headerClassName:"check-right-align"},{field:"_id_",headerName:"No.",sortable:!1,align:"center",width:48,type:da._.VIEW_MODE_ID},{field:"customerMdmCode",headerName:"MDM 코드(화주)",cellClassName:"wide-cell",required:!0,width:180,align:"center",editable:!1,defaultEditable:!1,renderCell:e=>(0,l.jsx)(Bi,{params:e})},{field:"departureAddress",required:!0,headerName:"상차지명",width:200,editable:!0,defaultEditable:!0,type:da._.CUSTOM_SELECT_FREE_SOLO_WITH_EDITABLE,options:t.map((e=>e.label))},{field:"arrivalAddress",required:!0,headerName:"하차지명",width:200,editable:!0,defaultEditable:!0,type:da._.CUSTOM_SELECT_FREE_SOLO_WITH_EDITABLE,options:t.map((e=>e.label))},{field:"departureDate",required:!0,headerName:"상차 일자",cellClassName:"wide-cell",width:140,editable:!0,defaultEditable:!0,type:da._.CUSTOM_DATE},{field:"departureTime",required:!0,headerName:"상차 시간",width:100,editable:!0,defaultEditable:!0,type:da._.CUSTOM_SELECT_TIME},{field:"arrivalDate",required:!0,headerName:"하차 일자",cellClassName:"wide-cell",width:140,editable:!0,defaultEditable:!0,renderCell:e=>(0,l.jsx)(No,{params:e,updateIdsRef:null,subNodes:["arrivalTime"]})},{field:"arrivalTime",required:!0,headerName:"하차 시간",width:100,editable:!0,defaultEditable:!0,type:da._.CUSTOM_SELECT_TIME},{field:"salesRate",required:!0,headerName:"매출 요율 구분",width:130,editable:!0,defaultEditable:!1,type:da._.CUSTOM_SELECT,options:s},{field:"purchaseRate",required:!0,headerName:"매입 요율 구분",width:130,editable:!0,defaultEditable:!1,type:da._.CUSTOM_SELECT,options:s},{field:"item",required:!0,headerName:"품목",width:122,editable:!0,defaultEditable:!0,type:da._.CUSTOM_SELECT,options:C},{field:"weight",required:!0,headerName:"중량",cellClassName:"wide-cell",width:90,editable:!1,defaultEditable:!1,renderCell:e=>(0,l.jsx)(Li,{params:e})},{field:"vehicleType",required:!0,headerName:"차종",width:122,editable:!0,defaultEditable:!0,type:da._.CUSTOM_SELECT,options:n},{field:"vehicleTon",required:!0,headerName:"톤급",cellClassName:"wide-cell",width:82,editable:!0,defaultEditable:!0,type:da._.CUSTOM_SELECT,options:o},{field:"vendorMdm",headerName:"MDM 코드(차주, 파트너)",required:!0,width:180,align:"center",editable:!0,defaultEditable:!0},{field:"plateNumber",required:!0,headerName:"차량번호",cellClassName:"wide-cell",width:180,renderCell:e=>(0,l.jsx)(Sn,{params:e,usePermission:!1,isExcel:!0,rowFieldMap:{plateNumber:"plateNumber",vendorMdm:"vendorMdmCode",mdmManageNoCode:"mdmManageNoCode"}})},{field:"mdmManageNoCode",headerName:"차량 관리번호",cellClassName:"wide-cell",width:180,editable:!1,defaultEditable:!1,renderCell:e=>(0,l.jsx)(Bi,{params:e})},{field:"actualTransportFeeSales",required:!0,headerName:"매출 금액(실)",cellClassName:"wide-cell",width:150,editable:!1,defaultEditable:!1,renderCell:e=>(0,l.jsx)(Li,{params:e})},{field:"actualTransportFeePurchase",required:!0,headerName:"매입 금액(실)",cellClassName:"wide-cell",width:150,editable:!1,defaultEditable:!1,renderCell:e=>(0,l.jsx)(Li,{params:e})},{field:"additionalTransportFeeSales",headerName:"추가 운송료(매출)",cellClassName:"wide-cell",width:150,editable:!1,defaultEditable:!1,renderCell:e=>(0,l.jsx)(Li,{params:e,allowNegative:!0})},{field:"additionalTransportFeePurchase",headerName:"추가 운송료(매입)",cellClassName:"wide-cell",width:150,editable:!1,defaultEditable:!1,renderCell:e=>(0,l.jsx)(Li,{params:e,allowNegative:!0})},{field:"extraTransportFeeSales",headerName:"기타 운송료(매출)",cellClassName:"wide-cell",width:150,editable:!1,defaultEditable:!1,renderCell:e=>(0,l.jsx)(Li,{params:e,allowNegative:!0})},{field:"extraTransportFeePurchase",headerName:"기타 운송료(매입)",cellClassName:"wide-cell",width:150,editable:!1,defaultEditable:!1,renderCell:e=>(0,l.jsx)(Li,{params:e,allowNegative:!0})},{field:"vesselName",headerName:"모선명",cellClassName:"wide-cell",width:180,editable:!1,defaultEditable:!1,renderCell:e=>(0,l.jsx)(Bi,{params:e}),valueGetter:e=>null==e?void 0:e.slice(0,500)},{field:"remark",headerName:"요청 사항",cellClassName:"wide-cell",width:200,editable:!1,defaultEditable:!1,renderCell:e=>(0,l.jsx)(Bi,{params:e}),valueGetter:e=>null==e?void 0:e.slice(0,500)},{field:"govGrainItemDetailType",required:!0,headerName:"정부양곡 상세 품목",width:150,editable:!0,defaultEditable:!0,type:da._.CUSTOM_SELECT,options:x},{field:"govGrainUsageType",required:!0,headerName:"정부양곡 용도",width:150,editable:!0,defaultEditable:!0,type:da._.CUSTOM_SELECT,options:N},{field:"govGrainPackageUnitType",required:!0,headerName:"정부양곡 포장 단위",width:150,editable:!0,defaultEditable:!0,type:da._.CUSTOM_SELECT,options:y},{field:"govGrainTransportType",required:!0,headerName:"정부양곡 수송 구분",width:150,editable:!0,defaultEditable:!0,type:da._.CUSTOM_SELECT,options:E},{field:"govGrainInstructionNo",headerName:"정부양곡 지시번호",width:180,editable:!0,defaultEditable:!0,renderCell:e=>(0,l.jsx)(Bi,{params:e})}]),[C,t,m,a,s,n,o,i,d,c,u,p,x,E,N,y])}})(0,n),O=(0,T.n)(["orderDispatch/orderDispatchExcel/ApiV1OrderTransferExcelUpload"],(async e=>{var t;const a=await I.q.api((t=>t.ApiV1OrderTransferExcelUpload(e)));var l;return{...a.data.result,orderTransferInfoList:null!==(l=null===(t=a.data.result.orderTransferInfoList)||void 0===t?void 0:t.map((e=>({...e}))))&&void 0!==l?l:null}})),M=(0,T.n)(["orderDispatch/orderDispatchExcel/ApiV1OrderTransferExcelValidate"],(async e=>(await I.q.api((t=>t.ApiV1OrderTransferExcelValidate(e)))).data.result)),j=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,T.n)(["orderDispatch/orderDispatchExcel/ApiV1OrderTransferExcelSave"],(async a=>(await I.q.api((l=>{var r,s;return l.ApiV1OrderTransferExcelSave({...a,orderTransferInfoList:null!==(s=null===(r=a.orderTransferInfoList)||void 0===r?void 0:r.map((a=>({...a,...e?{orderCorporationCode:String(t.commonMdmCorporationCode)||"",salesCostCenterCode:String(t.commonMdmCostCenterSalesCode)||"",purchaseCostCenterCode:String(t.commonMdmCostCenterPurchaseCode)||""}:{}}))))&&void 0!==s?s:null})}))).data.result))}(R,x);var P;const{setInitData:L,removeSelectedRow:B,getAllRows:U}=null!==(P=null==A?void 0:A.current)&&void 0!==P?P:{};(0,r.useEffect)((()=>{C(!0)}),[]);const V=(0,r.useMemo)((()=>{let e=S;switch(a){case s.hE:e=S;break;case s.fk:e=_;break;case s.LP:e=w;break;case s.HH:e=S;break;case s.Nb:e=_;break;default:e=S}return e}),[a,S,_,w]),F=(0,r.useMemo)((()=>{let e="CONTRACT";switch(a){case s.hE:e="CONTRACT";break;case s.fk:e="NON_CONTRACT";break;case s.LP:e="GOV";break;case s.HH:e="FT_ONE_CONTRACT";break;case s.Nb:e="FT_ONE_NONE_CONTRACT";break;case s.uP:e="FT_ONE_NONE_CUSTOMER_MASTER"}return e}),[a]),G=async e=>{try{const t={file:e[0],request:{orderStatus:x.orderStatusType,orderExcelUploadType:F}},{orderTransferInfoList:a,failCount:l,successCount:r,isSuccess:s,totalCount:n,message:o,isTemplateValid:i}=await O.mutateAsync(t);if(!i)return void u({title:"엑셀 양식이 일치하지 않습니다.",description:"샘플 파일을 신규로 다운로드 받으신 후, 해당 파일에 정보를 기입해 주세요.",modalWidth:400});s?L(a):a?(L(a),u({title:"업로드 불가능한 데이터가 존재합니다.",description:"데이터 수정 후 ‘등록하기’ 버튼을 눌러 주세요.",modalWidth:400})):c({message:o,type:"fail",delay:3e3})}catch(e){c({message:e.message,type:"fail",delay:3e3})}},k=async()=>{try{const e=U();if(!e.length)return void c({message:"등록할 주문이 없습니다.",type:"caution",delay:3e3});if(e.length>3e3)return void u({title:"최대 업로드 수를 초과했습니다.",description:"엑셀 업로드는 최대 3,000건까지 가능합니다. 데이터 수를 확인 후 다시 시도해 주세요.",modalWidth:400});const t={orderStatus:x.orderStatusType,orderExcelUploadType:F,orderTransferInfoList:Yi(e,R,x)},a=await M.mutateAsync(t),{isSuccess:l,failCount:r,successCount:s,totalCount:n,message:o,orderTransferInfoList:i}=a;if(!l)return void u({title:"업로드 불가능한 데이터가 존재합니다.",description:"데이터 수정 후 ‘등록하기’ 버튼을 눌러 주세요.",modalWidth:400,onClickConfirmButton:()=>{i&&L(i)}});const d=await j.mutateAsync(t),{isSuccess:m,orderTransferInfoList:p}=d;m?(c({message:"주문 ".concat(s,"건이 일괄 등록 되었습니다."),type:"success",delay:3e3}),L([])):(p&&L(p),u({title:"업로드 불가능한 데이터가 존재합니다.",description:"데이터 수정 후 ‘등록하기’ 버튼을 눌러 주세요.",modalWidth:400,onClickConfirmButton:()=>{}}))}catch(e){const t=e;c({message:t.message,type:"fail",delay:3e3})}};return(0,l.jsx)("div",{className:"flex h-full flex-col","data-sentry-component":"OrderDispatchExcelManager","data-sentry-source-file":"OrderDispatchExcelManager.tsx",children:(0,l.jsx)(Ve.A.Provider,{params:x,setParams:N,onSearch:()=>{},"data-sentry-element":"SearchFilter.Provider","data-sentry-source-file":"OrderDispatchExcelManager.tsx",children:e=>(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"flex gap-[16px] px-[40px] py-[16px]",children:[(0,l.jsx)(Ve.A.SearchAutocomplete,{label:"주문 상태",isUseAll:!1,fieldName:"orderStatusType",autocompleteClassName:"!w-[285px]",options:[{id:"DISPATCH_REQUEST",label:"배차의뢰"},{id:"CONFIRM_RESULT",label:"운송실적확정"},{id:"CONFIRM_DISPATCH",label:"배차확정"}]}),R&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(Ve.A.SearchAutocomplete,{label:"인사 조직",autocompleteClassName:"!w-[236px]",fieldName:"commonMdmCorporationCode",isUseAll:!1,options:m}),(0,l.jsx)(Ve.A.SearchAutocomplete,{label:"매출조직",autocompleteClassName:"!w-[236px]",isUseAll:!1,fieldName:"commonMdmCostCenterSalesCode",options:p}),(0,l.jsx)(Ve.A.SearchAutocomplete,{label:"매입 조직",autocompleteClassName:"!w-[236px]",isUseAll:!1,fieldName:"commonMdmCostCenterPurchaseCode",options:h})]})]}),(0,l.jsx)("div",{className:"max-h-[calc(100%-125px)] grow-[1]",children:(0,l.jsx)(Fa.A,{ref:A,gridApiRef:g,columns:V,columnHeaderHeight:32,isExcelUpload:!0,disableColumnMenu:!0,checkboxSelection:!0,initialState:{pinnedColumns:{left:["__check__","_id_"]}},noRowDescription:{description_1:"조회된 데이터가 없습니다.",description_2:"'엑셀 업로드' 를 눌러 파일을 업로드해 주세요."},onRowSelectionModelChange:e=>{v(e)}})}),(0,l.jsx)("div",{className:"border-grey90 border-t px-[40px] py-[16px]",children:(0,l.jsx)(ki,{currentTab:a,selectedRows:y,onExcelUpload:G,onRegister:k,removeSelectedRow:B})})]})})})},Wi=a(51946);var Hi=function(e){let{ownerList:t=[],selectedOwner:a=null,setSelectedOwner:s=null,reloadOwnerList:n=()=>{}}=e;const o=v(),i=E(),d=(0,$e.P9)(),c=null==a?void 0:a.personalAdminCustomerByMultiId,[p,h]=(0,r.useState)({keyword:""}),[f,x]=(0,r.useState)(t),[N,y]=(0,r.useState)(!1),[A,g]=(0,r.useState)(null),[b,R]=(0,r.useState)(null),[S,_]=(0,r.useState)(null),[w,O]=(0,r.useState)(""),{mutateAsync:M,isSuccess:D}=(0,T.n)(["useFavoritesOwnerNameUpdate"],(async e=>(await I.q.api((t=>t.ApiPersonalV1CustomerByMultiUpdateName(e)))).data.result)),{mutateAsync:j,isSuccess:P}=(0,T.n)(["useFavoritesSetOwnerPositionFix"],(async e=>(await I.q.api((t=>t.ApiPersonalV1CustomerByMultiToggleFix(e)))).data.result)),{mutateAsync:L,isSuccess:B}=(0,T.n)(["useFavoritesDeleteOwner"],(async e=>(await I.q.api((t=>t.ApiPersonalV1CustomerByMultiDelete(e)))).data.result));(0,r.useEffect)((()=>{t.length&&(U(),t.find((e=>e.personalAdminCustomerByMultiId===c))||s(t[0]))}),[t]);const U=()=>{const e=p.keyword.trim().toLowerCase();if(""===e)x(t);else{const a=t.filter((t=>t.customerName.toLowerCase().includes(e)));x(a)}},V=()=>{g(null)},F=async e=>{""!==w.trim()?await M({personalAdminCustomerByMultiId:e,name:w}):G()},G=()=>{_(null),O("")};return(0,r.useEffect)((()=>{const e=()=>{b&&R(null)};return document.addEventListener("click",e),()=>{document.removeEventListener("click",e)}}),[b]),(0,r.useEffect)((()=>{if(D){const e=t.find((e=>(null==e?void 0:e.personalAdminCustomerByMultiId)===S));e&&(e.name=w),c===S&&s({...a,name:w}),_(null),O("")}}),[D]),(0,r.useEffect)((()=>{P&&n()}),[P]),(0,r.useEffect)((()=>{B&&(d({message:"화주가 목록에서 삭제되었습니다."}),n())}),[B]),(0,l.jsx)("div",{className:"p-3","data-sentry-component":"FavoritesOwnerList","data-sentry-source-file":"FavoritesOwnerList.tsx",children:(0,l.jsxs)("div",{className:"border-blue90 bg-blue98 h-full w-[200px] rounded-lg border border-solid",children:[(0,l.jsxs)("div",{className:"flex justify-between p-4",children:[(0,l.jsx)("div",{className:"Body2_B text-black",children:"화주"}),(0,l.jsx)(u.A,{className:"h-[24px] w-[24px]",level:m.V.level_5,size:m.M.Small,leftIcon:(0,l.jsx)(Jl,{className:"text-grey30 h-[16px] w-[16px]"}),onClick:()=>{t.length>=100?i({title:"최대 개수를 초과했습니다.",description:"사용하지 않는 화주를 삭제하고, 다시 시도해 주세요."}):y(!0)},"data-sentry-element":"TmsBasicButton","data-sentry-source-file":"FavoritesOwnerList.tsx"}),N&&(0,l.jsx)(tr,{isFavorite:!0,tabs:[],onSelected:async e=>{n(),y(!1)},onClose:()=>y(!1)})]}),(0,l.jsx)("div",{className:"px-4 pb-4",children:(0,l.jsx)(Ve.A.Provider,{params:p,setParams:h,onSearch:U,"data-sentry-element":"SearchFilter.Provider","data-sentry-source-file":"FavoritesOwnerList.tsx",children:e=>(0,l.jsx)(Ve.A.SearchText,{label:"",placeholder:"화주 검색",fieldName:"keyword",className:"w-[176px]"})})}),(0,l.jsx)("div",{className:"Body5_M h-[calc(100vh-335px)] overflow-y-auto overflow-x-hidden px-2",children:f.length>0?f.map(((e,t)=>{const a=e.personalAdminCustomerByMultiId,r=c!==a&&A!==a&&e.isFixed;return(0,l.jsxs)("div",{className:C()("relative flex h-[36px] w-[184px] items-center rounded-lg",{"bg-white":c===a&&S!==a}),children:[S===a?(0,l.jsx)("div",{className:"relative h-[36px] w-full items-center rounded-lg bg-[rgba(18,38,153,0.10)] px-2",children:(0,l.jsx)("input",{type:"text",value:w,onChange:e=>O(e.target.value),className:"Body5_M h-full w-full bg-[unset] focus:border-[rgba(18,38,153,0.10)] focus:outline-none",autoFocus:!0,onKeyDown:e=>{"Enter"===e.key?F(a):"Escape"===e.key&&G()},onBlur:()=>F(a)})}):(0,l.jsxs)("button",{className:C()("relative flex h-[36px] w-full flex-1 items-center rounded-lg px-2 text-left",{"bg-[rgba(18,38,153,0.10)]":A===a&&a!==c}),onClick:()=>s(e),onMouseEnter:()=>(e=>{g(e)})(a),onMouseLeave:V,children:[(0,l.jsx)("p",{className:C()("truncate",{"w-[144px]":A===a||r,"w-[168px]":A!==a&&!r}),children:e.name}),r&&(0,l.jsx)(bs,{className:"text-grey30 absolute bottom-[10px] right-[12px] h-[16px] w-[16px]"}),(A===a||b===a)&&(0,l.jsx)("button",{className:"absolute bottom-[10px] right-[12px]",onClick:e=>((e,t)=>{e.stopPropagation(),R(b===t?null:t)})(e,a),children:(0,l.jsx)(gs,{className:"text-grey30 h-[16px] w-[16px]"})})]}),b===a&&(0,l.jsxs)("div",{className:"border-grey80 absolute right-[4px] top-[38px] z-10 h-[104px] w-[100px] rounded-[10px] border bg-white p-[4px]",children:[(0,l.jsxs)("button",{className:"Body5_M flex w-full items-center gap-[8px] px-[8px] py-[6px] text-left text-black",onClick:()=>(async e=>{await j({personalAdminCustomerByMultiId:e})})(a),children:[e.isFixed&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(_s,{className:"text-grey70 h-[16px] w-[16px]"}),"고정 해제"]}),!e.isFixed&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(bs,{className:"text-grey70 h-[16px] w-[16px]"}),"고정"]})]}),(0,l.jsxs)("button",{className:"Body5_M flex w-full items-center gap-[8px] px-[8px] py-[6px] text-left text-black",onClick:()=>(e=>{_(e.personalAdminCustomerByMultiId),O(e.name),R(null)})(e),children:[(0,l.jsx)(Os,{className:"text-grey70 h-[16px] w-[16px]"}),"별칭 변경"]}),(0,l.jsxs)("button",{className:"text-red50 Body5_M flex w-full items-center gap-[8px] px-[8px] py-[6px] text-left hover:bg-gray-50",onClick:()=>(e=>{o({title:"화주를 삭제하시겠어요?",description:"삭제 시, 해당 화주가 목록에서 삭제됩니다.",confirmButtonLabel:"삭제하기",confirmButtonType:"destructive",onClickConfirmButton:async()=>{await L({deleteIdList:[e]})}})})(a),children:[(0,l.jsx)(Br.A,{className:"text-red50 h-[16px] w-[16px]"}),"삭제"]})]})]},a)})):(0,l.jsxs)("div",{className:"flex h-[calc(100vh-335px)] flex-1 flex-col items-center justify-center",children:[(0,l.jsx)(Wi.A,{className:"mb-[10px] h-[24px] w-[24px] fill-[#868C98]"}),(0,l.jsx)("span",{className:"Body4_B text-[#868C98]",children:"조회된 화주가 없습니다."}),(0,l.jsx)("span",{className:"Body5_M text-[#868C98]",children:"검색어를 다시 입력하거나,"}),(0,l.jsx)("span",{className:"Body5_M text-[#868C98]",children:"화주를 추가해 주세요."})]})})]})})};var Ki=function(e){let{isActive:t,isFtOne:a=!1,isGov:s}=e;const n=(0,$e.P9)(),[o,i]=(0,r.useState)([]),[d,c]=(0,r.useState)(null),u=(0,T.n)(["useFavoritesOwnerList"],(async()=>(await I.q.api((e=>e.ApiPersonalV1CustomerByMultiList({})))).data.result)),m=async()=>{try{const e=await u.mutateAsync();i(e.itemList||[])}catch(e){n({message:e.message,delay:3e3,type:"caution"})}};return(0,r.useEffect)((()=>{t&&!o.length&&m()}),[t]),(0,l.jsxs)("div",{className:"flex h-full justify-start","data-sentry-component":"OrderDispatchManagerFavorites","data-sentry-source-file":"OrderDispatchManagerFavorites.tsx",children:[(0,l.jsx)(Hi,{ownerList:o,selectedOwner:d,setSelectedOwner:c,reloadOwnerList:m,"data-sentry-element":"FavoritesOwnerList","data-sentry-source-file":"OrderDispatchManagerFavorites.tsx"}),(0,l.jsx)("div",{className:"w-[calc(100%-224px)]",children:!!d&&(0,l.jsx)(ji,{isFavorites:!0,isActive:t,isFtOne:a,isGov:s,currentTab:d})})]})};function zi(){return(0,l.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%"},"data-sentry-component":"NoneComponent","data-sentry-source-file":"NoneComponent.tsx",children:[(0,l.jsx)("div",{style:{fontSize:18,color:"#888",fontWeight:500},children:"해당 컴포넌트가 존재하지 않습니다."}),(0,l.jsx)("div",{style:{fontSize:14,color:"#bbb",marginTop:8},children:"관리자에게 문의해 주세요."})]})}const Xi={[s.F3]:wi,[s.dJ]:ji,[s.uA]:Ki,[s.hE]:qi,[s.fk]:qi,[s.o4]:qi,[s.LP]:qi,[s.Po]:wi,[s.Pi]:ji,[s.HH]:qi,[s.Nb]:qi,[s.uP]:qi,None:zi};function Qi(e){let{path:t="None",restComponentProps:a}=e;const r=Xi[t];return r?(0,l.jsx)(r,{...a,"data-sentry-element":"ContentComponent","data-sentry-component":"OrderDispatchContentContainer","data-sentry-source-file":"OrderDispatchContentContainer.tsx"}):(0,l.jsx)(Xi.None,{})}function Zi(e,t){let{menuName:a}=e,{menuName:s}=t;const[n,o]=(0,r.useState)(!1),[d,c]=(0,r.useState)(null),[u,m]=(0,r.useState)(null),{tabs:p,currentTab:h,setCurrentTab:f,isActiveTab:x,addSelectedCustomer:N,removeCustomer:y,updateCustomerTab:E,reorderTabs:v}=Xl(!0),{user:A}=(0,i.o)(),g=(0,r.useMemo)((()=>"GOV_GRAIN"===(null==A?void 0:A.orderDispatchManageType)),[A]),T=(e,t)=>{e.stopPropagation(),y(t)},I=(e,t)=>{c(t),e.dataTransfer.effectAllowed="move"},b=(e,t)=>{var a;e.preventDefault(),e.dataTransfer.dropEffect="move",m(null!==(a=t.order)&&void 0!==a?a:-1)},R=(e,t)=>{if(e.preventDefault(),!d||d.order===t.order)return c(null),void m(null);void 0!==d.order&&void 0!==t.order&&v(d.order,t.order),c(null),m(null)},S=()=>{c(null),m(null)};return(0,r.useEffect)((()=>{}),[]),(0,l.jsxs)("div",{className:"bg-grey98 relative","data-sentry-component":"OrderDispatchManagerPanelContent","data-sentry-source-file":"OrderDispatchManagerPanel.tsx",children:[(0,l.jsx)(xl,{title:a,"data-sentry-element":"ContentHeader","data-sentry-source-file":"OrderDispatchManagerPanel.tsx"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"border-primary relative h-[37px] border-b",children:(0,l.jsxs)("div",{className:"bg-grey90 absolute left-[40px] z-50 flex max-w-[calc(100vw-150px)] overflow-x-auto rounded-tl-md rounded-tr-md",children:[p.map(((e,t)=>{const a=e.personalCustomerId?"tab-".concat(e.personalCustomerId):"tab-".concat(e.path);return(0,l.jsx)(ce,{tab:e,isEditable:t>1,isDraggable:t>1,onEditTabName:E,onClickTab:f,onClickCloseTab:T,onDragStart:I,onDragOver:b,onDrop:R,onDragEnd:S,tabClassName:C()("flex items-center justify-center gap-[8px] border-0 border-b border-b-primary rounded-tl-md rounded-tr-md px-[16px] py-[8px] text-[13px] font-bold leading-[20px] bg-grey90",{"!border-primary border-x border-t !border-b-0 bg-white":x(e),"opacity-50":(null==d?void 0:d.order)===e.order,"border-l-2 !border-l-primary":u===e.order&&(null==d?void 0:d.order)!==e.order}),tabNameClassName:"max-w-[160px] truncate",isShowCloseButton:t>1},a)})),(0,l.jsx)(ce,{tab:{name:"",path:"",icon:(0,l.jsx)(Jl,{width:20,height:20})},onClickTab:()=>o(!0),onClickCloseTab:()=>{},tabClassName:C()("flex items-center justify-center gap-[4px] border-0 border-b border-b-primary rounded-tl-md rounded-tr-md px-[16px] py-[8px] text-[13px] font-bold leading-[20px] bg-grey95 text-progress"),tabNameClassName:"max-w-[160px] truncate",isShowCloseButton:!1,"data-sentry-element":"Tab","data-sentry-source-file":"OrderDispatchManagerPanel.tsx"},"addCustomer")]})}),(0,l.jsx)("div",{className:"relative",children:p.map(((e,t)=>{const a=e.personalCustomerId?"content-".concat(e.personalCustomerId):"content-".concat(e.path);return(0,l.jsx)("div",{className:C()("cc-content-layout",{"is-visible":x(e)}),style:{height:"calc(100vh - 197px)"},children:(0,l.jsx)(Qi,{path:e.path,restComponentProps:{tabs:p,isActive:x(e),isFtOne:!1,isGov:g,currentTab:h}})},a)}))})]}),n&&(0,l.jsx)(tr,{tabs:p,onSelected:async e=>{o(!1)},onClose:()=>o(!1)}),(0,l.jsx)(Gr,{"data-sentry-element":"FastOrderDispatchPanel","data-sentry-source-file":"OrderDispatchManagerPanel.tsx"}),(0,l.jsx)("div",{className:"absolute right-[62px] top-[24px] z-[999]",children:(0,l.jsx)(Js,{"data-sentry-element":"ChatOrderButton","data-sentry-source-file":"OrderDispatchManagerPanel.tsx"})})]})}var Ji=(e,t)=>{let{menuName:a=""}=e,{menuName:r}=t;return(0,l.jsx)(Kl,{"data-sentry-element":"TabHandlerProvider","data-sentry-component":"OrderDispatchManagerPanel","data-sentry-source-file":"OrderDispatchManagerPanel.tsx",children:(0,l.jsx)(Zi,{menuName:a,"data-sentry-element":"OrderDispatchManagerPanelContent","data-sentry-source-file":"OrderDispatchManagerPanel.tsx"})})};function $i(){const e=(0,$e.P9)(),[t,a]=(0,r.useState)([]),{mutateAsync:l}=(0,Wt.EX)();return(0,r.useEffect)((()=>{(async()=>{try{var t;const e=await l({nodeName:""});a((null==e||null===(t=e.nodeList)||void 0===t?void 0:t.map((e=>({...e,label:e.mdmNodeName,id:e.mdmNodeCode}))))||[])}catch(t){e({message:t.message,type:"fail"})}})()}),[]),{nodeOptions:t}}var ed=e=>{let{currentTab:t,className:a="",tabList:r,onClickTab:s}=e;return(0,l.jsx)("div",{className:a,"data-sentry-component":"StaticTabs","data-sentry-source-file":"StaticTabs.tsx",children:(0,l.jsx)(D.TJY,{value:t,sx:{minHeight:"unset"},TabIndicatorProps:{sx:{borderRadius:"9999px 9999px 0px 0px",background:"#16171B",height:"4px"}},"data-sentry-element":"BasicTabs","data-sentry-source-file":"StaticTabs.tsx",children:r.map(((e,t)=>(0,l.jsx)(D.M5I,{label:e.name,value:e.path,onClick:()=>s(e),sx:{fontSize:"14px",padding:"8px 0px 12px 0px",minHeight:"unset",minWidth:"unset",marginRight:"24px",color:"#B6BCC8",span:{color:"#B6BCC8"},"&.Mui-selected":{color:"#16171B",span:{color:"#636874"}}}},e.path)))})})};const td=[{name:"계약 주문",path:s.hE},{name:"계약 외 주문",path:s.fk},{name:"정부 양곡",path:s.LP}];var ad=function(e){let{menuName:t}=e;const[a,s]=(0,r.useState)(td[0].path),{commonMdmItemInfoOption:n}=(0,Je.X)(),{nodeOptions:o}=$i();return(0,l.jsxs)("div",{className:"bg-grey98 flex h-full flex-col","data-sentry-component":"OrderDispatchExcelPanel","data-sentry-source-file":"OrderDispatchExcelPanel.tsx",children:[(0,l.jsx)(xl,{title:t,"data-sentry-element":"ContentHeader","data-sentry-source-file":"OrderDispatchExcelPanel.tsx"}),(0,l.jsx)("div",{className:"border-grey90 border-b",children:(0,l.jsx)(ed,{className:"ml-10",tabList:td,currentTab:a,onClickTab:e=>{s(e.path)},"data-sentry-element":"StaticTabs","data-sentry-source-file":"OrderDispatchExcelPanel.tsx"})}),(0,l.jsx)("div",{className:"relative flex flex-1 bg-white",children:td.map(((e,t)=>{const r=e.path===a;return(0,l.jsx)("div",{className:C()("cc-content-layout !overflow-x-hidden",{"is-visible":r}),style:{height:"calc(100vh - 197px)"},children:(0,l.jsx)(Qi,{path:e.path,restComponentProps:{isActive:r,currentTab:a,itemNameOptions:n,nodeOptions:o}})},"".concat(e.path).concat(t))}))})]})};function ld(e){let{menuName:t}=e;const[a,s]=(0,r.useState)(!1),{tabs:n,currentTab:o,setCurrentTab:d,isActiveTab:c,addSelectedCustomer:u,removeCustomer:m,updateCustomerTab:p}=Xl(!0),{user:h}=(0,i.o)(),f=(0,r.useMemo)((()=>"GOV_GRAIN"===(null==h?void 0:h.orderDispatchManageType)),[h]),x=(e,t)=>{e.stopPropagation(),m(t)};return(0,l.jsxs)("div",{className:"bg-grey98 relative","data-sentry-component":"FtOneOrderDispatchManagerPanelContent","data-sentry-source-file":"FtOneOrderDispatchManagerPanel.tsx",children:[(0,l.jsx)(xl,{title:t,"data-sentry-element":"ContentHeader","data-sentry-source-file":"FtOneOrderDispatchManagerPanel.tsx"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"border-primary relative h-[37px] border-b",children:(0,l.jsxs)("div",{className:"bg-grey90 absolute left-[40px] z-50 flex max-w-[calc(100vw-150px)] overflow-x-auto rounded-tl-md rounded-tr-md",children:[n.map(((e,t)=>(0,l.jsx)(ce,{tab:e,isEditable:t>1,onEditTabName:p,onClickTab:d,onClickCloseTab:x,tabClassName:C()("flex items-center justify-center gap-[8px] border-0 border-b border-b-primary rounded-tl-md rounded-tr-md px-[16px] py-[8px] text-[13px] font-bold leading-[20px] bg-grey90",{"!border-primary border-x border-t !border-b-0 bg-white":c(e)}),tabNameClassName:"max-w-[160px] truncate",isShowCloseButton:t>1},e.order))),(0,l.jsx)(ce,{tab:{name:"화주 추가",path:"",icon:(0,l.jsx)(Jl,{width:20,height:20})},onClickTab:()=>s(!0),onClickCloseTab:()=>{},tabClassName:C()("flex items-center justify-center gap-[4px] border-0 border-b border-b-primary rounded-tl-md rounded-tr-md px-[16px] py-[8px] text-[13px] font-bold leading-[20px] bg-grey95 text-progress"),tabNameClassName:"max-w-[160px] truncate",isShowCloseButton:!1,"data-sentry-element":"Tab","data-sentry-source-file":"FtOneOrderDispatchManagerPanel.tsx"},"addCustomer")]})}),(0,l.jsx)("div",{className:"relative",children:n.map(((e,t)=>(0,l.jsx)("div",{className:C()("cc-content-layout",{"is-visible":c(e)}),style:{height:"calc(100vh - 197px)"},children:(0,l.jsx)(Qi,{path:e.path,restComponentProps:{tabs:n,isActive:c(e),isFtOne:!0,isGov:f,currentTab:o}})},"".concat(e.path).concat(t))))})]}),a&&(0,l.jsx)(tr,{tabs:n,onSelected:async e=>{s(!1)},onClose:()=>s(!1)}),(0,l.jsx)(Gr,{"data-sentry-element":"FastOrderDispatchPanel","data-sentry-source-file":"FtOneOrderDispatchManagerPanel.tsx"})]})}var rd=(e,t)=>{let{menuName:a=""}=e,{menuName:r}=t;return(0,l.jsx)(Kl,{"data-sentry-element":"TabHandlerProvider","data-sentry-component":"FtOneOrderDispatchManagerPanel","data-sentry-source-file":"FtOneOrderDispatchManagerPanel.tsx",children:(0,l.jsx)(ld,{menuName:a,"data-sentry-element":"FtOneOrderDispatchManagerPanelContent","data-sentry-source-file":"FtOneOrderDispatchManagerPanel.tsx"})})};const sd=[{name:"계약 주문",path:s.HH},{name:"계약 외 주문",path:s.Nb}];var nd=function(e){let{menuName:t}=e;const[a,s]=(0,r.useState)(sd[0].path),{nodeOptions:n}=$i();return(0,l.jsxs)("div",{className:"bg-grey98 flex h-full flex-col","data-sentry-component":"FtOneOrderDispatchExcelPanel","data-sentry-source-file":"FtOneOrderDispatchExcelPanel.tsx",children:[(0,l.jsx)(xl,{title:t,"data-sentry-element":"ContentHeader","data-sentry-source-file":"FtOneOrderDispatchExcelPanel.tsx"}),(0,l.jsx)("div",{className:"border-grey90 border-b",children:(0,l.jsx)(ed,{className:"ml-10",tabList:sd,currentTab:a,onClickTab:e=>{s(e.path)},"data-sentry-element":"StaticTabs","data-sentry-source-file":"FtOneOrderDispatchExcelPanel.tsx"})}),(0,l.jsx)("div",{className:"relative flex flex-1 bg-white",children:sd.map(((e,t)=>{const r=e.path===a;return(0,l.jsx)("div",{className:C()("cc-content-layout !overflow-x-hidden",{"is-visible":r}),style:{height:"calc(100vh - 197px)"},children:(0,l.jsx)(Qi,{path:e.path,restComponentProps:{isActive:r,currentTab:a,nodeOptions:n}})},"".concat(e.path).concat(t))}))})]})};function od(e){let{mutationKey:t,requestAllMeta:a}=e;const{data:l,isSuccess:s,mutateAsync:n}=(0,Wt.fu)({mutationKey:t}),{setCommonMetaV2List:o}=(0,Je.X)();return(0,r.useLayoutEffect)((()=>{s&&o(l)}),[l]),{getAllMeta:async()=>{await n(a)},isSuccessMetaAllV2:s}}var id=function(e){let{searchParams:t,setSearchParams:a,onSearch:s,initialParams:n}=e;const{getAllMeta:o}=od({mutationKey:"PurchaseSettlement",requestAllMeta:[Ze.k.COMMON_MDM_COST_CENTER_PURCHASE_CODE,Ze.k.VEHICLE_TYPE]});return(0,r.useLayoutEffect)((()=>{o()}),[]),(0,l.jsx)(Ve.A.Provider,{params:t,setParams:a,onSearch:()=>{s()},initialParams:n,"data-sentry-element":"SearchFilter.Provider","data-sentry-component":"SpotDispatchStatusFilter","data-sentry-source-file":"SpotDispatchStatusFilter.tsx",children:e=>(0,l.jsxs)(xt.A,{children:[(0,l.jsxs)(Ct.A,{children:[(0,l.jsx)(Ve.A.AllMetaAutocompleteSearch,{fieldName:"vendorMdmCorporationCode",allMetaType:Ze.k.COMMON_MDM_CORPORATION_CODE,label:"차량 소속",labelContainerClassName:"!min-w-[49px]",isUseAllOption:!0,className:"!w-[209px]"}),(0,l.jsx)(Ve.A.SearchAutocomplete,{label:"차량 구분",options:[{id:"true",label:"타점"},{id:"false",label:"자점"}],fieldName:"isOtherBranch",isUseAll:!0,labelContainerClassName:"!min-w-[49px]"})]}),(0,l.jsx)(Ct.A,{children:(0,l.jsx)(Ve.A.AllMetaAutocompleteSearch,{allMetaType:Ze.k.COMMON_MDM_CORPORATION_CODE,label:"인사 조직",className:"!w-[259px]",isUseAllOption:!0})}),(0,l.jsx)(Ct.A,{children:(0,l.jsx)(Ve.A.SearchDate,{label:"상차 일자"})}),(0,l.jsx)(Ct.A,{children:(0,l.jsx)(Ve.A.SearchText,{label:"차량번호",placeholder:"차량번호 입력",fieldName:"plateNumber",className:"!w-[209px]"})}),(0,l.jsx)(Ct.A,{children:(0,l.jsx)(Ve.A.SearchText,{label:"관리번호",placeholder:"관리번호 입력",fieldName:"equipmentManageNo",className:"!w-[209px]"})})]})})};var dd=[{field:"no",headerName:"No.",type:"number",width:60,renderCell:e=>"auto-generated-group-footer-root"===e.id?"":e.api.getRowIndexRelativeToVisibleRows(e.id)+1},{field:"vendorCorporationCodeName",headerName:"차량 소속",width:160},{field:"dispatchCorporationName",headerName:"인사조직(배차 담당자)",width:160},{field:"isOtherBranch",headerName:"운영구분",width:72,valueFormatter:e=>c().isUndefined(e)?"-":e?"타점":"자점",renderCell:e=>"auto-generated-group-footer-root"===e.id?"":e.value},{field:"orderTransferDispatchNo",headerName:"배차번호",width:160},{field:"departureRequestAt",headerName:"상차 요청 일자",width:118,type:da._.VIEW_MODE_YYYYMMDD_DDD},{field:"arrivalName",headerName:"상차 노드",width:160},{field:"departureName",headerName:"하차 노드",width:160},{field:"customerName",headerName:"화주명",width:200},{field:"customerMdmCode",headerName:"MDM 코드(화주)",width:126},{field:"dispatchVehicleTypeName",headerName:"차량 종류",width:94},{field:"itemQuantity",headerName:"의뢰량",width:90},{field:"salesQuantity",headerName:"수송량",width:90},{field:"plateNumber",headerName:"차량번호",width:120},{field:"equipmentManageNo",headerName:"관리번호",width:86},{field:"vendorMdmCode",headerName:"MDM 코드(위수탁)",width:126},{field:"purchaseRateCodeName",headerName:"의뢰 요율",width:74},{field:"purchaseFinalAmount",headerName:"매입 금액",type:"number",width:106},{field:"salesFinalAmount",headerName:"매출 금액",type:"number",width:106},{field:"allocatedAmount",headerName:"원가 배부액",type:"number",width:106},{field:"itemName",headerName:"품목",width:120},{field:"itemWeight",headerName:"중량",width:90},{field:"arrivalRequestAt",headerName:"하차 요청 일자",width:118,type:da._.VIEW_MODE_YYYYMMDD_DDD}];var cd=function(e){let{menuName:t}=e;const a={commonMdmCorporationCode:void 0,vendorMdmCorporationCode:void 0,startDate:je()().startOf("month").format(),endDate:je()().endOf("day").format(),isOtherBranch:"true"},s=(0,r.useRef)(null),n=(0,D.bBi)(),[o,i]=(0,r.useState)(a),{mutateAsync:d,data:c}=(0,T.n)(["GetSpotDispatchConsignmentListMutation"],(async e=>(await I.q.api((t=>t.ApiV1OrderDispatchOtherBranchList(e)))).data.result));var u;const{setInitData:m}=null!==(u=null==s?void 0:s.current)&&void 0!==u?u:{};return(0,r.useEffect)((()=>{c&&m(c.orderStatusInfoList||[])}),[c]),(0,l.jsxs)("div",{className:"bg-grey98 flex h-full flex-col","data-sentry-component":"SpotDispatchStatusPanel","data-sentry-source-file":"SpotDispatchStatusPanel.tsx",children:[(0,l.jsx)(xl,{title:t,"data-sentry-element":"ContentHeader","data-sentry-source-file":"SpotDispatchStatusPanel.tsx"}),(0,l.jsxs)("div",{className:"flex h-full flex-col bg-white",children:[(0,l.jsx)(id,{searchParams:o,initialParams:a,setSearchParams:i,onSearch:async()=>{await d({purchaseCostCenterCode:void 0,mdmCorporationCode:o.commonMdmCorporationCode,vendorMdmCorporationCode:o.vendorMdmCorporationCode,departureRequestAtFrom:o.startDate,departureRequestAtTo:o.endDate,plateNumber:o.plateNumber,equipmentManageNo:o.equipmentManageNo,isOtherBranch:null===o.isOtherBranch?null:"true"===o.isOtherBranch})},"data-sentry-element":"SpotDispatchStatusFilter","data-sentry-source-file":"SpotDispatchStatusPanel.tsx"}),(0,l.jsx)("div",{className:"h-[calc(100vh-275px)]",children:(0,l.jsx)(Fa.A,{ref:s,gridApiRef:n,columns:dd,noRowDescription:{description_1:"조회된 타점 배차 정보가 없습니다.",description_2:"조회 조건을 입력하거나, 조건을 다시 확인해 주세요."},initialState:{aggregation:{model:{purchaseFinalAmount:"sum",salesFinalAmount:"sum",allocatedAmount:"sum",orderTransferDispatchNo:"totalCount"}}},"data-sentry-element":"WrapperBasicDataGrid","data-sentry-source-file":"SpotDispatchStatusPanel.tsx"})})]})]})};var ud=[{field:"no",headerName:"No.",type:"number",width:76,headerAlign:"right",renderCell:e=>"auto-generated-group-footer-root"===e.id?"":e.api.getRowIndexRelativeToVisibleRows(e.id)+1},{field:"orderStatusType",headerName:"주문 상태",width:98,headerAlign:"center",align:"center",cellClassName:"flex h-full w-full items-center justify-center",renderCell:e=>e.aggregation?e.formattedValue:(0,l.jsx)(gn.OrderStatusTag,{status:e.value})},{field:"customerName",headerName:"화주명",width:200},{field:"customerMdmCode",headerName:"MDM 코드",width:92},{field:"departureNodeCode",headerName:"상차 노드 ID",width:92},{field:"departureName",headerName:"상차지명",width:160},{field:"departureAddress",headerName:"상차지 주소",width:160},{field:"departureUserAddress",headerName:"상차지 상세주소",width:160},{field:"arrivalNodeCode",headerName:"하차 노드 ID",width:92},{field:"arrivalName",headerName:"하차지명",width:160},{field:"arrivalAddress",headerName:"하차지 주소",width:160},{field:"arrivalUserAddress",headerName:"하차지 상세주소",width:160},{field:"isContract",headerName:"마스터 여부",width:84,align:"center",cellClassName:"flex h-full w-full items-center justify-center",renderCell:e=>"auto-generated-group-footer-root"===e.id?"":(0,l.jsx)(gn.RoundTag,{isLink:!!e.value})},{field:"itemName",headerName:"품목",width:122},{field:"requestVehicleTypeName",headerName:"요청 차량",width:122},{field:"requestVehicleTonName",headerName:"요청 톤급",width:82},{field:"vendorTypeName",headerName:"운영 구분",width:82},{field:"departureRequestAt",headerName:"상차 요청 일시",width:144,type:da._.VIEW_MODE_YYYYMMDDHHMM},{field:"arrivalRequestAt",headerName:"하차 요청 일시",width:144,type:da._.VIEW_MODE_YYYYMMDDHHMM},{field:"orderSalesNo",headerName:"주문번호",width:166},{field:"orderTransferNo",headerName:"분할번호",width:166},{field:"orderCorporationName",headerName:"인사조직",width:160},{field:"orderCreatedByName",headerName:"주문 등록자",width:160},{field:"orderCreatedAt",headerName:"주문 일시",width:144,type:da._.VIEW_MODE_YYYYMMDDHHMM},{field:"dispatchCreatedAt",headerName:"배차 일시",width:144,type:da._.VIEW_MODE_YYYYMMDDHHMM},{field:"contractSalesNo",headerName:"매핑계약번호",width:166},{field:"isExcelUpload",headerName:"엑셀 등록 여부",width:100,align:"center",cellClassName:"flex h-full w-full items-center justify-center",renderCell:e=>"auto-generated-group-footer-root"===e.id?"":(0,l.jsx)(gn.RoundTag,{isLink:!!e.value})},{field:"plateNumber",headerName:"차량번호",width:108},{field:"equipmentManageNo",headerName:"관리번호",width:92},{field:"driverUserName",headerName:"운전자명",width:72},{field:"driverUserPhoneNumber",headerName:"연락처",width:120},{field:"salesRateCodeName",headerName:"매출 요율 구분",width:100},{field:"salesQuantity",headerName:"매출 수송량",width:100},{field:"salesRateAmount",headerName:"매출 요율 금액",width:100,type:"number"},{field:"salesTotalAmount",headerName:"매출 금액",width:100,type:"number"},{field:"salesExtraTransportFee",headerName:"추가 운송료(매출)",width:120,type:"number"},{field:"salesExtraViaFee",headerName:"경유비(매출)",width:120,type:"number"},{field:"salesExtraStandbyFee",headerName:"대기료(매출)",width:120,type:"number"},{field:"salesExtraLaborFee",headerName:"작업료(매출)",width:120,type:"number"},{field:"salesExtraEtcFee",headerName:"기타(매출)",width:120,type:"number"},{field:"salesExtraBrokerageFee",headerName:"주선수수료(매출)",width:120,type:"number"},{field:"salesExtraInfoUsageFee",headerName:"정보 이용료(매출)",width:120,type:"number"},{field:"salesExtraTotalFee",headerName:"총 매출 추가 운임",width:120,type:"number"},{field:"salesTotalAmountWithExtra",headerName:"총 매출 금액",width:100,type:"number"},{field:"purchaseRateCodeName",headerName:"매입 요율 구분",width:100},{field:"purchaseQuantity",headerName:"매입 수송량",width:100},{field:"purchaseRateAmount",headerName:"매입 요율 금액",width:100,type:"number"},{field:"purchaseTotalAmount",headerName:"매입 금액",width:100,type:"number"},{field:"purchaseExtraTransportFee",headerName:"추가 운송료(매입)",width:120,type:"number"},{field:"purchaseExtraViaFee",headerName:"경유비(매입)",width:120,type:"number"},{field:"purchaseExtraStandbyFee",headerName:"대기료(매입)",width:120,type:"number"},{field:"purchaseExtraLaborFee",headerName:"작업료(매입)",width:120,type:"number"},{field:"purchaseExtraEtcFee",headerName:"기타(매입)",width:120,type:"number"},{field:"purchaseExtraTollFee",headerName:"통행료(매입)",width:120,type:"number"},{field:"purchaseExtraPilotageFee",headerName:"도선료(매입)",width:120,type:"number"},{field:"purchaseExtraTotalFee",headerName:"총 매입 추가 운임",width:120,type:"number"},{field:"purchaseTotalAmountWithExtra",headerName:"총 매입 금액",width:100,type:"number"},{field:"dispatchConfirmCreatedByName",headerName:"배차 등록자",width:86},{field:"dispatchAssignmentCreatedByName",headerName:"배정 등록자",width:86},{field:"baseUnitPrice",headerName:"기준 단가",width:100,type:"number"},{field:"expectedEffectPi",headerName:"기대 효과(PI)",width:128,type:"number"}];var md=function(e){let{searchParams:t,setSearchParams:a,onSearch:r}=e;return(0,l.jsx)(Ve.A.Provider,{params:t,setParams:a,onSearch:()=>{r()},"data-sentry-element":"SearchFilter.Provider","data-sentry-component":"OrderStatusFilter","data-sentry-source-file":"OrderStatusListFilter.tsx",children:e=>(0,l.jsxs)(xt.A,{children:[(0,l.jsxs)(Ct.A,{children:[(0,l.jsx)(Ve.A.AllMetaAutocompleteSearch,{allMetaType:Ze.k.COMMON_MDM_CORPORATION_CODE,label:"인사조직",className:"!w-[259px]",isUseAllOption:!0}),(0,l.jsx)(Ve.A.AllMetaAutocompleteSearch,{allMetaType:Ze.k.ORDER_STATUS_TYPE,label:"주문 상태",className:"!w-[259px]"})]}),(0,l.jsxs)(Ct.A,{width:"w-[318px]",children:[(0,l.jsx)(Ve.A.SearchDate,{label:"상차 일자"}),(0,l.jsx)(Ve.A.VendorPartnerMultiAutocomplete,{label:"파트너",className:"!w-[261px]",isShowAllOption:!0,isShowDefaultOption:!0})]}),(0,l.jsxs)(Ct.A,{children:[(0,l.jsx)(Ve.A.ItemNameAutocomplete,{label:"품목",isNoValue:!0}),(0,l.jsx)(Ve.A.CustomerNameMultiAutocomplete,{label:"화주",className:"!w-[209px]"})]}),(0,l.jsxs)(Ct.A,{children:[(0,l.jsx)(Ve.A.SearchText,{label:"주문번호",placeholder:"주문번호 입력",fieldName:"orderTransferNo",className:"!w-[209px]"}),(0,l.jsx)(Ve.A.SearchText,{label:"차량번호",placeholder:"차량번호 입력",fieldName:"plateNumber",className:"!w-[209px]"})]}),(0,l.jsxs)(Ct.A,{children:[(0,l.jsx)(Ve.A.SearchText,{label:"관리번호",placeholder:"관리번호 입력",fieldName:"equipmentManageNo",className:"!w-[209px]"}),(0,l.jsx)(Ve.A.SearchText,{label:"하차지",placeholder:"하차지 입력",fieldName:"searchArrival",className:"!w-[209px]"})]})]})})};const pd=e=>{var t;return{mdmCorporationCode:null!==(t=e.commonMdmCorporationCode)&&void 0!==t?t:void 0,departureRequestAtFrom:e.startDate,departureRequestAtTo:e.endDate,itemCode:"ALL"===e.itemCode?null:e.itemCode,orderTransferNo:e.orderTransferNo,equipmentManageNo:e.equipmentManageNo,vendorIdList:e.vendorId,customerIdList:e.customerId,plateNumber:e.plateNumber,orderStatusType:e.orderStatusType,searchArrival:e.searchArrival}};var hd=function(e){let{menuName:t}=e;const a=(0,r.useRef)(null),s=(0,D.bBi)(),n=(0,$e.P9)(),o=E(),[i,d]=r.useState({commonMdmCorporationCode:void 0,startDate:je()().add(-1,"month").startOf("day").format(),endDate:je()().endOf("day").format(),itemCode:void 0,orderTransferNo:void 0,equipmentManageNo:void 0,vendorId:void 0,customerId:void 0,plateNumber:void 0,orderStatusType:void 0,searchArrival:void 0}),{mutateAsync:c,data:u,isSuccess:m,isError:p}=(0,T.n)(["GetOrderStatusListMutation"],(async e=>(await I.q.api((t=>t.ApiV1OrderStatusList(e)))).data.result)),{mutateAsync:h,data:f,isSuccess:C}=(0,T.n)(["OrderStatusListExcel"],(async e=>(await I.q.api((t=>t.ApiV1OrderStatusListExcel(e,{format:"blob"})))).data));return(0,r.useEffect)((()=>{var e;m&&(null==a||null===(e=a.current)||void 0===e||e.setInitData((null==u?void 0:u.orderStatusInfoList)||[]))}),[m,u]),(0,r.useEffect)((()=>{var e;p&&(null==a||null===(e=a.current)||void 0===e||e.setInitData([]))}),[p]),(0,l.jsxs)("div",{className:"bg-grey98 flex h-full flex-col","data-sentry-component":"OrderStatusPanel","data-sentry-source-file":"OrderStatusPanel.tsx",children:[(0,l.jsx)(xl,{title:t,"data-sentry-element":"ContentHeader","data-sentry-source-file":"OrderStatusPanel.tsx"}),(0,l.jsxs)("div",{className:"flex h-full flex-col bg-white",children:[(0,l.jsx)(md,{searchParams:i,setSearchParams:d,onSearch:async()=>{i.startDate&&i.endDate?await c(pd(i)):o({title:"상차 일자를 모두 입력해 주세요."})},"data-sentry-element":"OrderStatusFilter","data-sentry-source-file":"OrderStatusPanel.tsx"}),(0,l.jsx)("div",{className:"max-h-[calc(100vh-320px)] flex-1",children:(0,l.jsx)(Fa.A,{ref:a,gridApiRef:s,columns:ud,noRowDescription:{description_1:"조회된 운송 현황 정보가 없습니다.",description_2:"조회 조건을 입력하거나, 조건을 다시 확인해 주세요."},initialState:{aggregation:{model:{salesRateAmount:"sum",salesTotalAmount:"sum",salesExtraTransportFee:"sum",salesExtraViaFee:"sum",salesExtraStandbyFee:"sum",salesExtraLaborFee:"sum",salesExtraEtcFee:"sum",salesExtraBrokerageFee:"sum",salesExtraInfoUsageFee:"sum",salesTotalAdditionalAmount:"sum",salesTotalAmountWithExtra:"sum",purchaseRateAmount:"sum",purchaseTotalAmount:"sum",purchaseExtraTransportFee:"sum",purchaseExtraViaFee:"sum",purchaseExtraStandbyFee:"sum",purchaseExtraLaborFee:"sum",purchaseExtraEtcFee:"sum",purchaseExtraTollFee:"sum",purchaseExtraPilotageFee:"sum",purchaseTotalAdditionalAmount:"sum",purchaseTotalAmountWithExtra:"sum",baseUnitPrice:"sum",expectedEffectPi:"sum",orderStatusType:"totalCount"}}},"data-sentry-element":"WrapperBasicDataGrid","data-sentry-source-file":"OrderStatusPanel.tsx"})}),(0,l.jsx)("div",{className:"flex gap-[8px] px-[40px] py-[12px]",children:(0,l.jsx)("div",{className:"ml-auto",children:(0,l.jsx)(We,{excelFileName:"운송 현황 조회",isSuccessExcel:C,excelData:f,handleExcelDownload:async()=>{var e;0!==(null==a||null===(e=a.current)||void 0===e?void 0:e.getAllRows().length)?await h(pd(i)):n({message:"다운로드할 내용이 없습니다.",type:"caution"})},"data-sentry-element":"TmsBasicDataGridExcelDownload","data-sentry-source-file":"OrderStatusPanel.tsx"})})})]})]})};const fd="OWNER_REGISTER",Cd="GENERAL_OWNER_REGISTER",xd="TRANSPORT_PARTNER_REGISTER",Nd="PARTNER_TEN_REGISTER",yd="DRIVER_REGISTER",Ed="BRANCH_OFFICE_REGISTER",vd="REGISTER_END",Ad={CREATE:"CREATE",UPDATE:"UPDATE",COPY:"COPY",REACTIVATE_REQUEST:"REACTIVATE_REQUEST"},gd={MEMBER_MANAGEMENT:4,MEMBER_MANAGEMENT_OWNER_13:5,MEMBER_MANAGEMENT_OWNER_10:6,MEMBER_MANAGEMENT_PARTNER_13:7,MEMBER_MANAGEMENT_PARTNER_10:8,MEMBER_MANAGEMENT_DRIVER:9,MEMBER_MANAGEMENT_BRANCH_OFFICE:10,MEMBER_MANAGEMENT_SUSPENDED:11,ADMIN_ACCOUNT_MANAGEMENT:64},Td=[{name:(0,l.jsxs)("div",{className:"flex items-center",children:["화주 ",(0,l.jsx)("p",{className:"Caption2_B",children:"(13코드)"})]}),path:s.nE,menuId:gd.MEMBER_MANAGEMENT_OWNER_13},{name:(0,l.jsxs)("div",{className:"flex items-center",children:["화주 ",(0,l.jsx)("span",{className:"Caption2_B",children:"(10코드)"})]}),path:s.eo,menuId:gd.MEMBER_MANAGEMENT_OWNER_10},{name:(0,l.jsxs)("div",{className:"flex items-center",children:["파트너 ",(0,l.jsx)("span",{className:"Caption2_B",children:"(13코드)"})]}),path:s.Kq,menuId:gd.MEMBER_MANAGEMENT_PARTNER_13},{name:(0,l.jsxs)("div",{className:"flex items-center",children:["파트너 ",(0,l.jsx)("span",{className:"Caption2_B",children:"(10코드)"})]}),path:s.yL,menuId:gd.MEMBER_MANAGEMENT_PARTNER_10},{name:"차주",path:s.wW,menuId:gd.MEMBER_MANAGEMENT_DRIVER},{name:"출장소",path:s.xi,menuId:gd.MEMBER_MANAGEMENT_BRANCH_OFFICE},{name:"중지 회원",path:s.oT,menuId:gd.MEMBER_MANAGEMENT_SUSPENDED}];var Id=function(e){let{menuName:t}=e;const{getOperationIsActive:a}=(0,i.o)(),[n,o]=(0,r.useState)(Td[0].path),[d,c]=(0,r.useState)(!1),p=v(),[h,f]=(0,r.useState)(!1);(0,r.useLayoutEffect)((()=>{var e;const t=a(null===(e=Td[0])||void 0===e?void 0:e.menuId,Ad.CREATE);f(t)}),[]),(0,r.useEffect)((()=>{pe.sV.on(vd,(()=>{c(!1)}))}),[]);const x=(0,r.useMemo)((()=>![s.oT].includes(n)),[n]);return(0,l.jsxs)("div",{className:"bg-grey98 flex h-full flex-col","data-sentry-component":"MemberManagerPanel","data-sentry-source-file":"MemberManagerPanel.tsx",children:[(0,l.jsx)(xl,{title:t,"data-sentry-element":"ContentHeader","data-sentry-source-file":"MemberManagerPanel.tsx",children:h&&x&&(0,l.jsx)(u.A,{label:"새 회원 등록하기",level:m.V.level_1,leftIcon:(0,l.jsx)(Ce,{}),onClick:()=>{let e=fd;switch(n){case s.nE:e=fd;break;case s.eo:e=Cd;break;case s.Kq:e=xd;break;case s.yL:e=Nd;break;case s.wW:e=yd;break;case s.xi:e=Ed}c(!0),pe.sV.emit(e)}})}),(0,l.jsx)("div",{className:"border-grey90 border-b",children:(0,l.jsx)(ed,{className:"ml-10",tabList:Td,currentTab:n,onClickTab:e=>{if(d)return void p({title:"작성 중인 정보가 있습니다.",description:"화면을 나가면 작성된 정보가 삭제됩니다.",confirmButtonLabel:"나가기",onClickConfirmButton:()=>{o(e.path),c(!1)}});const t=a(e.menuId,Ad.CREATE);f(t),o(e.path)},"data-sentry-element":"StaticTabs","data-sentry-source-file":"MemberManagerPanel.tsx"})}),(0,l.jsx)("div",{className:"relative flex flex-1 bg-white",children:Td.map(((e,t)=>{const a=e.path===n;return(0,l.jsx)("div",{className:C()("cc-content-layout !overflow-x-hidden",{"is-visible":a}),style:{height:"calc(100vh - 197px)"},children:(0,l.jsx)(Hv,{path:e.path,restComponentProps:{isActive:a,isRegister:d}})},"".concat(e.path).concat(t))}))})]})};const bd=e=>e?[e.isSmsReceive&&"sms",e.isEmailReceive&&"email"].filter(Boolean):null,Rd=e=>!!(e||[]).find((e=>"sms"===e)),Sd=e=>!!(e||[]).find((e=>"email"===e)),_d=e=>({registrationNumber:"사업자 번호",businessType:"사업자 종류",name:"사업자명(법인명)",representativeName:"대표자명",corporationNumber:"법인등록번호",addressInfo:"사업장 주소",condition:"업태",category:"업종",sizeType:"사업자 유형",mdmCorporationCode:"인사조직",mdmCostCenterCode:"코스트 센터",customerFiType:"과세 유형",mdmPaymentConditionCode:"수금/지급 조건",businessLicense:"사업자 등록증",businessLicenseFile:"사업자 등록증",bankBookFile:"통장 사본",userId:"아이디",isUserUsed:"계정 상태",userName:"이름",telMobile:"휴대폰 번호",vendorFiType:"과세 유형",salesMdmAdminEmpNo:"영업 담당자"}[e]||e),wd=e=>({mdmCorporationCode:e.commonMdmCorporationCode||null,mdmCode:e.mdmCode,mdmStatusType:"ALL"!==e.mdmStatus&&e.mdmStatus?e.mdmStatus:null,name:e.businessName,registrationNumber:e.registrationNumber,managerName:e.managerName}),Od=e=>({mdmCorporationCode:e.commonMdmCorporationCode,mdmCode:e.mdmCode,mdmStatusType:"ALL"===e.mdmStatus?null:e.mdmStatus,name:e.businessName,registrationNumber:e.registrationNumber,managerName:e.managerName}),Md=e=>e.map(((e,t)=>({...e,id:t+1}))),Dd=e=>{var t,a,l,r,s,n,o,i,d,c,u;return{...e,addressDetail:e.addressInfo.detailAddress,businessLicense:e.registrationFileInfoList.find((e=>e.fileType===R.VQo.BUSINESS_LICENSE))||null,isUserUsed:(null===(a=e.mainUserInfo)||void 0===a||null===(t=a.isUsed)||void 0===t?void 0:t.toString())||"true",isUserIdVerified:!!(null===(l=e.mainUserInfo)||void 0===l?void 0:l.loginId),userId:(null===(r=e.mainUserInfo)||void 0===r?void 0:r.loginId)||"b".concat(null==e?void 0:e.registrationNumber),userName:(null===(s=e.mainUserInfo)||void 0===s?void 0:s.name)||"",telMobile:(null===(n=e.mainUserInfo)||void 0===n?void 0:n.telMobile)||"",email:(null===(o=e.mainUserInfo)||void 0===o?void 0:o.email)||"",notiChannel:bd(e.mainUserInfo),isAdvertisementInformationAgree:null===(d=e.mainUserInfo)||void 0===d||null===(i=d.isAdvertisementInformationAgree)||void 0===i?void 0:i.toString(),isMarketingUtilizationAgree:null===(u=e.mainUserInfo)||void 0===u||null===(c=u.isMarketingUtilizationAgree)||void 0===c?void 0:c.toString(),managerName:e.managerName||"",managerPhoneNumber:e.managerPhoneNumber||"",managerEmail:e.managerEmail||"",customerGroupId:e.customerGroupId||null}},jd=e=>{var t;return{...e,businessType:R.VMq[e.businessType],sizeType:R.yJE[e.sizeType],salesMdmAdminEmpNo:e.salesMdmAdminEmpNo,customerFiType:R.eFu[e.customerFiType],addressInfo:{...e.addressInfo,detailAddress:e.addressDetail},attachFileIdList:(null===(t=e.businessLicense)||void 0===t?void 0:t.attachFileId)?[e.businessLicense.attachFileId]:void 0}},Pd=e=>{var t,a;return{...e,customerId:e.customerId,sizeType:R.Zhf[e.sizeType],salesMdmAdminEmpNo:e.salesMdmAdminEmpNo,customerFiType:R.$om[e.customerFiType],gradeType:R.tP_[e.gradeType],salesVatType:R.$1u[e.salesVatType],mainUserInfo:e.mdmCode&&e.isUserIdVerified?{isUsed:"true"===e.isUserUsed,loginId:null===(t=e.userId)||void 0===t?void 0:t.toString(),name:e.userName,telMobile:e.telMobile,email:e.email,isSmsReceive:Rd(e.notiChannel),isEmailReceive:Sd(e.notiChannel),isAdvertisementInformationAgree:"true"===e.isAdvertisementInformationAgree,isMarketingUtilizationAgree:"true"===e.isMarketingUtilizationAgree}:void 0,addressInfo:{...e.addressInfo,detailAddress:e.addressDetail},attachFileIdList:(null===(a=e.businessLicense)||void 0===a?void 0:a.attachFileId)?[e.businessLicense.attachFileId]:[]}},Ld=()=>(0,T.n)(["createOwner"],(async e=>(await I.q.api((t=>t.ApiCustomerV1OwnerCreate(jd(e))))).data.result)),Bd=()=>(0,T.n)(["updateOwner"],(async e=>(await I.q.api((t=>t.ApiCustomerV1OwnerUpdate(Pd(e))))).data.result)),Ud=()=>(0,T.n)(["checkUserId"],(async e=>(await I.q.api((t=>t.ApiCustomerUserV1CheckExistsLoginId(e)))).data.result)),Vd=()=>(0,T.n)(["useInviteOwner"],(async e=>(await I.q.api((t=>t.ApiCustomerUserV1Invite(e)))).data.result)),Fd=()=>({registrationNumber:"",businessType:"CORPORATE",userType:"",name:"",nameSimplified:"",representativeName:"",userId:"",corporationNumber:"",addressInfo:null,addressDetail:"",condition:"",category:"",sizeType:null,salesAdminId:"",vendorFiType:null,mdmPaymentConditionCode:"",isRegistrationNumberVerified:!1,isUserIdVerified:!1,businessLicense:null,mdmCorporationCode:null,mdmCostCenterCode:null,userName:"",telMobile:null,email:null,notiChannel:null,isAdvertisementInformationAgree:null,isMarketingUtilizationAgree:null,managerPhoneNumber:"",managerName:"",managerEmail:"",customerGroup:null,gradeType:null,salesVatType:null,industryCode:null,customerFiType:null,isUserUsed:"true",salesMdmAdminEmpNo:null,salesMdmAdminId:null}),Gd=()=>({registrationNumber:"",businessType:"CORPORATE",name:"",nameSimplified:"",representativeName:"",userId:"",corporationNumber:"",condition:"",category:"",sizeType:"",vendorFiType:null,address:"",addressInfo:null,addressDetail:"",mdmPaymentConditionCode:"",isRegistrationNumberVerified:!1,isUserIdVerified:!1,serviceCode:null,serviceCode2:null,driverLicenseFile:null,paymentGuaranteeFile:null,mdmCorporationCode:null,mdmCostCenterCode:null,businessLicenseFile:null,bankBookFile:null,cargoTransportLicenseFile:null,managerPhoneNumber:"",managerName:"",managerEmail:"",customerGroup:null,gradeType:null,salesVatType:null,industryCode:null,isAdvertisementInformationAgree:null,isMarketingUtilizationAgree:null,isUserUsed:"true"}),kd=()=>({registrationNumber:"",businessType:"INDIVIDUAL",name:"",nameSimplified:"",representativeName:"",userId:"",corporationNumber:"1111111111111",isWciTargetType:"true",addressInfo:{address1:"서울특별시 종로구 종로5길 7"},addressDetail:"",condition:"운수업",category:"화물",sizeType:"INDIVIDUAL",vendorFiType:"VENDOR_NORMAL",mdmPaymentConditionCode:"T015-K",isWciTarget:!0,bankTypeCode:"",bankAccountNo:"",isBankAccountVerified:!1,isPlateNumberVerified:!1,mdmCorporationCode:null,mdmCostCenterCode:null,plateNumber:"",vehicleType:null,vehicleTonCode:"0250",driverName:"",isCheckOriginVendor:null,originVendorName:"",businessLicenseFile:null,bankBookFile:null,userName:"",email:null,notiChannel:null,isAdvertisementInformationAgree:null,isMarketingUtilizationAgree:null,isUserUsed:"true",managerPhoneNumber:"",driverTelNo:"",preferenceNodeList:Array.from({length:5},((e,t)=>({seq:t+1,departureMdmNodeCode:"",arrivalMdmNodeCode:""})))}),Yd=()=>({name:"",mdmCorporationCode:"",registrationNumber:"",customerType:null,nameSimplified:"",representativeName:"",address:"",addressDetail:"",condition:"",category:"",memberCode:"",managerName:"",smsReceivePhoneNumber:"",isSmsReceive:!0,isMdmSync:!0,industryCode:"",serviceCode:null,serviceCode2:null,commonMdmCustomerId:null,isUserIdVerified:!1,userId:"",telMobile:"",userName:"",email:null,notiChannel:null,isAdvertisementInformationAgree:null,isMarketingUtilizationAgree:null,isUserUsed:"true",salesMdmAdminEmpNo:"",salesMdmAdminName:""}),qd=()=>({name:"",mdmCorporationCode:"",registrationNumber:"",nameSimplified:"",representativeName:"",address:"",addressDetail:"",condition:"",category:"",memberCode:"",managerName:"",isUsed:!0,industryCode:"",serviceCode:null,serviceCode2:null,salesMdmAdminEmpNo:"",salesMdmAdminName:"",commonMdmCustomerId:null}),Wd=(0,r.createContext)(null);function Hd(e){let{isNew:t,children:a,detailData:s,onRegisterComplete:n,isChangedFile:o,setIsChangedFile:i}=e;const d=(0,$e.P9)(),[c,u]=(0,r.useState)(!1),{control:m,formState:p,getValues:h,getFieldState:f,handleSubmit:C,reset:x,setValue:N,setError:y,clearErrors:E,trigger:v}=(0,Hr.mN)({defaultValues:Fd(),mode:"onChange",shouldUnregister:!0}),{mutateAsync:A,isSuccess:g,isError:T,error:I,data:b}=Ld(),{mutateAsync:R,isSuccess:S,isError:_,error:w,data:O}=Bd();(0,r.useEffect)((()=>{t&&x(Fd(),{keepDefaultValues:!1})}),[t]),(0,r.useEffect)((()=>{s&&x(s,{keepDefaultValues:!1})}),[s]);const{isValid:M,errors:D}=p;return(0,r.useEffect)((()=>{g&&b&&(d({message:"화주 회원이 등록되었습니다.",type:"success"}),n(b.customerId))}),[g]),(0,r.useEffect)((()=>{T&&I&&d({message:I.message,type:"caution"})}),[T]),(0,r.useEffect)((()=>{S&&O&&(d({message:"화주 회원이 수정되었습니다.",type:"success"}),n(O.customerId))}),[S]),(0,r.useEffect)((()=>{_&&w&&d({message:w.message,type:"caution"})}),[_]),(0,l.jsx)(Wd.Provider,{value:{isNew:t,detailData:s,control:m,formState:p,getValues:h,getFieldState:f,setValue:N,setError:y,clearErrors:E,isChangedFile:o,setIsChangedFile:i,trigger:v,isClickedEEConfirmButton:c,setIsClickedEEConfirmButton:u,onRegisterComplete:n},"data-sentry-element":"DetailContext.Provider","data-sentry-component":"DetailProvider","data-sentry-source-file":"DetailProvider.tsx",children:(0,l.jsx)("form",{autoComplete:"off",onSubmit:C((async e=>{if(M||0===Object.keys(D).length)try{var a;if(!(null===(a=e.addressInfo)||void 0===a?void 0:a.address1))return y("addressInfo",{message:"사업장 주소 필수 정보를 입력해주세요."}),void d({message:"사업장 주소 필수 정보를 입력해주세요.",type:"fail"});if(t){if(E(),!e.isRegistrationNumberVerified)return y("registrationNumber",{message:"사업자 번호 인증을 진행해 주세요"}),void d({message:"사업자 번호 인증을 진행해 주세요",type:"fail"});await(async e=>{await A(e)})(e)}else{var l,r;if(!e.isUserIdVerified&&(e.userName||e.telMobile))return d({message:"아이디 중복 확인이 필요합니다"}),void y("userId",{message:"아이디 중복 확인이 필요합니다"});if(e.isUserIdVerified&&!e.userName)return d({message:"이름을 입력해 주세요"}),void y("userName",{message:"이름을 입력해 주세요"});if(e.isUserIdVerified&&!e.telMobile)return d({message:"휴대폰 번호를 입력해 주세요"}),void y("telMobile",{message:"휴대폰 번호를 입력해 주세요"});const t=(null===(l=e.businessLicense)||void 0===l?void 0:l.attachFileId)!==(null===(r=s.businessLicense)||void 0===r?void 0:r.attachFileId);i(t),await R(e)}}catch(e){d({message:e.message,type:"caution"})}else d({message:"입력값을 확인해주세요.",type:"fail"}),window.console.log("onSubmitForm INVALID:",p.errors)}),(e=>{var t;const a=Object.keys(e),l="".concat(_d(a[0])," ").concat((null===(t=e[a[0]])||void 0===t?void 0:t.message)||"입력값을 확인해주세요.");d({message:l,type:"fail"}),window.console.error(e)})),onKeyDown:e=>{"Enter"===e.key&&e.target instanceof HTMLInputElement&&e.preventDefault()},children:a})})}function Kd(){return(0,r.useContext)(Wd)}var zd,Xd;function Qd(){return Qd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},Qd.apply(null,arguments)}var Zd,Jd,$d=function(e){return r.createElement("svg",Qd({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},e),r.createElement("mask",{id:"icon-cloud-upload_svg__a",width:24,height:24,x:0,y:0,maskUnits:"userSpaceOnUse",style:{maskType:"alpha"}},zd||(zd=r.createElement("path",{fill:"#D9D9D9",d:"M0 0h24v24H0z"}))),Xd||(Xd=r.createElement("g",{mask:"url(#icon-cloud-upload_svg__a)"},r.createElement("path",{fill:"currentColor",d:"M24 13.76C24 17.2 21.13 20 17.6 20h-6.17c-.14 0-.25-.11-.25-.25v-8.3l-1.97 1.97c-.1.1-.26.1-.35 0l-.78-.78c-.1-.09-.1-.25 0-.35l3.74-3.75c.1-.09.26-.09.36 0l3.75 3.76c.09.09.09.25 0 .35l-.78.78c-.1.09-.26.09-.35 0l-2.02-2.02v6.99h4.82c2.65 0 4.8-2.08 4.8-4.64s-2.15-4.63-4.8-4.63h-.08c-.39 0-.73-.28-.79-.66C16.34 6.23 14.35 4.6 12 4.6S7.66 6.23 7.27 8.47c-.06.38-.4.66-.79.66-2.73 0-4.88 2.08-4.88 4.63s2.15 4.64 4.8 4.64h1.35c.14 0 .25.11.25.25v1.1c0 .14-.11.25-.25.25H6.4C2.87 20 0 17.2 0 13.76c0-3.25 2.57-5.93 5.84-6.21C6.6 4.88 9.09 3 12 3s5.4 1.88 6.16 4.55c3.27.28 5.84 2.96 5.84 6.21"}))))};function ec(){return ec=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},ec.apply(null,arguments)}var tc=function(e){return r.createElement("svg",ec({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none"},e),Zd||(Zd=r.createElement("path",{fill:"currentColor",d:"M10.001 1.667A8.336 8.336 0 0 0 1.668 10c0 4.6 3.733 8.333 8.333 8.333S18.335 14.6 18.335 10 14.6 1.667 10 1.667"})),Jd||(Jd=r.createElement("path",{fill:"#868C98",d:"M10.55 5h-1.1a.25.25 0 0 0-.25.25v1.1c0 .138.111.25.25.25h1.1a.25.25 0 0 0 .25-.25v-1.1a.25.25 0 0 0-.25-.25M10.55 8h-1.1a.25.25 0 0 0-.25.25v6.5c0 .138.111.25.25.25h1.1a.25.25 0 0 0 .25-.25v-6.5a.25.25 0 0 0-.25-.25"})))};var ac=function(e){let{type:t,className:a,style:r,children:s}=e;return(0,l.jsxs)("div",{className:C()("flex w-full flex-row items-center gap-[4px]",a),style:r,"data-sentry-component":"Notification","data-sentry-source-file":"Notification.tsx",children:["info"===t&&[(0,l.jsx)(tc,{width:20,height:20,className:"text-grey90"},"info-icon"),(0,l.jsx)("p",{className:"Body5_M text-grey50",children:s},"info-text")],"warn"===t&&[(0,l.jsx)(ai,{width:20,height:20,className:"text-caution"},"warn-icon"),(0,l.jsx)("p",{className:"Body5_M text-orange60",children:s},"warn-text")],"error"===t&&[(0,l.jsx)(ai,{width:20,height:20,className:"text-red50"},"error-icon"),(0,l.jsx)("p",{className:"Body5_B text-red50",children:s},"error-text")]]})};var lc=function(e){const{type:t="error",reason:a,children:r}=e;return(0,l.jsxs)("div",{className:"bg-red98 flex flex-col items-center justify-start gap-[4px] px-[24px] py-[8px]","data-sentry-component":"DetailFormCautionBar","data-sentry-source-file":"DetailFormCautionBar.tsx",children:[(0,l.jsx)(ac,{type:t,"data-sentry-element":"Notification","data-sentry-source-file":"DetailFormCautionBar.tsx",children:a}),(0,l.jsx)("div",{className:"Body5_M text-red50 w-full",children:r})]})},rc=a(33497);var sc=function(e){let{status:t="",code:a=""}=e;switch(t){case"중지":return(0,l.jsxs)("div",{className:"flex flex-row items-center gap-[6px]",children:[(0,l.jsx)("span",{className:"border-error text-error rounded-[3px] border-[1px] bg-white px-[4px] py-[1px]",children:"거래중지"}),(0,l.jsx)(ve,{width:4,height:4,className:"text-grey50"}),(0,l.jsx)("span",{className:"Body5_M text-grey50",children:a})]});case"해제":return(0,l.jsxs)("div",{className:"flex flex-row items-center gap-[6px]",children:[(0,l.jsx)("span",{className:"border-secondary50 text-secondary50 rounded-[3px] border-[1px] bg-white px-[4px] py-[1px]",children:"해제요청"}),(0,l.jsx)(ve,{width:4,height:4,className:"text-grey50"}),(0,l.jsx)("span",{className:"Body5_M text-grey50",children:a})]});default:return(0,l.jsxs)("div",{className:"flex flex-row items-center gap-[6px]",children:[(0,l.jsx)(rc.Ay.MdmStatusTag,{status:t}),a&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(ve,{width:4,height:4,className:"text-grey50"}),(0,l.jsx)("span",{className:"Body5_M text-grey50",children:a})]})]})}};var nc=function(e){return(0,l.jsx)("div",{className:C()("max-w-[400px] overflow-x-auto",e.className),"data-sentry-component":"TmsBasicRoundedTabs","data-sentry-source-file":"TmsBasicRoundedTabs.tsx",children:(0,l.jsx)("div",{className:"flex w-max flex-row justify-start gap-[8px]",children:e.items.map((t=>{return(0,l.jsx)("button",{type:"button",title:t.label,"aria-label":t.label,className:C()("Body5_M flex flex-row items-center justify-center rounded-full px-[12px] py-[4px]",e.selectedId===t.id?"bg-grey30 text-white":"bg-grey90 text-grey30"),onClick:(a=t,t=>{t.preventDefault(),e.onChange(a)}),children:t.label},t.id);var a}))})})};var oc=function(e){let{gradient:t=!1,className:a,style:r,children:s}=e;return(0,l.jsx)("span",{className:C()("Title3_EX bg-clip-text",a),style:{...r,backgroundImage:t?"linear-gradient(90deg, rgba(68, 40, 188, 0.90) 0%, rgba(0, 136, 255, 0.90) 100%)":void 0,color:t?"transparent":void 0},"data-sentry-component":"FormTitle","data-sentry-source-file":"FormTitle.tsx",children:s})};var ic=function(e){let{detailData:t,tabItems:a,selectedTabId:s,onChangeTab:n,onChangeFileTab:o}=e;const{isNew:d,setError:c,isClickedEEConfirmButton:p,onRegisterComplete:h,getValues:f}=Kd(),{mutateAsync:x,isSuccess:N,isLoading:y,isError:E,error:v}=(0,T.n)(["requestMdm"],(async e=>(await I.q.api((t=>t.ApiCustomerV1OwnerMdmRequest(e)))).data.result)),A=(0,$e.P9)(),{getOperationIsActive:g}=(0,i.o)(),[b]=(0,r.useState)(g(gd.MEMBER_MANAGEMENT_OWNER_13,Ad.UPDATE));return(0,r.useEffect)((()=>{N&&(A({message:"MDM 승인 요청을 상신했습니다."}),h(null==t?void 0:t.customerId))}),[N]),(0,r.useEffect)((()=>{E&&v&&A({message:v.message,type:"caution"})}),[E]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:C()("border-b-blue95 flex flex-col gap-[16px] border-b-[1px] px-[24px] py-[16px]",{"bg-grey98":d,"bg-blue98":!d}),children:[(0,l.jsx)("div",{className:"flex flex-row justify-between",children:d?(0,l.jsxs)("div",{className:"flex w-full flex-row items-center justify-between",children:[(0,l.jsx)("div",{className:"flex flex-row items-center gap-[4px]",children:(0,l.jsx)(ac,{type:"info",children:"e증빙 승인 요청은 회원 등록 후 가능합니다."})}),(0,l.jsx)(ui,{type:"submit",label:"회원 등록"})]}):(0,l.jsxs)("div",{className:"flex w-full flex-row items-center justify-between",children:[(0,l.jsx)("div",{className:"flex flex-row items-center gap-[8px]",children:(0,l.jsx)(u.A,{disabled:y,label:(null==t?void 0:t.mdmStatusType)===R.rOZ.COMPLETE||(null==t?void 0:t.mdmStatusType)===R.rOZ.RE_REQUEST?"MDM 갱신":"MDM 상신",size:m.M.Small,level:m.V.level_5,leftIcon:(0,l.jsx)($d,{width:16,height:16,className:"text-grey50"}),onClick:async()=>{if(!f("businessLicense"))return c("businessLicense",{message:"필수 서류를 먼저 업로드해 주세요."}),A({message:"필수 서류를 먼저 업로드해 주세요.",type:"fail"}),void o();p?await x({customerId:t.customerId}):A({message:"e증빙 확인 버튼을 먼저 클릭해 주세요.",type:"fail"})}})}),b&&(0,l.jsx)(_t.A,{type:"submit"})]})}),d?(0,l.jsx)("div",{className:"flex flex-row items-center gap-[8px]",children:(0,l.jsx)(oc,{gradient:!0,children:"새 회원 등록하기"})}):(0,l.jsxs)("div",{className:"Body5_B flex flex-row items-center gap-[8px]",children:[(0,l.jsx)(oc,{children:null==t?void 0:t.name}),(0,l.jsx)(sc,{status:null==t?void 0:t.mdmStatusType,code:null==t?void 0:t.mdmCode})]}),(0,l.jsx)(nc,{items:a,selectedId:s,onChange:n,"data-sentry-element":"TmsBasicRoundedTabs","data-sentry-source-file":"DetailTop.tsx"})]}),!d&&("RETURN"===(null==t?void 0:t.mdmStatusType)||"RE_RETURN"===(null==t?void 0:t.mdmStatusType))&&(0,l.jsx)(lc,{type:"error",reason:"FSC 반려 사유",children:t.mdmReceiveComments})]})};var dc=r.forwardRef(((e,t)=>{const{groupName:a,items:r,value:s,disabled:n=!1,onChange:o}=e;return(0,l.jsx)("div",{className:C()("flex h-full w-full flex-row items-center gap-[16px] px-[12px]",{"bg-warmGrey98 text-grey70":n}),children:r.map(((e,i)=>{return(0,l.jsxs)("label",{htmlFor:"".concat(a,"-").concat(e.id),className:"flex flex-row items-center gap-[4px]",children:[(0,l.jsx)("input",{ref:t,type:"checkbox",id:"".concat(a,"-").concat(e.id),name:a,value:e.id,checked:s&&Array.isArray(s)&&s.includes(e.id),disabled:n||e.disabled||!1,onChange:(d=e.id,e=>{if(s){const e=s.includes(d)?s.filter((e=>e!==d)):[...s,d],t=e.map((e=>r.findIndex((t=>t.id===e))));o(e,t)}else o([d],[r.findIndex((e=>e.id===d))])})}),(0,l.jsx)("span",{children:e.label})]},"".concat(a,"-").concat(e.id,"-").concat(i));var d}))})}));var cc=function(e){let{params:t,options:a=[],isOnlyRender:r=!1,renderClassName:s}=e;var n;const{id:o,field:i}=t,d=null==a||null===(n=a.find((e=>{var a,l;return(null===(a=e.id)||void 0===a?void 0:a.toString())===(null===(l=t.value)||void 0===l?void 0:l.toString())})))||void 0===n?void 0:n.label,c=(0,D.h5D)();return(0,l.jsxs)(l.Fragment,{children:[r&&(0,l.jsxs)("div",{className:C()("flex items-center justify-between px-[12px]",s),children:[d,(0,l.jsx)(p.A,{width:"16",height:"16",className:"text-grey60"})]}),!r&&(0,l.jsx)(He.A,{autocompleteBoxClassName:"w-full",open:!0,selectedId:t.value.toString(),componentType:"autocomplete-table",options:a,optionsBoxWidth:200,onChange:(e,a)=>{c.current.setEditCellValue({id:o,field:i,value:a.id}),c.current.setEditCellValue({id:o,field:"".concat(i,"Name"),value:a.label}),t.api.stopCellEditMode({id:o,field:i})},firstOptionType:null})]})};const uc={customerUserId:!1},mc=[{id:"true",label:"활성"},{id:"false",label:"비활성"}],pc=[{id:"true",label:"수신"},{id:"false",label:"미수신"}],hc=[{field:"customerUserId"},{field:"__check__",headerName:"",width:48,minWidth:48,maxWidth:48,sortable:!1,align:"center",disableColumnMenu:!0},{field:"loginId",headerName:"아이디",sortable:!1,width:140},{field:"isUsed",headerName:"계정 상태",width:100,editable:!0,cellClassName:"wide-cell",renderCell:e=>cc({isOnlyRender:!0,options:mc,params:e,renderClassName:"true"==e.value.toString()?"text-progress":""}),renderEditCell:e=>cc({options:mc,params:e})},{field:"name",headerName:"이름",width:88,editable:!0},{field:"telMobile",headerName:"휴대폰 번호",width:136,editable:!0},{field:"email",headerName:"이메일",width:190,editable:!0},{field:"isSmsReceive",headerName:"SMS 수신",width:100,editable:!0,cellClassName:"wide-cell",renderCell:e=>cc({isOnlyRender:!0,options:pc,params:e,renderClassName:"true"==e.value.toString()?"text-progress":""}),renderEditCell:e=>cc({options:pc,params:e})},{field:"isEmailReceive",headerName:"이메일 수신",width:100,editable:!0,cellClassName:"wide-cell",renderCell:e=>cc({isOnlyRender:!0,options:pc,params:e,renderClassName:"true"==e.value.toString()?"text-progress":""}),renderEditCell:e=>cc({options:pc,params:e})}];var fc;function Cc(){return Cc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},Cc.apply(null,arguments)}var xc=function(e){return r.createElement("svg",Cc({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},e),fc||(fc=r.createElement("path",{fill:"currentColor",d:"m9.825 16.925-3.75-3.737a.24.24 0 0 1 0-.35l.78-.776c.1-.1.25-.1.35 0l2.86 2.85 6.73-6.837c.1-.1.25-.1.35 0l.78.777c.1.1.1.25 0 .349l-7.75 7.724c-.1.1-.25.1-.35 0"})))};var Nc=function(e){let{useFormContext:t,inputPlaceholder:a="아이디 입력",useCheckUserId:s,isOnlyNumberId:n=!1,detailData:o}=e;const{control:i,getValues:d,setValue:c,setError:p,clearErrors:h}=t,f=(0,$e.P9)(),{mutate:C,data:x,isSuccess:N,isError:y,error:E,isLoading:v,reset:A}=s(),g=d("userId"),T=(null==o?void 0:o.userId)&&(null==o?void 0:o.isUserIdVerified),I=()=>{C({loginId:g})};return(0,r.useEffect)((()=>{N&&(x.isExist?(c("isUserIdVerified",!1),p("userId",{type:"manual",message:"이미 등록된 아이디입니다."})):(c("isUserIdVerified",!0),h("userId")))}),[N,x,c,p,h]),(0,r.useEffect)((()=>{y&&(f({message:(null==E?void 0:E.message)||"아이디 확인 중 오류가 발생했습니다.",type:"caution"}),c("isUserIdVerified",!1),p("userId",{type:"manual",message:"아이디 확인 중 오류가 발생했습니다."}))}),[y,E,c,p]),(0,l.jsx)(Hr.xI,{name:"userId",control:i,render:e=>{let{field:t}=e;return(0,l.jsxs)("div",{className:"flex w-full items-center justify-between",children:[(0,l.jsx)(Tt.A,{autoComplete:"off",componentType:"input-table",placeholder:a,className:"flex-1",classNameInput:"!min-w-0",disabled:T,...t,value:t.value,onChange:e=>{n?t.onChange(e.target.value.replace(/[^0-9]/g,"")):t.onChange(e.target.value.replace(/[^a-zA-Z0-9]/g,"")),c("isUserIdVerified",!1),h("userId"),A()}}),!T&&(0,l.jsxs)("div",{className:"mr-[12px] flex items-center gap-[12px]",children:[d("isUserIdVerified")&&(0,l.jsxs)("div",{className:"text-success Caption1_B flex flex-none items-center",children:[(0,l.jsx)(xc,{className:"text-success h-[20px] w-[20px]"}),"사용 가능"]}),(0,l.jsx)(u.A,{className:"flex-none",size:m.M.Xsmall,level:m.V.level_5,label:"중복 확인",onClick:I,disabled:d("isUserIdVerified")||v})]})]})},"data-sentry-element":"Controller","data-sentry-component":"UserIdInput","data-sentry-source-file":"UserIdInput.tsx"})};var yc,Ec,vc=function(e){let{createCustomerUser:t,onClose:a,useCheckUserId:r}=e;var s,n,o,i,d;const c=(0,Hr.mN)({defaultValues:{customerId:0,isUsed:!0,isMain:!1,userId:"",name:"",telMobile:"",email:"",isSmsReceive:!1,isEmailReceive:!1,isUserIdVerified:!1},mode:"all",shouldUnregister:!0}),{control:u,formState:{isValid:m,errors:p},handleSubmit:h,reset:f,clearErrors:C,setValue:x,setError:N,register:y}=c,E=e=>{if(m||0===Object.keys(p).length){if(!e.isUserIdVerified)return void N("userId",{message:"아이디 중복 확인을 진행해 주세요"});t(e)}};return(0,l.jsx)(Pe.A,{title:"서브 계정 생성",modalWidth:448,modalContentHeight:235,confirmButtonLabel:"계정 생성",onClickConfirmButton:h(E),onClickCloseButton:()=>{f({customerId:0,isUsed:!0,isMain:!1,userId:"",name:"",telMobile:"",email:"",isSmsReceive:!1,isEmailReceive:!1,isUserIdVerified:!1}),C(),a()},"data-sentry-element":"TmsBasicModal","data-sentry-component":"CreateSubAccountModal","data-sentry-source-file":"CreateSubAccountModal.tsx",children:(0,l.jsx)("form",{autoComplete:"off",className:"flex flex-col",onSubmit:h(E),children:(0,l.jsxs)(Vn,{"data-sentry-element":"InfoTable","data-sentry-source-file":"CreateSubAccountModal.tsx",children:[(0,l.jsx)(Fn,{label:"아이디",required:!0,error:null===(s=p.userId)||void 0===s?void 0:s.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"CreateSubAccountModal.tsx",children:(0,l.jsx)(Nc,{useFormContext:{...c,isNew:!0},inputPlaceholder:"아이디 입력",useCheckUserId:r,"data-sentry-element":"UserIdInput","data-sentry-source-file":"CreateSubAccountModal.tsx"})}),(0,l.jsx)(Fn,{label:"계정 상태",required:!0,error:null===(n=p.isUsed)||void 0===n?void 0:n.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"CreateSubAccountModal.tsx",children:(0,l.jsx)(Hr.xI,{name:"isUsed",control:u,render:e=>{let{field:t}=e;return(0,l.jsx)(Un,{groupName:"isUsed",items:[{id:!0,label:"활성"},{id:!1,label:"비활성"}],value:t.value,onChange:e=>x("isUsed",e)})},"data-sentry-element":"Controller","data-sentry-source-file":"CreateSubAccountModal.tsx"})}),(0,l.jsx)(Fn,{label:"이름",required:!0,error:null===(o=p.name)||void 0===o?void 0:o.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"CreateSubAccountModal.tsx",children:(0,l.jsx)(Hr.xI,{name:"name",control:u,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{componentType:"input-table",placeholder:"이름 입력",className:"w-full",...t})},"data-sentry-element":"Controller","data-sentry-source-file":"CreateSubAccountModal.tsx"})}),(0,l.jsx)(Fn,{label:"휴대폰 번호",required:!0,error:null===(i=p.telMobile)||void 0===i?void 0:i.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"CreateSubAccountModal.tsx",children:(0,l.jsx)(Hr.xI,{name:"telMobile",control:u,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{componentType:"input-table",placeholder:"휴대폰 번호 입력",className:"w-full",...t,onChange:e=>{t.onChange((0,pe.Mc)(e.target.value))}})},"data-sentry-element":"Controller","data-sentry-source-file":"CreateSubAccountModal.tsx"})}),(0,l.jsx)(Fn,{label:"이메일",error:null===(d=p.email)||void 0===d?void 0:d.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"CreateSubAccountModal.tsx",children:(0,l.jsx)(Hr.xI,{name:"email",control:u,render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{componentType:"input-table",placeholder:"이메일 입력",className:"w-full",...t,...y("email",{validate:e=>""===e||(/^\w+([\\.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(e)||"올바른 이메일 주소를 입력해 주세요.")})})},"data-sentry-element":"Controller","data-sentry-source-file":"CreateSubAccountModal.tsx"})}),(0,l.jsx)(Fn,{label:"SMS 수신","data-sentry-element":"InfoTableItem","data-sentry-source-file":"CreateSubAccountModal.tsx",children:(0,l.jsx)(Hr.xI,{name:"isSmsReceive",control:u,render:e=>{let{field:t}=e;return(0,l.jsx)(Un,{groupName:"isSmsReceive",items:Wn.RECEIVE_TYPES,value:t.value,onChange:e=>x("isSmsReceive","true"===e)})},"data-sentry-element":"Controller","data-sentry-source-file":"CreateSubAccountModal.tsx"})}),(0,l.jsx)(Fn,{label:"이메일 수신","data-sentry-element":"InfoTableItem","data-sentry-source-file":"CreateSubAccountModal.tsx",children:(0,l.jsx)(Hr.xI,{name:"isEmailReceive",control:u,render:e=>{let{field:t}=e;return(0,l.jsx)(Un,{groupName:"isEmailReceive",items:Wn.RECEIVE_TYPES,value:t.value,onChange:e=>x("isEmailReceive","true"===e)})},"data-sentry-element":"Controller","data-sentry-source-file":"CreateSubAccountModal.tsx"})})]})})})};function Ac(){return Ac=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},Ac.apply(null,arguments)}var gc=function(e){return r.createElement("svg",Ac({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},e),r.createElement("mask",{id:"icon-autorenew_svg__a",width:24,height:24,x:0,y:0,maskUnits:"userSpaceOnUse",style:{maskType:"alpha"}},yc||(yc=r.createElement("path",{fill:"#D9D9D9",d:"M0 0h24v24H0z"}))),Ec||(Ec=r.createElement("g",{mask:"url(#icon-autorenew_svg__a)"},r.createElement("path",{fill:"currentColor",d:"M3.38 13c.12 0 .22.09.24.21.59 4.06 4.13 7.19 8.38 7.19 2.5 0 4.76-1.08 6.31-2.8h-2.06c-.14 0-.25-.11-.25-.25v-1.1c0-.14.11-.25.25-.25h4.5c.14 0 .25.11.25.25v4.5c0 .14-.11.25-.25.25h-1.04c-.14 0-.25-.11-.25-.25v-2.03A10.07 10.07 0 0 1 12 22c-5.13 0-9.37-3.81-10-8.72a.25.25 0 0 1 .25-.28zM12 2c5.13 0 9.37 3.8 10 8.71.02.15-.11.29-.26.29h-1.12c-.12 0-.22-.09-.24-.21C19.79 6.73 16.25 3.6 12 3.6a8.48 8.48 0 0 0-6.31 2.8h2.06c.14 0 .25.11.25.25v1.1c0 .14-.11.25-.25.25h-4.5C3.11 8 3 7.89 3 7.75v-4.5c0-.14.11-.25.25-.25h1.11c.14 0 .25.11.25.25v2.03C6.46 3.26 9.05 2 12 2"}))))};var Tc,Ic,bc=function(e){let{disabled:t,checkReset:a,passwordReset:r}=e;const s=v();return(0,l.jsx)(u.A,{label:"비밀번호 초기화",level:m.V.level_6,size:m.M.Small,leftIcon:(0,l.jsx)(gc,{width:16,height:16,className:C()({"text-grey90":t,"text-error":!t})}),disabled:t,onClick:()=>{a&&!a()||s({title:"비밀번호를 초기화하시겠어요?",confirmButtonLabel:"초기화 하기",onClickConfirmButton:()=>{r()},onClickCloseButton:()=>{}})},"data-sentry-element":"TmsBasicButton","data-sentry-component":"PasswordResetButton","data-sentry-source-file":"PasswordResetButton.tsx"})};function Rc(){return Rc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},Rc.apply(null,arguments)}var Sc=function(e){return r.createElement("svg",Rc({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20"},e),r.createElement("mask",{id:"icon-send_svg__a",width:20,height:20,x:0,y:0,maskUnits:"userSpaceOnUse",style:{maskType:"alpha"}},Tc||(Tc=r.createElement("path",{fill:"#D9D9D9",d:"M0 0h20v20H0z"}))),Ic||(Ic=r.createElement("g",{mask:"url(#icon-send_svg__a)"},r.createElement("path",{fill:"currentColor",d:"m19.034 9.8-17.9-7.283S1.075 2.5 1.05 2.5a.215.215 0 0 0-.217.217v14.575c0 .125.1.216.217.216.025 0 .059 0 .083-.016l17.9-7.284c.175-.075.175-.325 0-.391zM2.166 9.258 4.475 10l-2.308.742zm0 6.367V12.15l6.025-1.942c.183-.058.183-.341 0-.408L2.167 7.858V4.383l13.816 5.625z"}))))};var _c=function(e){let{onInvite:t}=e;return(0,l.jsx)(u.A,{label:"더운반 초대",level:m.V.level_5,size:m.M.Small,leftIcon:(0,l.jsx)(Sc,{className:"h-[16px] w-[16px]"}),onClick:t,"data-sentry-element":"TmsBasicButton","data-sentry-component":"InviteButton","data-sentry-source-file":"InviteButton.tsx"})};var wc=function(e){let{useSubAccountHandler:t,mainAccountId:a,passwordReset:s,isShowInviteButton:n=!1}=e;const o=(0,$e.P9)(),[i,d]=(0,r.useState)(!1),[p,h]=(0,r.useState)([]),{isListLoading:f,fetchSubAccountList:C,handleUpdateSubAccount:x,handleCreateSubAccount:N,useCheckUserId:y,onClickInviteButton:E,rows:v}=t(a,(()=>{C(),d(!1)})),[A,g]=r.useState({}),T=r.useCallback(((e,t)=>{e.isEditable&&(1!==t.target.nodeType||t.currentTarget.contains(t.target))&&g((t=>({...Object.keys(t).reduce(((e,a)=>({...e,[a]:Object.keys(t[a]).reduce(((e,t)=>({...e,[t]:{mode:D.bsB.View}})),{})})),{}),[e.id]:{...Object.keys(t[e.id]||{}).reduce(((e,t)=>({...e,[t]:{mode:D.bsB.View}})),{}),[e.field]:{mode:D.bsB.Edit}}})))}),[]),I=r.useCallback((e=>{g(e)}),[]);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(kn,{label:"서브 계정","data-sentry-element":"DetailSection","data-sentry-source-file":"SubAccount.tsx",children:[(0,l.jsx)("div",{className:"flex-none",children:(0,l.jsx)(bc,{disabled:0===(p||[]).length,checkReset:()=>!(p.length>1)||(o({message:"하나만 선택해 주세요."}),!1),passwordReset:()=>{s(p)},"data-sentry-element":"PasswordResetButton","data-sentry-source-file":"SubAccount.tsx"})}),n&&(0,l.jsxs)("div",{className:"flex flex-none items-center gap-[8px]",children:[(0,l.jsx)(_c,{onInvite:()=>{E&&E(p)}}),(0,l.jsx)("div",{className:"bg-grey90 h-[12px] w-[1px]"})]}),(0,l.jsx)(u.A,{className:"flex-none",label:"추가",level:m.V.level_4,size:m.M.Small,leftIcon:(0,l.jsx)(Jl,{width:16,height:16,className:"text-primary50"}),onClick:()=>d(!0),"data-sentry-element":"TmsBasicButton","data-sentry-source-file":"SubAccount.tsx"})]}),(0,l.jsx)("div",{className:"flex h-[300px]",children:(0,l.jsx)(Fe.A,{rows:v||[],columns:hc,columnVisibilityModel:uc,getRowId:e=>e.customerUserId||e.vendorUserId,checkboxSelection:!0,columnHeaderHeight:32,noRowDescription:{description_1:"조회된 서브 계정이 없습니다.",description_2:"“추가”를 눌러 계정을 추가해 주세요."},loading:f,onRowSelectionModelChange:e=>{h(e)},processRowUpdate:(e,t)=>(((e,t)=>{const a=!c().isEqual(e,t);e&&a&&(e.name?e.telMobile?x(e):o({message:"휴대폰 번호 입력해주세요",type:"caution"}):o({message:"이름을 입력해주세요",type:"caution"}))})(e,t),e),editMode:"cell",onCellModesModelChange:I,onCellClick:T,cellModesModel:A,"data-sentry-element":"TmsBasicDataGrid","data-sentry-source-file":"SubAccount.tsx"})}),i&&(0,l.jsx)(vc,{createCustomerUser:N,onClose:()=>d(!1),useCheckUserId:y})]})};const Oc=()=>(0,T.n)(["customerResetPassword"],(async e=>(await I.q.api((t=>t.ApiCustomerUserV1ResetPassword(e)))).data.result)),Mc=(e,t)=>({customerId:e,isUsed:t.isUsed,isMain:!1,loginId:t.userId,name:t.name,telMobile:t.telMobile,email:t.email,isSmsReceive:t.isSmsReceive,isEmailReceive:t.isEmailReceive});var Dc=(e,t)=>{const a=(0,$e.P9)(),l=v(),s=E(),{mutateAsync:n,isSuccess:o,isLoading:i,data:d}=(0,T.n)(["customerUserList"],(async e=>(await I.q.api((t=>t.ApiCustomerUserV1List(e)))).data.result)),{mutateAsync:u,isSuccess:m}=(0,T.n)(["updateCustomerUse"],(async e=>(await I.q.api((t=>t.ApiCustomerUserV1Update(e)))).data.result)),{mutateAsync:p,isSuccess:h,data:f}=(0,T.n)(["createCustomerUser"],(async e=>(await I.q.api((t=>t.ApiCustomerUserV1Create(e)))).data.result)),{mutateAsync:C,isSuccess:x,isError:N}=Vd(),y=async()=>{await n({customerId:e,isMain:!1})},A=(0,r.useMemo)((()=>c().debounce((e=>{u({customerUserId:e.customerUserId,isUsed:"true"===e.isUsed,name:e.name,telMobile:e.telMobile,email:e.email,isSmsReceive:"true"===e.isSmsReceive,isEmailReceive:"true"===e.isEmailReceive})}),500)),[]);return(0,r.useEffect)((()=>{e&&y()}),[e]),(0,r.useEffect)((()=>{m&&a({message:"서브계정 정보가 수정되었습니다."})}),[m]),(0,r.useEffect)((()=>{h&&f&&(a({message:"서브 계정이 생성되었습니다.",type:"success"}),t())}),[h,f]),(0,r.useEffect)((()=>{x&&a({message:"더운반 초대 링크가 발송되었습니다."})}),[x]),{isListLoading:i,fetchSubAccountList:y,handleUpdateSubAccount:A,handleCreateSubAccount:async t=>{await p(Mc(e,t))},useCheckUserId:Ud,onClickInviteButton:e=>{e.length?l({title:"더운반 초대 링크를 발송하시겠어요?",description:"더운반 화주 포털 링크가 알림톡으로 발송됩니다.",confirmButtonLabel:"확인",onClickConfirmButton:()=>{C({customerUserIdList:e})}}):s({title:"초대할 서브 계정을 선택해 주세요."})},rows:null==d?void 0:d.itemList}};var jc=function(e){var t,a,s,n,o,i,d,c,u;const{isShow:m=!1}=e,{detailData:p,control:h,formState:f,setValue:x}=Kd(),{mutateAsync:N,isSuccess:y}=Oc(),E=(0,$e.P9)(),v=(0,Hr.FH)({control:h,name:"isUserIdVerified"}),A=e=>{var t;N({customerUserId:(null==e?void 0:e.length)>0?Number(e[0]):null==p||null===(t=p.mainUserInfo)||void 0===t?void 0:t.customerUserId})};return(0,r.useEffect)((()=>{y&&E({message:"비밀번호가 초기화 되었습니다."})}),[y]),(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:C()("flex h-full flex-col gap-[20px] p-[24px]",{hidden:!m}),children:[(0,l.jsxs)("div",{children:[(0,l.jsx)(kn,{label:"메인 계정","data-sentry-element":"DetailSection","data-sentry-source-file":"DetailTabAccountInfo.tsx",children:(0,l.jsx)(bc,{passwordReset:A,disabled:!(null==p||null===(t=p.mainUserInfo)||void 0===t?void 0:t.customerUserId),"data-sentry-element":"PasswordResetButton","data-sentry-source-file":"DetailTabAccountInfo.tsx"})}),(0,l.jsxs)(Vn,{"data-sentry-element":"InfoTable","data-sentry-source-file":"DetailTabAccountInfo.tsx",children:[(0,l.jsx)(Fn,{label:"아이디",error:null===(a=f.errors.userId)||void 0===a?void 0:a.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabAccountInfo.tsx",children:(0,l.jsx)(Nc,{useFormContext:Kd(),useCheckUserId:Ud,detailData:p,"data-sentry-element":"UserIdInput","data-sentry-source-file":"DetailTabAccountInfo.tsx"})}),(0,l.jsx)(Fn,{label:"계정 상태",required:v,error:null===(s=f.errors.isUserUsed)||void 0===s?void 0:s.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabAccountInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"isUserUsed",control:h,rules:v?{required:Hn.required}:{},render:e=>{let{field:t}=e;return(0,l.jsx)(Un,{groupName:"isUserUsed",items:[{id:"true",label:"활성"},{id:"false",label:"비활성"}],...t})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabAccountInfo.tsx"},v?"verified":"not-verified")}),(0,l.jsx)(Fn,{label:"이름",required:v,error:null===(n=f.errors.userName)||void 0===n?void 0:n.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabAccountInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"userName",control:h,render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{componentType:"input-table",placeholder:"이름 입력",className:"w-full",...t})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabAccountInfo.tsx"})}),(0,l.jsx)(Fn,{label:"휴대폰 번호",required:v,error:null===(o=f.errors.telMobile)||void 0===o?void 0:o.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabAccountInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"telMobile",control:h,render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{componentType:"input-table",placeholder:"휴대폰 번호 입력",className:"w-full",...t,onChange:e=>{t.onChange((0,pe.Mc)(e.target.value))}})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabAccountInfo.tsx"})}),(0,l.jsx)(Fn,{label:"이메일",error:null===(i=f.errors.email)||void 0===i?void 0:i.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabAccountInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"email",control:h,rules:{pattern:Hn.email},render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{componentType:"input-table",placeholder:"이메일 입력",className:"w-full",...t})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabAccountInfo.tsx"})}),(0,l.jsx)(Fn,{label:"알림 채널",error:null===(d=f.errors.notiChannel)||void 0===d?void 0:d.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabAccountInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"notiChannel",control:h,render:e=>{let{field:t}=e;return(0,l.jsx)(dc,{groupName:"notiChannel",items:Wn.RECEIVER_TYPES,...t})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabAccountInfo.tsx"})}),(0,l.jsx)(Fn,{label:"광고성 정보 수신",error:null===(c=f.errors.isAdvertisementInformationAgree)||void 0===c?void 0:c.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabAccountInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"isAdvertisementInformationAgree",control:h,render:e=>{let{field:t}=e;return(0,l.jsx)(Un,{groupName:"isAdvertisementInformationAgree",items:[{id:"true",label:"동의"},{id:"false",label:"동의 안 함"}],value:t.value,onChange:e=>x("isAdvertisementInformationAgree",e)})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabAccountInfo.tsx"})}),(0,l.jsx)(Fn,{label:"마케팅 활용",error:null===(u=f.errors.isMarketingUtilizationAgree)||void 0===u?void 0:u.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabAccountInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"isMarketingUtilizationAgree",control:h,render:e=>{let{field:t}=e;return(0,l.jsx)(Un,{groupName:"isMarketingUtilizationAgree",items:[{id:"true",label:"동의"},{id:"false",label:"동의 안 함"}],value:t.value,onChange:e=>x("isMarketingUtilizationAgree",e)})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabAccountInfo.tsx"})})]})]}),(0,l.jsx)("div",{className:"flex grow-[1] flex-col pb-[24px]",children:(0,l.jsx)(wc,{mainAccountId:null==p?void 0:p.customerId,useSubAccountHandler:Dc,passwordReset:A,isShowInviteButton:!0,"data-sentry-element":"SubAccount","data-sentry-source-file":"DetailTabAccountInfo.tsx"})})]})})};var Pc=function(e){let{useDetailContext:t}=e;const a=(0,$e.P9)(),{isNew:s,control:n,getValues:o,setValue:i,setError:d,clearErrors:c}=t(),{mutate:p,isSuccess:h,isError:f,error:C,isLoading:x,reset:N}=(0,T.n)(["useVerifyBusinessNumber"],(async e=>(await I.q.api((t=>t.ApiCommonV1BusinessVerify(e)))).data.result)),y=o("registrationNumber"),E=()=>{y&&10===y.length?p({bno:y}):d("registrationNumber",{type:"manual",message:"10자리의 유효한 사업자 번호를 입력해주세요."})};return(0,r.useEffect)((()=>{h&&(i("isRegistrationNumberVerified",!0),c("registrationNumber"))}),[h,i,c]),(0,r.useEffect)((()=>{f&&(a({message:(null==C?void 0:C.message)||"등록할 수 없는 사업자 번호입니다.",type:"caution"}),i("isRegistrationNumberVerified",!1),d("registrationNumber",{type:"manual",message:"등록할 수 없는 사업자 번호입니다."}))}),[f,C,i,d]),(0,l.jsx)(Hr.xI,{name:"registrationNumber",control:n,rules:{required:Hn.required,pattern:Hn.businessNumber},render:e=>{let{field:t}=e;return(0,l.jsxs)("div",{className:"flex w-full items-center justify-between",children:[(0,l.jsx)(Tt.A,{disabled:!s,type:"text",autoComplete:"off",componentType:"input-table",placeholder:"사업자 번호 입력",maxLength:10,className:"flex-1",...t,onChange:e=>{const a=e.target.value.replace(/[^0-9]/g,"");t.onChange(a),i("isRegistrationNumberVerified",!1),c("registrationNumber"),N()},onBlur:e=>{const a=e.target.value.replace(/[^0-9]/g,"");t.onChange(a),t.onBlur()}}),s&&(0,l.jsxs)("div",{className:"mr-[12px] flex items-center gap-[12px]",children:[o("isRegistrationNumberVerified")&&(0,l.jsxs)("div",{className:"text-success Caption1_B flex flex-none items-center",children:[(0,l.jsx)(xc,{className:"text-success h-[20px] w-[20px]"}),"인증 완료"]}),(0,l.jsx)(u.A,{className:"flex-none",size:m.M.Xsmall,level:m.V.level_5,label:"인증",onClick:E,disabled:!s||o("isRegistrationNumberVerified")||x})]})]})},"data-sentry-element":"Controller","data-sentry-component":"RegistrationNumberInput","data-sentry-source-file":"RegistrationNumberInput.tsx"})};function Lc(){const{commonMetaV2List:e}=(0,Je.X)();return{activeDeptIds:e[Ze.k.COMMON_MDM_CORPORATION_CODE],customerTypes:e[Ze.k.CUSTOMER_TYPE],industries:e[Ze.k.INDUSTRY_CODE],paymentConditionOptions:e[Ze.k.COMMON_MDM_PAYMENT_CONDITION_PURCHASE_CODE],paymentConditionSalesOptions:e[Ze.k.COMMON_MDM_PAYMENT_CONDITION_SALES_CODE],businessGroups:e[Ze.k.COMMON_MDM_CORPORATION_CODE],costCenters:e[Ze.k.COMMON_MDM_COST_CENTER_SALES_CODE],purchaseCostCenters:e[Ze.k.COMMON_MDM_COST_CENTER_PURCHASE_CODE],salesVatType:e[Ze.k.SALES_VAT_TYPE],purchaseVatType:e[Ze.k.PURCHASE_VAT_TYPE],vendorFiType:e[Ze.k.VENDOR_FI_TYPE],customerFiType:e[Ze.k.CUSTOMER_FI_TYPE],sizeTypes:e[Ze.k.BUSINESS_SIZE_TYPE],businessTypes:e[Ze.k.BUSINESS_TYPE]}}var Bc=a(29219);var Uc=e=>{let{className:t="",required:a,label:r="",selectedOptionId:s,onChangeSelectedOption:n}=e;const{mdmAdminOptions:o}=(0,Bc.a)();return(0,l.jsx)(He.A,{autocompleteBoxClassName:"w-full",componentType:"autocomplete-table",required:a,label:r,autocompleteClassName:t,options:o,selectedId:s,onChange:(e,t)=>n(t),firstOptionType:null,placeholder:"".concat(r," 입력"),"data-sentry-element":"TmsBasicAutocomplete","data-sentry-component":"MdmAdminUserAutocomplete","data-sentry-source-file":"MdmAdminUserAutocomplete.tsx"})};var Vc,Fc,Gc=function(e){var t,a,s,n,o,i,d,c,u,m,p,h,f,x,N,y;const{isShow:E=!1}=e,{isNew:v,control:A,formState:g,setValue:T,clearErrors:I}=Kd(),b=Lc(),R=(0,Hr.FH)({control:A,name:"businessType"});return(0,r.useEffect)((()=>{v&&("CORPORATE"===R?T("corporationNumber",""):(I("corporationNumber"),T("corporationNumber","1111111111111")))}),[R]),(0,l.jsxs)("div",{className:C()("flex flex-col gap-[20px] p-[24px]",{hidden:!E}),"data-sentry-component":"DetailTabBasicInfo","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:[(0,l.jsxs)(Vn,{"data-sentry-element":"InfoTable","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:[(0,l.jsx)(Fn,{label:"사업자 번호",required:!0,error:null===(t=g.errors.registrationNumber)||void 0===t?void 0:t.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:(0,l.jsx)(Pc,{useDetailContext:Kd,"data-sentry-element":"RegistrationNumberInput","data-sentry-source-file":"DetailTabBasicInfo.tsx"})}),(0,l.jsx)(Fn,{label:"사업자 종류",required:!0,error:null===(a=g.errors.businessType)||void 0===a?void 0:a.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"businessType",control:A,rules:{required:Hn.required},render:e=>{let{field:t}=e;return v?(0,l.jsx)(Un,{groupName:"businessType",items:b.businessTypes,...t}):(0,l.jsx)(Tt.A,{className:"w-full",componentType:"input-table",disabled:!0,value:null===(r=b.businessTypes)||void 0===r||null===(a=r.find((e=>e.id===t.value)))||void 0===a?void 0:a.label});var a,r},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabBasicInfo.tsx"})}),(0,l.jsx)(Fn,{label:"사업자명(법인명)",required:!0,error:null===(s=g.errors.name)||void 0===s?void 0:s.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"name",control:A,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{componentType:"input-table",autoComplete:"off",placeholder:"사업자명 입력",className:"w-full",...t})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabBasicInfo.tsx"})}),(0,l.jsx)(Fn,{label:"사업자명(약어)",error:null===(n=g.errors.nameSimplified)||void 0===n?void 0:n.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"nameSimplified",control:A,render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{autoComplete:"off",componentType:"input-table",placeholder:"사업자명(약어) 입력",className:"w-full",...t})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabBasicInfo.tsx"})}),(0,l.jsx)(Fn,{label:"대표자명",required:!0,error:null===(o=g.errors.representativeName)||void 0===o?void 0:o.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"representativeName",control:A,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{autoComplete:"off",componentType:"input-table",placeholder:"대표자명 입력",className:"w-full",...t})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabBasicInfo.tsx"})}),(0,l.jsx)(Fn,{label:"법인등록번호",required:!0,error:null===(i=g.errors.corporationNumber)||void 0===i?void 0:i.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"corporationNumber",control:A,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{type:"text",autoComplete:"off",componentType:"input-table",placeholder:"법인등록번호 입력",className:"w-full",maxLength:13,disabled:"CORPORATE"!==R,...t,onChange:e=>{const a=e.target.value.replace(/[^0-9]/g,"");t.onChange(a)},onBlur:e=>{const a=e.target.value.replace(/[^0-9]/g,"");t.onChange(a),t.onBlur()}})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabBasicInfo.tsx"})}),(0,l.jsx)(Fn,{label:"사업장 주소",required:!0,error:null===(d=g.errors.addressInfo)||void 0===d?void 0:d.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"addressInfo",control:A,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(qn,{placeholder:"사업장 주소 입력",...t,optionsBoxWidth:400})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabBasicInfo.tsx"})}),(0,l.jsx)(Fn,{label:"상세 주소",error:null===(c=g.errors.addressDetail)||void 0===c?void 0:c.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"addressDetail",control:A,render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{autoComplete:"off",componentType:"input-table",placeholder:"사업장 상세 주소 입력",className:"w-full",...t})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabBasicInfo.tsx"})}),(0,l.jsx)(Fn,{label:"업태",required:!0,error:null===(u=g.errors.condition)||void 0===u?void 0:u.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"condition",control:A,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{autoComplete:"off",componentType:"input-table",placeholder:"업태 입력",className:"w-full",...t})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabBasicInfo.tsx"})}),(0,l.jsx)(Fn,{label:"업종",required:!0,error:null===(m=g.errors.category)||void 0===m?void 0:m.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"category",control:A,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{autoComplete:"off",componentType:"input-table",placeholder:"업종 입력",className:"w-full",...t})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabBasicInfo.tsx"})}),(0,l.jsx)(Fn,{label:"사업자 유형",required:!0,error:null===(p=g.errors.sizeType)||void 0===p?void 0:p.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"sizeType",control:A,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(He.A,{options:b.sizeTypes,selectedId:t.value,componentType:"autocomplete-table",placeholder:"사업자 유형 선택",autocompleteBoxClassName:"w-full",onChange:(e,a)=>t.onChange(a.id)})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabBasicInfo.tsx"})}),(0,l.jsx)(Fn,{label:"인사조직",required:!0,error:null===(h=g.errors.mdmCorporationCode)||void 0===h?void 0:h.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"mdmCorporationCode",control:A,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(He.A,{options:b.activeDeptIds,selectedId:t.value,componentType:"autocomplete-table",placeholder:"인사조직 선택",autocompleteBoxClassName:"w-full",onChange:(e,a)=>t.onChange(a.id)})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabBasicInfo.tsx"})}),(0,l.jsx)(Fn,{label:"코스트 센터",required:!0,error:null===(f=g.errors.mdmCostCenterCode)||void 0===f?void 0:f.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"mdmCostCenterCode",control:A,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(He.A,{options:b.costCenters,selectedId:t.value,componentType:"autocomplete-table",placeholder:"코스트 센터 선택",autocompleteBoxClassName:"w-full",onChange:(e,a)=>t.onChange(a.id)})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabBasicInfo.tsx"})}),(0,l.jsx)(Fn,{label:"영업 담당자",required:!0,error:null===(x=g.errors.salesMdmAdminEmpNo)||void 0===x?void 0:x.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"salesMdmAdminEmpNo",control:A,rules:{required:Hn.required},render:e=>{let{field:t}=e;var a;return(0,l.jsx)(Uc,{onChangeSelectedOption:e=>{t.onChange(e.id)},selectedOptionId:null===(a=t.value)||void 0===a?void 0:a.toString()})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabBasicInfo.tsx"})})]}),(0,l.jsxs)(Vn,{"data-sentry-element":"InfoTable","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:[(0,l.jsx)(Fn,{label:"과세 유형",required:!0,error:null===(N=g.errors.customerFiType)||void 0===N?void 0:N.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"customerFiType",control:A,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(He.A,{options:b.customerFiType,selectedId:t.value,componentType:"autocomplete-table",placeholder:"과세 유형 선택",autocompleteBoxClassName:"w-full",onChange:(e,a)=>t.onChange(a.id)})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabBasicInfo.tsx"})}),(0,l.jsx)(Fn,{label:"수금 조건",required:!0,error:null===(y=g.errors.mdmPaymentConditionCode)||void 0===y?void 0:y.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"mdmPaymentConditionCode",control:A,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(He.A,{disabled:!v,options:b.paymentConditionSalesOptions,selectedId:t.value,componentType:"autocomplete-table",placeholder:"수금 조건 선택",autocompleteBoxClassName:"w-full",onChange:(e,a)=>t.onChange(a.id)})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabBasicInfo.tsx"})})]})]})};function kc(){return kc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},kc.apply(null,arguments)}var Yc,qc=function(e){return r.createElement("svg",kc({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none"},e),r.createElement("mask",{id:"icon-attach-file_svg__a",width:16,height:16,x:0,y:0,maskUnits:"userSpaceOnUse",style:{maskType:"alpha"}},Vc||(Vc=r.createElement("path",{fill:"#D9D9D9",d:"M0 0h16v16H0z"}))),Fc||(Fc=r.createElement("g",{mask:"url(#icon-attach-file_svg__a)"},r.createElement("path",{fill:"#287EFF",d:"M11.78 10.43q0 1.624-1.13 2.763-1.13 1.14-2.75 1.14-1.622 0-2.755-1.14T4.012 10.43V4.436q0-1.154.801-1.962a2.65 2.65 0 0 1 1.955-.807q1.155 0 1.955.807.802.809.802 1.962v5.673q0 .676-.472 1.156-.471.479-1.15.479-.677 0-1.156-.476a1.57 1.57 0 0 1-.479-1.159V4.257h1v5.852a.62.62 0 0 0 .628.635.619.619 0 0 0 .628-.635V4.43a1.76 1.76 0 0 0-.512-1.25 1.67 1.67 0 0 0-1.244-.512q-.737 0-1.247.515-.51.516-.51 1.254v5.994a2.77 2.77 0 0 0 .837 2.056 2.8 2.8 0 0 0 2.054.847q1.191 0 2.025-.847t.854-2.056V4.257h1z"}))))};function Wc(){return Wc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},Wc.apply(null,arguments)}var Hc=function(e){return r.createElement("svg",Wc({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},e),Yc||(Yc=r.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M11.825 2.075c.1-.1.26-.1.36 0h-.01l6.75 6.718c.1.1.1.26 0 .36l-.77.77c-.1.1-.26.1-.36 0l-4.99-4.969V17.75c0 .14-.11.25-.25.25h-1.1c-.14 0-.25-.11-.25-.25V4.954l-5 4.969c-.1.1-.26.1-.36 0l-.77-.77c-.1-.1-.1-.26 0-.36zM3.25 19.4h17.5a.25.25 0 0 1 .25.25v1.1a.25.25 0 0 1-.25.25H3.25a.25.25 0 0 1-.25-.25v-1.1a.25.25 0 0 1 .25-.25",clipRule:"evenodd"})))};var Kc=(0,r.forwardRef)((function(e,t){let{file:a,onFileChange:s,isReset:n=!1,accept:o=["image/jpeg","image/png","application/pdf"],className:i="",error:d=!1,maxFileSizeMB:c=5,onError:p,refType:h=R.kLk.ETC,refKey:f="",fileType:C=R.PgO.ETC}=e;const x=(0,$e.P9)(),N=(0,r.useRef)(null),[y,E]=(0,r.useState)(!1);(0,r.useImperativeHandle)(t,(()=>N.current),[]);const v=Array.isArray(o)?o.join(","):o||void 0,A=async e=>{try{const{name:t}=e,a=await(e=>new Promise(((t,a)=>{const l=new FileReader;l.readAsDataURL(e),l.onload=()=>{var e;return t((null===(e=l.result)||void 0===e?void 0:e.toString())||"")},l.onerror=e=>a(e)})))(e),l={originalFileName:t,fileData:a,refType:h,refKey:f,fileType:C},r=await(async e=>(await I.q.api((t=>t.ApiCommonV1ImageUpload(e)))).data.result)(l);s&&s(r)}catch(e){const a=e;var t;x({message:null!==(t=null==a?void 0:a.message)&&void 0!==t?t:"업로드 오류가 발생했습니다.",type:"caution"}),s&&s(null)}},g=async e=>{const t=e[0];t&&(e=>{const t=1024*c*1024;if(e.size>t){const t="파일 크기가 ".concat(c,"MB를 초과합니다. (현재 크기: ").concat((e.size/1048576).toFixed(2),"MB)");return x({message:t,type:"caution"}),p&&p(t),!1}return!0})(t)&&A(t)},T=()=>{s&&s(null)},b=d?"bg-red98 border-error":"border-warmGrey70 bg-warmGrey98";var S;return(0,r.useEffect)((()=>{n&&T()}),[n]),(0,l.jsx)("div",{className:i,children:a?(0,l.jsxs)("div",{className:"bg-warmGrey98 border-warmGrey90 flex flex-row items-center justify-between gap-[12px] rounded-[6px] border-[1px] px-[16px] py-[20px]",children:[(0,l.jsx)(u.A,{label:null!==(S=null==a?void 0:a.originalFileName)&&void 0!==S?S:"파일명",level:m.V.level_6,size:m.M.Small,type:"button",leftIcon:(0,l.jsx)(qc,{width:16,height:16}),className:"!text-blue50 underline",onClick:()=>window.open(null==a?void 0:a.signedUrl)}),(0,l.jsx)(u.A,{label:"삭제",type:"button",level:m.V.level_6,size:m.M.Small,leftIcon:(0,l.jsx)(Br.A,{width:16,height:16,className:"text-red50"}),className:"!text-red50 !hover:bg-transparent",onClick:T})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("input",{type:"file",ref:N,hidden:!0,accept:v,onChange:e=>{e.target.files&&g(e.target.files),e.target.value=""}}),(0,l.jsx)("div",{onClick:()=>{var e;return null===(e=N.current)||void 0===e?void 0:e.click()},onDrop:e=>{e.preventDefault(),E(!1),e.dataTransfer.files.length>0&&(g(e.dataTransfer.files),e.dataTransfer.clearData())},onDragOver:e=>{e.preventDefault(),E(!0)},onDragLeave:e=>{e.preventDefault(),E(!1)},children:(0,l.jsx)("button",{className:"w-full",type:"button",title:"업로드","aria-label":"업로드",children:(0,l.jsxs)("div",{className:"text-warmGrey50 flex flex-row items-center justify-center gap-1 rounded-[8px] border-[1px] border-dashed p-[24px] ".concat(b),children:[(0,l.jsx)(Hc,{className:"h-[20px] w-[20px]"}),(0,l.jsx)("span",{className:"Body5_B",children:"이미지 선택 또는 끌어놓기"})]})})})]})})}));const zc=e=>{let{number:t}=e;return(0,l.jsx)("div",{className:"border-grey80 text-grey40 Caption2_B flex h-[18px] w-[18px] items-center justify-center rounded-full border bg-white","data-sentry-component":"ButtonNumber","data-sentry-source-file":"EEvidenceButtons.tsx",children:t})};var Xc=function(e){let{onClickUpload:t,isChangedFile:a,detailData:s,setIsChangedFile:n,isUploadLoading:o,isUploadSuccess:i,useDetailContext:d}=e;const c=(0,$e.P9)(),{setIsClickedEEConfirmButton:p}=d(),[h,f]=(0,r.useState)({isUploadStepActive:a,isConfirmStepActive:!1});return(0,r.useEffect)((()=>{f(a?e=>({...e,isUploadStepActive:!0}):{isUploadStepActive:!1,isConfirmStepActive:!1})}),[a]),(0,r.useEffect)((()=>{i&&c({message:"e증빙 업로드 요청했습니다."})}),[i]),(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"bg-grey98 px-[16px] py-[12px]",children:[(0,l.jsx)("p",{className:"Body4_EX text-grey40",children:"제출 서류 업로드 시 확인해 주세요."}),(0,l.jsxs)("ul",{className:"mt-[8px]",children:[(0,l.jsxs)("li",{className:"flex items-center gap-[8px]",children:[(0,l.jsx)("div",{className:"bg-grey90 Caption2_B text-grey40 h-[14px] w-[14px] rounded-[4px] text-center",children:"1"}),(0,l.jsxs)("div",{className:"Body5_M text-grey40",children:["서류 업로드 후 ",(0,l.jsx)("span",{className:"underline",children:"저장"})," 버튼을 눌러 주세요."]})]}),(0,l.jsxs)("li",{className:"flex items-center gap-[8px]",children:[(0,l.jsx)("div",{className:"bg-grey90 Caption2_B text-grey40 h-[14px] w-[14px] rounded-[4px] text-center",children:"2"}),(0,l.jsxs)("div",{className:"Body5_M text-grey40 flex items-center gap-[2px]",children:[(0,l.jsx)(zc,{number:1,"data-sentry-element":"ButtonNumber","data-sentry-source-file":"EEvidenceButtons.tsx"})," ",(0,l.jsx)(zc,{number:2,"data-sentry-element":"ButtonNumber","data-sentry-source-file":"EEvidenceButtons.tsx"}),"번 버튼을 차례대로 눌러주세요."]})]}),(0,l.jsxs)("li",{className:"flex items-center gap-[8px]",children:[(0,l.jsx)("div",{className:"bg-grey90 Caption2_B text-grey40 h-[14px] w-[14px] rounded-[4px] text-center",children:"3"}),(0,l.jsxs)("div",{className:"Body5_M text-grey40",children:[(0,l.jsx)("span",{className:"underline",children:"MDM 상신/갱신"})," 버튼을 눌러 주세요."]})]})]})]}),(0,l.jsxs)("div",{className:"mt-[8px] flex gap-[8px]",children:[(0,l.jsx)("div",{className:C()("flex-1",{"border-primary90 rounded-[6px] border-[2px]":h.isUploadStepActive}),children:(0,l.jsx)(u.A,{className:C()("w-full",{"!border-primary70":h.isUploadStepActive}),label:"e증빙 업로드",level:m.V.level_5,size:m.M.Small,leftIcon:(0,l.jsx)(zc,{number:1}),onClick:()=>{f({isUploadStepActive:!1,isConfirmStepActive:!0}),n(!1),t()},disabled:o,"data-sentry-element":"TmsBasicButton","data-sentry-source-file":"EEvidenceButtons.tsx"})}),(0,l.jsx)("div",{className:C()("flex-1",{"border-primary90 rounded-[6px] border-[2px]":h.isConfirmStepActive}),children:(0,l.jsx)(u.A,{className:C()("w-full",{"!border-primary70":h.isConfirmStepActive}),label:"e증빙 확인",level:m.V.level_5,size:m.M.Small,leftIcon:(0,l.jsx)(zc,{number:2}),onClick:()=>{p(!0),f({isUploadStepActive:!1,isConfirmStepActive:!1}),window.open(s.eevidenceCheckUrl,"_blank")},"data-sentry-element":"TmsBasicButton","data-sentry-source-file":"EEvidenceButtons.tsx"})})]})]})})};var Qc=function(e){const{isShow:t=!1}=e,{isNew:a,control:r,formState:s,detailData:n,isChangedFile:o,setIsChangedFile:i}=Kd(),{mutateAsync:d,isSuccess:c,isLoading:u}=(0,T.n)(["requestEdmsUpload"],(async e=>(await I.q.api((t=>t.ApiCustomerV1OwnerEdmsUpload(e)))).data.result));return(0,l.jsxs)("div",{className:C()("flex flex-col gap-[20px] p-[24px]",{hidden:!t}),"data-sentry-component":"DetailTabDocumentsInfo","data-sentry-source-file":"DetailTabDocumentsInfo.tsx",children:[!a&&(0,l.jsx)(Xc,{onClickUpload:()=>{d({customerId:null==n?void 0:n.customerId})},isChangedFile:o,detailData:n,setIsChangedFile:i,isUploadLoading:u,isUploadSuccess:c,useDetailContext:Kd}),(0,l.jsxs)("div",{children:[(0,l.jsx)(kn,{label:"사업자 등록증",required:!a,"data-sentry-element":"DetailSection","data-sentry-source-file":"DetailTabDocumentsInfo.tsx"}),(0,l.jsx)(Hr.xI,{name:"businessLicense",control:r,render:e=>{let{field:t}=e;var r,o;return(0,l.jsx)(Kc,{file:t.value,refType:R.kLk.CUSTOMER,refKey:a?null:null==n||null===(r=n.customerId)||void 0===r?void 0:r.toString(),fileType:R.PgO.BUSINESS_LICENSE,...t,error:!!(null===(o=s.errors.businessLicense)||void 0===o?void 0:o.message),onFileChange:e=>{t.onChange(e)}})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabDocumentsInfo.tsx"},"businessLicense".concat(a))]})]})};var Zc=function(e){let{control:t,isShowDescription:a=!0}=e;var s,n;const{commonServiceInfoOption:o}=(0,Je.X)(),i=(0,Hr.FH)({control:t,name:"serviceCode"}),[d,c]=(0,r.useState)(null===(n=o.find((e=>e.id===i)))||void 0===n||null===(s=n.children)||void 0===s?void 0:s.map((e=>({id:e.mdmCode,label:e.value}))));return(0,r.useEffect)((()=>{var e,t;c(null===(t=o.find((e=>e.id===i)))||void 0===t||null===(e=t.children)||void 0===e?void 0:e.map((e=>({id:e.mdmCode,label:e.value}))))}),[i]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(Fn,{label:"서비스","data-sentry-element":"InfoTableItem","data-sentry-source-file":"ServiceDropDown.tsx",children:(0,l.jsx)(Hr.xI,{name:"serviceCode",control:t,render:e=>{let{field:t}=e;return(0,l.jsx)(He.A,{options:o,selectedId:t.value||"",componentType:"autocomplete-table",placeholder:"서비스 선택",autocompleteBoxClassName:"w-full",onChange:(e,a)=>t.onChange(a.id)})},"data-sentry-element":"Controller","data-sentry-source-file":"ServiceDropDown.tsx"})}),(0,l.jsx)(Fn,{label:"서비스(2)","data-sentry-element":"InfoTableItem","data-sentry-source-file":"ServiceDropDown.tsx",children:(0,l.jsx)(Hr.xI,{name:"serviceCode2",control:t,render:e=>{let{field:t}=e;return(0,l.jsx)(He.A,{options:d,selectedId:t.value,componentType:"autocomplete-table",placeholder:"서비스(2) 선택",autocompleteBoxClassName:"w-full",onChange:(e,a)=>t.onChange(a.id)})},"data-sentry-element":"Controller","data-sentry-source-file":"ServiceDropDown.tsx"})}),a&&(0,l.jsx)(ac,{type:"warn",className:"mt-[8px]",children:"P&D 고객일 경우 서비스(2)는 입력하면 안됩니다."})]})};var Jc=function(e){var t,a,s,n,o,i;const{isShow:d=!1}=e,{control:c,formState:u}=Kd(),m=Lc(),{mutateAsync:p,data:h}=(0,T.n)(["useGetGroupList"],(async e=>(await I.q.api((t=>t.ApiCustomerGroupV1List(e)))).data.result));return(0,r.useEffect)((()=>{p({})}),[]),(0,l.jsxs)("div",{className:C()("flex flex-col gap-[20px] p-[24px]",{hidden:!d}),"data-sentry-component":"DetailTabMoreInfo","data-sentry-source-file":"DetailTabMoreInfo.tsx",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)(kn,{label:"사업자 정보","data-sentry-element":"DetailSection","data-sentry-source-file":"DetailTabMoreInfo.tsx"}),(0,l.jsxs)(Vn,{"data-sentry-element":"InfoTable","data-sentry-source-file":"DetailTabMoreInfo.tsx",children:[(0,l.jsx)(Fn,{label:"담당자명",error:null===(t=u.errors.managerName)||void 0===t?void 0:t.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabMoreInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"managerName",control:c,render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{componentType:"input-table",placeholder:"담당자명 입력",className:"w-full",...t})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabMoreInfo.tsx"})}),(0,l.jsx)(Fn,{label:"담당자 연락처",error:null===(a=u.errors.managerPhoneNumber)||void 0===a?void 0:a.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabMoreInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"managerPhoneNumber",control:c,render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{componentType:"input-table",placeholder:"연락처 입력",className:"w-full",...t,onChange:e=>{t.onChange((0,pe.Mc)(e.target.value))}})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabMoreInfo.tsx"})}),(0,l.jsx)(Fn,{label:"담당자 이메일",error:null===(s=u.errors.managerEmail)||void 0===s?void 0:s.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabMoreInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"managerEmail",control:c,rules:{pattern:Hn.email},render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{componentType:"input-table",placeholder:"이메일 입력",className:"w-full",...t})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabMoreInfo.tsx"})}),(0,l.jsx)(Fn,{label:"사업자 그룹",error:null===(n=u.errors.customerGroupId)||void 0===n?void 0:n.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabMoreInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"customerGroupId",control:c,render:e=>{let{field:t}=e;var a;return(0,l.jsx)(He.A,{options:((null==h?void 0:h.itemList)||[]).map((e=>({id:e.customerGroupId,label:e.name}))),selectedId:null===(a=t.value)||void 0===a?void 0:a.toString(),componentType:"autocomplete-table",placeholder:"사업자 그룹 선택",autocompleteBoxClassName:"w-full",onChange:(e,a)=>t.onChange(a.id)})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabMoreInfo.tsx"})}),(0,l.jsx)(Fn,{label:"거래 상태","data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabMoreInfo.tsx",children:"정상"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(kn,{label:"정산 정보","data-sentry-element":"DetailSection","data-sentry-source-file":"DetailTabMoreInfo.tsx"}),(0,l.jsxs)(Vn,{"data-sentry-element":"InfoTable","data-sentry-source-file":"DetailTabMoreInfo.tsx",children:[(0,l.jsx)(Fn,{label:"등급",error:null===(o=u.errors.gradeType)||void 0===o?void 0:o.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabMoreInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"gradeType",control:c,render:e=>{let{field:t}=e;return(0,l.jsx)(He.A,{options:[{id:"A",label:"A"},{id:"B",label:"B"},{id:"C",label:"C"}],selectedId:t.value,componentType:"autocomplete-table",placeholder:"등급 선택",autocompleteBoxClassName:"w-full",onChange:(e,a)=>t.onChange(a.id)})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabMoreInfo.tsx"})}),(0,l.jsx)(Fn,{label:"부가세 코드",error:null===(i=u.errors.salesVatType)||void 0===i?void 0:i.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabMoreInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"salesVatType",control:c,render:e=>{let{field:t}=e;return(0,l.jsx)(He.A,{options:m.salesVatType,selectedId:t.value,componentType:"autocomplete-table",placeholder:"부가세 코드 선택",autocompleteBoxClassName:"w-full",onChange:(e,a)=>t.onChange(a.id)})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabMoreInfo.tsx"})}),(0,l.jsx)(Fn,{label:"사업","data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabMoreInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"industryCode",control:c,render:e=>{let{field:t}=e;return(0,l.jsx)(He.A,{options:m.industries,selectedId:t.value,componentType:"autocomplete-table",placeholder:"사업 선택",autocompleteBoxClassName:"w-full",onChange:(e,a)=>t.onChange(a.id)})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabMoreInfo.tsx"})}),(0,l.jsx)(Zc,{control:c,"data-sentry-element":"ServiceDropDown","data-sentry-source-file":"DetailTabMoreInfo.tsx"})]})]})]})};const $c=[{id:"basicInfo",label:"기본 정보"},{id:"moreInfo",label:"상세 정보"},{id:"documentsInfo",label:"제출 서류"},{id:"accountInfo",label:"계정 정보"}],eu=[{id:"basicInfo",label:"기본 정보"},{id:"documentsInfo",label:"제출 서류"}];var tu=function(e){let{isNew:t=!1,detailData:a,onRegisterComplete:s,isChangedFile:n,setIsChangedFile:o}=e;const[i,d]=(0,r.useState)(eu[0]),c=!!(null==a?void 0:a.mdmCode),u=(0,r.useMemo)((()=>t?eu:c?$c:$c.filter((e=>"accountInfo"!==e.id))),[a,t]);return(0,r.useEffect)((()=>{d(eu[0])}),[t,u]),(0,l.jsx)("div",{className:"flex flex-col","data-sentry-component":"Detail","data-sentry-source-file":"index.tsx",children:(0,l.jsxs)(Hd,{isNew:t,detailData:a,onRegisterComplete:s,isChangedFile:n,setIsChangedFile:o,"data-sentry-element":"DetailProvider","data-sentry-source-file":"index.tsx",children:[(0,l.jsx)(ic,{detailData:a,tabItems:u,selectedTabId:i.id,onChangeTab:e=>{d(e)},onChangeFileTab:()=>{d({id:"documentsInfo",label:"제출 서류"})},"data-sentry-element":"DetailTop","data-sentry-source-file":"index.tsx"}),(0,l.jsxs)("div",{className:"h-[calc(100vh-350px)] overflow-y-auto",children:[t&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(Gc,{isShow:"basicInfo"===i.id}),(0,l.jsx)(Qc,{isShow:"documentsInfo"===i.id})]}),!t&&!c&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(Gc,{isShow:"basicInfo"===i.id}),(0,l.jsx)(Jc,{isShow:"moreInfo"===i.id}),(0,l.jsx)(Qc,{isShow:"documentsInfo"===i.id})]}),!t&&c&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(Gc,{isShow:"basicInfo"===i.id}),(0,l.jsx)(Jc,{isShow:"moreInfo"===i.id}),(0,l.jsx)(Qc,{isShow:"documentsInfo"===i.id}),(0,l.jsx)(jc,{isShow:"accountInfo"===i.id})]})]})]})})};const au=[{field:"__check__",headerName:"",width:50,sortable:!1,disableColumnMenu:!0,align:"right",headerClassName:"check-right-align"},{field:"id",headerName:"No.",sortable:!1,width:76,minWidth:76,maxWidth:76,align:"right"},{field:"mdmCorporationCode",headerName:"인사조직",width:152,valueFormatter:e=>Je.X.getState().getMetaLabel(Ze.k.COMMON_MDM_CORPORATION_CODE,e)},{field:"mdmCode",headerName:"MDM 코드",width:152,align:"center",valueFormatter:e=>e},{field:"mdmStatus",headerName:"MDM 상태",width:152,align:"center",cellClassName:"flex h-full w-full items-center justify-center",renderCell:e=>(0,l.jsx)(rc.Ay.MdmStatusTag,{status:e.row.mdmStatusType})},{field:"name",headerName:"사업자명",minWidth:310,flex:1},{field:"businessType",headerName:"사업자 종류",width:152,align:"center",cellClassName:"flex h-full w-full items-center justify-center",renderCell:e=>(0,l.jsx)(rc.Ay.BusinessType,{businessType:e.row.businessType})},{field:"registrationNumber",headerName:"사업자 번호",width:152,align:"center",valueFormatter:e=>e.replace(/^(\d{3})(\d{2})(\d{5})$/,"$1-$2-$3")},{field:"isSettleable",headerName:"사용 여부",width:74,align:"center",cellClassName:"flex h-full w-full items-center justify-center",renderCell:e=>(0,l.jsx)(rc.Ay.RoundTag,{text:e.value?"Y":"N"})},{field:"businessGroupId",headerName:"사업자 그룹",width:152,valueFormatter:e=>e}];var lu;function ru(){return ru=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},ru.apply(null,arguments)}var su=function(e){return r.createElement("svg",ru({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 16 16"},e),lu||(lu=r.createElement("g",{mask:"url(#icon-keyboard-double-arrow-right_svg__mask0_11074_98229)"},r.createElement("path",{fill:"currentColor",d:"M6.704 8 3.647 4.933l.703-.703L8.12 8l-3.77 3.769-.703-.703zm4.233 0L7.881 4.933l.702-.703L12.353 8l-3.77 3.769-.702-.703z"}))))};function nu(e){let{leftSidePanel:t,rightSidePanel:a,isOpenRightPanel:s,rightPanelWidth:n,onClickCloseButton:o}=e;const[i,d]=(0,r.useState)(!1),c=(0,r.useRef)(null);return(0,r.useEffect)((()=>{s!==i&&d(s)}),[s]),(0,r.useEffect)((()=>{var e,t;const a=null===(e=c.current)||void 0===e?void 0:e.querySelector(".MuiDataGrid-root"),l=null===(t=c.current)||void 0===t?void 0:t.querySelector(".filterContainer"),r="calc(100vw - ".concat(i?n+70:70,"px)");if(null==a?void 0:a.parentElement){a.parentElement.style.width=r}l&&(l.style.width=r)}),[i]),(0,l.jsx)("div",{className:"h-full","data-sentry-component":"TmsBasicSlidePanel","data-sentry-source-file":"TmsBasicSlidePanel.tsx",children:(0,l.jsxs)(x.SB3,{sx:{display:"flex",height:"100%"},"data-sentry-element":"BasicBox","data-sentry-source-file":"TmsBasicSlidePanel.tsx",children:[(0,l.jsx)("main",{ref:c,className:C()("relative z-[1] flex-grow transition-[margin] duration-300 ease-in-out",{["mr-[-".concat(n,"px] duration-200 ease-in")]:!i,"mr-0 duration-300 ease-out":i}),style:{marginRight:i?"0px":"-".concat(n,"px")},children:t}),(0,l.jsxs)(x.wRj,{sx:{width:n,flexShrink:0,position:"relative","& .MuiDrawer-paper":{width:n,borderLeft:"2px solid #A9CBFF"}},variant:"persistent",anchor:"right",open:i,"data-sentry-element":"BasicDrawer","data-sentry-source-file":"TmsBasicSlidePanel.tsx",children:[(0,l.jsx)("button",{className:C()("bg-grey95 border-grey80 fixed top-[16px] h-[28px] w-[28px] rounded-[8px] border p-[6px]"),style:{right:n-16},onClick:()=>{d(!1),o&&o()},children:(0,l.jsx)(su,{className:"h-[16px] w-[16px] text-black","data-sentry-element":"IconDoubleArrow","data-sentry-source-file":"TmsBasicSlidePanel.tsx"})}),s&&a]})]})})}var ou=function(e){let{isActive:t,isRegister:a}=e;const s=(0,$e.P9)(),n=(0,r.useRef)(null),o=(0,D.bBi)(),i=v(),d=E(),c=(0,r.useRef)(!0),[u,m]=(0,r.useState)(null),[p,h]=(0,r.useState)(!1),[f,C]=(0,r.useState)({}),[x,N]=(0,r.useState)(0),[y,A]=(0,r.useState)(!1),{data:g,mutateAsync:b,isSuccess:R}=(0,T.n)(["memberManager/useOwnerExcelDownloadMutation"],(async e=>(await I.q.api((t=>t.ApiCustomerV1OwnerListExcel(e,{format:"blob"})))).data)),{mutateAsync:S,isSuccess:_}=Vd();(0,r.useEffect)((()=>{pe.sV.on(fd,(()=>{h(!0)}))}),[]),(0,r.useEffect)((()=>{t&&c.current&&w(f)}),[t]);const w=async e=>{try{var t;const a=await(async e=>{const t=await I.q.api((t=>t.ApiCustomerV1OwnerList(wd(e))));var a;return Md(null!==(a=t.data.result.itemList)&&void 0!==a?a:[])})(e);if(null===(t=n.current)||void 0===t||t.setInitData(a),c.current&&a.length){const e=a[0].customerId;await O({customerId:e}),c.current=!1}}catch(e){s({message:e.message,type:"caution"})}},O=async e=>{N((e=>e+1));try{const t=await(async e=>{const t=await I.q.api((t=>t.ApiCustomerV1OwnerDetail(e)));return Dd(t.data.result)})(e);t.customerId!==(null==u?void 0:u.customerId)&&A(!1),m(t)}catch(e){s({message:e.message,type:"caution"})}},M=e=>{h(!1),O({customerId:e}),pe.sV.emit(vd)};return(0,r.useEffect)((()=>{_&&s({message:"더운반 초대 링크가 발송되었습니다."})}),[_]),(0,l.jsx)(nu,{isOpenRightPanel:a||u,rightPanelWidth:448,onClickCloseButton:()=>{a&&pe.sV.emit(vd),u&&m(null)},leftSidePanel:(0,l.jsx)("section",{className:"flex h-full w-full flex-col",children:(0,l.jsxs)("div",{className:"filterContainer",children:[(0,l.jsx)(Ve.A.Provider,{params:f,setParams:C,onSearch:async e=>{w(e)},children:e=>(0,l.jsxs)(xt.A,{containerClassName:"max-w-[1265px]",children:[(0,l.jsxs)(Ct.A,{children:[(0,l.jsx)(Ve.A.AllMetaAutocompleteSearch,{label:"인사조직",allMetaType:Ze.k.COMMON_MDM_CORPORATION_CODE,className:"!w-[175px]"}),(0,l.jsx)(Ve.A.SearchText,{label:"담당자",placeholder:"담당자명 입력",fieldName:"managerName",className:"w-[175px]"})]}),(0,l.jsx)(Ct.A,{children:(0,l.jsx)(Ve.A.SearchText,{label:"MDM 코드",placeholder:"MDM 코드 입력",fieldName:"mdmCode",className:"w-[163px]"})}),(0,l.jsx)(Ct.A,{children:(0,l.jsx)(Ve.A.MdmStatus,{autocompleteClassName:"!w-[140px]"})}),(0,l.jsx)(Ct.A,{children:(0,l.jsx)(Ve.A.SearchText,{label:"사업자명",placeholder:"사업자명 입력",fieldName:"businessName",className:"w-[163px]"})}),(0,l.jsx)(Ct.A,{children:(0,l.jsx)(Ve.A.SearchText,{label:"사업자 번호",placeholder:"사업자 번호 입력",fieldName:"registrationNumber",className:"w-[163px]"})})]})}),(0,l.jsxs)("div",{className:"w-full",children:[(0,l.jsx)("div",{className:"h-[calc(100vh-376px)]",children:(0,l.jsx)(Fa.A,{ref:n,gridApiRef:o,columns:au,checkboxSelection:!0,disableColumnMenu:!0,initialState:{pinnedColumns:{left:["__check__","id"]}},onRowDoubleClick:e=>{p?i({title:"작성 중인 정보가 있습니다.",description:"화면을 나가면 작성된 정보가 삭제됩니다.",confirmButtonLabel:"나가기",onClickConfirmButton:()=>M(e.row.customerId)}):M(e.row.customerId)}})}),(0,l.jsxs)("div",{className:"footer-area flex h-[60px] justify-end gap-[8px] px-[40px] py-[16px]",children:[(0,l.jsx)(_c,{onInvite:()=>{const e=Array.from(o.current.getSelectedRows().values());e.length?i({title:"더운반 초대 링크를 발송하시겠어요?",description:"더운반 화주 포털 링크가 알림톡으로 발송됩니다.",confirmButtonLabel:"확인",onClickConfirmButton:()=>{S({customerUserIdList:e.map((e=>e.mainUserCustomerUserId))})}}):d({title:"초대할 화주를 선택해 주세요."})}}),(0,l.jsx)(We,{excelFileName:"회원관리_화주(13코드)",isSuccessExcel:R,excelData:g,handleExcelDownload:()=>b(Od(f))})]})]})]})}),rightSidePanel:(0,l.jsx)(tu,{isNew:p,detailData:u,onRegisterComplete:e=>{h(!1),w(f),O({customerId:e}),pe.sV.emit(vd)},isChangedFile:y,setIsChangedFile:A},x),"data-sentry-element":"TmsBasicSlidePanel","data-sentry-component":"OwnerManager","data-sentry-source-file":"OwnerManager.tsx"})};const iu=()=>(0,T.n)(["useCreatePartnerTen"],(async e=>(await I.q.api((t=>t.ApiVendorV1NormalPartnerCreate(e)))).data.result)),du=()=>(0,T.n)(["useUpdatePartnerTen"],(async e=>(await I.q.api((t=>t.ApiVendorV1NormalPartnerUpdate(e)))).data.result)),cu={toListRequest:e=>({mdmCorporationCode:e.commonMdmCorporationCode||null,mdmCode:e.mdmCode,mdmStatusType:"ALL"!==e.mdmStatus&&e.mdmStatus?e.mdmStatus:null,name:e.businessName,registrationNumber:e.registrationNumber}),toDetailResult:e=>{var t,a,l,r,s,n,o,i,d,c,u,m,p;return{...e,address:(null===(t=e.addressInfo)||void 0===t?void 0:t.address1)||null,addressDetail:(null===(a=e.addressInfo)||void 0===a?void 0:a.detailAddress)||null,isUserIdVerified:!!(null===(l=e.mainUserInfo)||void 0===l?void 0:l.loginId),userId:(null===(r=e.mainUserInfo)||void 0===r?void 0:r.loginId)||"c".concat(null==e?void 0:e.registrationNumber),isUserUsed:(null===(n=e.mainUserInfo)||void 0===n||null===(s=n.isUsed)||void 0===s?void 0:s.toString())||"true",userName:(null===(o=e.mainUserInfo)||void 0===o?void 0:o.name)||"",telMobile:(null===(i=e.mainUserInfo)||void 0===i?void 0:i.telMobile)||"",email:(null===(d=e.mainUserInfo)||void 0===d?void 0:d.email)||"",notiChannel:bd(e.mainUserInfo),isAdvertisementInformationAgree:null===(u=e.mainUserInfo)||void 0===u||null===(c=u.isAdvertisementInformationAgree)||void 0===c?void 0:c.toString(),isMarketingUtilizationAgree:null===(p=e.mainUserInfo)||void 0===p||null===(m=p.isMarketingUtilizationAgree)||void 0===m?void 0:m.toString()}},toRegistrationRequest:e=>({commonMdmVendorId:e.commonMdmVendorId,mdmCorporationCode:e.mdmCorporationCode||null,isMdmSync:e.isMdmSync,industryCode:e.industryCode||null,serviceCode:e.serviceCode||null,serviceCode2:e.serviceCode2||null}),toUpdateRequest:e=>({vendorId:e.vendorId,mdmCorporationCode:e.mdmCorporationCode||null,isMdmSync:e.isMdmSync,industryCode:e.industryCode||null,serviceCode:e.serviceCode||null,serviceCode2:e.serviceCode2||null,mainUserInfo:e.mdmCode&&e.isUserIdVerified?{isUsed:"true"===e.isUserUsed,loginId:e.userId.toString(),name:e.userName,telMobile:e.telMobile,email:e.email,isSmsReceive:Rd(e.notiChannel),isEmailReceive:Sd(e.notiChannel),isAdvertisementInformationAgree:"true"===e.isAdvertisementInformationAgree,isMarketingUtilizationAgree:"true"===e.isMarketingUtilizationAgree}:void 0}),toCreateSubAccountRequest:(e,t)=>({vendorId:e,isUsed:t.isUsed,isMain:!1,loginId:t.userId,name:t.name,telMobile:t.telMobile,email:t.email,isSmsReceive:t.isSmsReceive,isEmailReceive:t.isEmailReceive})},uu=(0,r.createContext)(null);function mu(e){let{isNew:t,children:a,detailData:s,onRegisterComplete:n,isChangedFile:o,setIsChangedFile:d}=e;const{setIsLoading:c}=(0,i.o)(),u=(0,$e.P9)(),m=(0,ya.c5)(),[p,h]=(0,r.useState)(!1),{mutateAsync:f,isSuccess:C,isError:x,error:N,isLoading:y,data:E}=iu(),{mutateAsync:v,isSuccess:A,isError:g,error:T}=du(),{control:I,formState:b,getValues:R,getFieldState:S,handleSubmit:_,reset:w,clearErrors:O,setValue:M,setError:D,trigger:j}=(0,Hr.mN)({defaultValues:Gd(),mode:"onChange",shouldUnregister:!0}),{isValid:P,errors:L}=b;(0,r.useEffect)((()=>{t&&w(Gd(),{keepDefaultValues:!1})}),[t]),(0,r.useEffect)((()=>{s&&w(s,{keepDefaultValues:!1}),d(!1)}),[s]);return(0,r.useEffect)((()=>{C&&E&&(u({message:"파트너 회원이 등록되었습니다.",type:"success"}),n(E.vendorId))}),[C]),(0,r.useEffect)((()=>{x&&N&&u({message:N.message,type:"caution"})}),[x]),(0,r.useEffect)((()=>{A&&(u({message:"파트너 회원이 수정되었습니다.",type:"success"}),n(s.vendorId))}),[A]),(0,r.useEffect)((()=>{g&&T&&(u({message:T.message,type:"caution"}),d(!1))}),[g]),(0,r.useEffect)((()=>{c(y)}),[y]),(0,l.jsx)(uu.Provider,{value:{isNew:t,detailData:s,control:I,formState:b,getValues:R,getFieldState:S,setValue:M,setError:D,clearErrors:O,isChangedFile:o,setIsChangedFile:d,trigger:j,isClickedEEConfirmButton:p,setIsClickedEEConfirmButton:h,onRegisterComplete:n},"data-sentry-element":"DetailContext.Provider","data-sentry-component":"DetailProvider","data-sentry-source-file":"DetailProvider.tsx",children:(0,l.jsx)("form",{autoComplete:"off",className:"flex h-full flex-col",onSubmit:_((async e=>{if(P||0===Object.keys(L).length)try{if(t)O(),await f(cu.toRegistrationRequest(e));else{if(!e.isUserIdVerified&&(e.userName||e.telMobile))return u({message:"아이디 중복 확인이 필요합니다"}),void D("userId",{message:"아이디 중복 확인이 필요합니다"});if(e.isUserIdVerified&&!e.userName)return u({message:"이름을 입력해 주세요"}),void D("userName",{message:"이름을 입력해 주세요"});if(e.isUserIdVerified&&!e.telMobile)return u({message:"휴대폰 번호를 입력해 주세요"}),void D("telMobile",{message:"휴대폰 번호를 입력해 주세요"});await v(cu.toUpdateRequest(e))}}catch(e){m({title:e.message})}else m({title:"회원을 등록할 수 없습니다.",description:"필수 정보를 입력 후, 다시 시도해 주세요."})}),(()=>{m({title:"회원을 등록할 수 없습니다.",description:"필수 정보를 입력 후, 다시 시도해 주세요."})})),onKeyDown:e=>{"Enter"===e.key&&e.target instanceof HTMLInputElement&&e.preventDefault()},children:a})})}function pu(){return(0,r.useContext)(uu)}var hu=function(e){let{detailData:t,tabItems:a,selectedTabId:s,onChangeTab:n,onChangeFileTab:o}=e;const{isNew:d}=pu(),{getOperationIsActive:c}=(0,i.o)(),[u]=(0,r.useState)(c(gd.MEMBER_MANAGEMENT_PARTNER_10,Ad.UPDATE));return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:"bg-blue98 border-b-blue95 flex flex-col gap-[16px] border-b-[1px] px-[24px] py-[16px]",children:[(0,l.jsxs)("div",{className:"flex w-full flex-row items-center justify-between",children:[(0,l.jsx)("div",{className:"flex flex-row items-center gap-[4px]",children:(0,l.jsx)(ac,{type:"info","data-sentry-element":"Notification","data-sentry-source-file":"DetailTop.tsx",children:"‘인사조직’을 설정해야 화주 회원으로 등록됩니다."})}),d?(0,l.jsx)(ui,{type:"submit",label:"회원 등록"}):u&&(0,l.jsx)(_t.A,{type:"submit"})]}),d?(0,l.jsx)("div",{className:"flex flex-row items-center gap-[8px]",children:(0,l.jsx)(oc,{gradient:!0,children:"새 회원 등록하기"})}):(0,l.jsxs)("div",{className:"Body5_B flex flex-row items-center gap-[8px]",children:[(0,l.jsx)(oc,{children:null==t?void 0:t.name}),(0,l.jsx)(sc,{status:null==t?void 0:t.mdmStatusType,code:null==t?void 0:t.mdmCode})]}),!d&&(0,l.jsx)(nc,{items:a,selectedId:s,onChange:n})]})})};const fu={toListRequest:e=>({mdmCorporationCode:e.commonMdmCorporationCode||null,mdmCode:e.mdmCode,mdmStatusType:"ALL"!==e.mdmStatus&&e.mdmStatus?e.mdmStatus:null,name:e.businessName,registrationNumber:e.registrationNumber,managerName:e.managerName}),toExcelDownRequest:e=>({mdmCorporationCode:e.commonMdmCorporationCode,mdmCode:e.mdmCode,mdmStatusType:"ALL"===e.mdmStatus?null:e.mdmStatus,name:e.businessName,registrationNumber:e.registrationNumber,managerName:e.managerName}),toListResult:e=>e.map(((e,t)=>({...e,id:t+1}))),getFileOfType:(e,t)=>e.find((e=>{let{fileType:a}=e;return a===t}))||null,toDetailResult:e=>{var t,a,l,r,s,n,o,i,d,c,u,m;return{...e,addressDetail:null===(t=e.addressInfo)||void 0===t?void 0:t.detailAddress,businessLicenseFile:fu.getFileOfType(e.registrationFileInfoList,R.PgO.BUSINESS_LICENSE),bankBookFile:fu.getFileOfType(e.registrationFileInfoList,R.PgO.COPY_OF_BANKBOOK),cargoTransportLicenseFile:fu.getFileOfType(e.registrationFileInfoList,R.PgO.CARGO_TRANSPORT_BUSINESS_LICENSE),driverLicenseFile:fu.getFileOfType(e.registrationFileInfoList,R.PgO.DRIVER_LICENSE),paymentGuaranteeFile:fu.getFileOfType(e.registrationFileInfoList,R.PgO.PAYMENT_GUARANTEE_INSURANCE),isUserIdVerified:!!(null===(a=e.mainUserInfo)||void 0===a?void 0:a.loginId),userId:(null===(l=e.mainUserInfo)||void 0===l?void 0:l.loginId)||"c".concat(null==e?void 0:e.registrationNumber),isUserUsed:(null===(s=e.mainUserInfo)||void 0===s||null===(r=s.isUsed)||void 0===r?void 0:r.toString())||"true",userName:null===(n=e.mainUserInfo)||void 0===n?void 0:n.name,telMobile:null===(o=e.mainUserInfo)||void 0===o?void 0:o.telMobile,email:null===(i=e.mainUserInfo)||void 0===i?void 0:i.email,notiChannel:bd(e.mainUserInfo),isAdvertisementInformationAgree:null===(c=e.mainUserInfo)||void 0===c||null===(d=c.isAdvertisementInformationAgree)||void 0===d?void 0:d.toString(),isMarketingUtilizationAgree:null===(m=e.mainUserInfo)||void 0===m||null===(u=m.isMarketingUtilizationAgree)||void 0===u?void 0:u.toString(),managerName:e.managerName||"",managerPhoneNumber:e.managerPhoneNumber||"",managerEmail:e.managerEmail||""}},toRegistrationRequest:e=>{var t,a,l,r,s,n,o,i,d,c;const u=(null===(t=e.businessLicenseFile)||void 0===t?void 0:t.attachFileId)||(null===(a=e.bankBookFile)||void 0===a?void 0:a.attachFileId)||(null===(l=e.cargoTransportLicenseFile)||void 0===l?void 0:l.attachFileId)||(null===(r=e.driverLicenseFile)||void 0===r?void 0:r.attachFileId)||(null===(s=e.paymentGuaranteeFile)||void 0===s?void 0:s.attachFileId);return{...e,attachFileIdList:u?[null===(n=e.businessLicenseFile)||void 0===n?void 0:n.attachFileId,null===(o=e.bankBookFile)||void 0===o?void 0:o.attachFileId,null===(i=e.cargoTransportLicenseFile)||void 0===i?void 0:i.attachFileId,null===(d=e.driverLicenseFile)||void 0===d?void 0:d.attachFileId,null===(c=e.paymentGuaranteeFile)||void 0===c?void 0:c.attachFileId]:void 0,addressInfo:{...e.addressInfo,detailAddress:e.addressDetail},businessType:R.y7m[e.businessType],sizeType:R.Bgv[e.sizeType],vendorFiType:e.vendorFiType,mdmPaymentConditionCode:e.mdmPaymentConditionCode}},toUpdateRequest:e=>{var t,a,l,r,s;return{...e,vendorId:e.vendorId,gradeType:R.q1C[e.gradeType],attachFileIdList:[null===(t=e.businessLicenseFile)||void 0===t?void 0:t.attachFileId,null===(a=e.bankBookFile)||void 0===a?void 0:a.attachFileId,null===(l=e.cargoTransportLicenseFile)||void 0===l?void 0:l.attachFileId,null===(r=e.driverLicenseFile)||void 0===r?void 0:r.attachFileId,null===(s=e.paymentGuaranteeFile)||void 0===s?void 0:s.attachFileId],addressInfo:{...e.addressInfo,detailAddress:e.addressDetail},sizeType:R.Y13[e.sizeType],vendorFiType:e.vendorFiType,purchaseVatType:R.Zhc[e.purchaseVatType],mainUserInfo:e.mdmCode&&e.isUserIdVerified?{isUsed:"true"===e.isUserUsed,loginId:e.userId.toString(),name:e.userName,telMobile:e.telMobile,email:e.email,isSmsReceive:Rd(e.notiChannel),isEmailReceive:Sd(e.notiChannel),isAdvertisementInformationAgree:"true"===e.isAdvertisementInformationAgree,isMarketingUtilizationAgree:"true"===e.isMarketingUtilizationAgree}:void 0}},toCreateSubAccountRequest:(e,t)=>({vendorId:e,isUsed:t.isUsed,isMain:!1,loginId:t.userId,name:t.name,telMobile:t.telMobile,email:t.email,isSmsReceive:t.isSmsReceive,isEmailReceive:t.isEmailReceive})},Cu=()=>(0,T.n)(["createTransportPartner"],(async e=>(await I.q.api((t=>t.ApiVendorV1PartnerCreate(e)))).data.result)),xu=()=>(0,T.n)(["updateTransportPartner"],(async e=>(await I.q.api((t=>t.ApiVendorV1PartnerUpdate(e)))).data.result)),Nu=()=>(0,T.n)(["transportPartnerResetPassword"],(async e=>(await I.q.api((t=>t.ApiVendorUserV1ResetPassword(e)))).data.result)),yu=()=>(0,T.n)(["transportPartnerIdCheck"],(async e=>(await I.q.api((t=>t.ApiVendorUserV1CheckExistsLoginId(e)))).data.result)),Eu=()=>(0,T.n)(["useTransportPartnerVehicleList"],(async e=>(await I.q.api((t=>t.ApiVendorVehicleV1ManagementList(e)))).data.result)),vu=()=>(0,T.n)(["useTransportPartnerDriverList"],(async e=>(await I.q.api((t=>t.ApiVendorVehicleV1ManagementDriverList(e)))).data.result)),Au=()=>(0,T.n)(["useInvitePartner"],(async e=>(await I.q.api((t=>t.ApiVendorUserV1Invite(e)))).data.result));var gu=(e,t)=>{const a=(0,$e.P9)(),l=v(),s=E(),{mutateAsync:n,isSuccess:o,isLoading:i,data:d}=(0,T.n)(["transportPartnerSubAccountList"],(async e=>(await I.q.api((t=>t.ApiVendorUserV1List(e)))).data.result)),{mutateAsync:u,isSuccess:m}=(0,T.n)(["transportPartnerSubAccountUpdate"],(async e=>(await I.q.api((t=>t.ApiVendorUserV1Update(e)))).data.result)),{mutateAsync:p,isSuccess:h,data:f}=(0,T.n)(["transportPartnerSubAccountCreate"],(async e=>(await I.q.api((t=>t.ApiVendorUserV1Create(e)))).data.result)),{mutateAsync:C,isSuccess:x}=Au(),N=async()=>{await n({vendorId:e,isMain:!1})},y=(0,r.useMemo)((()=>c().debounce((e=>{u({vendorUserId:e.vendorUserId,isUsed:"true"===e.isUsed,name:e.name,telMobile:e.telMobile,email:e.email,isSmsReceive:"true"===e.isSmsReceive,isEmailReceive:"true"===e.isEmailReceive})}),500)),[]);return(0,r.useEffect)((()=>{e&&N()}),[e]),(0,r.useEffect)((()=>{m&&a({message:"서브계정 정보가 수정되었습니다."})}),[m]),(0,r.useEffect)((()=>{h&&f&&(a({message:"서브 계정이 생성되었습니다.",type:"success"}),t())}),[h,f]),(0,r.useEffect)((()=>{x&&a({message:"더운반 초대 링크가 발송되었습니다."})}),[x]),{isListLoading:i,fetchSubAccountList:N,handleUpdateSubAccount:y,handleCreateSubAccount:async t=>{await p(fu.toCreateSubAccountRequest(e,t))},useCheckUserId:yu,onClickInviteButton:e=>{e.length?l({title:"더운반 초대 링크를 발송하시겠어요?",description:"더운반 파트너 포털 링크가 알림톡으로 발송됩니다.",confirmButtonLabel:"확인",onClickConfirmButton:()=>{C({vendorUserIdList:e})}}):s({title:"초대할 서브 계정을 선택해 주세요."})},rows:null==d?void 0:d.itemList}};var Tu=function(e){var t,a,s,n,o,i,d,c;const{isShow:u=!1}=e,{detailData:m,control:p,formState:h,setValue:f}=pu(),{mutateAsync:x,isSuccess:N}=Nu(),y=(0,$e.P9)(),E=(0,Hr.FH)({control:p,name:"isUserIdVerified"}),v=()=>{x({vendorUserId:null==m?void 0:m.mainUserInfo.vendorUserId})};return(0,r.useEffect)((()=>{N&&y({message:"비밀번호가 초기화 되었습니다."})}),[N]),(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:C()("flex h-full flex-col gap-[20px] p-[24px]",{hidden:!u}),children:[(0,l.jsxs)("div",{children:[(0,l.jsx)(kn,{label:"메인 계정","data-sentry-element":"DetailSection","data-sentry-source-file":"DetailTabAccountInfo.tsx",children:(0,l.jsx)(bc,{passwordReset:v,disabled:!(null==m?void 0:m.mainUserInfo.vendorUserId),"data-sentry-element":"PasswordResetButton","data-sentry-source-file":"DetailTabAccountInfo.tsx"})}),(0,l.jsxs)(Vn,{"data-sentry-element":"InfoTable","data-sentry-source-file":"DetailTabAccountInfo.tsx",children:[(0,l.jsx)(Fn,{label:"아이디",error:null===(t=h.errors.userId)||void 0===t?void 0:t.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabAccountInfo.tsx",children:(0,l.jsx)(Nc,{useFormContext:pu(),useCheckUserId:yu,detailData:m,"data-sentry-element":"UserIdInput","data-sentry-source-file":"DetailTabAccountInfo.tsx"})}),(0,l.jsx)(Fn,{label:"계정 상태",required:E,error:null===(a=h.errors.isUserUsed)||void 0===a?void 0:a.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabAccountInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"isUserUsed",control:p,rules:E?{required:Hn.required}:{},render:e=>{let{field:t}=e;return(0,l.jsx)(Un,{groupName:"isUserUsed",items:[{id:"true",label:"활성"},{id:"false",label:"비활성"}],...t})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabAccountInfo.tsx"},E?"verified":"not-verified")}),(0,l.jsx)(Fn,{label:"이름",required:E,error:null===(s=h.errors.userName)||void 0===s?void 0:s.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabAccountInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"userName",control:p,render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{componentType:"input-table",placeholder:"이름 입력",className:"w-full",...t})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabAccountInfo.tsx"})}),(0,l.jsx)(Fn,{label:"휴대폰 번호",required:E,error:null===(n=h.errors.telMobile)||void 0===n?void 0:n.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabAccountInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"telMobile",control:p,render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{componentType:"input-table",placeholder:"휴대폰 번호 입력",className:"w-full",...t,onChange:e=>{t.onChange((0,pe.Mc)(e.target.value))}})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabAccountInfo.tsx"})}),(0,l.jsx)(Fn,{label:"이메일",error:null===(o=h.errors.email)||void 0===o?void 0:o.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabAccountInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"email",control:p,rules:{pattern:Hn.email},render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{componentType:"input-table",placeholder:"이메일 입력",className:"w-full",...t})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabAccountInfo.tsx"})}),(0,l.jsx)(Fn,{label:"알림 채널",error:null===(i=h.errors.notiChannel)||void 0===i?void 0:i.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabAccountInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"notiChannel",control:p,render:e=>{let{field:t}=e;return(0,l.jsx)(dc,{groupName:"notiChannel",items:Wn.RECEIVER_TYPES,...t})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabAccountInfo.tsx"})}),(0,l.jsx)(Fn,{label:"광고성 정보 수신",error:null===(d=h.errors.isAdvertisementInformationAgree)||void 0===d?void 0:d.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabAccountInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"isAdvertisementInformationAgree",control:p,render:e=>{let{field:t}=e;return(0,l.jsx)(Un,{groupName:"isAdvertisementInformationAgree",items:[{id:"true",label:"동의"},{id:"false",label:"동의 안 함"}],value:t.value,onChange:e=>f("isAdvertisementInformationAgree",e)})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabAccountInfo.tsx"})}),(0,l.jsx)(Fn,{label:"마케팅 활용",error:null===(c=h.errors.isMarketingUtilizationAgree)||void 0===c?void 0:c.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabAccountInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"isMarketingUtilizationAgree",control:p,render:e=>{let{field:t}=e;return(0,l.jsx)(Un,{groupName:"isMarketingUtilizationAgree",items:[{id:"true",label:"동의"},{id:"false",label:"동의 안 함"}],value:t.value,onChange:e=>f("isMarketingUtilizationAgree",e)})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabAccountInfo.tsx"})})]})]}),(0,l.jsx)("div",{className:"flex grow-[1] flex-col",children:(0,l.jsx)(wc,{mainAccountId:null==m?void 0:m.vendorId,useSubAccountHandler:gu,passwordReset:v,"data-sentry-element":"SubAccount","data-sentry-source-file":"DetailTabAccountInfo.tsx"})})]})})};const Iu=g()((()=>a.e(624).then(a.bind(a,18624))),{loadableGenerated:{webpack:()=>[18624]},ssr:!1});var bu=function(e){let{value:t="",disabled:a,setSelectItem:s,customerType:n}=e;const[o,i]=(0,r.useState)(""),[d,c]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{i(t)}),[t]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(Tt.A,{className:"w-full",componentType:"input-table",value:o,placeholder:"사업자명 입력",disabled:a,onKeyDown:e=>{"Enter"===e.key&&c(!0)},onChange:e=>{i(e.target.value)},rightIcon:a?(0,l.jsx)(l.Fragment,{}):(0,l.jsx)(se.A,{width:20,height:20,className:"cursor-pointer",onClick:()=>c(!0)}),"data-sentry-element":"TmsBasicInput","data-sentry-source-file":"PartnerNameInputWithModal.tsx"}),d&&(0,l.jsx)(Iu,{value:o,onSelected:e=>s(e.row),onClose:()=>c(!1),customerType:n})]})};var Ru=function(e){var t,a;const{isShow:s=!1}=e,{isNew:n,control:o,formState:i,setValue:d}=pu(),c=Lc(),u=(0,Hr.FH)({control:o,name:"isSettleable"}),{replace:m}=(0,Hr.jz)({control:o,name:"mdmPaymentConditionCodeList"});return(0,r.useEffect)((()=>{n&&m([""])}),[n]),(0,l.jsx)("div",{className:C()("flex flex-col gap-[20px] p-[24px]",{hidden:!s}),"data-sentry-component":"DetailTabBasicInfo","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:(0,l.jsxs)(Vn,{"data-sentry-element":"InfoTable","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:[(0,l.jsx)(Fn,{label:"사업자명(법인명)",required:!0,error:null===(t=i.errors.name)||void 0===t?void 0:t.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"name",control:o,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(bu,{value:t.value,disabled:!n,customerType:R.R7H.NORMAL_PARTNER,setSelectItem:e=>{d("name",e.name),d("registrationNumber",e.registrationNumber),d("representativeName",e.representativeName),d("nameSimplified",e.nameSimplified),d("address","".concat(e.addressInfo.address1||""," ").concat(e.addressInfo.address2||"")),d("addressDetail",e.addressInfo.detailAddress),d("condition",e.condition),d("category",e.category),d("memberCode",e.memberCode),d("managerName",e.managerName),d("commonMdmVendorId",e.commonMdmVendorId),d("isSettleable",e.isSettleable)}})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabBasicInfo.tsx"})}),(0,l.jsx)(Fn,{label:"인사조직",required:!0,error:null===(a=i.errors.mdmCorporationCode)||void 0===a?void 0:a.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"mdmCorporationCode",control:o,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(He.A,{options:c.activeDeptIds,selectedId:t.value,componentType:"autocomplete-table",placeholder:"인사조직 선택",autocompleteBoxClassName:"w-full",onChange:(e,a)=>t.onChange(a.id)})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabBasicInfo.tsx"})}),(0,l.jsx)(Fn,{label:"사업자 번호","data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"registrationNumber",control:o,disabled:!0,render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{disabled:!n,autoComplete:"new-password",componentType:"input-table",className:"w-full",...t})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabBasicInfo.tsx"})}),(0,l.jsx)(Fn,{label:"사업자명(약어)","data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"nameSimplified",control:o,disabled:!0,render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{autoComplete:"new-password",componentType:"input-table",className:"w-full",...t})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabBasicInfo.tsx"})}),(0,l.jsx)(Fn,{label:"대표자명","data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"representativeName",control:o,disabled:!0,render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{autoComplete:"new-password",componentType:"input-table",className:"w-full",...t})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabBasicInfo.tsx"})}),(0,l.jsx)(Fn,{label:"사업장 주소","data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"address",control:o,disabled:!0,render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{componentType:"input-table",placeholder:"",className:"w-full",...t})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabBasicInfo.tsx"})}),(0,l.jsx)(Fn,{label:"상세 주소","data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"addressDetail",control:o,disabled:!0,render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{autoComplete:"new-password",componentType:"input-table",placeholder:"",className:"w-full",...t})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabBasicInfo.tsx"})}),(0,l.jsx)(Fn,{label:"업태","data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"condition",control:o,disabled:!0,render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{autoComplete:"new-password",componentType:"input-table",className:"w-full",...t})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabBasicInfo.tsx"})}),(0,l.jsx)(Fn,{label:"업종","data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"category",control:o,disabled:!0,render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{autoComplete:"new-password",componentType:"input-table",placeholder:"",className:"w-full",...t})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabBasicInfo.tsx"})}),(0,l.jsx)(Fn,{label:"사용 중지 여부","data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:u?"정상":"사용 중지"}),(0,l.jsx)(Fn,{label:"MDM 연동 갱신","data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"isMdmSync",control:o,render:e=>{let{field:t}=e;return(0,l.jsx)(Un,{groupName:"isMdmSync",items:[{id:"true",label:"갱신"},{id:"false",label:"갱신 안함"}],value:t.value,onChange:e=>d("isMdmSync","true"===e)})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabBasicInfo.tsx"})}),(0,l.jsx)(Fn,{label:"사업","data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"industryCode",control:o,render:e=>{let{field:t}=e;return(0,l.jsx)(He.A,{options:c.industries,selectedId:t.value,componentType:"autocomplete-table",placeholder:"사업 선택",autocompleteBoxClassName:"w-full",onChange:(e,a)=>t.onChange(a.id)})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabBasicInfo.tsx"})}),(0,l.jsx)(Zc,{control:o,isShowDescription:!1,"data-sentry-element":"ServiceDropDown","data-sentry-source-file":"DetailTabBasicInfo.tsx"}),(0,l.jsx)(Fn,{label:"지급 조건","data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"mdmPaymentConditionCodeList.0",control:o,render:e=>{let{field:t}=e;var a,r;return(0,l.jsx)(Tt.A,{autoComplete:"off",componentType:"input-table",placeholder:"지급 조건 선택",className:"w-full",disabled:!0,value:null===(r=c.paymentConditionOptions)||void 0===r||null===(a=r.find((e=>e.id===t.value)))||void 0===a?void 0:a.label})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabBasicInfo.tsx"})}),(0,l.jsx)(Fn,{label:"지급 조건(2)","data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"mdmPaymentConditionCodeList.1",control:o,render:e=>{let{field:t}=e;var a,r;return(0,l.jsx)(Tt.A,{autoComplete:"off",componentType:"input-table",className:"w-full",disabled:!0,value:null===(r=c.paymentConditionOptions)||void 0===r||null===(a=r.find((e=>e.id===t.value)))||void 0===a?void 0:a.label})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabBasicInfo.tsx"})}),(0,l.jsx)(Fn,{label:"지급 조건(3)","data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"mdmPaymentConditionCodeList.2",control:o,render:e=>{let{field:t}=e;var a,r;return(0,l.jsx)(Tt.A,{autoComplete:"off",componentType:"input-table",className:"w-full",disabled:!0,value:null===(r=c.paymentConditionOptions)||void 0===r||null===(a=r.find((e=>e.id===t.value)))||void 0===a?void 0:a.label})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabBasicInfo.tsx"})}),(0,l.jsx)(ac,{type:"warn",className:"mt-[8px]","data-sentry-element":"Notification","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:"P&D 고객일 경우 서비스(2)는 입력하면 안됩니다."})]})})};const Su=[{field:"plateNumber",headerName:"차량 번호",sortable:!1,minWidth:200,flex:1},{field:"vehicleTypeName",headerName:"차종",width:94},{field:"tonName",headerName:"톤급",width:94}];var _u=function(e){let{vehicleList:t}=e;const a=(0,D.bBi)(),s=(0,r.useRef)(null);return(0,r.useEffect)((()=>{s.current.setInitData(t||[])}),[t]),(0,l.jsx)("div",{"data-sentry-component":"DetailVehicles","data-sentry-source-file":"DetailVehicles.tsx",children:(0,l.jsx)(Fa.A,{ref:s,gridApiRef:a,columns:Su,noRowDescription:{description_1:"조회된 소속 차량이 없습니다.",description_2:""},"data-sentry-element":"TmsWrappBasicDataGrid","data-sentry-source-file":"DetailVehicles.tsx"})})};const wu=[{field:"driverName",headerName:"운전자명",sortable:!1,width:70,align:"center"},{field:"driverPhoneNumber",headerName:"운전자 연락처",width:120,align:"center",renderCell:e=>(0,pe.Vp)(e.value)},{field:"vendorVehicleList",headerName:"배정 차량",flex:1,renderCell:e=>(0,l.jsx)("div",{className:"flex gap-[4px] overflow-x-auto",children:e.row.vendorVehicleList.map(((e,t)=>(0,l.jsxs)("div",{className:"flex items-center gap-[4px]",children:[t>0&&(0,l.jsx)("div",{className:"bg-grey80 h-[4px] w-[4px] rounded-full"}),e.plateNumber,e.isUsed&&(0,l.jsx)("span",{className:"text-success Caption1_B border-success flex h-[20px] flex-none items-center justify-center rounded-[3px] border px-[4px]",children:"활성"})]})))})}];var Ou=function(e){let{driverList:t}=e;const a=(0,D.bBi)(),s=(0,r.useRef)(null);return(0,r.useEffect)((()=>{s.current.setInitData(t||[])}),[t]),(0,l.jsx)("div",{"data-sentry-component":"DetailRegisteredDrivers","data-sentry-source-file":"DetailRegisteredDrivers.tsx",children:(0,l.jsx)(Fa.A,{ref:s,gridApiRef:a,columns:wu,noRowDescription:{description_1:"조회된 소속 운전자가 없습니다.",description_2:""},"data-sentry-element":"TmsWrappBasicDataGrid","data-sentry-source-file":"DetailRegisteredDrivers.tsx"})})};const Mu=[{id:"vehicles",label:"소속 차량 (0)"},{id:"drivers",label:"소속 운전자 (0)"}];var Du=function(e){const{isShow:t=!1}=e,{detailData:a}=pu(),[s,n]=(0,r.useState)(Mu[0]),{mutateAsync:o,data:i}=Eu(),{mutateAsync:d,data:c}=vu();return(0,r.useEffect)((()=>{(null==a?void 0:a.vendorId)&&t&&(o({vendorId:null==a?void 0:a.vendorId}),d({vendorId:null==a?void 0:a.vendorId}))}),[null==a?void 0:a.vendorId,t]),(0,r.useEffect)((()=>{Mu[0].label="소속 차량 (".concat((null==i?void 0:i.vendorVehicleList.length)||0,")")}),[i]),(0,r.useEffect)((()=>{Mu[1].label="소속 운전자 (".concat((null==c?void 0:c.vendorVehicleDriverList.length)||0,")")}),[c]),(0,l.jsxs)("div",{className:C()("flex flex-col gap-[20px] p-[24px]",{hidden:!t}),"data-sentry-component":"DetailTabDriverInfo","data-sentry-source-file":"DetailTabDriverInfo.tsx",children:[(0,l.jsx)("div",{className:"flex items-center justify-between",children:(0,l.jsx)(nc,{items:Mu,selectedId:null==s?void 0:s.id,onChange:e=>{n(e)},"data-sentry-element":"TmsBasicRoundedTabs","data-sentry-source-file":"DetailTabDriverInfo.tsx"})}),"vehicles"===s.id&&(0,l.jsx)(_u,{vehicleList:null==i?void 0:i.vendorVehicleList}),"drivers"===s.id&&(0,l.jsx)(Ou,{driverList:null==c?void 0:c.vendorVehicleDriverList})]})};const ju=[{id:"basicInfo",label:"기본 정보"},{id:"driverInfo",label:"운영 자원"},{id:"accountInfo",label:"계정 정보"}],Pu=[{id:"basicInfo",label:"기본 정보"}];var Lu=function(e){let{isNew:t=!1,detailData:a,onRegisterComplete:s,isChangedFile:n,setIsChangedFile:o}=e;const[i,d]=(0,r.useState)(Pu[0]);return(0,r.useEffect)((()=>{d(Pu[0])}),[t,ju,a]),(0,l.jsx)("div",{className:"flex flex-col","data-sentry-component":"Detail","data-sentry-source-file":"index.tsx",children:(0,l.jsxs)(mu,{isNew:t,detailData:a,onRegisterComplete:s,isChangedFile:n,setIsChangedFile:o,"data-sentry-element":"DetailProvider","data-sentry-source-file":"index.tsx",children:[(0,l.jsx)(hu,{detailData:a,tabItems:ju,selectedTabId:i.id,onChangeTab:e=>{d(e)},onChangeFileTab:()=>{d({id:"documentsInfo",label:"제출 서류"})},"data-sentry-element":"DetailTop","data-sentry-source-file":"index.tsx"}),t&&(0,l.jsx)("div",{className:"h-[calc(100vh-311px)] overflow-y-auto",children:(0,l.jsx)(Ru,{isShow:"basicInfo"===i.id})}),!t&&(0,l.jsxs)("div",{className:"h-[calc(100vh-350px)] overflow-y-auto",children:[(0,l.jsx)(Ru,{isShow:"basicInfo"===i.id}),(0,l.jsx)(Du,{isShow:"driverInfo"===i.id}),(0,l.jsx)(Tu,{isShow:"accountInfo"===i.id})]})]})})};const Bu=[{field:"id",headerName:"No.",sortable:!1,width:48,align:"right",headerClassName:"check-right-align",renderCell:e=>e.api.getRowIndexRelativeToVisibleRows(e.id)+1},{field:"mdmCorporationCode",headerName:"인사조직",width:152,valueFormatter:e=>Je.X.getState().getMetaLabel(Ze.k.COMMON_MDM_CORPORATION_CODE,e)},{field:"mdmCode",headerName:"MDM 코드",width:152,align:"center"},{field:"name",headerName:"사업자명",minWidth:310,flex:1},{field:"businessType",headerName:"사업자 종류",width:152,align:"center",cellClassName:"flex h-full w-full items-center justify-center",renderCell:e=>(0,l.jsx)(rc.Ay.BusinessType,{businessType:e.row.businessType})},{field:"registrationNumber",headerName:"사업자 번호",width:124},{field:"representativeName",headerName:"대표자",width:70},{field:"isSettleable",headerName:"사용 여부",width:138,align:"center",cellClassName:"flex h-full w-full items-center justify-center",renderCell:e=>(0,l.jsx)(rc.Ay.RoundTag,{text:e.value?"Y":"N"})}];var Uu=function(e){let{isActive:t,isRegister:a}=e;(0,$e.P9)();const s=(0,r.useRef)(null),n=(0,D.bBi)(),o=v(),i=(0,r.useRef)(!0),[d,c]=(0,r.useState)(null),[u,m]=(0,r.useState)(!1),[p,h]=(0,r.useState)({mdmCorporationCode:null}),[f,C]=(0,r.useState)(0),[x,N]=(0,r.useState)(!1),{mutateAsync:y,isSuccess:E,data:A}=(0,T.n)(["useGetPartnerTenList"],(async e=>(await I.q.api((t=>t.ApiVendorV1NormalPartnerList(e)))).data.result)),{mutateAsync:g,data:b,isSuccess:R}=(0,T.n)(["memberManager/usePartnerTenExcelDownloadMutation"],(async e=>(await I.q.api((t=>t.ApiVendorV1NormalPartnerListExcel(e,{format:"blob"})))).data)),{mutateAsync:S,data:_,isSuccess:w}=(0,T.n)(["useGetPartnerTenDetail"],(async e=>(await I.q.api((t=>t.ApiVendorV1NormalPartnerDetail(e)))).data.result)),O=async e=>{await y({mdmCorporationCode:e.commonMdmCorporationCode,mdmCode:e.mdmCode,name:e.name,registrationNumber:e.registrationNumber})},M=async e=>{await S(e)},j=e=>{u?o({title:"작성 중인 정보가 있습니다.",description:"화면을 나가면 작성된 정보가 삭제됩니다.",confirmButtonLabel:"나가기",onClickConfirmButton:()=>{M({vendorId:e.row.vendorId}),m(!1)}}):(M({vendorId:e.row.vendorId}),m(!1))},P=()=>g(p);return(0,r.useEffect)((()=>{w&&(_.vendorId!==(null==d?void 0:d.vendorId)&&N(!1),c(cu.toDetailResult(_)))}),[w]),(0,r.useEffect)((()=>{var e;E&&(null===(e=s.current)||void 0===e||e.setInitData(A.itemList||[]),i.current&&A.itemList.length&&(M({vendorId:A.itemList[0].vendorId}),i.current=!1))}),[E]),(0,r.useEffect)((()=>{pe.sV.on(Nd,(()=>{m(!0)}))}),[]),(0,r.useEffect)((()=>{t&&i.current&&O(p)}),[t]),(0,l.jsx)(nu,{isOpenRightPanel:a||d,rightPanelWidth:448,onClickCloseButton:()=>{a&&pe.sV.emit(vd),d&&c(null)},leftSidePanel:(0,l.jsx)(Ve.A.Provider,{params:p,setParams:h,onSearch:async e=>{O(e)},children:e=>(0,l.jsxs)("div",{className:"flex h-full w-full flex-col",children:[(0,l.jsxs)("div",{className:"search-area flex justify-between gap-[16px] px-[40px] py-[16px]",children:[(0,l.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,l.jsx)(Ve.A.AllMetaAutocompleteSearch,{label:"인사조직",allMetaType:Ze.k.COMMON_MDM_CORPORATION_CODE,className:"!w-[140px]"}),(0,l.jsx)(Ve.A.SearchText,{label:"MDM 코드",placeholder:"MDM 코드 입력",fieldName:"mdmCode",className:"w-[140px]"}),(0,l.jsx)(Ve.A.SearchText,{label:"사업자명",placeholder:"사업자명 입력",fieldName:"name",className:"w-[140px]"}),(0,l.jsx)(Ve.A.SearchText,{label:"사업자 번호",placeholder:"사업자 번호 입력",fieldName:"registrationNumber",className:"w-[140px]"})]}),(0,l.jsxs)("div",{className:"flex flex-none items-start gap-2",children:[(0,l.jsx)(Ve.A.ResetButton,{}),(0,l.jsx)(Ve.A.SearchButton,{})]})]}),(0,l.jsx)("div",{className:"grid-area flex-1 overflow-auto",children:(0,l.jsx)(Fa.A,{ref:s,gridApiRef:n,columns:Bu,initialState:{pinnedColumns:{left:["id"]}},onRowDoubleClick:j})}),(0,l.jsx)("div",{className:"footer-area flex h-[60px] justify-end gap-[8px] px-[40px] py-[16px]",children:(0,l.jsx)(We,{excelFileName:"회원관리_파트너",isSuccessExcel:R,excelData:b,handleExcelDownload:P})})]})}),rightSidePanel:(0,l.jsx)(Lu,{isNew:u,detailData:d,onRegisterComplete:e=>{m(!1),O(p),M({vendorId:e}),C((e=>e+1)),pe.sV.emit(vd)},isChangedFile:x,setIsChangedFile:N},f),"data-sentry-element":"TmsBasicSlidePanel","data-sentry-component":"PartnerTenManager","data-sentry-source-file":"PartnerTenManager.tsx"})};const Vu=(0,r.createContext)(null);function Fu(e){let{isNew:t,children:a,detailData:s,onRegisterComplete:n,isChangedFile:o,setIsChangedFile:d}=e;const{setIsLoading:c}=(0,i.o)(),u=(0,$e.P9)(),[m,p]=(0,r.useState)(!1),{mutateAsync:h,isSuccess:f,isError:C,error:x,isLoading:N,data:y}=Cu(),{mutateAsync:E,isSuccess:v,isError:A,error:g,isLoading:T,data:I}=xu(),{control:b,formState:R,getValues:S,getFieldState:_,handleSubmit:w,reset:O,clearErrors:M,setValue:D,setError:j,trigger:P}=(0,Hr.mN)({defaultValues:Gd(),mode:"onChange",shouldUnregister:!0}),{isValid:L,errors:B}=R;(0,r.useEffect)((()=>{t&&O(Gd(),{keepDefaultValues:!1})}),[t]),(0,r.useEffect)((()=>{s&&O(s,{keepDefaultValues:!1}),d(!1)}),[s]);return(0,r.useEffect)((()=>{f&&y&&(u({message:"파트너 회원이 등록되었습니다.",type:"success"}),n(y.vendorId))}),[f]),(0,r.useEffect)((()=>{C&&x&&u({message:x.message,type:"caution"})}),[C]),(0,r.useEffect)((()=>{v&&I&&(u({message:"파트너 회원이 수정되었습니다.",type:"success"}),n(I.vendorId))}),[v]),(0,r.useEffect)((()=>{A&&g&&(u({message:g.message,type:"caution"}),d(!1))}),[A]),(0,r.useEffect)((()=>{c(N)}),[N]),(0,l.jsx)(Vu.Provider,{value:{isNew:t,detailData:s,control:b,formState:R,getValues:S,getFieldState:_,setValue:D,setError:j,clearErrors:M,isChangedFile:o,setIsChangedFile:d,trigger:P,isClickedEEConfirmButton:m,setIsClickedEEConfirmButton:p,onRegisterComplete:n},"data-sentry-element":"DetailContext.Provider","data-sentry-component":"DetailProvider","data-sentry-source-file":"DetailProvider.tsx",children:(0,l.jsx)("form",{autoComplete:"off",className:"flex h-full flex-col",onSubmit:w((async e=>{if(L||0===Object.keys(B).length)try{var a;if(!(null===(a=e.addressInfo)||void 0===a?void 0:a.address1))return j("addressInfo",{message:"사업장 주소 필수 정보를 입력해주세요."}),void u({message:"사업장 주소 필수 정보를 입력해주세요.",type:"fail"});if(t){if(M(),!e.isRegistrationNumberVerified)return j("registrationNumber",{message:"사업자 번호 인증을 진행해 주세요"}),void u({message:"사업자 번호 인증을 진행해 주세요",type:"fail"});await h(fu.toRegistrationRequest(e))}else{var l,r,n,o,i,c,m,p,f,C;if(!e.isUserIdVerified&&(e.userName||e.telMobile))return u({message:"아이디 중복 확인이 필요합니다"}),void j("userId",{message:"아이디 중복 확인이 필요합니다"});if(e.isUserIdVerified&&!e.userName)return u({message:"이름을 입력해 주세요"}),void j("userName",{message:"이름을 입력해 주세요"});if(e.isUserIdVerified&&!e.telMobile)return u({message:"휴대폰 번호를 입력해 주세요"}),void j("telMobile",{message:"휴대폰 번호를 입력해 주세요"});const t=(null===(l=e.businessLicenseFile)||void 0===l?void 0:l.attachFileId)!==(null===(r=s.businessLicenseFile)||void 0===r?void 0:r.attachFileId)||(null===(n=e.bankBookFile)||void 0===n?void 0:n.attachFileId)!==(null===(o=s.bankBookFile)||void 0===o?void 0:o.attachFileId)||(null===(i=e.cargoTransportLicenseFile)||void 0===i?void 0:i.attachFileId)!==(null===(c=s.cargoTransportLicenseFile)||void 0===c?void 0:c.attachFileId)||(null===(m=e.driverLicenseFile)||void 0===m?void 0:m.attachFileId)!==(null===(p=s.driverLicenseFile)||void 0===p?void 0:p.attachFileId)||(null===(f=e.paymentGuaranteeFile)||void 0===f?void 0:f.attachFileId)!==(null===(C=s.paymentGuaranteeFile)||void 0===C?void 0:C.attachFileId);d(t),await E(fu.toUpdateRequest(e))}}catch(e){u({message:e.message,type:"caution"})}else u({message:"입력값을 확인해주세요.",type:"fail"})}),(e=>{var t;const a=Object.keys(e),l="".concat(_d(a[0])," ").concat((null===(t=e[a[0]])||void 0===t?void 0:t.message)||"입력값을 확인해주세요.");u({message:l,type:"fail"}),window.console.error(e)})),onKeyDown:e=>{"Enter"===e.key&&e.target instanceof HTMLInputElement&&e.preventDefault()},children:a})})}function Gu(){return(0,r.useContext)(Vu)}var ku=function(e){let{detailData:t,tabItems:a,selectedTabId:s,onChangeTab:n,onChangeFileTab:o}=e;const d=(0,$e.P9)(),{isNew:c,getValues:p,setError:h,isClickedEEConfirmButton:f,onRegisterComplete:C}=Gu(),{mutateAsync:x,isSuccess:N,isLoading:y,isError:E,error:v}=(0,T.n)(["requestTransportPartnerMdm"],(async e=>(await I.q.api((t=>t.ApiVendorV1PartnerMdmRequest(e)))).data.result)),{getOperationIsActive:A}=(0,i.o)(),[g]=(0,r.useState)(A(gd.MEMBER_MANAGEMENT_PARTNER_13,Ad.UPDATE));return(0,r.useEffect)((()=>{N&&(d({message:"MDM 승인 요청을 상신했습니다."}),C(null==t?void 0:t.vendorId))}),[N]),(0,r.useEffect)((()=>{E&&v&&d({message:v.message,type:"caution"})}),[E]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"bg-blue98 border-b-blue95 flex flex-col gap-[16px] border-b-[1px] px-[24px] py-[16px]",children:[(0,l.jsx)("div",{className:"flex flex-row justify-between",children:c?(0,l.jsxs)("div",{className:"flex w-full flex-row items-center justify-between",children:[(0,l.jsx)("div",{className:"flex flex-row items-center gap-[4px]",children:(0,l.jsx)(ac,{type:"info",children:"e증빙 승인 요청은 회원 등록 후 가능합니다."})}),(0,l.jsx)(ui,{type:"submit",label:"회원 등록"})]}):(0,l.jsxs)("div",{className:"flex w-full flex-row items-center justify-between",children:[(0,l.jsx)("div",{className:"flex flex-row items-center gap-[8px]",children:(0,l.jsx)(u.A,{disabled:y,label:(null==t?void 0:t.mdmStatusType)===R.B19.COMPLETE||(null==t?void 0:t.mdmStatusType)===R.B19.RE_REQUEST?"MDM 갱신":"MDM 상신",size:m.M.Small,level:m.V.level_5,leftIcon:(0,l.jsx)($d,{width:16,height:16,className:"text-grey50"}),onClick:async()=>{const e=p("businessLicenseFile"),a=p("bankBookFile");if(e||h("businessLicenseFile",{message:"필수 서류를 먼저 업로드해 주세요."}),a||h("bankBookFile",{message:"필수 서류를 먼저 업로드해 주세요."}),!e||!a)return d({message:"필수 서류를 먼저 업로드해 주세요.",type:"fail"}),void o();f?await x({vendorId:t.vendorId}):d({message:"e증빙 확인 버튼을 먼저 클릭해 주세요.",type:"fail"})}})}),g&&(0,l.jsx)(_t.A,{type:"submit"})]})}),c?(0,l.jsx)("div",{className:"flex flex-row items-center gap-[8px]",children:(0,l.jsx)(oc,{gradient:!0,children:"새 회원 등록하기"})}):(0,l.jsxs)("div",{className:"Body5_B flex flex-row items-center gap-[8px]",children:[(0,l.jsx)(oc,{children:null==t?void 0:t.name}),(0,l.jsx)(sc,{status:null==t?void 0:t.mdmStatusType,code:null==t?void 0:t.mdmCode})]}),(0,l.jsx)(nc,{items:a,selectedId:s,onChange:n,"data-sentry-element":"TmsBasicRoundedTabs","data-sentry-source-file":"DetailTop.tsx"})]}),!c&&("RETURN"===(null==t?void 0:t.mdmStatusType)||"RE_RETURN"===(null==t?void 0:t.mdmStatusType))&&(0,l.jsx)(lc,{type:"error",reason:"FSC 반려 사유",children:t.mdmReceiveComments})]})};var Yu=function(e){var t,a,s,n,o,i,d,c;const{isShow:u=!1}=e,{detailData:m,control:p,formState:h,setValue:f}=Gu(),{mutateAsync:x,isSuccess:N}=Nu(),y=(0,$e.P9)(),E=(0,Hr.FH)({control:p,name:"isUserIdVerified"}),v=e=>{x({vendorUserId:(null==e?void 0:e.length)>0?Number(e[0]):null==m?void 0:m.mainUserInfo.vendorUserId})};return(0,r.useEffect)((()=>{N&&y({message:"비밀번호가 초기화 되었습니다."})}),[N]),(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:C()("flex h-full flex-col gap-[20px] p-[24px]",{hidden:!u}),children:[(0,l.jsxs)("div",{children:[(0,l.jsx)(kn,{label:"메인 계정","data-sentry-element":"DetailSection","data-sentry-source-file":"DetailTabAccountInfo.tsx",children:(0,l.jsx)(bc,{passwordReset:v,disabled:!(null==m?void 0:m.mainUserInfo.vendorUserId),"data-sentry-element":"PasswordResetButton","data-sentry-source-file":"DetailTabAccountInfo.tsx"})}),(0,l.jsxs)(Vn,{"data-sentry-element":"InfoTable","data-sentry-source-file":"DetailTabAccountInfo.tsx",children:[(0,l.jsx)(Fn,{label:"아이디",error:null===(t=h.errors.userId)||void 0===t?void 0:t.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabAccountInfo.tsx",children:(0,l.jsx)(Nc,{useFormContext:Gu(),useCheckUserId:yu,detailData:m,"data-sentry-element":"UserIdInput","data-sentry-source-file":"DetailTabAccountInfo.tsx"})}),(0,l.jsx)(Fn,{label:"계정 상태",required:E,error:null===(a=h.errors.isUserUsed)||void 0===a?void 0:a.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabAccountInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"isUserUsed",control:p,rules:E?{required:Hn.required}:{},render:e=>{let{field:t}=e;return(0,l.jsx)(Un,{groupName:"isUserUsed",items:[{id:"true",label:"활성"},{id:"false",label:"비활성"}],...t})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabAccountInfo.tsx"},E?"verified":"not-verified")}),(0,l.jsx)(Fn,{label:"이름",required:E,error:null===(s=h.errors.userName)||void 0===s?void 0:s.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabAccountInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"userName",control:p,render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{componentType:"input-table",placeholder:"이름 입력",className:"w-full",...t})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabAccountInfo.tsx"})}),(0,l.jsx)(Fn,{label:"휴대폰 번호",required:E,error:null===(n=h.errors.telMobile)||void 0===n?void 0:n.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabAccountInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"telMobile",control:p,render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{componentType:"input-table",placeholder:"휴대폰 번호 입력",className:"w-full",...t,onChange:e=>{t.onChange((0,pe.Mc)(e.target.value))}})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabAccountInfo.tsx"})}),(0,l.jsx)(Fn,{label:"이메일",error:null===(o=h.errors.email)||void 0===o?void 0:o.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabAccountInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"email",control:p,rules:{pattern:Hn.email},render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{componentType:"input-table",placeholder:"이메일 입력",className:"w-full",...t})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabAccountInfo.tsx"})}),(0,l.jsx)(Fn,{label:"알림 채널",error:null===(i=h.errors.notiChannel)||void 0===i?void 0:i.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabAccountInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"notiChannel",control:p,render:e=>{let{field:t}=e;return(0,l.jsx)(dc,{groupName:"notiChannel",items:Wn.RECEIVER_TYPES,...t})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabAccountInfo.tsx"})}),(0,l.jsx)(Fn,{label:"광고성 정보 수신",error:null===(d=h.errors.isAdvertisementInformationAgree)||void 0===d?void 0:d.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabAccountInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"isAdvertisementInformationAgree",control:p,render:e=>{let{field:t}=e;return(0,l.jsx)(Un,{groupName:"isAdvertisementInformationAgree",items:[{id:"true",label:"동의"},{id:"false",label:"동의 안 함"}],value:t.value,onChange:e=>f("isAdvertisementInformationAgree",e)})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabAccountInfo.tsx"})}),(0,l.jsx)(Fn,{label:"마케팅 활용",error:null===(c=h.errors.isMarketingUtilizationAgree)||void 0===c?void 0:c.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabAccountInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"isMarketingUtilizationAgree",control:p,render:e=>{let{field:t}=e;return(0,l.jsx)(Un,{groupName:"isMarketingUtilizationAgree",items:[{id:"true",label:"동의"},{id:"false",label:"동의 안 함"}],value:t.value,onChange:e=>f("isMarketingUtilizationAgree",e)})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabAccountInfo.tsx"})})]})]}),(0,l.jsx)("div",{className:"flex grow-[1] flex-col",children:(0,l.jsx)(wc,{mainAccountId:null==m?void 0:m.vendorId,useSubAccountHandler:gu,passwordReset:v,isShowInviteButton:!0,"data-sentry-element":"SubAccount","data-sentry-source-file":"DetailTabAccountInfo.tsx"})})]})})};var qu=function(e){var t,a,s,n,o,i,d,c,u,m,p,h,f,x,N;const{isShow:y=!1}=e,{isNew:E,control:v,formState:A,setValue:g,clearErrors:T}=Gu(),{replace:I}=(0,Hr.jz)({control:v,name:"mdmPaymentConditionCodeList"}),b=Lc(),R=(0,Hr.FH)({control:v,name:"businessType"});return(0,r.useEffect)((()=>{E&&("CORPORATE"===R?g("corporationNumber",""):(T("corporationNumber"),g("corporationNumber","1111111111111")))}),[R]),(0,r.useEffect)((()=>{E&&I([""])}),[E]),(0,l.jsxs)("div",{className:C()("flex flex-col gap-[20px] p-[24px]",{hidden:!y}),"data-sentry-component":"DetailTabBasicInfo","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:[(0,l.jsxs)(Vn,{"data-sentry-element":"InfoTable","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:[(0,l.jsx)(Fn,{label:"사업자 번호",required:!0,error:null===(t=A.errors.registrationNumber)||void 0===t?void 0:t.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:(0,l.jsx)(Pc,{useDetailContext:Gu,"data-sentry-element":"RegistrationNumberInput","data-sentry-source-file":"DetailTabBasicInfo.tsx"})}),(0,l.jsx)(Fn,{label:"사업자 종류",required:!0,error:null===(a=A.errors.businessType)||void 0===a?void 0:a.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"businessType",control:v,rules:{required:Hn.required},render:e=>{let{field:t}=e;return E?(0,l.jsx)(Un,{groupName:"businessType",items:b.businessTypes,...t}):(0,l.jsx)(Tt.A,{className:"w-full",componentType:"input-table",disabled:!0,value:null===(a=b.businessTypes.find((e=>e.id===t.value)))||void 0===a?void 0:a.label});var a},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabBasicInfo.tsx"})}),(0,l.jsx)(Fn,{label:"사업자명(법인명)",required:!0,error:null===(s=A.errors.name)||void 0===s?void 0:s.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"name",control:v,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{componentType:"input-table",autoComplete:"off",placeholder:"사업자명 입력",className:"w-full",...t})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabBasicInfo.tsx"})}),(0,l.jsx)(Fn,{label:"사업자명(약어)",error:null===(n=A.errors.nameSimplified)||void 0===n?void 0:n.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"nameSimplified",control:v,render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{autoComplete:"off",componentType:"input-table",placeholder:"사업자명(약어) 입력",className:"w-full",...t})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabBasicInfo.tsx"})}),(0,l.jsx)(Fn,{label:"대표자명",required:!0,error:null===(o=A.errors.representativeName)||void 0===o?void 0:o.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"representativeName",control:v,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{autoComplete:"off",componentType:"input-table",placeholder:"대표자명 입력",className:"w-full",...t})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabBasicInfo.tsx"})}),(0,l.jsx)(Fn,{label:"법인등록번호",required:!0,error:null===(i=A.errors.corporationNumber)||void 0===i?void 0:i.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"corporationNumber",control:v,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{type:"text",autoComplete:"off",componentType:"input-table",placeholder:"법인등록번호 입력",className:"w-full",disabled:"CORPORATE"!==R,maxLength:13,...t,onChange:e=>{const a=e.target.value.replace(/[^0-9]/g,"");t.onChange(a)}})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabBasicInfo.tsx"})}),(0,l.jsx)(Fn,{label:"사업장 주소",required:!0,error:null===(d=A.errors.addressInfo)||void 0===d?void 0:d.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"addressInfo",control:v,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(qn,{placeholder:"사업장 주소 입력",...t,optionsBoxWidth:400})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabBasicInfo.tsx"})}),(0,l.jsx)(Fn,{label:"상세 주소",error:null===(c=A.errors.addressDetail)||void 0===c?void 0:c.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"addressDetail",control:v,render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{autoComplete:"off",componentType:"input-table",placeholder:"사업장 상세 주소 입력",className:"w-full",...t})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabBasicInfo.tsx"})}),(0,l.jsx)(Fn,{label:"업태",required:!0,error:null===(u=A.errors.condition)||void 0===u?void 0:u.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"condition",control:v,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{autoComplete:"off",componentType:"input-table",placeholder:"업태 입력",className:"w-full",...t})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabBasicInfo.tsx"})}),(0,l.jsx)(Fn,{label:"업종",required:!0,error:null===(m=A.errors.category)||void 0===m?void 0:m.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"category",control:v,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{autoComplete:"off",componentType:"input-table",placeholder:"업종 입력",className:"w-full",...t})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabBasicInfo.tsx"})}),(0,l.jsx)(Fn,{label:"사업자 유형",required:!0,error:null===(p=A.errors.sizeType)||void 0===p?void 0:p.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"sizeType",control:v,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(He.A,{options:b.sizeTypes,selectedId:t.value,componentType:"autocomplete-table",placeholder:"사업자 유형 선택",autocompleteBoxClassName:"w-full",onChange:(e,a)=>t.onChange(a.id)})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabBasicInfo.tsx"})}),!E&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(Fn,{label:"인사조직",required:!0,error:null===(h=A.errors.mdmCorporationCode)||void 0===h?void 0:h.message,children:(0,l.jsx)(Hr.xI,{name:"mdmCorporationCode",control:v,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(He.A,{options:b.activeDeptIds,selectedId:t.value,componentType:"autocomplete-table",placeholder:"인사조직 선택",autocompleteBoxClassName:"w-full",onChange:(e,a)=>t.onChange(a.id)})}})}),(0,l.jsx)(Fn,{label:"코스트 센터",required:!0,error:null===(f=A.errors.mdmCostCenterCode)||void 0===f?void 0:f.message,children:(0,l.jsx)(Hr.xI,{name:"mdmCostCenterCode",control:v,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(He.A,{options:b.purchaseCostCenters,selectedId:t.value,componentType:"autocomplete-table",placeholder:"코스트 센터 선택",autocompleteBoxClassName:"w-full",onChange:(e,a)=>t.onChange(a.id)})}})})]})]}),(0,l.jsxs)(Vn,{"data-sentry-element":"InfoTable","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:[(0,l.jsx)(Fn,{label:"과세 유형",required:!0,error:null===(x=A.errors.vendorFiType)||void 0===x?void 0:x.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"vendorFiType",control:v,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(He.A,{options:b.vendorFiType,selectedId:t.value,componentType:"autocomplete-table",placeholder:"과세 유형 선택",autocompleteBoxClassName:"w-full",onChange:(e,a)=>t.onChange(a.id)})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabBasicInfo.tsx"})}),E&&(0,l.jsx)(Fn,{label:"지급 조건",required:!0,error:null===(N=A.errors.mdmPaymentConditionCode)||void 0===N?void 0:N.message,children:(0,l.jsx)(Hr.xI,{name:"mdmPaymentConditionCode",control:v,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(He.A,{disabled:!E,options:b.paymentConditionOptions,selectedId:t.value,componentType:"autocomplete-table",placeholder:"지급 조건 선택",autocompleteBoxClassName:"w-full",onChange:(e,a)=>t.onChange(a.id)})}})}),!E&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(Fn,{required:!0,label:"지급 조건",children:(0,l.jsx)(Hr.xI,{name:"mdmPaymentConditionCodeList.0",control:v,rules:{required:Hn.required},render:e=>{let{field:t}=e;var a,r;return(0,l.jsx)(Tt.A,{autoComplete:"off",componentType:"input-table",placeholder:"지급 조건 선택",className:"w-full",disabled:!0,value:null===(r=b.paymentConditionOptions)||void 0===r||null===(a=r.find((e=>e.id===t.value)))||void 0===a?void 0:a.label})}})}),(0,l.jsx)(Fn,{label:"지급 조건(2)",children:(0,l.jsx)(Hr.xI,{name:"mdmPaymentConditionCodeList.1",control:v,render:e=>{let{field:t}=e;var a,r;return(0,l.jsx)(Tt.A,{autoComplete:"off",componentType:"input-table",className:"w-full",disabled:!0,value:null===(r=b.paymentConditionOptions)||void 0===r||null===(a=r.find((e=>e.id===t.value)))||void 0===a?void 0:a.label})}})}),(0,l.jsx)(Fn,{label:"지급 조건(3)",children:(0,l.jsx)(Hr.xI,{name:"mdmPaymentConditionCodeList.2",control:v,render:e=>{let{field:t}=e;var a,r;return(0,l.jsx)(Tt.A,{autoComplete:"off",componentType:"input-table",className:"w-full",disabled:!0,value:null===(r=b.paymentConditionOptions)||void 0===r||null===(a=r.find((e=>e.id===t.value)))||void 0===a?void 0:a.label})}})})]})]})]})};var Wu=function(e){const{isShow:t=!1}=e,{isNew:a,control:r,formState:s,detailData:n,isChangedFile:o,setIsChangedFile:i}=Gu(),{mutateAsync:d,isSuccess:c,isLoading:u}=(0,T.n)(["TransportPartnerRequestEdmsUpload"],(async e=>(await I.q.api((t=>t.ApiVendorV1PartnerEdmsUpload(e)))).data.result));return(0,l.jsxs)("div",{className:C()("flex flex-col gap-[20px] p-[24px]",{hidden:!t}),"data-sentry-component":"DetailTabDocumentsInfo","data-sentry-source-file":"DetailTabDocumentsInfo.tsx",children:[!a&&(0,l.jsx)(Xc,{onClickUpload:()=>{d({vendorId:null==n?void 0:n.vendorId})},isChangedFile:o,detailData:n,setIsChangedFile:i,isUploadLoading:u,isUploadSuccess:c,useDetailContext:Gu}),(0,l.jsxs)("div",{children:[(0,l.jsx)(kn,{label:"사업자 등록증",required:!a,"data-sentry-element":"DetailSection","data-sentry-source-file":"DetailTabDocumentsInfo.tsx"}),(0,l.jsx)(Hr.xI,{name:"businessLicenseFile",control:r,render:e=>{let{field:t}=e;var r,o;return(0,l.jsx)(Kc,{file:t.value,fileType:R.PgO.BUSINESS_LICENSE,refType:R.kLk.VENDOR,refKey:a?null:null==n||null===(r=n.vendorId)||void 0===r?void 0:r.toString(),...t,error:!!(null===(o=s.errors.businessLicenseFile)||void 0===o?void 0:o.message),onFileChange:e=>{t.onChange(e)}})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabDocumentsInfo.tsx"},"businessLicenseFile".concat(a))]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(kn,{label:"통장 사본",required:!a,"data-sentry-element":"DetailSection","data-sentry-source-file":"DetailTabDocumentsInfo.tsx"}),(0,l.jsx)(Hr.xI,{name:"bankBookFile",control:r,render:e=>{let{field:t}=e;var r,o;return(0,l.jsx)(Kc,{file:t.value,fileType:R.PgO.COPY_OF_BANKBOOK,refType:R.kLk.VENDOR,refKey:a?null:null==n||null===(r=n.vendorId)||void 0===r?void 0:r.toString(),...t,error:!!(null===(o=s.errors.bankBookFile)||void 0===o?void 0:o.message),onFileChange:e=>{t.onChange(e)}})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabDocumentsInfo.tsx"},"bankBookFile".concat(a))]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(kn,{label:"화물자동차 운송사업허가증","data-sentry-element":"DetailSection","data-sentry-source-file":"DetailTabDocumentsInfo.tsx"}),(0,l.jsx)(Hr.xI,{name:"cargoTransportLicenseFile",control:r,render:e=>{let{field:t}=e;var r;return(0,l.jsx)(Kc,{file:t.value,fileType:R.PgO.CARGO_TRANSPORT_BUSINESS_LICENSE,refType:R.kLk.VENDOR,refKey:a?null:null==n||null===(r=n.vendorId)||void 0===r?void 0:r.toString(),...t,onFileChange:e=>{t.onChange(e)}})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabDocumentsInfo.tsx"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(kn,{label:"운전면허증","data-sentry-element":"DetailSection","data-sentry-source-file":"DetailTabDocumentsInfo.tsx"}),(0,l.jsx)(Hr.xI,{name:"driverLicenseFile",control:r,render:e=>{let{field:t}=e;var r;return(0,l.jsx)(Kc,{file:t.value,fileType:R.PgO.DRIVER_LICENSE,refType:R.kLk.VENDOR,refKey:a?null:null==n||null===(r=n.vendorId)||void 0===r?void 0:r.toString(),...t,onFileChange:e=>{t.onChange(e)}})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabDocumentsInfo.tsx"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(kn,{label:"지급보증보험증권","data-sentry-element":"DetailSection","data-sentry-source-file":"DetailTabDocumentsInfo.tsx"}),(0,l.jsx)(Hr.xI,{name:"paymentGuaranteeFile",control:r,render:e=>{let{field:t}=e;var r;return(0,l.jsx)(Kc,{file:t.value,fileType:R.PgO.PAYMENT_GUARANTEE_INSURANCE,refType:R.kLk.VENDOR,refKey:a?null:null==n||null===(r=n.vendorId)||void 0===r?void 0:r.toString(),...t,onFileChange:e=>{t.onChange(e)}})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabDocumentsInfo.tsx"})]})]})};var Hu=function(e){let{vehicleList:t}=e;const a=(0,D.bBi)(),s=(0,r.useRef)(null);return(0,r.useEffect)((()=>{s.current.setInitData(t||[])}),[t]),(0,l.jsx)("div",{"data-sentry-component":"DetailVehicles","data-sentry-source-file":"DetailVehicles.tsx",children:(0,l.jsx)(Fa.A,{ref:s,gridApiRef:a,columns:Su,noRowDescription:{description_1:"조회된 소속 차량이 없습니다.",description_2:""},"data-sentry-element":"TmsWrappBasicDataGrid","data-sentry-source-file":"DetailVehicles.tsx"})})};var Ku=function(e){let{driverList:t}=e;const a=(0,D.bBi)(),s=(0,r.useRef)(null);return(0,r.useEffect)((()=>{s.current.setInitData(t||[])}),[t]),(0,l.jsx)("div",{"data-sentry-component":"DetailRegisteredDrivers","data-sentry-source-file":"DetailRegisteredDrivers.tsx",children:(0,l.jsx)(Fa.A,{ref:s,gridApiRef:a,columns:wu,noRowDescription:{description_1:"조회된 소속 운전자가 없습니다.",description_2:""},"data-sentry-element":"TmsWrappBasicDataGrid","data-sentry-source-file":"DetailRegisteredDrivers.tsx"})})};const zu=[{id:"vehicles",label:"소속 차량 (0)"},{id:"drivers",label:"소속 운전자 (0)"}];var Xu=function(e){const{isShow:t=!1}=e,{detailData:a}=Gu(),[s,n]=(0,r.useState)(zu[0]),{mutateAsync:o,data:i}=Eu(),{mutateAsync:d,data:c}=vu();return(0,r.useEffect)((()=>{(null==a?void 0:a.vendorId)&&t&&(o({vendorId:null==a?void 0:a.vendorId}),d({vendorId:null==a?void 0:a.vendorId}))}),[null==a?void 0:a.vendorId,t]),(0,r.useEffect)((()=>{zu[0].label="소속 차량 (".concat((null==i?void 0:i.vendorVehicleList.length)||0,")")}),[i]),(0,r.useEffect)((()=>{zu[1].label="소속 운전자 (".concat((null==c?void 0:c.vendorVehicleDriverList.length)||0,")")}),[c]),(0,l.jsxs)("div",{className:C()("flex flex-col gap-[20px] p-[24px]",{hidden:!t}),"data-sentry-component":"DetailTabDriverInfo","data-sentry-source-file":"DetailTabDriverInfo.tsx",children:[(0,l.jsx)("div",{className:"flex items-center justify-between",children:(0,l.jsx)(nc,{items:zu,selectedId:null==s?void 0:s.id,onChange:e=>{n(e)},"data-sentry-element":"TmsBasicRoundedTabs","data-sentry-source-file":"DetailTabDriverInfo.tsx"})}),"vehicles"===s.id&&(0,l.jsx)(Hu,{vehicleList:null==i?void 0:i.vendorVehicleList}),"drivers"===s.id&&(0,l.jsx)(Ku,{driverList:null==c?void 0:c.vendorVehicleDriverList})]})};var Qu=function(e){var t,a,r,s;const{isShow:n=!1}=e,{control:o,formState:i,detailData:d}=Gu(),c=Lc();return(0,l.jsxs)("div",{className:C()("flex flex-col gap-[20px] p-[24px]",{hidden:!n}),"data-sentry-component":"DetailTabMoreInfo","data-sentry-source-file":"DetailTabMoreInfo.tsx",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)(kn,{label:"사업자 정보","data-sentry-element":"DetailSection","data-sentry-source-file":"DetailTabMoreInfo.tsx"}),(0,l.jsxs)(Vn,{"data-sentry-element":"InfoTable","data-sentry-source-file":"DetailTabMoreInfo.tsx",children:[(0,l.jsx)(Fn,{label:"담당자명","data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabMoreInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"managerName",control:o,render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{componentType:"input-table",placeholder:"담당자명 입력",className:"w-full",...t})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabMoreInfo.tsx"})}),(0,l.jsx)(Fn,{label:"담당자 연락처",error:null===(t=i.errors.managerPhoneNumber)||void 0===t?void 0:t.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabMoreInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"managerPhoneNumber",control:o,render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{componentType:"input-table",placeholder:"연락처 입력",className:"w-full",...t,onChange:e=>{t.onChange((0,pe.Mc)(e.target.value))}})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabMoreInfo.tsx"})}),(0,l.jsx)(Fn,{label:"담당자 이메일",error:null===(a=i.errors.managerEmail)||void 0===a?void 0:a.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabMoreInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"managerEmail",control:o,rules:{pattern:Hn.email},render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{componentType:"input-table",placeholder:"이메일 입력",className:"w-full",...t})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabMoreInfo.tsx"})}),(0,l.jsx)(Fn,{label:"거래 상태","data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabMoreInfo.tsx",children:(null==d?void 0:d.isSettleable)?"정상":"사용 중지"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(kn,{label:"정산 정보","data-sentry-element":"DetailSection","data-sentry-source-file":"DetailTabMoreInfo.tsx"}),(0,l.jsxs)(Vn,{"data-sentry-element":"InfoTable","data-sentry-source-file":"DetailTabMoreInfo.tsx",children:[(0,l.jsx)(Fn,{label:"등급",error:null===(r=i.errors.gradeType)||void 0===r?void 0:r.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabMoreInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"gradeType",control:o,render:e=>{let{field:t}=e;return(0,l.jsx)(He.A,{options:[{id:"A",label:"A"},{id:"B",label:"B"},{id:"C",label:"C"}],selectedId:t.value,componentType:"autocomplete-table",placeholder:"등급 선택",autocompleteBoxClassName:"w-full",onChange:(e,a)=>t.onChange(a.id)})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabMoreInfo.tsx"})}),(0,l.jsx)(Fn,{label:"부가세 코드",error:null===(s=i.errors.purchaseVatType)||void 0===s?void 0:s.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabMoreInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"purchaseVatType",control:o,render:e=>{let{field:t}=e;return(0,l.jsx)(He.A,{options:c.purchaseVatType,selectedId:t.value,componentType:"autocomplete-table",placeholder:"부가세 코드 선택",autocompleteBoxClassName:"w-full",onChange:(e,a)=>t.onChange(a.id)})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabMoreInfo.tsx"})}),(0,l.jsx)(Fn,{label:"사업","data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabMoreInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"industryCode",control:o,render:e=>{let{field:t}=e;return(0,l.jsx)(He.A,{options:c.industries,selectedId:t.value,componentType:"autocomplete-table",placeholder:"사업 선택",autocompleteBoxClassName:"w-full",onChange:(e,a)=>t.onChange(a.id)})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabMoreInfo.tsx"})}),(0,l.jsx)(Zc,{control:o,"data-sentry-element":"ServiceDropDown","data-sentry-source-file":"DetailTabMoreInfo.tsx"})]})]})]})};const Zu=[{id:"basicInfo",label:"기본 정보"},{id:"moreInfo",label:"상세 정보"},{id:"driverInfo",label:"운영 자원"},{id:"documentsInfo",label:"제출 서류"},{id:"accountInfo",label:"계정 정보"}],Ju=[{id:"basicInfo",label:"기본 정보"},{id:"documentsInfo",label:"제출 서류"}];var $u=function(e){let{isNew:t=!1,detailData:a,onRegisterComplete:s,isChangedFile:n,setIsChangedFile:o}=e;const[i,d]=(0,r.useState)(Ju[0]),c=!!(null==a?void 0:a.mdmCode),u=(0,r.useMemo)((()=>t?Ju:c?Zu:Zu.filter((e=>"accountInfo"!==e.id))),[a,t]);return(0,r.useEffect)((()=>{d(Ju[0])}),[t,u,a]),(0,l.jsx)("div",{className:"flex flex-col","data-sentry-component":"Detail","data-sentry-source-file":"index.tsx",children:(0,l.jsxs)(Fu,{isNew:t,detailData:a,onRegisterComplete:s,isChangedFile:n,setIsChangedFile:o,"data-sentry-element":"DetailProvider","data-sentry-source-file":"index.tsx",children:[(0,l.jsx)(ku,{detailData:a,tabItems:u,selectedTabId:i.id,onChangeTab:e=>{d(e)},onChangeFileTab:()=>{d({id:"documentsInfo",label:"제출 서류"})},"data-sentry-element":"DetailTop","data-sentry-source-file":"index.tsx"}),(0,l.jsxs)("div",{className:"h-[calc(100vh-352px)] overflow-y-auto",children:[t&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(qu,{isShow:"basicInfo"===i.id}),(0,l.jsx)(Wu,{isShow:"documentsInfo"===i.id})]}),!t&&!c&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(qu,{isShow:"basicInfo"===i.id}),(0,l.jsx)(Qu,{isShow:"moreInfo"===i.id}),(0,l.jsx)(Xu,{isShow:"driverInfo"===i.id}),(0,l.jsx)(Wu,{isShow:"documentsInfo"===i.id})]}),!t&&c&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(qu,{isShow:"basicInfo"===i.id}),(0,l.jsx)(Qu,{isShow:"moreInfo"===i.id}),(0,l.jsx)(Xu,{isShow:"driverInfo"===i.id}),(0,l.jsx)(Wu,{isShow:"documentsInfo"===i.id}),(0,l.jsx)(Yu,{isShow:"accountInfo"===i.id})]})]})]})})};const em=[{field:"__check__",headerName:"",width:76,minWidth:76,maxWidth:76,sortable:!1,disableColumnMenu:!0,align:"right",headerClassName:"check-right-align"},{field:"id",headerName:"No.",sortable:!1,width:48,align:"center"},{field:"mdmCorporationCode",headerName:"인사조직",width:152,valueFormatter:e=>Je.X.getState().getMetaLabel(Ze.k.COMMON_MDM_CORPORATION_CODE,e)},{field:"mdmCode",headerName:"MDM 코드",width:152,align:"center",valueFormatter:e=>e},{field:"mdmStatus",headerName:"MDM 상태",width:152,align:"center",cellClassName:"flex h-full w-full items-center justify-center",renderCell:e=>(0,l.jsx)(rc.Ay.MdmStatusTag,{status:e.row.mdmStatusType})},{field:"name",headerName:"사업자명",minWidth:310,flex:1},{field:"businessType",headerName:"사업자 종류",width:152,align:"center",cellClassName:"flex h-full w-full items-center justify-center",renderCell:e=>(0,l.jsx)(rc.Ay.BusinessType,{businessType:e.row.businessType})},{field:"registrationNumber",headerName:"사업자 번호",width:152},{field:"driverCount",headerName:"소속 차주(명)",width:100,valueFormatter:e=>e.toLocaleString()},{field:"vehicleCount",headerName:"소속 차량(대)",width:100,valueFormatter:e=>e.toLocaleString()}];var tm=function(e){let{isActive:t,isRegister:a}=e;const s=(0,$e.P9)(),n=E(),o=(0,r.useRef)(null),i=(0,D.bBi)(),d=v(),c=(0,r.useRef)(!0),[u,m]=(0,r.useState)(null),[p,h]=(0,r.useState)(!1),[f,C]=(0,r.useState)({}),[x,N]=(0,r.useState)(0),[y,A]=(0,r.useState)(!1),{mutateAsync:g,isSuccess:b,data:R}=(0,T.n)(["getTransportPartnerList"],(async e=>{const t=await I.q.api((t=>t.ApiVendorV1PartnerList(fu.toListRequest(e))));var a;return fu.toListResult(null!==(a=t.data.result.itemList)&&void 0!==a?a:[])})),{data:S,mutateAsync:_,isSuccess:w}=(0,T.n)(["memberManager/useTransPartnerExcelDownloadMutation"],(async e=>(await I.q.api((t=>t.ApiVendorV1PartnerListExcel(e,{format:"blob"})))).data)),{mutateAsync:O,isSuccess:M}=Au(),j=async e=>{await g(e)},P=async e=>{try{const t=await(async e=>{const t=await I.q.api((t=>t.ApiVendorV1PartnerDetail(e)));return fu.toDetailResult(t.data.result)})(e);t.vendorId!==(null==u?void 0:u.vendorId)&&A(!1),m(t)}catch(e){s({message:e.message,type:"caution"})}};return(0,r.useEffect)((()=>{pe.sV.on(xd,(()=>{h(!0)}))}),[]),(0,r.useEffect)((()=>{t&&c.current&&j(f)}),[t]),(0,r.useEffect)((()=>{var e;b&&(null===(e=o.current)||void 0===e||e.setInitData(R),c.current&&R.length&&(P({vendorId:R[0].vendorId}),c.current=!1))}),[b]),(0,r.useEffect)((()=>{M&&s({message:"더운반 초대 링크가 발송되었습니다."})}),[M]),(0,l.jsx)(nu,{isOpenRightPanel:a||u,rightPanelWidth:448,onClickCloseButton:()=>{a&&pe.sV.emit(vd),u&&m(null)},leftSidePanel:(0,l.jsx)("section",{className:"flex h-full w-full flex-col",children:(0,l.jsxs)("div",{className:"filterContainer",children:[(0,l.jsx)(Ve.A.Provider,{params:f,setParams:C,onSearch:async e=>{j(e)},children:e=>(0,l.jsxs)(xt.A,{containerClassName:"max-w-[1265px]",children:[(0,l.jsxs)(Ct.A,{children:[(0,l.jsx)(Ve.A.AllMetaAutocompleteSearch,{label:"인사조직",allMetaType:Ze.k.COMMON_MDM_CORPORATION_CODE,className:"!w-[140px]"}),(0,l.jsx)(Ve.A.SearchText,{label:"담당자",placeholder:"담당자명 입력",fieldName:"managerName",className:"w-[140px]"})]}),(0,l.jsx)(Ct.A,{children:(0,l.jsx)(Ve.A.SearchText,{label:"MDM 코드",placeholder:"MDM 코드 입력",fieldName:"mdmCode",className:"w-[140px]"})}),(0,l.jsx)(Ct.A,{children:(0,l.jsx)(Ve.A.MdmStatus,{autocompleteClassName:"!w-[140px]"})}),(0,l.jsx)(Ct.A,{children:(0,l.jsx)(Ve.A.SearchText,{label:"사업자명",placeholder:"사업자명 입력",fieldName:"businessName",className:"w-[140px]"})}),(0,l.jsx)(Ct.A,{children:(0,l.jsx)(Ve.A.SearchText,{label:"사업자 번호",placeholder:"사업자 번호 입력",fieldName:"registrationNumber",className:"w-[140px]"})})]})}),(0,l.jsxs)("div",{className:"w-full",children:[(0,l.jsx)("div",{className:"h-[calc(100vh-361px)]",children:(0,l.jsx)(Fa.A,{ref:o,gridApiRef:i,checkboxSelection:!0,columns:em,initialState:{pinnedColumns:{left:["__check__","id"]}},onRowDoubleClick:e=>{p?d({title:"작성 중인 정보가 있습니다.",description:"화면을 나가면 작성된 정보가 삭제됩니다.",confirmButtonLabel:"나가기",onClickConfirmButton:()=>{P({vendorId:e.row.vendorId}),h(!1)}}):(P({vendorId:e.row.vendorId}),h(!1))}})}),(0,l.jsxs)("div",{className:"flex justify-end gap-[8px] px-[40px] py-[16px]",children:[(0,l.jsx)(_c,{onInvite:()=>{const e=Array.from(i.current.getSelectedRows().values());e.length?d({title:"더운반 초대 링크를 발송하시겠어요?",description:"더운반 파트너 포털 링크가 알림톡으로 발송됩니다.",confirmButtonLabel:"확인",onClickConfirmButton:()=>{O({vendorUserIdList:e.map((e=>e.mainUserVendorUserId))})}}):n({title:"초대할 파트너를 선택해 주세요."})}}),(0,l.jsx)(We,{excelFileName:"회원관리_파트너",isSuccessExcel:w,excelData:S,handleExcelDownload:()=>_(fu.toExcelDownRequest(f))})]})]})]})}),rightSidePanel:(0,l.jsx)($u,{isNew:p,detailData:u,onRegisterComplete:e=>{h(!1),j(f),P({vendorId:e}),N((e=>e+1)),pe.sV.emit(vd)},isChangedFile:y,setIsChangedFile:A},x),"data-sentry-element":"TmsBasicSlidePanel","data-sentry-component":"TransportPartnerManager","data-sentry-source-file":"TransportPartnerManager.tsx"})};const am=()=>(0,T.n)(["DriverUserIdCheck"],(async e=>(await I.q.api((t=>t.ApiVendorUserV1CheckExistsLoginId(e)))).data.result)),lm={toListRequest:e=>({mdmCorporationCode:e.commonMdmCorporationCode||null,mdmCode:e.mdmCode,mdmStatusType:e.mdmStatus||null,name:e.businessName,registrationNumber:e.registrationNumber,plateNumber:e.vehicleNumber,driverTelNo:e.driverTelNo,createdAtFrom:e.createdAtFrom,createdAtTo:e.createdAtTo}),getFileOfType:(e,t)=>e.find((e=>{let{fileType:a}=e;return a===t}))||null,toDetailResult:e=>{var t,a,l,r,s,n,o,i,d,c,u,m;return e?{...e,...e.vehicleInfo,isWciTargetType:String(e.isWciTarget),isCheckOriginVendor:(!!e.vehicleInfo.originVendorName).toString(),isBankAccountVerified:!!e.bankAccountNo,vehicleTonCode:e.vehicleInfo.mdmTonCode,addressDetail:e.addressInfo.detailAddress,businessLicenseFile:lm.getFileOfType(e.registrationFileInfoList,R.PgO.BUSINESS_LICENSE),bankBookFile:lm.getFileOfType(e.registrationFileInfoList,R.PgO.COPY_OF_BANKBOOK),driverLicenseFile:lm.getFileOfType(e.registrationFileInfoList,R.PgO.DRIVER_LICENSE),vendorFiType:e.vendorFiType||null,representativeName:e.representativeName||"",corporationNumber:e.corporationNumber||"",condition:e.condition||"",category:e.category||"",bankAccountNo:e.bankAccountNo||"",isUserUsed:(null===(a=e.driverUserInfo)||void 0===a||null===(t=a.isUsed)||void 0===t?void 0:t.toString())||"true",isUserIdVerified:!!(null===(l=e.driverUserInfo)||void 0===l?void 0:l.loginId),userId:(null===(r=e.driverUserInfo)||void 0===r?void 0:r.loginId)||(null==e||null===(s=e.vehicleInfo)||void 0===s?void 0:s.driverTelNo),userName:(null===(n=e.driverUserInfo)||void 0===n?void 0:n.name)||(null==e||null===(o=e.vehicleInfo)||void 0===o?void 0:o.driverName),email:(null===(i=e.driverUserInfo)||void 0===i?void 0:i.email)||"",notiChannel:bd(e.driverUserInfo),isAdvertisementInformationAgree:null===(c=e.driverUserInfo)||void 0===c||null===(d=c.isAdvertisementInformationAgree)||void 0===d?void 0:d.toString(),isMarketingUtilizationAgree:null===(m=e.driverUserInfo)||void 0===m||null===(u=m.isMarketingUtilizationAgree)||void 0===u?void 0:u.toString(),managerName:e.managerName||"",managerPhoneNumber:e.managerPhoneNumber||"",managerEmail:e.managerEmail||"",plateNumber:e.vehicleInfo.plateNumber||"",vehicleType:e.vehicleInfo.vehicleType||null,originVendorName:e.vehicleInfo.originVendorName||"",driverName:e.vehicleInfo.driverName||"",preferenceNodeList:kd().preferenceNodeList.map(((t,a)=>{var l,r;return{seq:t.seq,departureMdmNodeCode:(null===(l=e.preferenceNodeList[a])||void 0===l?void 0:l.departureMdmNodeCode)||"",arrivalMdmNodeCode:(null===(r=e.preferenceNodeList[a])||void 0===r?void 0:r.arrivalMdmNodeCode)||""}}))}:null},toRegistrationRequest:e=>{var t,a,l,r,s,n;const o=(null===(t=e.businessLicenseFile)||void 0===t?void 0:t.attachFileId)||(null===(a=e.bankBookFile)||void 0===a?void 0:a.attachFileId)||(null===(l=e.driverLicenseFile)||void 0===l?void 0:l.attachFileId);return{registrationNumber:e.registrationNumber,businessType:R.ofn[e.businessType],name:e.name,nameSimplified:e.nameSimplified,representativeName:e.representativeName,corporationNumber:e.corporationNumber,addressInfo:{...e.addressInfo,detailAddress:e.addressDetail},condition:e.condition,category:e.category,sizeType:R.xHC[e.sizeType],vendorFiType:e.vendorFiType,isWciTarget:"true"===e.isWciTargetType,mdmPaymentConditionCode:e.mdmPaymentConditionCode,attachFileIdList:o?[null===(r=e.businessLicenseFile)||void 0===r?void 0:r.attachFileId,null===(s=e.bankBookFile)||void 0===s?void 0:s.attachFileId,null===(n=e.driverLicenseFile)||void 0===n?void 0:n.attachFileId]:void 0,vehicleInfo:{plateNumber:e.plateNumber,vehicleType:R.aU$[e.vehicleType],driverName:e.driverName,mdmTonCode:e.vehicleTonCode,originVendorName:e.originVendorName,driverTelNo:e.driverTelNo}}},toUpdateRequest:e=>{var t,a,l,r;return{vendorId:e.vendorId,name:e.name,nameSimplified:e.nameSimplified,representativeName:e.representativeName,addressInfo:{...e.addressInfo,detailAddress:e.addressDetail},condition:e.condition,category:e.category,sizeType:R.w8c[e.sizeType],vendorFiType:e.vendorFiType,industryCode:e.industryCode,serviceCode:e.serviceCode,serviceCode2:e.serviceCode2,managerName:e.managerName,managerPhoneNumber:e.managerPhoneNumber,managerEmail:e.managerEmail,mdmCorporationCode:e.mdmCorporationCode,mdmCostCenterCode:e.mdmCostCenterCode,gradeType:R.yOu[e.gradeType],isWciTarget:"true"===e.isWciTargetType,bankTypeCode:e.bankTypeCode,bankAccountNo:e.bankAccountNo,attachFileIdList:[null===(t=e.businessLicenseFile)||void 0===t?void 0:t.attachFileId,null===(a=e.bankBookFile)||void 0===a?void 0:a.attachFileId,null===(l=e.driverLicenseFile)||void 0===l?void 0:l.attachFileId],vehicleInfo:{plateNumber:e.plateNumber,vehicleType:R.aU$[e.vehicleType],driverName:e.driverName,mdmTonCode:e.vehicleTonCode,originVendorName:e.originVendorName,driverTelNo:e.driverTelNo},purchaseVatType:R.zXm[e.purchaseVatType],driverUserInfo:e.mdmCode&&e.isUserIdVerified?{isUsed:"true"===e.isUserUsed,loginId:null===(r=e.userId)||void 0===r?void 0:r.toString(),name:e.userName,email:e.email,isSmsReceive:Rd(e.notiChannel),isEmailReceive:Sd(e.notiChannel),isAdvertisementInformationAgree:"true"===e.isAdvertisementInformationAgree,isMarketingUtilizationAgree:"true"===e.isMarketingUtilizationAgree}:void 0,preferenceNodeList:e.preferenceNodeList.map((e=>({seq:e.seq,departureMdmNodeCode:(null==e?void 0:e.departureMdmNodeCode)||"",arrivalMdmNodeCode:(null==e?void 0:e.arrivalMdmNodeCode)||""})))}}},rm=(0,r.createContext)(null);function sm(e){let{isNew:t,children:a,detailData:s,onRegisterComplete:n,changeDocumentTab:o,isChangedFile:d,setIsChangedFile:c}=e;const{setIsLoading:u}=(0,i.o)(),m=(0,$e.P9)(),[p,h]=(0,r.useState)(!1),{mutateAsync:f,isSuccess:C,isError:x,error:N,isLoading:y,data:E}=(0,T.n)(["createDriver"],(async e=>(await I.q.api((t=>t.ApiVendorV1DriverCreate(e)))).data.result)),{mutateAsync:v,isSuccess:A,isError:g,error:b,isLoading:R,data:S}=(0,T.n)(["updateDriver"],(async e=>(await I.q.api((t=>t.ApiVendorV1DriverUpdate(e)))).data.result)),{control:_,formState:w,getValues:O,getFieldState:M,handleSubmit:D,reset:j,clearErrors:P,setError:L,setValue:B,trigger:U,register:V}=(0,Hr.mN)({defaultValues:kd(),mode:"onChange",shouldUnregister:!0}),{isValid:F,errors:G}=w;(0,r.useEffect)((()=>{t&&j(kd(),{keepDefaultValues:!1})}),[t]),(0,r.useEffect)((()=>{s&&j(s,{keepDefaultValues:!1}),c(!1)}),[s]);return(0,r.useEffect)((()=>{C&&E&&(m({message:"차주 회원이 등록되었습니다.",type:"success"}),n(E.vendorId))}),[C]),(0,r.useEffect)((()=>{x&&N&&m({message:N.message,type:"caution"})}),[x]),(0,r.useEffect)((()=>{A&&S&&(m({message:"차주 회원이 수정되었습니다.",type:"success"}),n(S.vendorId))}),[A]),(0,r.useEffect)((()=>{g&&b&&(m({message:b.message,type:"caution"}),c(!1))}),[g]),(0,r.useEffect)((()=>{u(y)}),[y]),(0,l.jsx)(rm.Provider,{value:{isNew:t,detailData:s,control:_,formState:w,getValues:O,getFieldState:M,setValue:B,setError:L,clearErrors:P,isChangedFile:d,setIsChangedFile:c,trigger:U,isClickedEEConfirmButton:p,setIsClickedEEConfirmButton:h,onRegisterComplete:n,register:V},"data-sentry-element":"DetailContext.Provider","data-sentry-component":"DetailProvider","data-sentry-source-file":"DetailProvider.tsx",children:(0,l.jsx)("form",{autoComplete:"off",onSubmit:D((async e=>{const a=!("RETURN"===(null==s?void 0:s.mdmStatusType)||"RE_RETURN"===(null==s?void 0:s.mdmStatusType)||"NONE"===(null==s?void 0:s.mdmStatusType));if(F||0===Object.keys(G).length)try{var l;if(!(null===(l=e.addressInfo)||void 0===l?void 0:l.address1))return L("addressInfo",{message:"사업장 주소 필수 정보를 입력해주세요."}),void m({message:"사업장 주소 필수 정보를 입력해주세요.",type:"fail"});if(!a&&e.bankAccountNo&&!O("isBankAccountVerified"))return L("bankAccountNo",{message:"계좌번호를 인증을 완료해주세요."}),void m({message:"계좌번호를 인증을 완료해주세요.",type:"fail"});if(t){if(P(),!e.isRegistrationNumberVerified)return m({message:"사업자 번호 인증을 진행해 주세요",type:"fail"}),void L("registrationNumber",{message:"사업자 번호 인증을 진행해 주세요"});await f(lm.toRegistrationRequest(e))}else{var r,n;if(s.plateNumber!==e.plateNumber&&!e.isPlateNumberVerified)return m({message:"차량번호 중복 확인을 진행해 주세요",type:"fail"}),void L("plateNumber",{message:"차량번호 중복 확인을 진행해 주세요"});if(!e.isUserIdVerified&&(e.userName||e.telMobile))return m({message:"아이디 중복 확인이 필요합니다"}),void L("userId",{message:"아이디 중복 확인이 필요합니다"});if(e.isUserIdVerified&&!e.userName)return m({message:"이름을 입력해 주세요"}),void L("userName",{message:"이름을 입력해 주세요"});await v(lm.toUpdateRequest(e));const t=(null===(r=e.businessLicenseFile)||void 0===r?void 0:r.attachFileId)!==(null===(n=s.businessLicenseFile)||void 0===n?void 0:n.attachFileId);c(t)}}catch(e){m({message:e.message,type:"caution"})}else m({message:"입력값을 확인해주세요.",type:"fail"}),window.console.log("onSubmitForm INVALID:",w.errors)}),(e=>{var t;const a=Object.keys(e);if(a[0].indexOf("File")>-1)return m({message:"필수 서류를 업로드해 주세요.",type:"fail"}),void o();const l="".concat(_d(a[0])," ").concat((null===(t=e[a[0]])||void 0===t?void 0:t.message)||"입력값을 확인해주세요.");m({message:l,type:"fail"}),window.console.error(e)})),onKeyDown:e=>{"Enter"===e.key&&e.target instanceof HTMLInputElement&&e.preventDefault()},children:a})})}function nm(){return(0,r.useContext)(rm)}var om=function(e){const{detailData:t,tabItems:a,selectedTabId:s,onChangeTab:n,onChangeFileTab:o}=e,{isNew:d,trigger:c,setError:p,isClickedEEConfirmButton:h,getValues:f,onRegisterComplete:C}=nm(),x=(0,$e.P9)(),{user:N,getOperationIsActive:y}=(0,i.o)(),[E]=(0,r.useState)(y(gd.MEMBER_MANAGEMENT_DRIVER,Ad.UPDATE)),{mutateAsync:v,isSuccess:A,isLoading:g,isError:b,error:S}=(0,T.n)(["driverMdmRequest"],(async e=>(await I.q.api((t=>t.ApiVendorV1DriverMdmRequest(e)))).data.result));return(0,r.useEffect)((()=>{A&&(x({message:"MDM 승인 요청을 상신했습니다."}),C(null==t?void 0:t.vendorId))}),[A]),(0,r.useEffect)((()=>{b&&S&&x({message:S.message,type:"caution"})}),[b]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"bg-blue98 border-b-blue95 flex flex-col gap-[16px] border-b-[1px] px-[24px] py-[16px]",children:[(0,l.jsx)("div",{className:"flex flex-row justify-between",children:d?(0,l.jsxs)("div",{className:"flex w-full flex-row items-center justify-between",children:[(0,l.jsx)("div",{className:"flex flex-row items-center gap-[4px]",children:(0,l.jsx)(ac,{type:"info",children:"e증빙 승인 요청은 회원 등록 후 가능합니다."})}),(0,l.jsx)(ui,{type:"submit",label:"회원 등록"})]}):(0,l.jsxs)("div",{className:"flex w-full flex-row items-center justify-between",children:[(0,l.jsx)("div",{className:"flex flex-row items-center gap-[8px]",children:(0,l.jsx)(u.A,{disabled:g,label:(null==t?void 0:t.mdmStatusType)===R.B19.COMPLETE||(null==t?void 0:t.mdmStatusType)===R.B19.RE_REQUEST?"MDM 갱신":"MDM 상신",size:m.M.Small,level:m.V.level_5,leftIcon:(0,l.jsx)($d,{width:16,height:16,className:"text-grey50"}),onClick:async()=>{const e=f("businessLicenseFile"),a=f("bankBookFile");if(e||p("businessLicenseFile",{message:"필수 서류를 먼저 업로드해 주세요."}),N.isSuper&&!a&&p("bankBookFile",{message:"필수 서류를 먼저 업로드해 주세요."}),!e||!N.isSuper&&!a)return x({message:"필수 서류를 먼저 업로드해 주세요.",type:"fail"}),void o();!N.isSuper||f("isBankAccountVerified")||f("bankBookFile")?h?await v({vendorId:t.vendorId}):x({message:"e증빙 확인 버튼을 먼저 클릭해 주세요.",type:"fail"}):x({message:"계좌 인증 또는 통장 사본을 업로드해 주세요.",type:"fail"})}})}),E&&(0,l.jsx)(_t.A,{type:"submit"})]})}),d?(0,l.jsx)("div",{className:"flex flex-row items-center gap-[8px]",children:(0,l.jsx)(oc,{gradient:!0,children:"새 회원 등록하기"})}):(0,l.jsxs)("div",{className:"Body5_B flex flex-row items-center gap-[8px]",children:[(0,l.jsx)(oc,{children:null==t?void 0:t.name}),(0,l.jsx)(sc,{status:null==t?void 0:t.mdmStatusType,code:null==t?void 0:t.mdmCode})]}),(0,l.jsx)(nc,{items:a,selectedId:s,onChange:n,"data-sentry-element":"TmsBasicRoundedTabs","data-sentry-source-file":"DetailTop.tsx"})]}),!d&&("RETURN"===(null==t?void 0:t.mdmStatusType)||"RE_RETURN"===(null==t?void 0:t.mdmStatusType))&&(0,l.jsx)(lc,{type:"error",reason:"FSC 반려 사유",children:t.mdmReceiveComments})]})};var im=function(e){var t,a,r,s,n,o,i;const{isShow:d=!1}=e,{control:c,formState:u,setValue:m,detailData:p}=nm(),h=(0,Hr.FH)({control:c,name:"isUserIdVerified"});return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("div",{className:C()("flex flex-col gap-[20px] p-[24px]",{hidden:!d}),children:(0,l.jsxs)("div",{children:[(0,l.jsx)(kn,{label:"메인 계정","data-sentry-element":"DetailSection","data-sentry-source-file":"DetailTabAccountInfo.tsx"}),(0,l.jsxs)(Vn,{"data-sentry-element":"InfoTable","data-sentry-source-file":"DetailTabAccountInfo.tsx",children:[(0,l.jsx)(Fn,{label:"아이디(연락처)",error:null===(t=u.errors.userId)||void 0===t?void 0:t.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabAccountInfo.tsx",children:(0,l.jsx)(Nc,{inputPlaceholder:"운전자 연락처 입력",useFormContext:nm(),useCheckUserId:am,detailData:p,isOnlyNumberId:!0,"data-sentry-element":"UserIdInput","data-sentry-source-file":"DetailTabAccountInfo.tsx"})}),(0,l.jsx)(Fn,{label:"계정 상태",required:h,error:null===(a=u.errors.isUserUsed)||void 0===a?void 0:a.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabAccountInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"isUserUsed",control:c,rules:h?{required:Hn.required}:{},render:e=>{let{field:t}=e;return(0,l.jsx)(Un,{groupName:"isUserUsed",items:[{id:"true",label:"활성"},{id:"false",label:"비활성"}],...t})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabAccountInfo.tsx"},h?"verified":"not-verified")}),(0,l.jsx)(Fn,{label:"이름",required:h,error:null===(r=u.errors.userName)||void 0===r?void 0:r.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabAccountInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"userName",control:c,render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{componentType:"input-table",placeholder:"이름 입력",className:"w-full",...t})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabAccountInfo.tsx"})}),(0,l.jsx)(Fn,{label:"이메일",error:null===(s=u.errors.email)||void 0===s?void 0:s.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabAccountInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"email",control:c,rules:{pattern:Hn.email},render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{componentType:"input-table",placeholder:"이메일 입력",className:"w-full",...t})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabAccountInfo.tsx"})}),(0,l.jsx)(Fn,{label:"알림 채널",error:null===(n=u.errors.notiChannel)||void 0===n?void 0:n.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabAccountInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"notiChannel",control:c,render:e=>{let{field:t}=e;return(0,l.jsx)(dc,{groupName:"notiChannel",items:Wn.RECEIVER_TYPES,...t})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabAccountInfo.tsx"})}),(0,l.jsx)(Fn,{label:"광고성 정보 수신",error:null===(o=u.errors.isAdvertisementInformationAgree)||void 0===o?void 0:o.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabAccountInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"isAdvertisementInformationAgree",control:c,render:e=>{let{field:t}=e;return(0,l.jsx)(Un,{groupName:"isAdvertisementInformationAgree",items:[{id:"true",label:"동의"},{id:"false",label:"동의 안 함"}],value:t.value,onChange:e=>m("isAdvertisementInformationAgree",e)})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabAccountInfo.tsx"})}),(0,l.jsx)(Fn,{label:"마케팅 활용",error:null===(i=u.errors.isMarketingUtilizationAgree)||void 0===i?void 0:i.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabAccountInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"isMarketingUtilizationAgree",control:c,render:e=>{let{field:t}=e;return(0,l.jsx)(Un,{groupName:"isMarketingUtilizationAgree",items:[{id:"true",label:"동의"},{id:"false",label:"동의 안 함"}],value:t.value,onChange:e=>m("isMarketingUtilizationAgree",e)})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabAccountInfo.tsx"})})]})]})})})};var dm=function(){const e=(0,$e.P9)(),{control:t,getValues:a,setValue:s,setError:n,clearErrors:o,detailData:i}=nm(),{mutate:d,data:c,isSuccess:p,isError:h,error:f,isLoading:C,reset:x}=(0,T.n)(["checkBankAccountNumber"],(async e=>(await I.q.api((t=>t.ApiVendorV1DriverCheckBankInfo(e)))).data.result)),N=a("bankAccountNo"),y=!("RETURN"===(null==i?void 0:i.mdmStatusType)||"RE_RETURN"===(null==i?void 0:i.mdmStatusType)||"NONE"===(null==i?void 0:i.mdmStatusType)),E=()=>{a("bankTypeCode")?d({vendorId:i.vendorId,bankTypeCode:a("bankTypeCode"),bankAccountNo:N}):e({message:"은행명을 선택해 주세요"})};return(0,r.useEffect)((()=>{p&&(c.isSuccess?(s("isBankAccountVerified",!0),o("bankAccountNo")):(s("isBankAccountVerified",!1),n("bankAccountNo",{type:"manual",message:c.message||"올바른 계좌 번호를 입력해 주세요."})))}),[p,c,s,n,o]),(0,r.useEffect)((()=>{h&&(e({message:(null==f?void 0:f.message)||"계좌번호 인증 중 오류가 발생했습니다.",type:"caution"}),s("isBankAccountVerified",!1),n("bankAccountNo",{type:"manual",message:"계좌번호 인증 중 오류가 발생했습니다."}))}),[h,f,s,n]),(0,l.jsx)(Hr.xI,{name:"bankAccountNo",control:t,render:e=>{let{field:t}=e;return(0,l.jsxs)("div",{className:"flex w-full items-center justify-between",children:[(0,l.jsx)(Tt.A,{autoComplete:"off",componentType:"input-table",placeholder:"계좌번호 입력",className:"flex-1",...t,onChange:e=>{const a=e.target.value.replace(/[^0-9]/g,"");t.onChange(a),s("isBankAccountVerified",!1),o("bankAccountNo"),x()},onBlur:e=>{const a=e.target.value.replace(/[^0-9]/g,"");t.onChange(a),t.onBlur()},disabled:y}),(0,l.jsxs)("div",{className:"mr-[12px] flex items-center gap-[12px]",children:[a("isBankAccountVerified")&&(0,l.jsxs)("div",{className:"text-success Caption1_B flex flex-none items-center",children:[(0,l.jsx)(xc,{className:"text-success h-[20px] w-[20px]"}),"인증 완료"]}),(0,l.jsx)(u.A,{className:"flex-none",size:m.M.Xsmall,level:m.V.level_5,label:"인증",onClick:E,disabled:a("isBankAccountVerified")||C||y})]})]})},"data-sentry-element":"Controller","data-sentry-component":"BankAccountNoInput","data-sentry-source-file":"BankAccountNoInput.tsx"})};var cm=function(e){var t,a,s,n,o,d,c,u,m,p,h,f,x,N,y,E,v,A;const{isShow:g=!1}=e,{isNew:T,control:I,formState:b,setValue:R,clearErrors:S,detailData:_}=nm(),w=Lc(),{commonMetaV2List:O}=(0,Je.X)(),{user:M}=(0,i.o)(),D=(0,Hr.FH)({control:I,name:"businessType"});return(0,r.useEffect)((()=>{T&&("CORPORATE"===D?(R("corporationNumber",""),R("isWciTargetType","false")):(S("corporationNumber"),R("corporationNumber","1111111111111"),R("isWciTargetType","true")))}),[D]),(0,l.jsxs)("div",{className:C()("flex flex-col gap-[20px] p-[24px]",{hidden:!g}),"data-sentry-component":"DetailTabBasicInfo","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:[(0,l.jsxs)(Vn,{"data-sentry-element":"InfoTable","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:[(0,l.jsx)(Fn,{label:"사업자 번호",required:!0,error:null===(t=b.errors.registrationNumber)||void 0===t?void 0:t.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:(0,l.jsx)(Pc,{useDetailContext:nm,"data-sentry-element":"RegistrationNumberInput","data-sentry-source-file":"DetailTabBasicInfo.tsx"})}),(0,l.jsx)(Fn,{label:"사업자 종류",required:!0,error:null===(a=b.errors.businessType)||void 0===a?void 0:a.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"businessType",control:I,rules:{required:Hn.required},render:e=>{let{field:t}=e;return T?(0,l.jsx)(Un,{groupName:"businessType",items:w.businessTypes,...t}):(0,l.jsx)(Tt.A,{className:"w-full",componentType:"input-table",disabled:!0,value:null===(a=w.businessTypes.find((e=>e.id===t.value)))||void 0===a?void 0:a.label});var a},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabBasicInfo.tsx"})}),(0,l.jsx)(Fn,{label:"사업자명(법인명)",required:!0,error:null===(s=b.errors.name)||void 0===s?void 0:s.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"name",control:I,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{componentType:"input-table",autoComplete:"off",placeholder:"사업자명 입력",className:"w-full",...t})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabBasicInfo.tsx"})}),(0,l.jsx)(Fn,{label:"사업자명(약어)",error:null===(n=b.errors.nameSimplified)||void 0===n?void 0:n.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"nameSimplified",control:I,render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{autoComplete:"off",componentType:"input-table",placeholder:"사업자명(약어) 입력",className:"w-full",...t})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabBasicInfo.tsx"})}),(0,l.jsx)(Fn,{label:"대표자명",required:!0,error:null===(o=b.errors.representativeName)||void 0===o?void 0:o.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"representativeName",control:I,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{autoComplete:"off",componentType:"input-table",placeholder:"대표자명 입력",className:"w-full",value:t.value,...t})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabBasicInfo.tsx"})}),(0,l.jsx)(Fn,{label:"법인등록번호",required:!0,error:null===(d=b.errors.corporationNumber)||void 0===d?void 0:d.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"corporationNumber",control:I,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{type:"text",autoComplete:"off",componentType:"input-table",placeholder:"법인등록번호 입력",className:"w-full",maxLength:13,disabled:"CORPORATE"!==D,...t,onChange:e=>{const a=e.target.value.replace(/[^0-9]/g,"");t.onChange(a)}})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabBasicInfo.tsx"})}),(0,l.jsx)(Fn,{label:"사업장 주소",required:!0,error:null===(c=b.errors.addressInfo)||void 0===c?void 0:c.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"addressInfo",control:I,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(qn,{placeholder:"사업장 주소 입력",...t,optionsBoxWidth:400})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabBasicInfo.tsx"})}),(0,l.jsx)(Fn,{label:"상세 주소",error:null===(u=b.errors.addressDetail)||void 0===u?void 0:u.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"addressDetail",control:I,render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{autoComplete:"off",componentType:"input-table",placeholder:"사업장 상세 주소 입력",className:"w-full",...t})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabBasicInfo.tsx"})}),(0,l.jsx)(Fn,{label:"업태",required:!0,error:null===(m=b.errors.condition)||void 0===m?void 0:m.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"condition",control:I,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{autoComplete:"off",componentType:"input-table",placeholder:"업태 입력",className:"w-full",...t})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabBasicInfo.tsx"})}),(0,l.jsx)(Fn,{label:"업종",required:!0,error:null===(p=b.errors.category)||void 0===p?void 0:p.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"category",control:I,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{autoComplete:"off",componentType:"input-table",placeholder:"업종 입력",className:"w-full",...t})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabBasicInfo.tsx"})}),(0,l.jsx)(Fn,{label:"사업자 유형",required:!0,error:null===(h=b.errors.sizeType)||void 0===h?void 0:h.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"sizeType",control:I,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(He.A,{options:w.sizeTypes,selectedId:t.value,componentType:"autocomplete-table",placeholder:"사업자 유형 선택",autocompleteBoxClassName:"w-full",onChange:(e,a)=>t.onChange(a.id)})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabBasicInfo.tsx"})}),!T&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(Fn,{label:"인사조직",required:!0,error:null===(f=b.errors.mdmCorporationCode)||void 0===f?void 0:f.message,children:(0,l.jsx)(Hr.xI,{name:"mdmCorporationCode",control:I,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(He.A,{options:w.activeDeptIds,selectedId:t.value,componentType:"autocomplete-table",placeholder:"인사조직 선택",autocompleteBoxClassName:"w-full",onChange:(e,a)=>t.onChange(a.id)})}})}),(0,l.jsx)(Fn,{label:"코스트 센터",required:!0,error:null===(x=b.errors.mdmCostCenterCode)||void 0===x?void 0:x.message,children:(0,l.jsx)(Hr.xI,{name:"mdmCostCenterCode",control:I,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(He.A,{options:w.purchaseCostCenters,selectedId:t.value,componentType:"autocomplete-table",placeholder:"코스트 센터 선택",autocompleteBoxClassName:"w-full",onChange:(e,a)=>t.onChange(a.id)})}})})]})]}),(0,l.jsxs)(Vn,{"data-sentry-element":"InfoTable","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:[(0,l.jsx)(Fn,{label:"과세 유형",required:!0,error:null===(N=b.errors.vendorFiType)||void 0===N?void 0:N.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"vendorFiType",control:I,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(He.A,{options:w.vendorFiType,selectedId:t.value,componentType:"autocomplete-table",placeholder:"과세 유형 선택",autocompleteBoxClassName:"w-full",onChange:(e,a)=>t.onChange(a.id)})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabBasicInfo.tsx"})}),(0,l.jsx)(Fn,{label:"지급 조건",required:T,error:null===(y=b.errors.mdmPaymentConditionCode)||void 0===y?void 0:y.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"mdmPaymentConditionCode",control:I,rules:T?{required:Hn.required}:{},render:e=>{let{field:t}=e;return(0,l.jsx)(He.A,{disabled:!T,options:w.paymentConditionOptions,selectedId:t.value,componentType:"autocomplete-table",placeholder:"지급 조건 선택",autocompleteBoxClassName:"w-full",onChange:(e,a)=>t.onChange(a.id)})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabBasicInfo.tsx"})}),(0,l.jsx)(Fn,{label:"산재보험대상",required:!0,error:null===(E=b.errors.isWciTargetType)||void 0===E?void 0:E.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"isWciTargetType",control:I,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(Un,{groupName:"isWciTargetType",items:Wn.INSURANCE_TYPES,...t})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabBasicInfo.tsx"})}),!T&&M.isSuper&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(Fn,{label:"은행명",error:null===(v=b.errors.bankTypeCode)||void 0===v?void 0:v.message,children:(0,l.jsx)(Hr.xI,{name:"bankTypeCode",control:I,render:e=>{let{field:t}=e;return(0,l.jsx)(He.A,{options:O[Ze.k.BANK_TYPE_CODE],selectedId:t.value,componentType:"autocomplete-table",placeholder:"은행명 선택",autocompleteBoxClassName:"w-full",onChange:(e,a)=>t.onChange(a.id),disabled:!("RETURN"===(null==_?void 0:_.mdmStatusType)||"RE_RETURN"===(null==_?void 0:_.mdmStatusType)||"NONE"===(null==_?void 0:_.mdmStatusType))})}})}),(0,l.jsx)(Fn,{label:"계좌번호",error:null===(A=b.errors.bankAccountNo)||void 0===A?void 0:A.message,children:(0,l.jsx)(dm,{})}),(0,l.jsx)(ac,{type:"warn",className:"mt-[8px]",children:"대표자명과 동일한 명의의 계좌만 등록할 수 있습니다."})]})]})]})};var um=function(e){const{isShow:t=!1}=e,{isNew:a,control:r,formState:s,detailData:n,isChangedFile:o,setIsChangedFile:d}=nm(),{user:c}=(0,i.o)(),{mutateAsync:u,isSuccess:m,isLoading:p}=(0,T.n)(["driverRequestEdmsUpload"],(async e=>(await I.q.api((t=>t.ApiVendorV1DriverEdmsUpload(e)))).data.result));return(0,l.jsxs)("div",{className:C()("flex flex-col gap-[20px] p-[24px]",{hidden:!t}),"data-sentry-component":"DetailTabDocumentsInfo","data-sentry-source-file":"DetailTabDocumentsInfo.tsx",children:[!a&&(0,l.jsx)(Xc,{onClickUpload:()=>{u({vendorId:null==n?void 0:n.vendorId})},isChangedFile:o,detailData:n,setIsChangedFile:d,isUploadLoading:p,isUploadSuccess:m,useDetailContext:nm}),(0,l.jsxs)("div",{children:[(0,l.jsx)(kn,{label:"사업자 등록증",required:!a,"data-sentry-element":"DetailSection","data-sentry-source-file":"DetailTabDocumentsInfo.tsx"}),(0,l.jsx)(Hr.xI,{name:"businessLicenseFile",control:r,render:e=>{let{field:t}=e;var r,o;return(0,l.jsx)(Kc,{file:t.value,fileType:R.PgO.BUSINESS_LICENSE,refType:R.kLk.VENDOR,refKey:a?null:null==n||null===(r=n.vendorId)||void 0===r?void 0:r.toString(),...t,error:!!(null===(o=s.errors.businessLicenseFile)||void 0===o?void 0:o.message),onFileChange:e=>{t.onChange(e)}})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabDocumentsInfo.tsx"},"businessLicenseFile".concat(a))]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(kn,{label:"통장 사본",required:!c.isSuper,"data-sentry-element":"DetailSection","data-sentry-source-file":"DetailTabDocumentsInfo.tsx"}),(0,l.jsx)(Hr.xI,{name:"bankBookFile",control:r,render:e=>{let{field:t}=e;var r,o;return(0,l.jsx)(Kc,{file:t.value,fileType:R.PgO.COPY_OF_BANKBOOK,refType:R.kLk.VENDOR,refKey:a?null:null==n||null===(r=n.vendorId)||void 0===r?void 0:r.toString(),...t,error:!!(null===(o=s.errors.bankBookFile)||void 0===o?void 0:o.message),onFileChange:e=>{t.onChange(e)}})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabDocumentsInfo.tsx"},"bankBookFile".concat(a))]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(kn,{label:"운전면허증","data-sentry-element":"DetailSection","data-sentry-source-file":"DetailTabDocumentsInfo.tsx"}),(0,l.jsx)(Hr.xI,{name:"driverLicenseFile",control:r,render:e=>{let{field:t}=e;var r;return(0,l.jsx)(Kc,{file:t.value,fileType:R.PgO.DRIVER_LICENSE,refType:R.kLk.VENDOR,refKey:a?null:null==n||null===(r=n.vendorId)||void 0===r?void 0:r.toString(),...t,onFileChange:e=>{t.onChange(e)}})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabDocumentsInfo.tsx"})]})]})};var mm=function(e){var t,a,r,s,n;const{isShow:o=!1}=e,{isNew:i,control:d,formState:c}=nm(),u=Lc();return(0,l.jsxs)("div",{className:C()("flex flex-col gap-[20px] p-[24px]",{hidden:!o}),"data-sentry-component":"DetailTabMoreInfo","data-sentry-source-file":"DetailTabMoreInfo.tsx",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)(kn,{label:"사업자 정보","data-sentry-element":"DetailSection","data-sentry-source-file":"DetailTabMoreInfo.tsx"}),(0,l.jsxs)(Vn,{"data-sentry-element":"InfoTable","data-sentry-source-file":"DetailTabMoreInfo.tsx",children:[(0,l.jsx)(Fn,{label:"담당자명",error:null===(t=c.errors.managerName)||void 0===t?void 0:t.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabMoreInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"managerName",control:d,render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{componentType:"input-table",placeholder:"담당자명 입력",className:"w-full",...t})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabMoreInfo.tsx"})}),(0,l.jsx)(Fn,{label:"담당자 연락처",error:null===(a=c.errors.managerPhoneNumber)||void 0===a?void 0:a.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabMoreInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"managerPhoneNumber",control:d,render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{componentType:"input-table",placeholder:"연락처 입력",className:"w-full",...t,onChange:e=>{t.onChange((0,pe.Mc)(e.target.value))}})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabMoreInfo.tsx"})}),(0,l.jsx)(Fn,{label:"담당자 이메일",error:null===(r=c.errors.managerEmail)||void 0===r?void 0:r.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabMoreInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"managerEmail",control:d,rules:{pattern:Hn.email},render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{componentType:"input-table",placeholder:"이메일 입력",className:"w-full",...t})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabMoreInfo.tsx"})}),(0,l.jsx)(Fn,{label:"거래 상태","data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabMoreInfo.tsx",children:"정상"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(kn,{label:"정산 정보","data-sentry-element":"DetailSection","data-sentry-source-file":"DetailTabMoreInfo.tsx"}),(0,l.jsxs)(Vn,{"data-sentry-element":"InfoTable","data-sentry-source-file":"DetailTabMoreInfo.tsx",children:[(0,l.jsx)(Fn,{label:"등급",error:null===(s=c.errors.gradeType)||void 0===s?void 0:s.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabMoreInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"gradeType",control:d,render:e=>{let{field:t}=e;return(0,l.jsx)(He.A,{options:[{id:"A",label:"A"},{id:"B",label:"B"},{id:"C",label:"C"}],selectedId:t.value,componentType:"autocomplete-table",placeholder:"등급 선택",autocompleteBoxClassName:"w-full",onChange:(e,a)=>t.onChange(a.id)})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabMoreInfo.tsx"})}),(0,l.jsx)(Fn,{label:"부가세 코드",error:null===(n=c.errors.purchaseVatType)||void 0===n?void 0:n.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabMoreInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"purchaseVatType",control:d,render:e=>{let{field:t}=e;return(0,l.jsx)(He.A,{options:u.purchaseVatType,selectedId:t.value,componentType:"autocomplete-table",placeholder:"부가세 코드 선택",autocompleteBoxClassName:"w-full",onChange:(e,a)=>t.onChange(a.id)})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabMoreInfo.tsx"})}),(0,l.jsx)(Fn,{label:"사업","data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabMoreInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"industryCode",control:d,render:e=>{let{field:t}=e;return(0,l.jsx)(He.A,{options:u.industries,selectedId:t.value,componentType:"autocomplete-table",placeholder:"사업 선택",autocompleteBoxClassName:"w-full",onChange:(e,a)=>t.onChange(a.id)})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabMoreInfo.tsx"})}),(0,l.jsx)(Zc,{control:d,"data-sentry-element":"ServiceDropDown","data-sentry-source-file":"DetailTabMoreInfo.tsx"})]})]})]})};var pm=function(){const{control:e,getValues:t,setValue:a,setError:s,clearErrors:n}=nm(),o=(0,$e.P9)(),{mutate:i,data:d,isSuccess:c,isError:p,error:h,isLoading:f,reset:C}=(0,T.n)(["checkPlateNumber"],(async e=>(await I.q.api((t=>t.ApiVendorV1DriverCheckExistsPlateNumber(e)))).data.result)),x=t("plateNumber"),N=()=>{i({plateNumber:x})};return(0,r.useEffect)((()=>{c&&(d.isExist?(a("isPlateNumberVerified",!1),s("plateNumber",{type:"manual",message:"이미 등록된 차량번호입니다."})):(a("isPlateNumberVerified",!0),n("plateNumber")))}),[c,d,a,s,n]),(0,r.useEffect)((()=>{p&&(o({message:(null==h?void 0:h.message)||"차량번호 확인 중 오류가 발생했습니다.",type:"caution"}),a("isPlateNumberVerified",!1),s("plateNumber",{type:"manual",message:"차량번호 확인 중 오류가 발생했습니다."}))}),[p,h,a,s]),(0,l.jsx)(Hr.xI,{name:"plateNumber",control:e,rules:{required:Hn.required,pattern:Hn.plateNumber},render:e=>{let{field:r}=e;return(0,l.jsxs)("div",{className:"flex w-full items-center justify-between",children:[(0,l.jsx)(Tt.A,{autoComplete:"off",componentType:"input-table",placeholder:"차량번호 입력",className:"flex-1",...r,onChange:e=>{r.onChange(e.target.value),a("isPlateNumberVerified",!1),n("plateNumber"),C()}}),(0,l.jsxs)("div",{className:"mr-[12px] flex items-center gap-[12px]",children:[t("isPlateNumberVerified")&&(0,l.jsxs)("div",{className:"text-success Caption1_B flex flex-none items-center",children:[(0,l.jsx)(xc,{className:"text-success h-[20px] w-[20px]"}),"사용 가능"]}),(0,l.jsx)(u.A,{className:"flex-none",size:m.M.Xsmall,level:m.V.level_5,label:"중복 확인",onClick:N,disabled:t("isPlateNumberVerified")||f})]})]})},"data-sentry-element":"Controller","data-sentry-component":"PlateNumberInput","data-sentry-source-file":"PlateNumberInput.tsx"})};var hm=function(e){var t,a,s,n,o,i,d,c;const{isShow:u=!1}=e,{isNew:m,control:p,formState:h,register:f,detailData:x}=nm(),{commonMetaV2List:N}=(0,Je.X)(),y=(0,r.useMemo)((()=>N[Ze.k.VEHICLE_TYPE]),[]),E=(0,r.useMemo)((()=>N[Ze.k.VEHICLE_TON_CODE]),[]),{nodeOptions:v}=$i(),A=(0,Hr.FH)({control:p,name:"isCheckOriginVendor"});return(0,l.jsxs)("div",{className:C()("flex flex-col gap-[20px] p-[24px]",{hidden:!u}),"data-sentry-component":"DetailTabVehicleInfo","data-sentry-source-file":"DetailTabVehicleInfo.tsx",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)(kn,{label:"차량 정보","data-sentry-element":"DetailSection","data-sentry-source-file":"DetailTabVehicleInfo.tsx"}),(0,l.jsxs)(Vn,{"data-sentry-element":"InfoTable","data-sentry-source-file":"DetailTabVehicleInfo.tsx",children:[(0,l.jsx)(Fn,{label:"차량번호",required:!0,error:null===(t=h.errors.plateNumber)||void 0===t?void 0:t.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabVehicleInfo.tsx",children:(0,l.jsx)(pm,{"data-sentry-element":"PlateNumberInput","data-sentry-source-file":"DetailTabVehicleInfo.tsx"})}),(0,l.jsx)(Fn,{label:"차종",required:!0,error:null===(a=h.errors.vehicleType)||void 0===a?void 0:a.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabVehicleInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"vehicleType",control:p,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(He.A,{options:y,selectedId:t.value,componentType:"autocomplete-table",placeholder:"차종 선택",autocompleteBoxClassName:"w-full",onChange:(e,a)=>t.onChange(a.id)})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabVehicleInfo.tsx"},"vehicleType".concat(m))}),(0,l.jsx)(Fn,{label:"톤급",required:!0,error:null===(s=h.errors.vehicleTonCode)||void 0===s?void 0:s.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabVehicleInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"vehicleTonCode",control:p,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(He.A,{options:E,selectedId:t.value,componentType:"autocomplete-table",placeholder:"톤급 선택",autocompleteBoxClassName:"w-full",onChange:(e,a)=>t.onChange(a.id)})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabVehicleInfo.tsx"},"vehicleTonCode".concat(m))}),(0,l.jsx)(Fn,{label:"운전자명",required:!0,error:null===(n=h.errors.driverName)||void 0===n?void 0:n.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabVehicleInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"driverName",control:p,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{componentType:"input-table",placeholder:"운전자명 입력",className:"w-full",...t})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabVehicleInfo.tsx"},"driverName".concat(m))}),(0,l.jsx)(Fn,{label:"운전자 연락처",required:!0,error:null===(o=h.errors.driverTelNo)||void 0===o?void 0:o.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabVehicleInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"driverTelNo",control:p,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{componentType:"input-table",placeholder:"연락처 입력",className:"w-full",...t,onChange:e=>{t.onChange((0,pe.Mc)(e.target.value))}})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabVehicleInfo.tsx"})}),(0,l.jsx)(Fn,{label:"원소속 여부",error:null===(i=h.errors.isCheckOriginVendor)||void 0===i?void 0:i.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabVehicleInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"isCheckOriginVendor",control:p,render:e=>{let{field:t}=e;return(0,l.jsx)(Un,{groupName:"isCheckOriginVendor",items:Wn.AFFILIATION_TYPES,...t})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabVehicleInfo.tsx"},"isCheckOriginVendor".concat(m))}),(0,l.jsx)(Fn,{label:"원소속명",error:null===(d=h.errors.originVendorName)||void 0===d?void 0:d.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabVehicleInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"originVendorName",control:p,disabled:"false"===A,render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{componentType:"input-table",placeholder:"원소속명 입력",className:"w-full",...t})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabVehicleInfo.tsx"},"originVendorName".concat(m))})]})]}),!m&&(0,l.jsx)(l.Fragment,{children:null==x||null===(c=x.preferenceNodeList)||void 0===c?void 0:c.map(((e,t)=>{var a,r,s,n,o,i;return(0,l.jsxs)("div",{children:[(0,l.jsx)("input",{type:"hidden",...f("preferenceNodeList.".concat(t,".seq")),value:t+1}),(0,l.jsx)(kn,{label:"선호 지역(".concat(t+1,")")}),(0,l.jsxs)(Vn,{children:[(0,l.jsx)(Fn,{label:"상차지",error:null===(s=h.errors.preferenceNodeList)||void 0===s||null===(r=s[t])||void 0===r||null===(a=r.departureMdmNodeCode)||void 0===a?void 0:a.message,children:(0,l.jsx)(Hr.xI,{name:"preferenceNodeList.".concat(t,".departureMdmNodeCode"),control:p,render:e=>{let{field:t}=e;return(0,l.jsx)(He.A,{options:v,selectedId:t.value,componentType:"autocomplete-table",placeholder:"상차지 입력",autocompleteBoxClassName:"w-full",onChange:(e,a)=>t.onChange(a.id)})}})}),(0,l.jsx)(Fn,{label:"하차지",error:null===(i=h.errors.preferenceNodeList)||void 0===i||null===(o=i[t])||void 0===o||null===(n=o.arrivalMdmNodeCode)||void 0===n?void 0:n.message,children:(0,l.jsx)(Hr.xI,{name:"preferenceNodeList.".concat(t,".arrivalMdmNodeCode"),control:p,render:e=>{let{field:t}=e;return(0,l.jsx)(He.A,{options:v,selectedId:t.value,componentType:"autocomplete-table",placeholder:"하차지 입력",autocompleteBoxClassName:"w-full",onChange:(e,a)=>t.onChange(a.id)})}})})]})]},t)}))})]})};const fm=[{id:"basicInfo",label:"기본 정보"},{id:"moreInfo",label:"상세 정보"},{id:"vehicleInfo",label:"차량 정보"},{id:"documentsInfo",label:"제출 서류"},{id:"accountInfo",label:"계정 정보"}],Cm=[{id:"basicInfo",label:"기본 정보"},{id:"vehicleInfo",label:"차량 정보"},{id:"documentsInfo",label:"제출 서류"}];var xm=e=>{const{isNew:t=!1,detailData:a,onRegisterComplete:s,isChangedFile:n,setIsChangedFile:o}=e,i=!!(null==a?void 0:a.mdmCode),[d,c]=(0,r.useState)(Cm[0]),u=()=>{const e=m.find((e=>"documentsInfo"===e.id));c(e)},m=(0,r.useMemo)((()=>t?Cm:i?fm:fm.filter((e=>"accountInfo"!==e.id))),[a,t]);return(0,r.useEffect)((()=>{c(Cm[0])}),[t,m]),(0,l.jsx)("div",{className:"flex flex-col","data-sentry-component":"Detail","data-sentry-source-file":"index.tsx",children:(0,l.jsxs)(sm,{isNew:t,detailData:a,onRegisterComplete:s,changeDocumentTab:u,isChangedFile:n,setIsChangedFile:o,"data-sentry-element":"DetailProvider","data-sentry-source-file":"index.tsx",children:[(0,l.jsx)(om,{detailData:a,tabItems:m,selectedTabId:d.id,onChangeTab:e=>{c(e)},onChangeFileTab:u,"data-sentry-element":"DetailTop","data-sentry-source-file":"index.tsx"}),(0,l.jsxs)("div",{className:"h-[calc(100vh-353px)] overflow-y-auto",children:[t&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(cm,{isShow:"basicInfo"===d.id}),(0,l.jsx)(hm,{isShow:"vehicleInfo"===d.id}),(0,l.jsx)(um,{isShow:"documentsInfo"===d.id})]}),!t&&!i&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(cm,{isShow:"basicInfo"===d.id}),(0,l.jsx)(mm,{isShow:"moreInfo"===d.id}),(0,l.jsx)(hm,{isShow:"vehicleInfo"===d.id}),(0,l.jsx)(um,{isShow:"documentsInfo"===d.id})]}),!t&&i&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(cm,{isShow:"basicInfo"===d.id}),(0,l.jsx)(mm,{isShow:"moreInfo"===d.id}),(0,l.jsx)(hm,{isShow:"vehicleInfo"===d.id}),(0,l.jsx)(um,{isShow:"documentsInfo"===d.id}),(0,l.jsx)(im,{isShow:"accountInfo"===d.id})]})]})]})})};const Nm=[{field:"__check__",headerName:"",width:76,minWidth:76,maxWidth:76,sortable:!1,disableColumnMenu:!0,align:"right",headerClassName:"check-right-align"},{field:"id",headerName:"No.",sortable:!1,width:48,align:"center"},{field:"mdmCorporationCode",headerName:"인사조직",width:152,valueFormatter:e=>Je.X.getState().getMetaLabel(Ze.k.COMMON_MDM_CORPORATION_CODE,e)||""},{field:"mdmCode",headerName:"MDM 코드",width:152,align:"center",valueFormatter:e=>e||""},{field:"mdmStatus",headerName:"MDM 상태",width:152,align:"center",cellClassName:"flex h-full w-full items-center justify-center",renderCell:e=>(0,l.jsx)(rc.Ay.MdmStatusTag,{status:e.row.mdmStatusType})},{field:"driverTelNo",headerName:"아이디(연락처)",width:152},{field:"name",headerName:"사업자명",minWidth:310,flex:1},{field:"businessType",headerName:"사업자 종류",width:152,align:"center",cellClassName:"flex h-full w-full items-center justify-center",renderCell:e=>(0,l.jsx)(rc.Ay.BusinessType,{businessType:e.row.businessType})},{field:"registrationNumber",headerName:"사업자 번호",width:152},{field:"representativeName",headerName:"대표자명",width:152},{field:"plateNumber",headerName:"차량번호",width:152},{field:"vehicleType",headerName:"차종",width:152,valueFormatter:e=>Je.X.getState().getMetaLabel(Ze.k.VEHICLE_TYPE,e)||""},{field:"vehicleTonCode",headerName:"톤급",width:75,align:"center",valueFormatter:e=>e?"".concat(Je.X.getState().getMetaLabel(Ze.k.VEHICLE_TON_CODE,e)):""},{field:"managerName",headerName:"담당자",width:152},{field:"createdAt",headerName:"등록일시",width:152,align:"center",valueFormatter:e=>e?je()(e).format("YYYY-MM-DD HH:MM"):"-"}];var ym=function(e){let{isActive:t,isRegister:a}=e;const s=(0,$e.P9)(),n=(0,r.useRef)(null),o=(0,D.bBi)(),i=v(),d=(0,r.useRef)(!0),[c,u]=(0,r.useState)(null),[m,p]=(0,r.useState)(!1),[h,f]=(0,r.useState)(!1),C=a||c,[x,N]=(0,r.useState)({createdAtFrom:je()().startOf("month").format(),createdAtTo:je()().endOf("day").format()}),[y,E]=(0,r.useState)(0),{mutateAsync:A,isSuccess:g,data:b}=(0,T.n)(["useGetDriverList"],(async e=>(await I.q.api((t=>t.ApiVendorV1DriverList(e)))).data.result)),{mutateAsync:R,isSuccess:S,data:_}=(0,T.n)(["useGetDriverDetail"],(async e=>(await I.q.api((t=>t.ApiVendorV1DriverDetail(e)))).data.result)),{data:w,mutateAsync:O,isSuccess:M}=(0,T.n)(["memberManager/useDriverExcelDownloadMutation"],(async e=>(await I.q.api((t=>t.ApiVendorV1DriverListExcel(e,{format:"blob"})))).data)),{mutateAsync:j,isSuccess:P}=(0,T.n)(["useInviteDriver"],(async e=>(await I.q.api((t=>t.ApiVendorUserV1Invite(e)))).data.result));(0,r.useEffect)((()=>{pe.sV.on(yd,(()=>{p(!0)}))}),[]),(0,r.useEffect)((()=>{t&&d.current&&L(x)}),[t]);const L=async e=>{await A(lm.toListRequest(e))},B=async e=>{await R(e)};(0,r.useEffect)((()=>{S&&((null==_?void 0:_.vendorId)!==(null==c?void 0:c.vendorId)&&f(!1),p(!1),u(lm.toDetailResult(_)))}),[S]);const U=e=>{p(!1),B({vendorId:e}),pe.sV.emit(vd)};return(0,r.useEffect)((()=>{if(g){var e,t;const a=(null!==(t=b.itemList)&&void 0!==t?t:[]).map(((e,t)=>({...e,id:t+1,plateNumber:e.vehicleInfo.plateNumber,vehicleType:e.vehicleInfo.vehicleType,vehicleTonCode:e.vehicleInfo.mdmTonCode})));null===(e=n.current)||void 0===e||e.setInitData(a),d.current&&a.length&&(B({vendorId:a[0].vendorId}),d.current=!1)}}),[g]),(0,r.useEffect)((()=>{P&&s({message:"더운반 초대 링크가 발송되었습니다."})}),[P]),(0,l.jsx)(nu,{isOpenRightPanel:C,rightPanelWidth:448,onClickCloseButton:()=>{a&&pe.sV.emit(vd),c&&u(null)},leftSidePanel:(0,l.jsxs)("section",{className:"flex h-full w-full flex-col",children:[(0,l.jsx)("div",{className:"filterContainer",children:(0,l.jsx)(Ve.A.Provider,{params:x,setParams:N,onSearch:async e=>{L(e)},children:e=>(0,l.jsxs)(xt.A,{children:[(0,l.jsxs)(Ct.A,{children:[(0,l.jsx)(Ve.A.AllMetaAutocompleteSearch,{label:"인사조직",allMetaType:Ze.k.COMMON_MDM_CORPORATION_CODE,className:"max-w-[236px]"}),(0,l.jsx)(Ve.A.SearchText,{label:"차량번호",placeholder:"차량번호 입력",fieldName:"vehicleNumber",className:"max-w-[236px]"})]}),(0,l.jsxs)(Ct.A,{children:[(0,l.jsx)(Ve.A.SearchText,{label:"MDM 코드",placeholder:"MDM 코드 입력",fieldName:"mdmCode",className:"max-w-[236px]"}),(0,l.jsx)(Ve.A.SearchText,{label:"연락처",placeholder:"연락처 입력",fieldName:"driverTelNo",className:"max-w-[236px]"})]}),(0,l.jsxs)(Ct.A,{width:"w-[319px]",children:[(0,l.jsx)(Ve.A.MdmStatus,{autocompleteClassName:"!w-[253px]"}),(0,l.jsx)(Ve.A.SearchDate,{label:"등록일자",startDateFiled:"createdAtFrom",endDateFiled:"createdAtTo"})]}),(0,l.jsx)(Ct.A,{children:(0,l.jsx)(Ve.A.SearchText,{label:"사업자명",placeholder:"사업자명 입력",fieldName:"businessName",className:"max-w-[236px]"})}),(0,l.jsx)(Ct.A,{children:(0,l.jsx)(Ve.A.SearchText,{label:"사업자번호",placeholder:"사업자번호 입력",fieldName:"registrationNumber",className:"max-w-[236px]"})})]})})}),(0,l.jsxs)("div",{className:"w-full",children:[(0,l.jsx)("div",{className:"h-[calc(100vh-376px)]",children:(0,l.jsx)(Fa.A,{ref:n,gridApiRef:o,columns:Nm,checkboxSelection:!0,columnHeaderHeight:32,initialState:{pinnedColumns:{left:["__check__","id"]}},onRowDoubleClick:e=>{m?i({title:"작성 중인 정보가 있습니다.",description:"화면을 나가면 작성된 정보가 삭제됩니다.",confirmButtonLabel:"나가기",onClickConfirmButton:()=>U(e.row.vendorId)}):U(e.row.vendorId)}})}),(0,l.jsxs)("div",{className:"flex flex-row justify-end gap-[8px] px-[40px] py-[16px]",children:[(0,l.jsx)(_c,{onInvite:()=>{const e=Array.from(o.current.getSelectedRows().values());e.length?i({title:"더운반 초대 링크를 발송하시겠어요?",description:"더운반 차주 포털 링크가 알림톡으로 발송됩니다.",confirmButtonLabel:"확인",onClickConfirmButton:()=>{j({vendorUserIdList:e.map((e=>e.mainUserVendorUserId))})}}):alert({title:"초대할 차주를 선택해 주세요."})}}),(0,l.jsx)(We,{excelFileName:"회원관리_차주",isSuccessExcel:M,excelData:w,handleExcelDownload:()=>O(lm.toListRequest(x))})]})]})]}),rightSidePanel:(0,l.jsx)(xm,{isNew:m,detailData:c,onRegisterComplete:e=>{p(!1),L(x),B({vendorId:e}),E((e=>e+1)),pe.sV.emit(vd)},isChangedFile:h,setIsChangedFile:f},y),"data-sentry-element":"TmsBasicSlidePanel","data-sentry-component":"DriverManager","data-sentry-source-file":"DriverManager.tsx"})};const Em={toListRequest:e=>({mdmCorporationCode:e.commonMdmCorporationCode||null,mdmCode:e.mdmCode,name:e.businessName,registrationNumber:e.registrationNumber}),toExcelDownRequest:e=>({mdmCorporationCode:e.commonMdmCorporationCode,mdmCode:e.mdmCode,name:e.businessName,registrationNumber:e.registrationNumber}),toDetailResult:e=>{var t,a,l,r,s,n,o,i,d,c,u,m,p,h;return{...e,address:"".concat((null===(t=e.addressInfo)||void 0===t?void 0:t.address1)||""," ").concat((null===(a=e.addressInfo)||void 0===a?void 0:a.address2)||""),addressDetail:e.addressInfo.detailAddress,isActive:(null===(l=e.isSettleable)||void 0===l?void 0:l.toString())||"true",isUserUsed:(null===(s=e.mainUserInfo)||void 0===s||null===(r=s.isUsed)||void 0===r?void 0:r.toString())||"true",isUserIdVerified:!!(null===(n=e.mainUserInfo)||void 0===n?void 0:n.loginId),userId:(null===(o=e.mainUserInfo)||void 0===o?void 0:o.loginId)||"b".concat(null==e?void 0:e.registrationNumber),userName:(null===(i=e.mainUserInfo)||void 0===i?void 0:i.name)||"",telMobile:(null===(d=e.mainUserInfo)||void 0===d?void 0:d.telMobile)||"",email:(null===(c=e.mainUserInfo)||void 0===c?void 0:c.email)||"",notiChannel:bd(e.mainUserInfo),isAdvertisementInformationAgree:null===(m=e.mainUserInfo)||void 0===m||null===(u=m.isAdvertisementInformationAgree)||void 0===u?void 0:u.toString(),isMarketingUtilizationAgree:null===(h=e.mainUserInfo)||void 0===h||null===(p=h.isMarketingUtilizationAgree)||void 0===p?void 0:p.toString()}},toRegistrationRequest:e=>({commonMdmCustomerId:e.commonMdmCustomerId,industryCode:e.industryCode,serviceCode:e.serviceCode,serviceCode2:e.serviceCode2,mdmCorporationCode:e.mdmCorporationCode,isMdmSync:"true"===e.isMdmSync.toString()}),toUpdateRequest:e=>{var t,a;return{customerId:e.customerId,industryCode:e.industryCode,serviceCode:e.serviceCode,serviceCode2:e.serviceCode2,mdmCorporationCode:e.mdmCorporationCode,isMdmSync:"true"===(null===(t=e.isMdmSync)||void 0===t?void 0:t.toString()),mainUserInfo:e.isUserIdVerified?{isUsed:"true"===e.isUserUsed,loginId:null===(a=e.userId)||void 0===a?void 0:a.toString(),name:e.userName,telMobile:e.telMobile,email:e.email,isSmsReceive:Rd(e.notiChannel),isEmailReceive:Sd(e.notiChannel),isAdvertisementInformationAgree:"true"===e.isAdvertisementInformationAgree,isMarketingUtilizationAgree:"true"===e.isMarketingUtilizationAgree}:void 0}}},vm=()=>(0,T.n)(["CreateGeneralOwnerDetail"],(async e=>(await I.q.api((t=>t.ApiCustomerV1NomalOwnerCreate(Em.toRegistrationRequest(e))))).data.result)),Am=()=>(0,T.n)(["UpdateGeneralOwnerDetail"],(async e=>(await I.q.api((t=>t.ApiCustomerV1NomalOwnerUpdate(e)))).data.result)),gm=(0,r.createContext)(null);function Tm(e){let{isNew:t,children:a,detailData:s,onRegisterComplete:n}=e;const o=(0,$e.P9)(),{control:i,formState:d,getValues:c,getFieldState:u,handleSubmit:m,reset:p,clearErrors:h,setValue:f,setError:C}=(0,Hr.mN)({defaultValues:Yd(),mode:"onChange",shouldUnregister:!0}),{mutateAsync:x,isSuccess:N,isError:y,error:E,data:v}=vm(),{mutateAsync:A,isSuccess:g,data:T}=Am();(0,r.useEffect)((()=>{t&&p(Yd(),{keepDefaultValues:!1})}),[t]),(0,r.useEffect)((()=>{s&&p(s,{keepDefaultValues:!1})}),[s]);const{isValid:I,errors:b}=d;return(0,r.useEffect)((()=>{N&&v&&(o({message:"일반 화주가 등록되었습니다.",type:"success"}),n(v.customerId))}),[N]),(0,r.useEffect)((()=>{y&&E&&o({message:E.message,type:"caution"})}),[y]),(0,r.useEffect)((()=>{g&&(o({message:"일반 화주가 수정되었습니다.",type:"success"}),n(T.customerId))}),[g]),(0,l.jsx)(gm.Provider,{value:{isNew:t,detailData:s,control:i,formState:d,getValues:c,getFieldState:u,setValue:f,clearErrors:h,setError:C},"data-sentry-element":"DetailContext.Provider","data-sentry-component":"DetailProvider","data-sentry-source-file":"DetailProvider.tsx",children:(0,l.jsx)("form",{autoComplete:"off",className:"flex h-full flex-col",onSubmit:m((async e=>{if(I||0===Object.keys(b).length)if(t)try{await x(Em.toRegistrationRequest(e))}catch(e){o({message:e.message,type:"caution"})}else{if(!e.isUserIdVerified&&(e.userName||e.telMobile))return o({message:"아이디 중복 확인이 필요합니다",type:"fail"}),void C("userId",{message:"아이디 중복 확인이 필요합니다"});if(e.isUserIdVerified&&!e.userName)return o({message:"이름을 입력해 주세요"}),void C("userName",{message:"이름을 입력해 주세요"});if(e.isUserIdVerified&&!e.telMobile)return o({message:"휴대폰 번호를 입력해 주세요"}),void C("telMobile",{message:"휴대폰 번호를 입력해 주세요"});try{await A(Em.toUpdateRequest(e))}catch(e){o({message:e.message,type:"caution"})}}else o({message:"입력값을 확인해주세요.",type:"fail"}),window.console.log("onSubmitForm INVALID:",d.errors)}),(e=>{var t;const a=Object.keys(e),l="".concat(_d(a[0])," ").concat((null===(t=e[a[0]])||void 0===t?void 0:t.message)||"입력값을 확인해주세요.");o({message:l,type:"fail"}),window.console.error(e)})),onKeyDown:e=>{"Enter"===e.key&&e.target instanceof HTMLInputElement&&e.preventDefault()},children:a})})}function Im(){return(0,r.useContext)(gm)}var bm=function(e){const{detailData:t,tabItems:a,selectedTabId:s,onChangeTab:n}=e,{isNew:o,control:d}=Im(),{getOperationIsActive:c}=(0,i.o)(),[u]=(0,r.useState)(c(gd.MEMBER_MANAGEMENT_OWNER_10,Ad.UPDATE));return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:"bg-blue98 border-b-blue95 flex flex-col gap-[16px] border-b-[1px] px-[24px] py-[16px]",children:[(0,l.jsx)("div",{className:"flex flex-row justify-between",children:o?(0,l.jsxs)("div",{className:"flex w-full flex-row items-center justify-between",children:[(0,l.jsx)("div",{className:"flex flex-row items-center gap-[4px]",children:(0,l.jsx)(ac,{type:"info",children:"'인사조직'을 설정해야 일반 화주 회원으로 등록됩니다."})}),(0,l.jsx)(ui,{type:"submit",label:"회원 등록"})]}):(0,l.jsxs)("div",{className:"flex w-full flex-row items-center justify-between",children:[(0,l.jsx)("div",{className:"flex flex-row items-center gap-[8px]",children:(0,l.jsx)(ac,{type:"info",children:"'인사조직'을 설정해야 일반 화주 회원으로 등록됩니다."})}),u&&(0,l.jsx)(_t.A,{type:"submit"})]})}),o?(0,l.jsx)("div",{className:"flex flex-row items-center gap-[8px]",children:(0,l.jsx)(oc,{gradient:!0,children:"새 회원 등록하기"})}):(0,l.jsxs)("div",{className:"Body5_B flex flex-row items-center gap-[8px]",children:[(0,l.jsx)(oc,{children:null==t?void 0:t.name}),(0,l.jsx)(sc,{status:null==t?void 0:t.mdmStatusType,code:null==t?void 0:t.mdmCode})]}),!o&&(0,l.jsx)(nc,{items:a,selectedId:s,onChange:n})]})})};var Rm=function(e){var t,a,s,n,o,i,d,c;const{isShow:u=!1}=e,{isNew:m,detailData:p,control:h,formState:f,setValue:x}=Im(),{mutateAsync:N,isSuccess:y}=Oc(),E=(0,$e.P9)(),v=(0,Hr.FH)({control:h,name:"isUserIdVerified"}),A=()=>{N({customerUserId:null==p?void 0:p.mainUserInfo.customerUserId})};return(0,r.useEffect)((()=>{y&&E({message:"비밀번호가 초기화 되었습니다."})}),[y]),(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:C()("flex h-full flex-col gap-[20px] p-[24px]",{hidden:!u}),children:[(0,l.jsxs)("div",{children:[(0,l.jsx)(kn,{label:"메인 계정","data-sentry-element":"DetailSection","data-sentry-source-file":"DetailTabAccountInfo.tsx",children:(0,l.jsx)(bc,{passwordReset:A,disabled:!(null==p?void 0:p.mainUserInfo.customerUserId),"data-sentry-element":"PasswordResetButton","data-sentry-source-file":"DetailTabAccountInfo.tsx"})}),(0,l.jsxs)(Vn,{"data-sentry-element":"InfoTable","data-sentry-source-file":"DetailTabAccountInfo.tsx",children:[(0,l.jsx)(Fn,{label:"아이디",error:null===(t=f.errors.userId)||void 0===t?void 0:t.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabAccountInfo.tsx",children:(0,l.jsx)(Nc,{useFormContext:Im(),useCheckUserId:Ud,detailData:p,"data-sentry-element":"UserIdInput","data-sentry-source-file":"DetailTabAccountInfo.tsx"})}),(0,l.jsx)(Fn,{label:"계정 상태",required:v,error:null===(a=f.errors.isUserUsed)||void 0===a?void 0:a.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabAccountInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"isUserUsed",control:h,rules:v?{required:Hn.required}:{},render:e=>{let{field:t}=e;return(0,l.jsx)(Un,{groupName:"isUserUsed",items:[{id:"true",label:"활성"},{id:"false",label:"비활성"}],...t})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabAccountInfo.tsx"},v?"verified":"not-verified")}),(0,l.jsx)(Fn,{label:"이름",required:v,error:null===(s=f.errors.userName)||void 0===s?void 0:s.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabAccountInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"userName",control:h,render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{componentType:"input-table",placeholder:"이름 입력",className:"w-full",...t})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabAccountInfo.tsx"})}),(0,l.jsx)(Fn,{label:"휴대폰 번호",required:v,error:null===(n=f.errors.telMobile)||void 0===n?void 0:n.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabAccountInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"telMobile",control:h,render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{componentType:"input-table",placeholder:"휴대폰 번호 입력",className:"w-full",...t,onChange:e=>{t.onChange((0,pe.Mc)(e.target.value))}})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabAccountInfo.tsx"})}),(0,l.jsx)(Fn,{label:"이메일",error:null===(o=f.errors.email)||void 0===o?void 0:o.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabAccountInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"email",control:h,rules:{pattern:Hn.email},render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{componentType:"input-table",placeholder:"이메일 입력",className:"w-full",...t})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabAccountInfo.tsx"})}),(0,l.jsx)(Fn,{label:"알림 채널",error:null===(i=f.errors.notiChannel)||void 0===i?void 0:i.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabAccountInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"notiChannel",control:h,render:e=>{let{field:t}=e;return(0,l.jsx)(dc,{groupName:"notiChannel",items:Wn.RECEIVER_TYPES,...t})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabAccountInfo.tsx"})}),(0,l.jsx)(Fn,{label:"광고성 정보 수신",error:null===(d=f.errors.isAdvertisementInformationAgree)||void 0===d?void 0:d.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabAccountInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"isAdvertisementInformationAgree",control:h,render:e=>{let{field:t}=e;return(0,l.jsx)(Un,{groupName:"isAdvertisementInformationAgree",items:[{id:"true",label:"동의"},{id:"false",label:"동의 안 함"}],value:t.value,onChange:e=>x("isAdvertisementInformationAgree",e)})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabAccountInfo.tsx"})}),(0,l.jsx)(Fn,{label:"마케팅 활용",error:null===(c=f.errors.isMarketingUtilizationAgree)||void 0===c?void 0:c.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabAccountInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"isMarketingUtilizationAgree",control:h,render:e=>{let{field:t}=e;return(0,l.jsx)(Un,{groupName:"isMarketingUtilizationAgree",items:[{id:"true",label:"동의"},{id:"false",label:"동의 안 함"}],value:t.value,onChange:e=>x("isMarketingUtilizationAgree",e)})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabAccountInfo.tsx"})})]})]}),(0,l.jsx)("div",{className:"flex grow-[1] flex-col pb-[24px]",children:(0,l.jsx)(wc,{mainAccountId:null==p?void 0:p.customerId,useSubAccountHandler:Dc,passwordReset:A,"data-sentry-element":"SubAccount","data-sentry-source-file":"DetailTabAccountInfo.tsx"})})]})})};const Sm=g()((()=>a.e(784).then(a.bind(a,2784))),{loadableGenerated:{webpack:()=>[2784]},ssr:!1});var _m=function(e){let{value:t="",disabled:a,setSelectItem:s,customerType:n}=e;const[o,i]=(0,r.useState)(""),[d,c]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{i(t)}),[t]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(Tt.A,{className:"w-full",componentType:"input-table",value:o,placeholder:"사업자명 입력",disabled:a,onKeyDown:e=>{"Enter"===e.key&&c(!0)},onChange:e=>{i(e.target.value)},rightIcon:a?(0,l.jsx)(l.Fragment,{}):(0,l.jsx)(se.A,{width:20,height:20,className:"cursor-pointer",onClick:()=>c(!0)}),"data-sentry-element":"TmsBasicInput","data-sentry-source-file":"MemberNameInputWithModal.tsx"}),d&&(0,l.jsx)(Sm,{value:o,onSelected:e=>s(e.row),onClose:()=>c(!1),customerType:n})]})};var wm=function(e){var t,a;const{isShow:r=!1}=e,{isNew:s,control:n,formState:o,setValue:i,clearErrors:d}=Im(),c=Lc(),u=(0,Hr.FH)({control:n,name:"isSettleable"});return(0,l.jsx)("div",{className:C()("flex flex-col gap-[20px] p-[24px]",{hidden:!r}),"data-sentry-component":"DetailTabBasicInfo","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:(0,l.jsxs)(Vn,{"data-sentry-element":"InfoTable","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:[(0,l.jsx)(Fn,{label:"사업자명(법인명)",required:!0,error:null===(t=o.errors.name)||void 0===t?void 0:t.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"name",control:n,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(_m,{value:t.value,disabled:!s,setSelectItem:e=>{i("name",e.name),i("registrationNumber",e.registrationNumber),i("representativeName",e.representativeName),i("nameSimplified",e.nameSimplified),i("address","".concat(e.addressInfo.address1||""," ").concat(e.addressInfo.address2||"")),i("addressDetail",e.addressInfo.detailAddress),i("condition",e.condition),i("category",e.category),i("memberCode",e.memberCode),i("managerName",e.managerName),i("commonMdmCustomerId",e.commonMdmCustomerId),i("isSettleable",e.isSettleable)}})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabBasicInfo.tsx"})}),(0,l.jsx)(Fn,{label:"인사조직",required:!0,error:null===(a=o.errors.mdmCorporationCode)||void 0===a?void 0:a.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"mdmCorporationCode",control:n,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(He.A,{options:c.activeDeptIds,selectedId:t.value,componentType:"autocomplete-table",placeholder:"인사조직 선택",autocompleteBoxClassName:"w-full",onChange:(e,a)=>t.onChange(a.id)})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabBasicInfo.tsx"})}),(0,l.jsx)(Fn,{label:"사업자 번호","data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"registrationNumber",control:n,disabled:!0,render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{disabled:!s,autoComplete:"new-password",componentType:"input-table",className:"w-full",...t})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabBasicInfo.tsx"})}),(0,l.jsx)(Fn,{label:"사업자명(약어)","data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"nameSimplified",control:n,disabled:!0,render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{autoComplete:"new-password",componentType:"input-table",className:"w-full",...t})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabBasicInfo.tsx"})}),(0,l.jsx)(Fn,{label:"대표자명","data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"representativeName",control:n,disabled:!0,render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{autoComplete:"new-password",componentType:"input-table",className:"w-full",...t})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabBasicInfo.tsx"})}),(0,l.jsx)(Fn,{label:"사업장 주소","data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"address",control:n,disabled:!0,render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{componentType:"input-table",placeholder:"",className:"w-full",...t})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabBasicInfo.tsx"})}),(0,l.jsx)(Fn,{label:"상세 주소","data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"addressDetail",control:n,disabled:!0,render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{autoComplete:"new-password",componentType:"input-table",placeholder:"",className:"w-full",...t})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabBasicInfo.tsx"})}),(0,l.jsx)(Fn,{label:"업태","data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"condition",control:n,disabled:!0,render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{autoComplete:"new-password",componentType:"input-table",className:"w-full",...t})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabBasicInfo.tsx"})}),(0,l.jsx)(Fn,{label:"업종","data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"category",control:n,disabled:!0,render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{autoComplete:"new-password",componentType:"input-table",placeholder:"",className:"w-full",...t})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabBasicInfo.tsx"})}),(0,l.jsx)(Fn,{label:"영업 사용자 번호","data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"salesMdmAdminEmpNo",control:n,disabled:!0,render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{componentType:"input-table",placeholder:"",className:"w-full",...t})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabBasicInfo.tsx"})}),(0,l.jsx)(Fn,{label:"영업 사용자명","data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"salesMdmAdminName",control:n,disabled:!0,render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{componentType:"input-table",placeholder:"",className:"w-full",...t})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabBasicInfo.tsx"})}),(0,l.jsx)(Fn,{label:"사용 중지 여부","data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:u?"정상":"사용 중지"}),(0,l.jsx)(Fn,{label:"MDM 연동 갱신","data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"isMdmSync",control:n,render:e=>{let{field:t}=e;return(0,l.jsx)(Un,{groupName:"isMdmSync",items:[{id:"true",label:"갱신"},{id:"false",label:"갱신 안함"}],value:t.value,onChange:e=>i("isMdmSync","true"===e)})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabBasicInfo.tsx"})}),(0,l.jsx)(Fn,{label:"사업","data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"industryCode",control:n,render:e=>{let{field:t}=e;return(0,l.jsx)(He.A,{options:c.industries,selectedId:t.value,componentType:"autocomplete-table",placeholder:"사업 선택",autocompleteBoxClassName:"w-full",onChange:(e,a)=>t.onChange(a.id)})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabBasicInfo.tsx"})}),(0,l.jsx)(Zc,{control:n,"data-sentry-element":"ServiceDropDown","data-sentry-source-file":"DetailTabBasicInfo.tsx"})]})})};const Om=[{id:"basicInfo",label:"기본 정보"},{id:"accountInfo",label:"계정 정보"}];var Mm=function(e){const{isNew:t=!1,detailData:a,onRegisterComplete:s,isActiveGeneralOwnerTab:n}=e,[o,i]=(0,r.useState)(Om[0]);return(0,r.useEffect)((()=>{i(Om[0])}),[t]),(0,l.jsx)("div",{className:"flex h-full flex-col","data-sentry-component":"Detail","data-sentry-source-file":"index.tsx",children:(0,l.jsxs)(Tm,{isNew:t,detailData:a,onRegisterComplete:s,"data-sentry-element":"DetailProvider","data-sentry-source-file":"index.tsx",children:[(0,l.jsx)(bm,{detailData:a,tabItems:Om,selectedTabId:o.id,onChangeTab:e=>{i(e)},"data-sentry-element":"DetailTop","data-sentry-source-file":"index.tsx"}),n&&t&&(0,l.jsx)("div",{className:"h-[calc(100vh-311px)] overflow-y-auto",children:(0,l.jsx)(wm,{isShow:n})}),n&&!t&&(0,l.jsxs)("div",{className:"h-[calc(100vh-350px)] overflow-y-auto",children:[(0,l.jsx)(wm,{isShow:"basicInfo"===o.id}),(0,l.jsx)(Rm,{isShow:"accountInfo"===o.id})]})]})})};const Dm=[{field:"id",headerName:"No.",sortable:!1,width:48,align:"center"},{field:"mdmCorporationCode",headerName:"인사조직",width:160,valueFormatter:e=>Je.X.getState().getMetaLabel(Ze.k.COMMON_MDM_CORPORATION_CODE,e)||""},{field:"mdmCode",headerName:"MDM 코드",width:90},{field:"name",headerName:"사업자명",minWidth:319,flex:1},{field:"businessType",headerName:"사업자 종류",width:108,valueFormatter:e=>rc.e8[e]||""},{field:"registrationNumber",headerName:"사업자 번호",width:124},{field:"representativeName",headerName:"대표자",width:70},{field:"isSettleable",headerName:"사용 여부",width:138,align:"center",cellClassName:"flex h-full w-full items-center justify-center",renderCell:e=>(0,l.jsx)(rc.Ay.RoundTag,{text:e.value?"Y":"N"})}];var jm=function(e){let{isActive:t,isRegister:a}=e;const s=v(),n=(0,r.useRef)(null),o=(0,D.bBi)(),{mutateAsync:i,isSuccess:d,data:c}=(0,T.n)(["useGetGeneralOwnerList"],(async e=>(await I.q.api((t=>t.ApiCustomerV1NomalOwnerList(e)))).data.result)),{mutateAsync:u,isSuccess:m,data:p}=(0,T.n)(["useGetGeneralOwnerDetail"],(async e=>(await I.q.api((t=>t.ApiCustomerV1NomalOwnerDetail(e)))).data.result)),h=(0,r.useRef)(!0),[f,C]=(0,r.useState)(null),[x,N]=(0,r.useState)(0),[y,E]=(0,r.useState)(!1),[A,g]=(0,r.useState)({}),{data:b,mutateAsync:R,isSuccess:S}=(0,T.n)(["memberManager/useGeneralOwnerExcelDownloadMutation"],(async e=>(await I.q.api((t=>t.ApiCustomerV1NomalOwnerListExcel(e,{format:"blob"})))).data));(0,r.useEffect)((()=>{pe.sV.on(Cd,(()=>{E(!0)}))}),[]),(0,r.useEffect)((()=>{t&&h.current&&_(A)}),[t]);const _=async e=>{await i(Em.toListRequest(A))},w=async e=>{await u(e)},O=e=>{E(!1),w({customerId:e}),pe.sV.emit(vd)},M=e=>{y?s({title:"작성 중인 정보가 있습니다.",description:"화면을 나가면 작성된 정보가 삭제됩니다.",confirmButtonLabel:"나가기",onClickConfirmButton:()=>O(e.row.customerId)}):O(e.row.customerId)},j=()=>R(Em.toExcelDownRequest(A));return(0,r.useEffect)((()=>{if(d){var e,t;const a=(null!==(t=null==c?void 0:c.itemList)&&void 0!==t?t:[]).map(((e,t)=>({...e,id:t+1})));null===(e=n.current)||void 0===e||e.setInitData(a),h.current&&a.length&&(w({customerId:a[0].customerId}),h.current=!1)}}),[d]),(0,r.useEffect)((()=>{m&&C(Em.toDetailResult(p))}),[m]),(0,l.jsx)(nu,{isOpenRightPanel:a||f,rightPanelWidth:448,onClickCloseButton:()=>{a&&pe.sV.emit(vd),f&&C(null)},leftSidePanel:(0,l.jsx)(Ve.A.Provider,{params:A,setParams:g,onSearch:async e=>{_(e)},children:e=>(0,l.jsxs)("div",{className:"flex h-full w-full flex-col",children:[(0,l.jsx)("div",{className:"px-[40px] py-[16px]",children:(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsxs)("div",{className:"flex flex-1 flex-wrap gap-4",children:[(0,l.jsx)(Ve.A.AllMetaAutocompleteSearch,{label:"인사조직",allMetaType:Ze.k.COMMON_MDM_CORPORATION_CODE,className:"!w-[140px]"}),(0,l.jsx)(Ve.A.SearchText,{label:"MDM 코드",placeholder:"MDM 코드 입력",fieldName:"mdmCode",className:"w-[140px]"}),(0,l.jsx)(Ve.A.SearchText,{label:"사업자명",placeholder:"사업자명 입력",fieldName:"businessName",className:"w-[140px]"}),(0,l.jsx)(Ve.A.SearchText,{label:"사업자번호",placeholder:"사업자번호 입력",fieldName:"registrationNumber",className:"w-[140px]"})]}),(0,l.jsxs)("div",{className:"flex flex-none items-start gap-2",children:[(0,l.jsx)(Ve.A.ResetButton,{}),(0,l.jsx)(Ve.A.SearchButton,{})]})]})}),(0,l.jsx)("div",{className:"grid-area flex-1 overflow-auto",children:(0,l.jsx)(Fa.A,{ref:n,gridApiRef:o,columns:Dm,columnHeaderHeight:32,initialState:{pinnedColumns:{left:["id"]}},onRowDoubleClick:M})}),(0,l.jsx)("div",{className:"flex flex-row justify-end gap-[8px] px-[40px] py-[16px]",children:(0,l.jsx)(We,{excelFileName:"회원관리_화주(10코드)",isSuccessExcel:S,excelData:b,handleExcelDownload:j})})]})}),rightSidePanel:(0,l.jsx)(Mm,{isNew:y,detailData:f,onRegisterComplete:e=>{E(!1),_(A),w({customerId:e}),N((e=>e+1)),pe.sV.emit(vd)},isActiveGeneralOwnerTab:t},x),"data-sentry-element":"TmsBasicSlidePanel","data-sentry-component":"GeneralOwnerManager","data-sentry-source-file":"GeneralOwnerManager.tsx"})};const Pm={toListRequest:e=>({mdmCorporationCode:e.commonMdmCorporationCode||null,mdmCode:e.mdmCode,name:e.businessName,registrationNumber:e.registrationNumber}),toExcelDownRequest:e=>({mdmCorporationCode:e.commonMdmCorporationCode,mdmCode:e.mdmCode,name:e.businessName,registrationNumber:e.registrationNumber}),toDetailResult:e=>({...e,address:e.addressInfo.address1,addressDetail:e.addressInfo.detailAddress}),toRegistrationRequest:e=>({commonMdmCustomerId:e.commonMdmCustomerId||0,industryCode:e.industryCode,serviceCode:e.serviceCode,serviceCode2:e.serviceCode2,mdmCorporationCode:e.mdmCorporationCode}),toUpdateRequest:e=>({customerId:e.customerId,industryCode:e.industryCode,serviceCode:e.serviceCode,serviceCode2:e.serviceCode2,mdmCorporationCode:e.mdmCorporationCode})},Lm=()=>(0,T.n)(["CreateBranchOfficeDetail"],(async e=>(await I.q.api((t=>t.ApiCustomerV1BranchCreate(Pm.toRegistrationRequest(e))))).data.result)),Bm=()=>(0,T.n)(["UpdateBranchOfficeDetail"],(async e=>(await I.q.api((t=>t.ApiCustomerV1BranchUpdate(Pm.toUpdateRequest(e))))).data.result)),Um=(0,r.createContext)({isNew:!1,detailData:void 0,control:()=>{},formState:()=>{},getValues:()=>({}),getFieldState:()=>{},setValue:()=>{}});function Vm(e){let{isNew:t,children:a,detailData:s,onRegisterComplete:n}=e;const o=(0,$e.P9)(),{control:i,formState:d,getValues:c,getFieldState:u,handleSubmit:m,reset:p,clearErrors:h,setValue:f}=(0,Hr.mN)({defaultValues:qd(),mode:"onChange",shouldUnregister:!0}),{mutateAsync:C,isSuccess:x,isError:N,error:y,isLoading:E,data:v}=Lm(),{mutateAsync:A,isSuccess:g,isError:T,error:I,isLoading:b,data:R}=Bm();(0,r.useEffect)((()=>{t&&p(qd(),{keepDefaultValues:!1})}),[t]),(0,r.useEffect)((()=>{s&&p(s,{keepDefaultValues:!1})}),[s]);const{isValid:S,errors:_}=d;return(0,r.useEffect)((()=>{x&&v&&(o({message:"출장소 회원이 등록되었습니다.",type:"success"}),n(v.customerId))}),[x]),(0,r.useEffect)((()=>{N&&y&&o({message:y.message,type:"caution"})}),[N]),(0,r.useEffect)((()=>{g&&R&&(o({message:"출장소 회원이 수정되었습니다.",type:"success"}),n(R.customerId))}),[g]),(0,r.useEffect)((()=>{T&&I&&o({message:I.message,type:"caution"})}),[T]),(0,l.jsx)(Um.Provider,{value:{isNew:t,detailData:s,control:i,formState:d,getValues:c,getFieldState:u,setValue:f},"data-sentry-element":"DetailContext.Provider","data-sentry-component":"DetailProvider","data-sentry-source-file":"DetailProvider.tsx",children:(0,l.jsx)("form",{autoComplete:"off",onSubmit:m((async e=>{S||0===Object.keys(_).length?t?await C(Pm.toRegistrationRequest(e)):await A(Pm.toUpdateRequest(e)):(o({message:"입력값을 확인해주세요.",type:"fail"}),window.console.log("onSubmitForm INVALID:",d.errors))}),(e=>{var t;const a=Object.keys(e),l="".concat(_d(a[0])," ").concat((null===(t=e[a[0]])||void 0===t?void 0:t.message)||"입력값을 확인해주세요.");o({message:l,type:"fail"}),window.console.error(e)})),onKeyDown:e=>{"Enter"===e.key&&e.target instanceof HTMLInputElement&&e.preventDefault()},children:a})})}function Fm(){return(0,r.useContext)(Um)}var Gm=function(e){const{detailData:t}=e,{isNew:a}=Fm(),{getOperationIsActive:s}=(0,i.o)(),[n]=(0,r.useState)(s(gd.MEMBER_MANAGEMENT_BRANCH_OFFICE,Ad.UPDATE));return(0,l.jsxs)("div",{className:"bg-blue98 border-b-blue95 flex flex-col gap-[16px] border-b-[1px] px-[24px] py-[16px]","data-sentry-component":"DetailTop","data-sentry-source-file":"DetailTop.tsx",children:[(0,l.jsx)("div",{className:"flex flex-row justify-between",children:a?(0,l.jsxs)("div",{className:"flex w-full flex-row items-center justify-between",children:[(0,l.jsx)("div",{className:"flex flex-row items-center gap-[4px]",children:(0,l.jsx)(ac,{type:"info",children:"'인사조직'을 설정해야 출장소 회원으로 등록됩니다."})}),(0,l.jsx)(ui,{type:"submit",label:"회원 등록"})]}):(0,l.jsxs)("div",{className:"flex w-full flex-row items-center justify-between",children:[(0,l.jsx)("div",{className:"flex flex-row items-center gap-[8px]",children:(0,l.jsx)(ac,{type:"info",children:"'인사조직'을 설정해야 출장소 회원으로 등록됩니다."})}),n&&(0,l.jsx)(_t.A,{type:"submit"})]})}),a?(0,l.jsx)("div",{className:"flex flex-row items-center gap-[8px]",children:(0,l.jsx)(oc,{gradient:!0,children:"새 회원 등록하기"})}):(0,l.jsxs)("div",{className:"Body5_B flex flex-row items-center gap-[8px]",children:[(0,l.jsx)(oc,{children:null==t?void 0:t.name}),(0,l.jsx)(sc,{status:null==t?void 0:t.mdmStatusType,code:null==t?void 0:t.mdmCode})]})]})};var km=function(e){var t,a;const{isShow:r=!1}=e,{isNew:s,control:n,formState:o,setValue:i}=Fm(),d=Lc();return(0,l.jsx)("div",{className:C()("flex flex-col p-[24px]",{hidden:!r}),"data-sentry-component":"DetailTabBasicInfo","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:(0,l.jsxs)(Vn,{"data-sentry-element":"InfoTable","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:[(0,l.jsx)(Fn,{label:"사업자명(법인명)",required:!0,error:null===(t=o.errors.name)||void 0===t?void 0:t.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"name",control:n,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(_m,{value:t.value,disabled:!s,customerType:R.Pyl.BRANCH,setSelectItem:e=>{var t,a,l;i("name",e.name),i("registrationNumber",e.registrationNumber),i("representativeName",e.representativeName),i("nameSimplified",e.nameSimplified||""),i("address","".concat((null===(t=e.addressInfo)||void 0===t?void 0:t.address1)||""," ").concat((null===(a=e.addressInfo)||void 0===a?void 0:a.address2)||"")),i("addressDetail",null===(l=e.addressInfo)||void 0===l?void 0:l.detailAddress),i("condition",e.condition),i("category",e.category),i("memberCode",e.memberCode||""),i("managerName",e.managerName||""),i("commonMdmCustomerId",e.commonMdmCustomerId)}})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabBasicInfo.tsx"})}),(0,l.jsx)(Fn,{label:"인사조직",required:!0,error:null===(a=o.errors.mdmCorporationCode)||void 0===a?void 0:a.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"mdmCorporationCode",control:n,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(He.A,{options:d.activeDeptIds,selectedId:t.value,componentType:"autocomplete-table",placeholder:"인사조직 선택",autocompleteBoxClassName:"w-full",onChange:(e,a)=>t.onChange(a.id)})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabBasicInfo.tsx"})}),(0,l.jsx)(Fn,{label:"사업자 번호","data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"registrationNumber",control:n,disabled:!0,render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{disabled:!s,componentType:"input-table",className:"w-full",...t})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabBasicInfo.tsx"})}),(0,l.jsx)(Fn,{label:"사업자명(약어)","data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"nameSimplified",control:n,disabled:!0,render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{componentType:"input-table",className:"w-full",...t})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabBasicInfo.tsx"})}),(0,l.jsx)(Fn,{label:"대표자명","data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"representativeName",control:n,disabled:!0,render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{componentType:"input-table",className:"w-full",...t})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabBasicInfo.tsx"})}),(0,l.jsx)(Fn,{label:"사업장 주소","data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"address",control:n,disabled:!0,render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{componentType:"input-table",className:"w-full",...t})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabBasicInfo.tsx"})}),(0,l.jsx)(Fn,{label:"상세 주소","data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"addressDetail",control:n,disabled:!0,render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{componentType:"input-table",className:"w-full",...t})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabBasicInfo.tsx"})}),(0,l.jsx)(Fn,{label:"업태","data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"condition",control:n,disabled:!0,render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{componentType:"input-table",className:"w-full",...t})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabBasicInfo.tsx"})}),(0,l.jsx)(Fn,{label:"업종","data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"category",control:n,disabled:!0,render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{componentType:"input-table",className:"w-full",...t})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabBasicInfo.tsx"})}),(0,l.jsx)(Fn,{label:"영업 사용자 번호","data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"salesMdmAdminEmpNo",control:n,disabled:!0,render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{componentType:"input-table",className:"w-full",...t})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabBasicInfo.tsx"})}),(0,l.jsx)(Fn,{label:"영업 사용자명","data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"salesMdmAdminName",control:n,disabled:!0,render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{componentType:"input-table",className:"w-full",...t})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabBasicInfo.tsx"})}),(0,l.jsx)(Fn,{label:"사용 중지 여부","data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"isUsed",control:n,disabled:!0,render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{componentType:"input-table",className:"w-full",...t,value:t.value?"정상":"중지"})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabBasicInfo.tsx"})}),(0,l.jsx)(Fn,{label:"사업","data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"industryCode",control:n,render:e=>{let{field:t}=e;return(0,l.jsx)(He.A,{options:d.industries,selectedId:t.value,componentType:"autocomplete-table",placeholder:"사업 선택",autocompleteBoxClassName:"w-full",onChange:(e,a)=>t.onChange(a.id)})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabBasicInfo.tsx"})}),(0,l.jsx)(Zc,{control:n,"data-sentry-element":"ServiceDropDown","data-sentry-source-file":"DetailTabBasicInfo.tsx"})]})})};var Ym=function(e){const{isNew:t=!1,detailData:a,onRegisterComplete:r}=e;return(0,l.jsx)("div",{className:"flex flex-col","data-sentry-component":"Detail","data-sentry-source-file":"index.tsx",children:(0,l.jsxs)(Vm,{isNew:t,detailData:a,onRegisterComplete:r,"data-sentry-element":"DetailProvider","data-sentry-source-file":"index.tsx",children:[(0,l.jsx)(Gm,{detailData:a,"data-sentry-element":"DetailTop","data-sentry-source-file":"index.tsx"}),(0,l.jsx)("div",{className:"h-[calc(100vh-311px)] overflow-y-auto",children:(0,l.jsx)(km,{isShow:!0,"data-sentry-element":"DetailTabBasicInfo","data-sentry-source-file":"index.tsx"})})]})})};const qm=[{field:"id",headerName:"No.",sortable:!1,width:48,align:"center"},{field:"mdmCorporationCode",headerName:"인사조직",width:152,valueFormatter:e=>Je.X.getState().getMetaLabel(Ze.k.COMMON_MDM_CORPORATION_CODE,e)||"-"},{field:"mdmCode",headerName:"MDM 코드",width:152},{field:"name",headerName:"사업자명",minWidth:310,flex:1},{field:"businessType",headerName:"사업자 종류",width:152,renderCell:e=>(0,l.jsx)(rc.Ay.BusinessType,{businessType:e.value})},{field:"registrationNumber",headerName:"사업자 번호",width:152},{field:"representativeName",headerName:"대표자",width:152},{field:"isSettleable",headerName:"사용 여부",width:152,align:"center",cellClassName:"flex h-full w-full items-center justify-center",renderCell:e=>(0,l.jsx)(rc.Ay.RoundTag,{text:e.value?"Y":"N"})}];var Wm=function(e){let{isActive:t,isRegister:a}=e;(0,$e.P9)();const s=(0,r.useRef)(null),n=(0,D.bBi)(),o=v(),{mutateAsync:i,isSuccess:d,data:c}=(0,T.n)(["useGetBranchOfficeList"],(async e=>(await I.q.api((t=>t.ApiCustomerV1BranchList(e)))).data.result)),{mutateAsync:u,isSuccess:m,data:p}=(0,T.n)(["useGetBranchOfficeDetail"],(async e=>(await I.q.api((t=>t.ApiCustomerV1BranchDetail(e)))).data.result)),h=(0,r.useRef)(!0),[f,C]=(0,r.useState)(null),[x,N]=(0,r.useState)(!1),[y,E]=(0,r.useState)({}),{data:A,mutateAsync:g,isSuccess:b}=(0,T.n)(["memberManager/useBranchOfficeExcelDownloadMutation"],(async e=>(await I.q.api((t=>t.ApiCustomerV1BranchListExcel(e,{format:"blob"})))).data));(0,r.useEffect)((()=>{pe.sV.on(Ed,(()=>{N(!0)}))}),[]),(0,r.useEffect)((()=>{t&&h.current&&R(y)}),[t]);const R=async e=>{await i(Pm.toListRequest(e))},S=async e=>{await u(e)},_=e=>{N(!1),S({customerId:e}),pe.sV.emit(vd)},w=e=>{x?o({title:"작성 중인 정보가 있습니다.",description:"화면을 나가면 작성된 정보가 삭제됩니다.",confirmButtonLabel:"나가기",onClickConfirmButton:()=>_(e.row.customerId)}):_(e.row.customerId)},O=()=>g(Pm.toExcelDownRequest(y));return(0,r.useEffect)((()=>{if(d){var e,t;const a=(null!==(t=null==c?void 0:c.itemList)&&void 0!==t?t:[]).map(((e,t)=>({...e,id:t+1})));null===(e=s.current)||void 0===e||e.setInitData(a),h.current&&a.length&&(S({customerId:a[0].customerId}),h.current=!1)}}),[d]),(0,r.useEffect)((()=>{m&&C(Pm.toDetailResult(p))}),[m]),(0,l.jsx)(nu,{isOpenRightPanel:a||f,rightPanelWidth:448,onClickCloseButton:()=>{a&&pe.sV.emit(vd),f&&C(null)},leftSidePanel:(0,l.jsx)(Ve.A.Provider,{params:y,setParams:E,onSearch:async e=>{R(e)},children:e=>(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"px-[40px] py-[16px]",children:(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsxs)("div",{className:"flex flex-1 flex-wrap gap-4",children:[(0,l.jsx)(Ve.A.AllMetaAutocompleteSearch,{label:"인사조직",allMetaType:Ze.k.COMMON_MDM_CORPORATION_CODE,className:"!w-[140px]"}),(0,l.jsx)(Ve.A.SearchText,{label:"MDM 코드",placeholder:"MDM 코드 입력",fieldName:"mdmCode",className:"w-[140px]"}),(0,l.jsx)(Ve.A.SearchText,{label:"사업자명",placeholder:"사업자명 입력",fieldName:"businessName",className:"w-[140px]"}),(0,l.jsx)(Ve.A.SearchText,{label:"사업자번호",placeholder:"사업자번호 입력",fieldName:"registrationNumber",className:"w-[140px]"})]}),(0,l.jsxs)("div",{className:"flex flex-none items-start gap-2",children:[(0,l.jsx)(Ve.A.ResetButton,{}),(0,l.jsx)(Ve.A.SearchButton,{})]})]})}),(0,l.jsx)("div",{className:"h-[calc(100vh-325px)]",children:(0,l.jsx)(Fa.A,{ref:s,gridApiRef:n,columns:qm,initialState:{pinnedColumns:{left:["id"]}},onRowDoubleClick:w})}),(0,l.jsx)("div",{className:"flex flex-row justify-end gap-[8px] px-[40px] py-[16px]",children:(0,l.jsx)(We,{excelFileName:"회원관리_출장소",isSuccessExcel:b,excelData:A,handleExcelDownload:O})})]})}),rightSidePanel:(0,l.jsx)(Ym,{isNew:x,detailData:f,onRegisterComplete:e=>{N(!1),R(y),S({customerId:e}),pe.sV.emit(vd)}}),"data-sentry-element":"TmsBasicSlidePanel","data-sentry-component":"BranchOfficeManager","data-sentry-source-file":"BranchOfficeManager.tsx"})};const Hm=[{field:"__check__",headerName:"",width:50,sortable:!1,disableColumnMenu:!0,align:"right",headerClassName:"check-right-align"},{field:"id",headerName:"No.",sortable:!1,width:48,align:"center",renderCell:e=>e.api.getRowIndexRelativeToVisibleRows(e.id)+1},{field:"mdmCorporationCode",headerName:"인사조직",width:152,valueFormatter:e=>Je.X.getState().getMetaLabel(Ze.k.COMMON_MDM_CORPORATION_CODE,e)},{field:"customerAndVendorType",headerName:"회원 유형",width:152,align:"center",cellClassName:"flex h-full w-full items-center justify-center",renderCell:e=>(0,l.jsx)(rc.Ay.MemberType,{customerType:e.value})},{field:"mdmCode",headerName:"MDM 코드",width:152,align:"center",valueFormatter:e=>e||"-"},{field:"settlementActivationRequestStatusType",headerName:"상태",width:152,align:"center",cellClassName:"flex h-full w-full items-center justify-center",renderCell:e=>(0,l.jsx)("div",{className:C()("Caption1_B flex h-[20px] items-center rounded-[3px] border px-[4px]",{"text-error border-error":e.value===R.eF_.BLOCKED,"text-primary50 border-primary50":e.value!==R.eF_.BLOCKED}),children:e.value===R.eF_.BLOCKED?"거래중지":"해제요청"})},{field:"name",headerName:"사업자명",minWidth:310,flex:1},{field:"businessType",headerName:"사업자 종류",width:152,align:"center",cellClassName:"flex h-full w-full items-center justify-center",renderCell:e=>(0,l.jsx)(rc.Ay.BusinessType,{businessType:e.row.businessType})},{field:"registrationNumber",headerName:"사업자 번호",width:152,align:"center",valueFormatter:e=>e.replace(/^(\d{3})(\d{2})(\d{5})$/,"$1-$2-$3")},{field:"isSettleable",headerName:"사용 여부",width:74,align:"center",cellClassName:"flex h-full w-full items-center justify-center",renderCell:e=>(0,l.jsx)(rc.Ay.RoundTag,{text:e.value?"Y":"N"})}];var Km=function(e){let{isActive:t,isRegister:a}=e;const s=(0,$e.P9)(),n=(0,r.useRef)(!0),o=(0,r.useRef)(null),i=(0,D.bBi)(),[d,c]=(0,r.useState)(null),[p,h]=(0,r.useState)(!1),[f,C]=(0,r.useState)({}),[x,N]=(0,r.useState)(0),y=a||d,{mutateAsync:E,isSuccess:v,data:A}=(0,T.n)(["useGetSuspendedMemberList"],(async e=>(await I.q.api((t=>t.ApiMemberV1UnSettleableList(e)))).data.result)),{mutateAsync:g,isSuccess:b,data:S}=(0,T.n)(["useGetSuspendedMemberDetail"],(async e=>(await I.q.api((t=>t.ApiMemberV1UnSettleableDetail(e)))).data.result)),{mutateAsync:_,isSuccess:w}=(0,T.n)(["useRequestActiveSuspendedMember"],(async e=>(await I.q.api((t=>t.ApiMemberV1UnSettleableActivationRequest(e)))).data.result)),{data:O,mutateAsync:M,isSuccess:j}=(0,T.n)(["memberManager/useSuspendedExcelDownloadMutation"],(async e=>(await I.q.api((t=>t.ApiMemberV1UnSettleableListExcel(e,{format:"blob"})))).data)),P=async e=>{var t;await E({mdmCorporationCode:(null===(t=e.commonMdmCorporationCode)||void 0===t?void 0:t.length)>0?e.commonMdmCorporationCode:void 0,mdmCode:e.mdmCode,name:e.name,registrationNumber:e.registrationNumber,managerName:e.managerName,customerAndVendorType:e.customerAndVendorType,settlementActivationRequestStatusType:e.settlementActivationRequestStatusType})};return(0,r.useEffect)((()=>{pe.sV.on(fd,(()=>{h(!0)}))}),[]),(0,r.useEffect)((()=>{t&&n.current&&P(f)}),[t]),(0,r.useEffect)((()=>{var e;v&&(null===(e=o.current)||void 0===e||e.setInitData(A.itemList))}),[v]),(0,r.useEffect)((()=>{b&&c(S)}),[b]),(0,r.useEffect)((()=>{w&&s({message:"중지 해제가 요청되었습니다."})}),[w]),(0,l.jsx)(nu,{isOpenRightPanel:y,rightPanelWidth:448,onClickCloseButton:()=>{a&&pe.sV.emit(vd),d&&c(null)},leftSidePanel:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(Ve.A.Provider,{params:f,setParams:C,onSearch:async e=>{P(e)},children:e=>(0,l.jsxs)(xt.A,{containerClassName:"max-w-[1306px]",children:[(0,l.jsxs)(Ct.A,{children:[(0,l.jsx)(Ve.A.AllMetaMultiAutocompleteSearch,{label:"인사 조직",allMetaType:Ze.k.COMMON_MDM_CORPORATION_CODE,className:"!w-[175px]",labelContainerClassName:"!min-[49px]"}),(0,l.jsx)(Ve.A.SearchText,{label:"담당자",placeholder:"담당자명 입력",fieldName:"name",className:"!w-[175px]"})]}),(0,l.jsxs)(Ct.A,{children:[(0,l.jsx)(Ve.A.SearchText,{label:"MDM 코드",placeholder:"MDM 코드 입력",fieldName:"mdmCode",className:"!w-[175px]"}),(0,l.jsx)(Ve.A.AllMetaAutocompleteSearch,{label:"회원유형",allMetaType:Ze.k.CUSTOMER_AND_VENDOR_TYPE,className:"!w-[175px]"})]}),(0,l.jsx)(Ct.A,{children:(0,l.jsx)(Ve.A.SearchAutocomplete,{label:"상태",fieldName:"settlementActivationRequestStatusType",options:[{id:R.eF_.BLOCKED,label:"거래중지"},{id:R.eF_.REQUEST,label:"해제요청"}],autocompleteClassName:"!w-[175px]",labelContainerClassName:"!min-w-[23px]"})}),(0,l.jsx)(Ct.A,{children:(0,l.jsx)(Ve.A.SearchText,{label:"사업자명",placeholder:"사업자명 입력",fieldName:"managerName",className:"!w-[175px]",labelContainerClassName:"!min-w-[46px]"})}),(0,l.jsx)(Ct.A,{children:(0,l.jsx)(Ve.A.SearchText,{label:"사업자번호",placeholder:"사업자번호 입력",fieldName:"registrationNumber",className:"!w-[175px]"})})]})}),(0,l.jsx)("div",{className:"h-[calc(100vh-363px)]",children:(0,l.jsx)(Fa.A,{ref:o,gridApiRef:i,columns:Hm,checkboxSelection:!0,initialState:{pinnedColumns:{left:["__check__","id"]}},onRowDoubleClick:e=>{alert("정책확인중입니다")}})}),(0,l.jsxs)("div",{className:"flex flex-row justify-end gap-[8px] px-[40px] py-[16px]",children:[(0,l.jsx)(u.A,{label:"중지 해제 요청",level:m.V.level_5,size:m.M.Small,leftIcon:(0,l.jsx)(nt,{className:"text-grey50 h-[16px] w-[16px]"}),onClick:()=>{const e=Array.from(i.current.getSelectedRows().values());e.length?_({memberIdList:e.map((e=>e.memberId))}):alert({title:"중지 해제 요청할 회원을 선택해 주세요."})}}),(0,l.jsx)(We,{excelFileName:"중지회원",isSuccessExcel:j,excelData:O,handleExcelDownload:()=>M({mdmCorporationCode:f.commonMdmCorporationCode,mdmCode:f.mdmCode,name:f.name,registrationNumber:f.registrationNumber,managerName:f.managerName,customerAndVendorType:f.customerAndVendorType,settlementActivationRequestStatusType:f.settlementActivationRequestStatusType})})]})]}),rightSidePanel:(0,l.jsx)(l.Fragment,{}),"data-sentry-element":"TmsBasicSlidePanel","data-sentry-component":"SuspendedMemberManager","data-sentry-source-file":"SuspendedMemberManager.tsx"})};const zm={totalSummary:{count:0,totalAmount:0},confirmedSummary:{count:0,totalAmount:0},unconfirmedSummary:{count:0,totalAmount:0}},Xm=(0,mt.vt)(((e,t)=>({tabInfoFix:zm,setTabInfoFix:t=>e({tabInfoFix:t}),tabInfoAccount:zm,setTabInfoAccount:t=>e({tabInfoAccount:t}),tabInfoAccountCancel:zm,setTabInfoAccountCancel:t=>e({tabInfoAccountCancel:t}),resetAllTab:()=>e({tabInfoFix:zm,tabInfoAccount:zm,tabInfoAccountCancel:zm}),tabInfoFixFtOne:zm,setTabInfoFixFtOne:t=>e({tabInfoFixFtOne:t}),tabInfoAccountFtOne:zm,setTabInfoAccountFtOne:t=>e({tabInfoAccountFtOne:t}),tabInfoAccountCancelFtOne:zm,setTabInfoAccountCancelFtOne:t=>e({tabInfoAccountCancelFtOne:t}),resetAllTabFtOne:()=>e({tabInfoFixFtOne:zm,tabInfoAccountFtOne:zm,tabInfoAccountCancelFtOne:zm}),isChangeInfoCheck:!1,setIsChangeInfoCheck:t=>e({isChangeInfoCheck:t})})));function Qm(e){let{activeTab:t,setActiveTab:a,activeSubTab:r,setActiveSubTab:s,tabsData:n}=e;const o=e=>(0,pe.FZ)(String(e));return n.map(((e,n)=>{var i,d,c,u,m;return(0,l.jsx)("div",{className:C()("border-".concat(t===e.path?"blue50":"grey90"," flex flex-1 flex-shrink-0 cursor-pointer flex-col rounded-[8px] border-[1px] bg-white px-[16px] py-[15.5px] tracking-[-0.1px]"),{"items-center justify-center":e.subTitle2}),onClick:()=>a(e.path),children:e.subTitle2?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"flex w-full px-[12px]",children:[(0,l.jsx)("span",{className:"Body2_B text-grey30 flex-1",children:e.name}),(0,l.jsxs)("span",{className:"flex flex-1 items-center justify-end gap-[4px]",children:[(0,l.jsx)("span",{className:"Body2_B text-grey30",children:o(e.tabInfo.totalSummary.count)}),(0,l.jsx)("span",{className:"Caption1_M text-grey60",children:"건"})]}),(0,l.jsxs)("span",{className:"flex flex-1 items-center justify-end gap-[4px]",children:[(0,l.jsx)("span",{className:"Body2_B text-grey30",children:o(e.tabInfo.totalSummary.totalAmount)}),(0,l.jsx)("span",{className:"Caption1_M text-grey60",children:"원"})]})]}),(0,l.jsxs)("div",{className:"mt-[8px] flex w-full rounded-[8px] px-[10px] py-[5px] bg-".concat(t!==e.path||r?"":"blue98"),onClick:()=>s(!1),children:[(0,l.jsx)("span",{className:"Body5_M flex-1 text-".concat(t!==e.path||r?"grey30":"blue50"),children:e.subTitle1}),(0,l.jsxs)("span",{className:"flex flex-1 items-center justify-end gap-[4px]",children:[(0,l.jsx)("span",{className:"Body2_B text-progress",children:o(null===(d=e.tabInfo.unconfirmedSummary)||void 0===d?void 0:d.count)}),(0,l.jsx)("span",{className:"Caption1_M text-grey60",children:"건"})]}),(0,l.jsxs)("span",{className:"flex flex-1 items-center justify-end gap-[4px]",children:[(0,l.jsx)("span",{className:"Body2_B text-progress",children:o(null===(c=e.tabInfo.unconfirmedSummary)||void 0===c?void 0:c.totalAmount)}),(0,l.jsx)("span",{className:"Caption1_M text-grey60",children:"원"})]})]}),(0,l.jsxs)("div",{className:"flex w-full rounded-[8px] px-[10px] py-[5px] bg-".concat(t===e.path&&r?"blue98":""),onClick:()=>s(!0),children:[(0,l.jsx)("span",{className:"Body5_M flex-1 text-".concat(t===e.path&&r?"blue50":"grey30"),children:e.subTitle2}),(0,l.jsxs)("span",{className:"flex flex-1 items-center justify-end gap-[4px]",children:[(0,l.jsx)("span",{className:"Body2_B text-progress",children:o(null===(u=e.tabInfo.confirmedSummary)||void 0===u?void 0:u.count)}),(0,l.jsx)("span",{className:"Caption1_M text-grey60",children:"건"})]}),(0,l.jsxs)("span",{className:"flex flex-1 items-center justify-end gap-[4px]",children:[(0,l.jsx)("span",{className:"Body2_B text-progress",children:o(null===(m=e.tabInfo.confirmedSummary)||void 0===m?void 0:m.totalAmount)}),(0,l.jsx)("span",{className:"Caption1_M text-grey60",children:"원"})]})]})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"Body2_B text-grey30",children:e.name}),(0,l.jsxs)("div",{className:"mt-[8px] flex w-full rounded-[8px] px-[10px] py-[5px] bg-".concat(t===e.path&&r?"blue98":""),onClick:()=>s(!0),children:[(0,l.jsx)("span",{className:"Body5_M flex-1 text-".concat(t===e.path&&r?"blue50":"grey30"),children:e.subTitle1}),(0,l.jsxs)("span",{className:"flex flex-1 items-center justify-end gap-[4px]",children:[(0,l.jsx)("span",{className:"Body2_B text-progress",children:o(e.tabInfo.totalSummary.count)}),(0,l.jsx)("span",{className:"Caption1_M text-grey60",children:"건"})]}),(0,l.jsxs)("span",{className:"flex flex-1 items-center justify-end gap-[4px]",children:[(0,l.jsx)("span",{className:"Body2_B text-progress",children:o(null===(i=e.tabInfo.totalSummary)||void 0===i?void 0:i.totalAmount)}),(0,l.jsx)("span",{className:"Caption1_M text-grey60",children:"원"})]})]})]})},n)}))}var Zm,Jm;function $m(){return $m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},$m.apply(null,arguments)}var ep=function(e){return r.createElement("svg",$m({xmlns:"http://www.w3.org/2000/svg",xmlSpace:"preserve",width:40,height:40,fill:"red",viewBox:"0 0 100 100"},e),Zm||(Zm=r.createElement("circle",{cx:49.7,cy:39,r:14,fill:"#fff"})),Jm||(Jm=r.createElement("path",{stroke:"#000",strokeWidth:5,d:"M50 10.417c-15.581 0-28.201 12.627-28.201 28.201a28.07 28.07 0 0 0 5.602 16.873L45.49 86.823c.105.202.21.403.339.588l.04.069.011-.006a5.06 5.06 0 0 0 4.135 2.111c1.556 0 2.912-.708 3.845-1.799l.047.027.179-.31c.264-.356.498-.736.667-1.155L72.475 55.65a28.07 28.07 0 0 0 5.726-17.032c0-15.574-12.62-28.201-28.201-28.201zm-.279 42.498c-7.677 0-13.895-6.221-13.895-13.895s6.218-13.895 13.895-13.895 13.895 6.222 13.895 13.895-6.218 13.895-13.895 13.895z"})))},tp=a(95035);const ap=(0,r.createContext)(null),lp={lat:37.5665,lng:126.978},rp="bounds_changed",sp="center_changed",np="click",op="dblclick",ip="dragend",dp="drag",cp="dragstart",up="idle",mp="keydown",pp="keyup",hp="load",fp="maptype_changed",Cp="mousedown",xp="mousemove",Np="mouseout",yp="mouseover",Ep="mouseup",vp="projection_changed",Ap="resize",gp="rightclick",Tp="size_changed",Ip="tilesloaded",bp="zoom_changed",Rp="zoomstart";var Sp=e=>{let{children:t,center:a,zoom:s=15,onBoundsChanged:n,onCenterChanged:o,onClick:i,onDoubleClick:d,onDragEnd:c,onDragMove:u,onDragStart:m,onIdle:p,onKeyDown:h,onKeyUp:f,onLoad:C,onMapTypeChanged:x,onMouseDown:N,onMouseMove:y,onMouseOut:E,onMouseOver:v,onMouseUp:A,onProjectionChanged:g,onResized:T,onRightClick:I,onSizeChanged:b,onTilesLoaded:R,onZoomChanged:S,onZoomStart:_,onNaverMapReady:w,useMarkerClustering:O=!1}=e;const M=(0,r.useRef)(null),[D,j]=(0,r.useState)(null);return(0,r.useEffect)((()=>{const e=(e,t)=>new Promise(((a,l)=>{const r=document.createElement("script");r.src=e,r.async=!0,r.onload=()=>{a(!0)},r.onerror=()=>{l(new Error(t))},document.head.appendChild(r)})),t=()=>{try{if(naver&&M.current){const{lat:e,lng:t}=a||lp,l=new naver.maps.Map(M.current,{center:new naver.maps.LatLng(e,t),zoom:s,zoomControl:!0,zoomControlOptions:{style:naver.maps.ZoomControlStyle.SMALL,position:naver.maps.Position.RIGHT_BOTTOM}});n&&naver.maps.Event.addListener(l,rp,(e=>{n(l)})),o&&naver.maps.Event.addListener(l,sp,(e=>{o(l)})),i&&naver.maps.Event.addListener(l,np,(e=>{i(e)})),d&&naver.maps.Event.addListener(l,op,(e=>{d(l)})),c&&naver.maps.Event.addListener(l,ip,(e=>{c(l)})),u&&naver.maps.Event.addListener(l,dp,(e=>{u(l)})),m&&naver.maps.Event.addListener(l,cp,(e=>{m(l)})),p&&naver.maps.Event.addListener(l,up,(e=>{p(l)})),C&&naver.maps.Event.addListener(l,hp,(e=>{})),h&&naver.maps.Event.addListener(l,mp,(e=>{h(l)})),f&&naver.maps.Event.addListener(l,pp,(e=>{f(l)})),x&&naver.maps.Event.addListener(l,fp,(e=>{x(l)})),N&&naver.maps.Event.addListener(l,Cp,(e=>{N(l)})),y&&naver.maps.Event.addListener(l,xp,(e=>{y(l)})),E&&naver.maps.Event.addListener(l,Np,(e=>{E(l)})),v&&naver.maps.Event.addListener(l,yp,(e=>{v(l)})),A&&naver.maps.Event.addListener(l,Ep,(e=>{A(l)})),g&&naver.maps.Event.addListener(l,vp,(e=>{g(l)})),T&&naver.maps.Event.addListener(l,Ap,(e=>{T(l)})),I&&naver.maps.Event.addListener(l,gp,(e=>{I(l)})),b&&naver.maps.Event.addListener(l,Tp,(e=>{b(l)})),R&&naver.maps.Event.addListener(l,Ip,(e=>{R(l)})),S&&naver.maps.Event.addListener(l,bp,(e=>{S(e)})),_&&naver.maps.Event.addListener(l,Rp,(e=>{_(l)})),j(l),w&&w(l)}}catch(e){}};(async()=>{try{if(window.naver)return void t();if(await e("https://oapi.map.naver.com/openapi/v3/maps.js?ncpKeyId=vyos62gpw9&submodules=","NaverMap SDK 로드에 실패 했습니다."),O)try{await e("./libs/MarkerClustering.js","MarkerClustering 추가 모듈 로드에 실패 했습니다. MarkerClustering.js 파일을 추가 해주세요."),t()}catch(e){e.message}else t()}catch(e){}})()}),[]),(0,r.useEffect)((()=>{D&&D.setZoom(s)}),[s,D]),(0,r.useEffect)((()=>{D&&a&&D.setCenter(new naver.maps.LatLng(a.lat,a.lng))}),[a]),(0,r.useEffect)((()=>{}),[D]),(0,l.jsx)(ap.Provider,{value:D,"data-sentry-element":"NaverMapContext.Provider","data-sentry-component":"NaverMap","data-sentry-source-file":"NaverMap.tsx",children:(0,l.jsx)("div",{ref:M,className:"h-full w-full",children:D&&t})})};var _p=(0,r.forwardRef)(((e,t)=>{let{title:a,description:l,position:s,markerIcon:n,markerAnchor:o={x:0,y:0},onClick:i}=e;const d=(0,r.useContext)(ap),c=(0,r.useRef)(null),u=(0,r.useRef)(null);return(0,r.useImperativeHandle)(t,(()=>c.current)),(0,r.useEffect)((()=>{if(!d)return;if(!s||!s.lat||!s.lng)return;const e=n?{content:n?(0,tp.F0)(n):"",anchor:new naver.maps.Point(o.x,o.y)}:"",t=new naver.maps.Marker({position:new naver.maps.LatLng(s.lat||0,s.lng||0),map:d,title:a,icon:e});c.current=t;const l=naver.maps.Event.addListener(t,"click",(()=>{i&&i()}));return()=>{naver.maps.Event.removeListener(l),c.current&&(c.current.setMap(null),c.current=null),u.current&&(u.current.close(),u.current=null)}}),[d,s,a,l]),null}));var wp=e=>{let{path:t=[{lat:37.5665,lng:126.978},{lat:37.5747,lng:126.9764},{lat:37.5732,lng:126.9998},{lat:37.561,lng:126.985}],strokeColor:a="#FF0000",strokeOpacity:l=.8,strokeWeight:s=3,strokeStyle:n="solid",startIcon:o,endIcon:i,zIndex:d=0}=e;const c=(0,r.useContext)(ap);return(0,r.useEffect)((()=>{if(!c)return;const e=new naver.maps.Polyline({map:c,path:t,strokeColor:a,strokeOpacity:l,strokeWeight:s,strokeStyle:n,zIndex:d}),r=naver.maps.Event.addListener(e,"click",(e=>{e.coord})),o=naver.maps.Event.addListener(e,"mouseover",(()=>{e.setOptions({strokeWeight:s+2,strokeOpacity:Math.min(l+.2,1),path:t})})),i=naver.maps.Event.addListener(e,"mouseout",(()=>{e.setOptions({strokeWeight:s,strokeOpacity:l,path:t})}));return()=>{naver.maps.Event.removeListener(r),naver.maps.Event.removeListener(o),naver.maps.Event.removeListener(i),e.setMap(null)}}),[c,t,a,l,s,n,o,i,d]),null};var Op=e=>{let{label:t,type:a,id:r,error:s,placeholder:n,onChange:o,onBlur:i,value:d}=e;return(0,l.jsxs)("div",{className:"mb-4","data-sentry-component":"InputField","data-sentry-source-file":"InputField.tsx",children:[(0,l.jsx)("label",{htmlFor:r,className:"text-grey40 mb-2 block font-medium",children:t}),(0,l.jsx)("input",{type:a,id:r,value:d,onChange:o,onBlur:i,placeholder:n,className:"w-full border px-3 py-2 ".concat(s?"border-red50":"border-grey30"," rounded-md focus:outline-none")}),s&&(0,l.jsx)("p",{className:"text-red50 mt-1 text-sm",children:s})]})};var Mp=e=>{let{control:t,errors:a}=e;return(0,l.jsxs)("div",{className:"mb-10","data-sentry-component":"BasicInfo","data-sentry-source-file":"BasicInfo.tsx",children:[(0,l.jsx)("h3",{className:"mb-3 border-b pb-2 text-lg font-semibold",children:"기본 정보"}),(0,l.jsx)(Hr.xI,{name:"name",control:t,render:e=>{let{field:t}=e;var r;return(0,l.jsx)(Op,{label:"이름",type:"text",id:"name",error:null===(r=a.name)||void 0===r?void 0:r.message,placeholder:"홍길동",...t})},"data-sentry-element":"Controller","data-sentry-source-file":"BasicInfo.tsx"}),(0,l.jsx)(Hr.xI,{name:"phoneNumber",control:t,render:e=>{let{field:t}=e;var r;return(0,l.jsx)(Op,{label:"전화번호",type:"tel",id:"phoneNumber",error:null===(r=a.phoneNumber)||void 0===r?void 0:r.message,placeholder:"010-1234-5678",...t})},"data-sentry-element":"Controller","data-sentry-source-file":"BasicInfo.tsx"}),(0,l.jsx)(Hr.xI,{name:"email",control:t,render:e=>{let{field:t}=e;var r;return(0,l.jsx)(Op,{label:"이메일",type:"email",id:"email",error:null===(r=a.email)||void 0===r?void 0:r.message,placeholder:"example@email.com",...t})},"data-sentry-element":"Controller","data-sentry-source-file":"BasicInfo.tsx"})]})};var Dp=e=>{let{control:t,errors:a}=e;const{fields:r,append:s,remove:n}=(0,Hr.jz)({control:t,name:"subUsers"});return(0,l.jsxs)("div",{className:"mb-10","data-sentry-component":"SubUserInfo","data-sentry-source-file":"SubUserInfo.tsx",children:[(0,l.jsx)("h3",{className:"mb-3 border-b pb-2 text-lg font-semibold",children:"서브 사용자 목록"}),r.map(((e,r)=>(0,l.jsx)("div",{className:"mb-6 border-b pb-4",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(Hr.xI,{name:"subUsers.".concat(r,".name"),control:t,rules:{required:"이름을 입력해주세요"},render:e=>{let{field:t}=e;var s,n,o;return(0,l.jsx)(Op,{label:"이름 (".concat(r+1,")"),type:"text",id:"subUsers.".concat(r,".name"),error:null===(o=a.subUsers)||void 0===o||null===(n=o[r])||void 0===n||null===(s=n.name)||void 0===s?void 0:s.message,placeholder:"홍길동",...t})}}),(0,l.jsx)(Hr.xI,{name:"subUsers.".concat(r,".email"),control:t,rules:{required:"이메일을 입력해주세요",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"유효한 이메일 주소를 입력해주세요"}},render:e=>{let{field:t}=e;var s,n,o;return(0,l.jsx)(Op,{label:"이메일 (".concat(r+1,")"),type:"email",id:"subUsers.".concat(r,".email"),error:null===(o=a.subUsers)||void 0===o||null===(n=o[r])||void 0===n||null===(s=n.email)||void 0===s?void 0:s.message,placeholder:"example@email.com",...t})}})]}),(0,l.jsx)(u.A,{type:"button",level:m.V.level_1,label:"삭제",onClick:()=>n(r)})]})},e.id))),(0,l.jsx)(u.A,{type:"button",className:"w-full",level:m.V.level_2,label:"사용자 추가",onClick:()=>s({name:"",email:""}),"data-sentry-element":"TmsBasicButton","data-sentry-source-file":"SubUserInfo.tsx"})]})};function jp(e){let{files:t,onFilesChange:a,maxFiles:s=5,accept:n=["image/jpeg","image/png","application/pdf"],children:o,renderPreview:i}=e;const d=(0,r.useRef)(null),[c,u]=(0,r.useState)(!1),m=Array.isArray(n)?n.join(","):n||void 0,p=e=>{const l=[];Array.from(e).forEach((e=>{const r=URL.createObjectURL(e);1!==s?t.length+l.length>=s?"최대 ".concat(s,"개 파일까지만 업로드 가능합니다."):l.push({file:e,previewUrl:r}):a([{file:e,previewUrl:r}])})),l.length&&a([...t,...l])},h=e=>{const l=[...t];l.splice(e,1),a(l)},f=e=>{if(e.file)return"application/pdf"===e.file.type;return e.previewUrl.toLowerCase().endsWith(".pdf")};return(0,l.jsxs)("div",{"data-sentry-component":"TmsBasicUpload","data-sentry-source-file":"TmsBasicUpload.tsx",children:[(0,l.jsx)("input",{type:"file",ref:d,hidden:!0,accept:m,multiple:s>1,onChange:e=>{e.target.files&&p(e.target.files),e.target.value=""}}),(0,l.jsx)("div",{onClick:()=>{var e;null===(e=d.current)||void 0===e||e.click()},onDrop:e=>{e.preventDefault(),e.stopPropagation(),u(!1),e.dataTransfer.files&&e.dataTransfer.files.length>0&&(p(e.dataTransfer.files),e.dataTransfer.clearData())},onDragOver:e=>{e.preventDefault(),e.stopPropagation(),u(!0)},onDragLeave:e=>{e.preventDefault(),e.stopPropagation(),u(!1)},children:(0,l.jsx)("button",{type:"button",title:"업로드","aria-label":"업로드",children:o||(0,l.jsx)("div",{className:"text-gray-500",children:"파일을 드래그하거나 클릭하여 업로드"})})}),(0,l.jsx)("div",{className:"mt-4 flex flex-wrap gap-2",children:null==t?void 0:t.map(((e,t)=>i?i(e,f(e),(()=>h(t))):(0,l.jsxs)("div",{className:"relative w-32",children:[f(e)?(0,l.jsx)("div",{className:"flex h-20 w-full items-center justify-center rounded bg-gray-100 text-sm",children:"PDF 파일"}):(0,l.jsx)("img",{src:e.previewUrl,alt:"preview",className:"h-20 w-full rounded object-cover"}),(0,l.jsx)("button",{type:"button",onClick:()=>h(t),className:"absolute -right-2 -top-2 h-6 w-6 rounded-full border bg-white text-xs",children:"✕"})]},t)))})]})}const Pp=[{name:"license1",label:"사업자등록증 (필수)",required:!0},{name:"license3",label:"기타 서류 1",required:!1}];var Lp=e=>{let{control:t,errors:a}=e;return(0,l.jsxs)("div",{className:"mb-6","data-sentry-component":"BusinessLicense","data-sentry-source-file":"BusinessLicense.tsx",children:[(0,l.jsx)("h3",{className:"mb-3 border-b pb-2 text-lg font-semibold",children:"사업자 서류"}),(0,l.jsx)(Hr.xI,{name:"attachDocument",control:t,render:e=>{let{field:t}=e;return(0,l.jsx)(Kc,{file:t.value,onFileChange:t.onChange})},"data-sentry-element":"Controller","data-sentry-source-file":"BusinessLicense.tsx"}),Pp.map((e=>{let{name:a,label:r,required:s}=e;return(0,l.jsx)(Hr.xI,{name:a,control:t,defaultValue:[],rules:s?{validate:e=>e&&e.some((e=>e.file||e.previewUrl))||"".concat(r,"을(를) 업로드해주세요")}:{},render:e=>{let{field:t}=e;return(0,l.jsx)(jp,{files:t.value,onFilesChange:t.onChange,maxFiles:1,children:(0,l.jsxs)("div",{className:"text-warmGrey50 border-warmGrey70 bg-warmGrey98 flex flex-row items-center justify-center rounded-[8px] border-[1px] border-dashed p-[24px]",children:[(0,l.jsx)(Hc,{className:"h-[20px] w-[20px]"}),(0,l.jsx)("span",{className:"Body5_B",children:"이미지 선택 또는 끌어놓기"})]})})}},a)}))]})};const Bp=e=>(0,T.n)([null!=e?e:"standardInformation/allowedPaymentConditionsManagement/usePurchasePaymentConditionsListMutation"],(async e=>(await I.q.api((t=>t.ApiV1SettlementPurchasePaymentConditionsCodesList(e)))).data.result));var Up=e=>{let{params:t,handleProcessRowUpdate:a}=e;const s=(0,$e.P9)(),{mutateAsync:n,isSuccess:o,data:i,isError:d}=(0,T.n)(["standardInformation/allowedPaymentConditionsManagement/useSearchPurchasePaymentCodeSetUsageMutation"],(async e=>(await I.q.api((t=>t.ApiV1SettlementPurchasePaymentConditionsCodesSetUsage(e)))).data.result));return(0,r.useEffect)((()=>{if(o){const e={...t.row,isUsed:!t.value};t.api.updateRows([e]),t.value?s({message:"지급조건 [".concat(t.row.paymentConditionCode,"] 사용 해제되었습니다.")}):s({message:"지급조건 [".concat(t.row.paymentConditionCode,"] 사용 설정되었습니다.")})}d&&t.api.updateRows([t.row])}),[i]),(0,l.jsx)("div",{className:"flex justify-center","data-sentry-component":"IsUsedSwitch","data-sentry-source-file":"IsUsedSwitch.tsx",children:(0,l.jsx)(Ia,{checked:t.value,handleChange:async()=>{await n({paymentConditionCodeId:t.row._id_,isUsed:!t.row.isUsed})},disabled:t.row._isNew,"data-sentry-element":"TmsBasicSwitch","data-sentry-source-file":"IsUsedSwitch.tsx"})})};a(45954);function Vp(e){let{mutationKey:t}=e;const{mutateAsync:a,isSuccess:l,data:s}=Bp(t),n=(0,r.useMemo)((()=>l&&s?(s||[]).map((e=>({id:e.paymentConditionCode,label:e.paymentConditionCodeName}))):[]),[s]);return(0,r.useLayoutEffect)((()=>{(async()=>{await a({})})()}),[]),{paymentConditionOptions:n,dataPurchasePayment:s}}var Fp=function(e){let{menuName:t}=e;const[a,s]=(0,r.useState)({paymentConditionCode:""}),n=(0,r.useRef)(null);var o;const{setInitData:i,setRequired:d,validateRequired:c,getUpdateRows:u,addRowToFirst:m}=null!==(o=null==n?void 0:n.current)&&void 0!==o?o:{},p=(0,D.bBi)(),h=(0,r.useMemo)((()=>[{field:"No",headerName:"No.",sortable:!1,type:"number",width:48,align:"center",renderCell:e=>e.api.getRowIndexRelativeToVisibleRows(e.id)+1},{field:"paymentConditionCode",headerName:"지급조건",editable:!0,required:!0,defaultEditable:!1,type:da._.CUSTOM_SELECT,metaKey:Ze.k.COMMON_MDM_PAYMENT_CONDITION_PURCHASE_CODE,minWidth:462},{field:"paymentConditionCodeName",headerName:"지급조건코드",readonly:!0,minWidth:100,renderCell:e=>e.row.paymentConditionCode},{field:"createdBy",headerName:"최초 등록자",readonly:!0,type:"string",width:277},{field:"createdAt",headerName:"최초 등록일",readonly:!0,width:150,type:da._.VIEW_MODE_YYYYMMDD},{field:"updatedBy",headerName:"최종 수정자",readonly:!0,type:"string",width:150},{field:"updatedAt",headerName:"최종 수정일",readonly:!0,width:150,type:da._.VIEW_MODE_YYYYMMDD},{field:"isUsed",headerName:"사용여부",sortable:!1,type:"boolean",width:104,renderCell:e=>(0,l.jsx)(Up,{params:e})}]),[]),f=Bp("AllowedPaymentConditionsManagementPanel"),C=(0,T.n)(["standardInformation/allowedPaymentConditionsManagement/usePurchasePaymentConditionsSaveMutation"],(async e=>(await I.q.api((t=>t.ApiV1SettlementPurchasePaymentConditionsCodesSave(e)))).data.result)),x=(0,$e.P9)(),N=E(),{paymentConditionOptions:y}=Vp({mutationKey:"PaymentCondition"}),v=async()=>{const e={paymentConditionCode:a.paymentConditionCode||void 0};f.mutateAsync(e)};return(0,r.useEffect)((()=>{f.data&&f.isSuccess&&i(f.data,"vendorPaymentConditionId")}),[f.data]),(0,r.useEffect)((()=>{if(C.isSuccess){const e=u();return x({message:"".concat(e.length,"개의 허용지급조건이 저장되었습니다.")}),C.reset(),void v()}if(C.isError&&C.error.responseCode===tl.z.SETTLEMENT_PURCHASE_PAYMENT_CONDITION_ALREADY_EXISTED_ERROR)return x({message:"이미 등록된 지급조건입니다. 목록을 확인해주세요.",type:"caution"}),void C.reset()}),[C]),(0,l.jsx)("div",{className:"flex h-full w-full flex-col","data-sentry-component":"AllowedPaymentConditionsManagementPanel","data-sentry-source-file":"MainPanel.tsx",children:(0,l.jsxs)("div",{className:"flex h-full w-full flex-col",children:[(0,l.jsx)("div",{className:"bg-grey98",children:(0,l.jsx)(xl,{title:t,"data-sentry-element":"ContentHeader","data-sentry-source-file":"MainPanel.tsx",children:(0,l.jsx)("div",{className:"flex gap-[8px]"})})}),(0,l.jsx)(Ve.A.Provider,{params:a,setParams:s,onSearch:v,"data-sentry-element":"SearchFilter.Provider","data-sentry-source-file":"MainPanel.tsx",children:e=>(0,l.jsxs)("div",{className:"flex gap-[16px] px-[40px] py-[16px]",children:[(0,l.jsx)(Ve.A.SearchAutocomplete,{label:"지급조건",options:y,fieldName:"paymentConditionCode",autocompleteClassName:"!w-[454px]"}),(0,l.jsxs)("div",{className:"ml-auto flex w-[100px] gap-[4px]",children:[(0,l.jsx)(Ve.A.ResetButton,{}),(0,l.jsx)(Ve.A.SearchButton,{})]})]})}),(0,l.jsx)("div",{className:"grid-area flex-1 overflow-auto",children:(0,l.jsx)(Fa.A,{ref:n,gridApiRef:p,columns:h,initialState:{pinnedColumns:{left:["_id_"]}},columnHeaderHeight:32,noRowDescription:{description_1:"조회된 정보가 없습니다.",description_2:"지급조건을 선택하거나 조회 조건을 다시 확인해 주세요."},"data-sentry-element":"WrappTmsBasicDataGrid","data-sentry-source-file":"MainPanel.tsx"})}),(0,l.jsxs)("div",{className:"footer-area flex h-[60px] justify-end gap-[8px] px-[40px] py-[16px]",children:[(0,l.jsx)(St.A,{handleAddRow:m,"data-sentry-element":"TmsDataGridAddRowBtn","data-sentry-source-file":"MainPanel.tsx"}),(0,l.jsx)(ui,{handleRegister:async()=>{const e=u();if(0===e.length)return void N({title:"추가된 항목이 없습니다.",description:"행을 추가한 후 등록해 주세요. "});if(!c())return void N({title:"입력되지 않은 정보가 있습니다.",description:"확인 후 다시 시도해 주세요."});const t=e.map((e=>({paymentConditionCode:e.paymentConditionCode,paymentConditionCodeName:e.paymentConditionCodeName,isUsed:!0})));C.mutateAsync(t),d(!0)},"data-sentry-element":"TmsDataGridRegisterBtn","data-sentry-source-file":"MainPanel.tsx"})]})]})})};const Gp=()=>{const[e,t]=(0,r.useState)({}),a=(0,r.useRef)(null);var s;const{rows:n,setInitData:o,addRowToFirst:i,removeSelectedRow:d,validateRequired:p}=null!==(s=null==a?void 0:a.current)&&void 0!==s?s:{},h=(0,D.bBi)(),f=(0,$e.P9)(),{commonCustomerInfoOption:C}=(0,Je.X)(),{commonServiceInfoOption:x}=(0,Je.X)(),[N,y]=(0,r.useState)({isOpened:!1,wndReferenceId:0}),[E,v]=(0,r.useState)(0),A=[{groupId:"group1",renderHeaderGroup:()=>(0,yl.A)({headerName:"상차지"}),children:[{field:"departureMdmNodeName"},{field:"departureMdmNodeCode"}]},{groupId:"group2",renderHeaderGroup:()=>(0,yl.A)({headerName:"코스트센터"}),children:[{field:"purchaseMdmCostCenterCode"},{field:"purchaseMdmCostCenterName"}]}],{mutateAsync:g,data:b,isSuccess:R}=(0,T.n)(["standardInformation/indirectCostRulesManagement/useSearchPurchaseWndReferenceList"],(async e=>(await I.q.api((t=>t.ApiV1SettlementPurchaseWndReferencesList(e)))).data.result)),{mutateAsync:S,data:_,isSuccess:w,isLoading:O}=(0,T.n)(["standardInformation/indirectCostRulesManagement/useSavePurchaseWndReferenceList"],(async e=>(await I.q.api((t=>t.ApiV1SettlementPurchaseWndReferencesSave(e)))).data.result)),{getAllMeta:M}=od({mutationKey:"IndirectCostRulesManagement",requestAllMeta:[Ze.k.WND_REFERENCE_TYPE,Ze.k.PURCHASE_GL_ACCOUNT_TYPE]}),j=(e=>{let{customerOptions:t,serviceOptions:a,handleSaveHistory:r,handleChangeService:s}=e;return[{field:"__check__",width:76,minWidth:76,maxWidth:76,sortable:!1,disableColumnMenu:!0,headerClassName:"height-wide-cell",align:"center"},{field:"No",headerName:"No.",headerWideCell:!0,editable:!1,sortable:!1,width:48,align:"center",type:da._.VIEW_MODE_ID},{field:"wndReferenceType",headerName:"구분",headerAlign:"center",width:150,required:!0,headerWideCell:!0,editable:!0,defaultEditable:!1,dynamicOption:!0,metaKey:Ze.k.WND_REFERENCE_TYPE,type:da._.CUSTOM_SELECT},{field:"customerId",headerName:"화주",width:380,required:!0,headerWideCell:!0,editable:!0,defaultEditable:!1,dynamicOption:!0,type:da._.CUSTOM_SELECT,options:t},{field:"departureMdmNodeName",headerName:"노드명",required:!0,editable:!0,defaultEditable:!1,dynamicField:!0,cellClassName:"wide-cell",width:276,renderCell:e=>(0,$t.A)({params:e,nodeIdFieldName:"departureMdmNodeCode",nodeNameFieldName:"departureMdmNodeName",readonly:!e.row._isNew})},{field:"departureMdmNodeCode",headerName:"노드 ID",required:!0,editable:!1,readonly:!0,width:100,valueGetter:(e,t)=>{var a;return null!==(a=t.departureMdmNodeCode)&&void 0!==a?a:"자동 입력"}},{field:"purchaseMdmCostCenterName",headerName:"코스트센터 코드",editable:!1,readonly:!0,width:107,valueGetter:(e,t)=>{var a;return null!==(a=t.purchaseMdmCostCenterCode)&&void 0!==a?a:"자동 입력"}},{field:"purchaseMdmCostCenterCode",headerName:"코스트센터명",required:!0,editable:!0,defaultEditable:!0,dynamicField:!0,metaKey:Ze.k.COMMON_MDM_COST_CENTER_PURCHASE_CODE,type:da._.CUSTOM_SELECT},{field:"bizCode",headerName:"사업",required:!0,headerWideCell:!0,editable:!0,defaultEditable:!0,dynamicOption:!0,metaKey:Ze.k.INDUSTRY_CODE,type:da._.CUSTOM_SELECT,width:131},{field:"bizCodeName",headerName:"사업코드",headerWideCell:!0,editable:!1,readonly:!0,width:103,valueGetter:(e,t)=>{var a;return null!==(a=t.bizCode)&&void 0!==a?a:"자동 입력"}},{field:"serviceCode",headerName:"서비스",required:!0,headerWideCell:!0,editable:!0,width:120,renderCell:e=>Xt({firstOptionType:null,options:null!=a?a:[],params:e,onChangeProps:t=>s(t,e)})},{field:"serviceCodeName",headerName:"서비스 코드",headerWideCell:!0,editable:!1,readonly:!0,width:102,valueGetter:(e,t)=>{var a;return null!==(a=t.serviceCode)&&void 0!==a?a:"자동 입력"}},{field:"serviceCode2",headerName:"서비스(2)",headerWideCell:!0,editable:!0,width:120,renderCell:e=>{var t,l;return Xt({firstOptionType:null,options:null!==(l=null===(t=a.find((t=>t.id===e.row.serviceCode)))||void 0===t?void 0:t.children.map((e=>({id:e.mdmCode,label:e.value}))))&&void 0!==l?l:[{id:"",label:""}],params:e,onChangeProps:t=>e.api.updateRows([{...e.row,isDirty:!0,serviceCode2Name:t.id,serviceCode2:t.id}])})}},{field:"serviceCodeName2",headerName:"서비스(2) 코드",headerWideCell:!0,editable:!1,readonly:!0,width:102,valueGetter:(e,t)=>{var a;return null!==(a=t.serviceCode2)&&void 0!==a?a:"자동 입력"}},{field:"purchaseGlAccountCode",headerName:"계정과목",required:!0,headerWideCell:!0,editable:!0,defaultEditable:!0,metaKey:Ze.k.PURCHASE_GL_ACCOUNT_TYPE,type:da._.CUSTOM_SELECT,onChange:(e,t,a)=>{a.api.updateRows([{...a.row,purchaseGlAccountTypeName:t.id,purchaseGlAccountCode:t.id}])},width:162},{field:"purchaseGlAccountTypeName",headerName:"계정과목코드",headerWideCell:!0,editable:!1,readonly:!0,width:103,valueGetter:(e,t)=>{var a;return null!==(a=t.purchaseGlAccountCode)&&void 0!==a?a:"자동 입력"}},{field:"materialCode",headerName:"대표물자",required:!0,headerWideCell:!0,editable:!0,defaultEditable:!0,metaKey:Ze.k.MATERIAL_CODE,type:da._.CUSTOM_SELECT},{field:"materialCodeName",headerName:"대표물자코드",headerWideCell:!0,editable:!1,readonly:!0,width:103,valueGetter:(e,t)=>{var a;return null!==(a=t.materialCode)&&void 0!==a?a:"자동 입력"}},{field:"isUsed",headerName:"사용 여부",type:da._.CUSTOM_SELECT,headerWideCell:!0,editable:!0,defaultEditable:!0,options:[{id:"Y",label:"사용"},{id:"N",label:"미사용"}],width:100},{field:"updatedBy",type:"string",headerWideCell:!0,editable:!1,headerName:"최종수정자",width:100,readonly:!0},{field:"updatedAt",editable:!1,headerWideCell:!0,headerName:"최종수정일",width:115,type:da._.VIEW_MODE_YYYYMMDD_DDD,readonly:!0},{headerName:"저장내역",field:"actions",type:"actions",headerWideCell:!0,editable:!1,width:100,getActions:e=>[(0,l.jsx)(u.A,{label:"확인",level:m.V.level_5,size:m.M.Small,onClick:()=>r(e.row),disabled:e.row._isNew})]}]})({customerOptions:C,serviceOptions:x,handleSaveHistory:e=>{y({isOpened:!0,wndReferenceId:e.wndReferenceId})},handleChangeService:async(e,t)=>{t.api.updateRows([{...t.row,isDirty:!0,serviceCodeName:e.id,serviceCode:e.id}])}}),P=async()=>{const t={customerIds:e.customerId,departureMdmNodName:e.departureMdmNodName,purchaseMdmCostCenterCodes:e.commonMdmCostCenterPurchaseCode,bizCode:e.industryCode,serviceCode:e.serviceCode,serviceCode2:e.serviceCode2,wndReferenceType:e.wndReferenceType};e.isUsed&&(t.isUsed="Y"===e.isUsed),await g(t)};return(0,r.useLayoutEffect)((()=>{M()}),[]),(0,r.useEffect)((()=>{if(!R)return;const e=b.map((e=>({...e,isUsed:e.isUsed?"Y":"N"})));o(e)}),[b]),(0,r.useEffect)((()=>{w&&(f({message:"".concat(E,"개의 직접비화 룰이 등록되었습니다.")}),P())}),[_]),{params:e,setParams:t,handleSearch:P,wrapGridRef:a,gridApiRef:h,addRowToFirst:i,removeSelectedRow:d,handleSave:async()=>{const e=Array.from(h.current.getRowModels().values()),t=e.filter((e=>!c().some(n,(t=>c().isEqual(e,t)))));if(0===t.length)return void f({message:"변경된 사항이 없습니다.",type:"caution"});if(!p())return void f({message:"필수 정보를 입력해 주세요.",type:"caution"});if((e=>{const t=new Set;for(let a=0;a<e.length;a++){const l=e[a],r=l.wndReferenceType,s=l.customerId,n=l.departureMdmNodeCode,o="".concat(r,"|").concat(s,"|").concat(n);if(t.has(o))return f({message:"".concat(a+1,"번째 행과 동일한 정보(구분, 고객사, 상차지)는 등록할 수 없습니다.")}),!0;t.add(o)}return!1})(e))return;const a=t.map((e=>({purchaseWndRefId:e.wndReferenceId,wndReferenceType:e.wndReferenceType,customerId:e.customerId,departureMdmNodeCode:e.departureMdmNodeCode,purchaseMdmCostCenterCode:e.purchaseMdmCostCenterCode,bizCode:e.bizCode,serviceCode:e.serviceCode,serviceCode2:e.serviceCode2,purchaseGlAccountCode:e.purchaseGlAccountCode,materialCode:e.materialCode,isUsed:"Y"===e.isUsed})));await S(a),v(a.length)},columns:j,columnGroupingModel:A,saveHistoryInfo:N,setSaveHistoryInfo:y,isLoadingSavePurchaseWndReference:O}};var kp=[{field:"id",headerName:"No.",sortable:!1,width:48,align:"center",filterable:!1},{field:"crudTypeName",headerName:"유형"},{field:"wndReferenceTypeName",headerName:"구분",width:125},{field:"customerMdmCode",headerName:"고객사MDM"},{field:"businessName",headerName:"사업자명",width:200},{field:"businessRegistrationNumber",headerName:"사업자 번호"},{field:"representativeName",headerName:"대표자"},{field:"departureMdmNodeCodeName",headerName:"상차지",width:100},{field:"purchaseMdmCostCenterName",headerName:"코스트센터",width:150},{field:"bizCodeName",headerName:"사업구분"},{field:"serviceCodeName",headerName:"서비스"},{field:"serviceCode2Name",headerName:"서비스(2)"},{field:"purchaseGlAccountTypeName",headerName:"계정과목",width:134},{field:"materialCodeName",headerName:"물자구분"},{field:"isUsed",headerName:"사용여부"},{field:"createdBy",headerName:"처리자 ID"},{field:"createdAt",headerName:"처리 일시",width:115,valueFormatter:e=>je()(e).locale("ko").format("YYYY-MM-DD ddd")}];var Yp=function(e){let{wndReferenceId:t,setSaveHistoryInfo:a}=e;const[s,n]=(0,r.useState)([]),{mutateAsync:o,data:i,isSuccess:d}=(0,T.n)(["standardInformation/indirectCostRulesManagement/useWndReferenceIdHistoryList"],(async e=>{const t=e.wndReferenceId;return(await I.q.api((e=>e.ApiV1SettlementPurchaseWndReferencesWndReferenceIdHistoryList(t,{})))).data.result}));return(0,r.useLayoutEffect)((()=>{0!==t&&(async()=>{await o({wndReferenceId:t})})()}),[t]),(0,r.useEffect)((()=>{d&&n(i.map(((e,t)=>({...e,id:t+1,isUsed:e.isUsed?"Y":"N"}))))}),[i]),(0,l.jsx)(Pe.A,{title:"저장 내역",onClickCloseButton:()=>a({isOpened:!1,wndReferenceId:0}),isShowedConfirmButton:!1,modalWidth:1280,modalContentHeight:460,"data-sentry-element":"TmsBasicModal","data-sentry-component":"SaveHistoryModal","data-sentry-source-file":"SaveHistoryModal.tsx",children:(0,l.jsx)(Fe.A,{rows:s,columns:kp,"data-sentry-element":"TmsBasicDataGrid","data-sentry-source-file":"SaveHistoryModal.tsx"})})};function qp(e){let{isActived:t=!1,selectedOption:a={id:"",label:"",children:[]},bizCode:l=""}=e;const{commonMetaV2List:s}=(0,Je.X)(),{getAllMeta:n,isSuccessMetaAllV2:o}=od({mutationKey:"ManualSettlementEnterPanel",requestAllMeta:[Ze.k.COMMON_MDM_SERVICE_CODE,Ze.k.COMMON_MDM_SERVICE2_CODE]}),{isSuccess:i,data:d}=(0,Wt.a$)(),c=(0,r.useMemo)((()=>"11"!==l&&i&&d?(d||[]).map((e=>({id:e.mdmCode,label:e.value,children:e.children}))):s.COMMON_MDM_SERVICE_CODE),[d,i]),u=(0,r.useMemo)((()=>{var e,t;if(!l||"11"===l)return s.COMMON_MDM_SERVICE2_CODE;if(!(null==a?void 0:a.id))return;return null===(t=c.find((e=>e.id===a.id)))||void 0===t||null===(e=t.children)||void 0===e?void 0:e.map((e=>({id:e.mdmCode,label:e.value})))}),[null==a?void 0:a.id,o]);return(0,r.useEffect)((()=>{t&&n()}),[l,t]),{serviceOptions:c,service2Options:u}}var Wp=function(e){let{menuName:t}=e;const{params:a,setParams:s,handleSearch:n,wrapGridRef:o,gridApiRef:i,addRowToFirst:d,removeSelectedRow:c,handleSave:u,columns:m,columnGroupingModel:p,saveHistoryInfo:h,setSaveHistoryInfo:f,isLoadingSavePurchaseWndReference:C}=Gp(),[x,N]=(0,r.useState)({id:"",label:"",children:[]}),{serviceOptions:y,service2Options:E}=qp({isActived:!0,selectedOption:x,bizCode:a.industryCode});return(0,r.useEffect)((()=>{N(null==a?void 0:a.serviceCodeAllValue)}),[null==a?void 0:a.serviceCodeAllValue]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"flex h-full w-full flex-col",children:[(0,l.jsx)("div",{className:"bg-grey98",children:(0,l.jsx)(xl,{title:t,"data-sentry-element":"ContentHeader","data-sentry-source-file":"MainPanel.tsx"})}),(0,l.jsx)(Ve.A.Provider,{params:a,setParams:s,onSearch:n,"data-sentry-element":"SearchFilter.Provider","data-sentry-source-file":"MainPanel.tsx",children:e=>(0,l.jsxs)(xt.A,{children:[(0,l.jsxs)(Ct.A,{children:[(0,l.jsx)(Ve.A.CustomerNameMultiAutocomplete,{required:!0,label:"화주",fieldName:"customerId",className:"!max-w-[276px]",mdmStatusType:R.P7O.COMPLETE}),(0,l.jsx)(Ve.A.SearchAutocomplete,{label:"서비스",fieldName:"serviceCode",fieldNameAllValue:"serviceCodeAllValue",options:y})]}),(0,l.jsxs)(Ct.A,{children:[(0,l.jsx)(Ve.A.SearchText,{fieldName:"departureMdmNodName",label:"상차지명",placeholder:"상차지명 입력",className:"!max-w-[265px]"}),(0,l.jsx)(Ve.A.SearchAutocomplete,{label:"서비스2",fieldName:"serviceCode2",options:E})]}),(0,l.jsxs)(Ct.A,{children:[(0,l.jsx)(Ve.A.AllMetaMultiAutocompleteSearch,{label:"코스트 센터",allMetaType:Ze.k.COMMON_MDM_COST_CENTER_PURCHASE_CODE,className:"max-w-[288px]"}),(0,l.jsx)(Ve.A.SearchAutocomplete,{label:"사용 여부",options:[{id:"Y",label:"사용"},{id:"N",label:"미사용"}],fieldName:"isUsed"})]}),(0,l.jsx)(Ct.A,{children:(0,l.jsx)(Ve.A.AllMetaAutocompleteSearch,{label:"사업",allMetaType:Ze.k.INDUSTRY_CODE,className:"max-w-[288px]",optionsBoxWidth:150})}),(0,l.jsx)(Ct.A,{children:(0,l.jsx)(Ve.A.AllMetaAutocompleteSearch,{label:"구분",allMetaType:Ze.k.WND_REFERENCE_TYPE,className:"max-w-[288px]",optionsBoxWidth:150})})]})}),(0,l.jsx)("div",{className:"grid-area flex-1 overflow-auto",children:(0,l.jsx)(Fa.A,{ref:o,gridApiRef:i,checkboxSelection:!0,columnGroupingModel:p,columns:m,initialState:{pinnedColumns:{left:["__check__","No"]}},columnHeaderHeight:32,noRowDescription:{description_1:"조회된 정보가 없습니다.",description_2:"조건을 선택하거나 조회 조건을 다시 확인해 주세요."},"data-sentry-element":"WrappTmsBasicDataGrid","data-sentry-source-file":"MainPanel.tsx"})}),(0,l.jsxs)("div",{className:"footer-area flex h-[60px] justify-end gap-[8px] px-[40px] py-[16px]",children:[(0,l.jsxs)("div",{className:"mr-auto flex gap-[8px]",children:[(0,l.jsx)(St.A,{handleAddRow:()=>d({id:(0,pe.uR)(),wndReferenceType:"VENDOR_BROKER"}),"data-sentry-element":"TmsDataGridAddRowBtn","data-sentry-source-file":"MainPanel.tsx"}),(0,l.jsx)(Rt,{handleDeleteRow:()=>c(),"data-sentry-element":"TmsDataGridDeleteRowBtn","data-sentry-source-file":"MainPanel.tsx"})]}),(0,l.jsx)(We,{excelFileName:"직접비화",excelData:"",isSuccessExcel:!1,handleExcelDownload:()=>null,"data-sentry-element":"TmsBasicDataGridExcelDownload","data-sentry-source-file":"MainPanel.tsx"}),(0,l.jsx)(ui,{handleRegister:u,isDisabled:C,"data-sentry-element":"TmsDataGridRegisterBtn","data-sentry-source-file":"MainPanel.tsx"})]})]}),h.isOpened&&(0,l.jsx)(Yp,{wndReferenceId:h.wndReferenceId,setSaveHistoryInfo:f})]})};const Hp=()=>(0,T.n)(["standardInformation/progressiveSalesPaymentManagement/useSaveProgressSalesApproveListMutation"],(async e=>(await I.q.api((t=>t.ApiV1SettlementSalesUnBillingApprovalUsersSave(e)))).data.result)),Kp={normalApprovalInfo:{approvalUserName:"normalApprovalInfo.approvalUserName",approvalUserId:"normalApprovalInfo.approvalUserId",substituteApprovalUserName:"normalApprovalInfo.substituteApprovalUserName",substituteApprovalUserId:"normalApprovalInfo.substituteApprovalUserId",substituteStartAt:"normalApprovalInfo.substituteStartAt",substituteEndAt:"normalApprovalInfo.substituteEndAt",substituteReason:"normalApprovalInfo.substituteReason"},businessApprovalInfo:{approvalUserName:"businessApprovalInfo.approvalUserName",approvalUserId:"businessApprovalInfo.approvalUserId",substituteApprovalUserName:"businessApprovalInfo.substituteApprovalUserName",substituteApprovalUserId:"businessApprovalInfo.substituteApprovalUserId",substituteStartAt:"businessApprovalInfo.substituteStartAt",substituteEndAt:"businessApprovalInfo.substituteEndAt",substituteReason:"businessApprovalInfo.substituteReason"},planningApprovalInfo:{approvalUserName:"planningApprovalInfo.approvalUserName",approvalUserId:"planningApprovalInfo.approvalUserId",substituteApprovalUserName:"planningApprovalInfo.substituteApprovalUserName",substituteApprovalUserId:"planningApprovalInfo.substituteApprovalUserId",substituteStartAt:"planningApprovalInfo.substituteStartAt",substituteEndAt:"planningApprovalInfo.substituteEndAt",substituteReason:"planningApprovalInfo.substituteReason"}},zp={normalApprovalInfo:"일반 승인",businessApprovalInfo:"사업지원 승인",planningApprovalInfo:"기획팀 진행 승인"};function Xp(e){let{type:t,control:a,setValue:r,userListOptions:s,formState:n}=e;var o,i,d,c,u,m,p,h,f,C;const x=Kp[t];return(0,l.jsxs)("div",{className:"flex flex-col","data-sentry-component":"DetailApprovalForm","data-sentry-source-file":"DetailApprovalForm.tsx",children:[(0,l.jsx)("div",{className:"Body5_B",children:zp[t]}),(0,l.jsxs)("div",{className:"flex flex-row",children:[(0,l.jsx)(Vn,{"data-sentry-element":"InfoTable","data-sentry-source-file":"DetailApprovalForm.tsx",children:(0,l.jsx)(Fn,{required:!0,label:"결재자명",error:null===(i=n.errors[t])||void 0===i||null===(o=i.approvalUserId)||void 0===o?void 0:o.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailApprovalForm.tsx",children:(0,l.jsx)(Hr.xI,{name:x.approvalUserId,control:a,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(He.A,{selectedId:t.value,placeholder:"결재자 선택",autocompleteBoxClassName:"w-full",options:s,componentType:"autocomplete-table",onChange:(e,a)=>{t.onChange(a.id),r(x.approvalUserName,a.label)}})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailApprovalForm.tsx"})})}),(0,l.jsx)(Vn,{"data-sentry-element":"InfoTable","data-sentry-source-file":"DetailApprovalForm.tsx",children:(0,l.jsx)(Fn,{required:!0,label:"결재자 사번","data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailApprovalForm.tsx",children:(0,l.jsx)(Hr.xI,{name:x.approvalUserId,control:a,render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{disabled:!0,placeholder:"자동 입력",value:t.value,componentType:"input-table",className:"flex-1"})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailApprovalForm.tsx"})})})]}),(0,l.jsxs)("div",{className:"flex flex-row",children:[(0,l.jsx)(Vn,{className:"!border-0","data-sentry-element":"InfoTable","data-sentry-source-file":"DetailApprovalForm.tsx",children:(0,l.jsx)(Fn,{label:"대리결재자",error:null===(c=n.errors[t])||void 0===c||null===(d=c.substituteApprovalUserId)||void 0===d?void 0:d.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailApprovalForm.tsx",children:(0,l.jsx)(Hr.xI,{name:x.substituteApprovalUserId,control:a,render:e=>{let{field:t}=e;return(0,l.jsx)(He.A,{selectedId:t.value,placeholder:"대리결재자 선택",autocompleteBoxClassName:"w-full",options:s,componentType:"autocomplete-table",onChange:(e,a)=>{t.onChange(a.id),r(x.substituteApprovalUserName,a.label)}})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailApprovalForm.tsx"})})}),(0,l.jsx)(Vn,{className:"!border-0","data-sentry-element":"InfoTable","data-sentry-source-file":"DetailApprovalForm.tsx",children:(0,l.jsx)(Fn,{label:"대리결재자 사번","data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailApprovalForm.tsx",children:(0,l.jsx)(Hr.xI,{name:x.substituteApprovalUserId,control:a,render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{disabled:!0,placeholder:"자동 입력",value:t.value,componentType:"input-table",className:"flex-1"})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailApprovalForm.tsx"})})})]}),(0,l.jsxs)("div",{className:"flex flex-row",children:[(0,l.jsx)(Vn,{className:"!border-0","data-sentry-element":"InfoTable","data-sentry-source-file":"DetailApprovalForm.tsx",children:(0,l.jsx)(Fn,{label:"대리시작일",error:null===(m=n.errors[t])||void 0===m||null===(u=m.substituteStartAt)||void 0===u?void 0:u.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailApprovalForm.tsx",children:(0,l.jsx)(Hr.xI,{name:x.substituteStartAt,control:a,render:e=>{let{field:t}=e;return(0,l.jsx)(gt.A,{value:je()(t.value),componentType:"date-picker-table",datePickerClassName:"w-full",onChange:e=>{t.onChange(e)}})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailApprovalForm.tsx"})})}),(0,l.jsx)(Vn,{className:"!border-0","data-sentry-element":"InfoTable","data-sentry-source-file":"DetailApprovalForm.tsx",children:(0,l.jsx)(Fn,{label:"대리종료일",error:null===(h=n.errors[t])||void 0===h||null===(p=h.substituteEndAt)||void 0===p?void 0:p.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailApprovalForm.tsx",children:(0,l.jsx)(Hr.xI,{name:x.substituteEndAt,control:a,render:e=>{let{field:t}=e;return(0,l.jsx)(gt.A,{value:je()(t.value),componentType:"date-picker-table",datePickerClassName:"w-full",onChange:e=>{t.onChange(e)}})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailApprovalForm.tsx"})})})]}),(0,l.jsx)("div",{className:"flex flex-row",children:(0,l.jsx)(Vn,{className:"!border-0","data-sentry-element":"InfoTable","data-sentry-source-file":"DetailApprovalForm.tsx",children:(0,l.jsx)(Fn,{label:"대리결재사유",error:null===(C=n.errors[t])||void 0===C||null===(f=C.substituteReason)||void 0===f?void 0:f.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailApprovalForm.tsx",children:(0,l.jsx)(Hr.xI,{name:x.substituteReason,control:a,render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{placeholder:"대리결재사유 입력",value:t.value,componentType:"input-table",className:"flex-1",...t})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailApprovalForm.tsx"})})})})]})}var Qp=function(e){let{label:t="저장",type:a="submit",size:r=m.M.Medium,disabled:s=!1,className:n,onClick:o=()=>null}=e;return(0,l.jsx)(u.A,{type:a,label:t,level:m.V.level_2,size:r,disabled:s,leftIcon:(0,l.jsx)(yt.A,{width:20,height:20,className:"text-white"}),className:n,onClick:o,"data-sentry-element":"TmsBasicButton","data-sentry-component":"SaveButton","data-sentry-source-file":"SaveButton.tsx"})};const Zp={approvalId:null,approvalUserName:"",approvalUserId:"",substituteApprovalUserName:"",substituteApprovalUserId:"",substituteStartAt:null,substituteEndAt:null,substituteReason:""},Jp={mdmCorporationCode:"",mdmCorporationCodeName:"",normalApprovalInfo:Zp,businessApprovalInfo:Zp,planningApprovalInfo:Zp},$p=["normalApprovalInfo","businessApprovalInfo","planningApprovalInfo"];function eh(e){let{isRegister:t,rowDetail:a,userList:s,onSearch:n}=e;var o;const{commonMetaV2List:i}=(0,Je.X)(),d=(0,$e.P9)(),c=(0,ya.c5)(),u=Hp(),p=(0,Hr.mN)({defaultValues:Jp,mode:"onChange",shouldUnregister:!0}),{control:h,handleSubmit:f,formState:x,setValue:N,reset:y}=p;(0,r.useEffect)((()=>{u.isSuccess&&(d({message:t?"진행 매출 결재자가 등록되었습니다.":"진행매출 결재자가 저장되었습니다."}),n())}),[u.isSuccess]),(0,r.useEffect)((()=>{var e;u.isError&&c({title:"진행매출결재자정보 저장에 실패했습니다.",description:null===(e=u.error)||void 0===e?void 0:e.message})}),[u.isError]);const E=r.useMemo((()=>null==s?void 0:s.map((e=>({id:e.empNo,label:e.name})))),[s]);return(0,r.useEffect)((()=>{y(Jp,{keepDefaultValues:!1}),y(a?{...Jp,mdmCorporationCode:a.mdmCorporationCode,mdmCorporationCodeName:a.mdmCorporationCodeName,normalApprovalInfo:a.normalApprovalInfo||Zp,businessApprovalInfo:a.businessApprovalInfo||Zp,planningApprovalInfo:a.planningApprovalInfo||Zp}:Jp)}),[a]),(0,l.jsx)("div",{className:"flex flex-col","data-sentry-component":"Detail","data-sentry-source-file":"Detail.tsx",children:(0,l.jsx)("form",{autoComplete:"off",onSubmit:f((async e=>{const t={...e,normalApprovalInfo:{...e.normalApprovalInfo,approvalUserId:e.normalApprovalInfo.approvalUserId},businessApprovalInfo:{...e.businessApprovalInfo,approvalUserId:e.businessApprovalInfo.approvalUserId},planningApprovalInfo:{...e.planningApprovalInfo,approvalUserId:e.planningApprovalInfo.approvalUserId}};u.mutateAsync(t)}),(e=>{})),className:"flex flex-1",children:(0,l.jsxs)("div",{className:"flex flex-1 flex-col",children:[(0,l.jsx)("div",{className:C()("border-b-blue95 header flex flex-col gap-[16px] border-b-[1px]",{"bg-grey98":t,"bg-blue98":!t}),children:(0,l.jsx)("div",{className:"flex items-center justify-between self-stretch px-[24px] py-[16px]",children:t?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(oc,{gradient:!0,children:"새 진행매출결재자정보"}),(0,l.jsx)(ui,{type:"submit",className:"float-right inline-flex"})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"Title3_EX",children:"진행매출결재자정보 상세"}),(0,l.jsx)(Qp,{type:"submit",size:m.M.Small})]})})}),(0,l.jsxs)("div",{className:"flex flex-1 flex-col gap-[20px] p-[24px]",children:[(0,l.jsxs)("div",{className:"flex flex-1 flex-col",children:[(0,l.jsx)("div",{className:"Body5_B text-grey50 mb-[8px]",children:"계정 정보"}),(0,l.jsx)(Vn,{"data-sentry-element":"InfoTable","data-sentry-source-file":"Detail.tsx",children:(0,l.jsx)(Fn,{required:!0,label:"인사조직",error:null===(o=x.errors.mdmCorporationCode)||void 0===o?void 0:o.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"Detail.tsx",children:(0,l.jsx)(Hr.xI,{name:"mdmCorporationCode",control:h,rules:{required:Hn.required},render:e=>{let{field:a}=e;return(0,l.jsx)(He.A,{disabled:!t,selectedId:a.value,placeholder:"인사조직 선택",autocompleteSize:Ha.A.Small,autocompleteBoxSize:Ha.A.Small,autocompleteBoxClassName:"w-full",options:i[Ze.k.COMMON_MDM_CORPORATION_CODE],componentType:"autocomplete-table",onChange:(e,t)=>a.onChange(t.id)})},"data-sentry-element":"Controller","data-sentry-source-file":"Detail.tsx"})})})]}),$p.map(((e,t)=>(0,l.jsx)(Xp,{type:e,userListOptions:E,control:h,setValue:N,formState:x})))]})]})})})}var th=function(e){let{mdmCorporationCode:t,setIsOpenedHistoryModal:a}=e;const s=(0,r.useRef)(null),n=(0,D.bBi)();var o;const{setInitData:i}=null!==(o=null==s?void 0:s.current)&&void 0!==o?o:{},{mutateAsync:d,isSuccess:c,data:u}=(0,T.n)(["useMdmCorporationCodeHistoryListMutation"],(async e=>(await I.q.api((t=>t.ApiV1SettlementSalesUnBillingApprovalUsersMdmCorporationCodeHistoryList(e,{})))).data.result)),m=[{field:"No",headerName:"No.",headerAlign:"center",sortable:!1,width:48,type:da._.VIEW_MODE_ID},{field:"historyCrudTypeName",headerName:"유형",width:237},{field:"approvalSectorTypeName",headerName:"결재단계",width:237},{field:"contents",headerName:"수정 내용",width:237,renderCell:e=>{const t=e.row.contents?e.row.contents.split("\n"):[];return(0,l.jsx)("div",{children:t.map(((e,t)=>(0,l.jsx)("p",{children:e},t)))})}},{field:"createdBy",headerName:"처리자 ID",width:237},{field:"createdAt",headerName:"처리일시",width:237,type:da._.VIEW_MODE_YYYYMMDD_HH_MM_SS}];return(0,r.useLayoutEffect)((()=>{t&&(async()=>{await d(t)})()}),[t]),(0,r.useEffect)((()=>{c&&i(u)}),[u]),(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(Pe.A,{title:"수정내역",modalWidth:1280,modalContentHeight:454,isShowedConfirmButton:!1,onClickCloseButton:()=>a(!1),"data-sentry-element":"TmsBasicModal","data-sentry-source-file":"EditHistoryModal.tsx",children:(0,l.jsx)(Fa.A,{ref:s,gridApiRef:n,columns:m,getRowHeight:()=>"auto","data-sentry-element":"WrapperBasicDataGrid","data-sentry-source-file":"EditHistoryModal.tsx"})})})};var ah=e=>{let{children:t}=e;return(0,l.jsxs)("div",{className:"search-area custom-search-area-display-grid-container flex gap-[16px] px-[40px] py-[16px]","data-sentry-component":"SearchContainerV2","data-sentry-source-file":"SearchContainerV2.tsx",children:[(0,l.jsx)("div",{className:"custom-search-area-display-grid h-full w-full",children:t}),(0,l.jsxs)("div",{className:"flex items-start gap-2",children:[(0,l.jsx)(Ve.A.ResetButton,{"data-sentry-element":"SearchFilter.ResetButton","data-sentry-source-file":"SearchContainerV2.tsx"}),(0,l.jsx)(Ve.A.SearchButton,{"data-sentry-element":"SearchFilter.SearchButton","data-sentry-source-file":"SearchContainerV2.tsx"})]})]})};var lh,rh,sh=function(){const e=(0,r.useRef)(null),t=(0,D.bBi)(),a=v(),[s,n]=(0,r.useState)(!1),[o,i]=(0,r.useState)(null),[d,p]=(0,r.useState)({}),h=(0,T.n)(["standardInformation/progressiveSalesPaymentManagement/useSearchProgressSalesApproveListMutation"],(async e=>(await I.q.api((t=>t.ApiV1SettlementSalesUnBillingApprovalUsers(e)))).data.result)),f=(0,T.n)(["standardInformation/progressiveSalesPaymentManagement/useSearchAdminUserListMutation"],(async()=>(await I.q.api((e=>e.ApiAdminV1UserList()))).data.result.list)),{mutateAsync:x,isSuccess:N,data:y}=(0,T.n)(["standardInformation/progressiveSalesPaymentManagement/useSearchProgressSalesApproveListExcel"],(async e=>(await I.q.api((t=>t.ApiV1SettlementSalesUnBillingApprovalUsersExcel(e,{format:"blob"})))).data)),[E,A]=(0,r.useState)(!1),[g,b]=(0,r.useState)(""),{columns:R,columnGroupingModel:S}=(e=>{let{handleConfirmHistory:t}=e;return{columnGroupingModel:(0,r.useMemo)((()=>[{groupId:"normalApprovalInfo",headerName:"일반승인",children:Object.keys(Kp.normalApprovalInfo).map((e=>({field:Kp.normalApprovalInfo[e]})))},{groupId:"businessApprovalInfo",headerName:"사업지원승인",children:Object.keys(Kp.businessApprovalInfo).map((e=>({field:Kp.businessApprovalInfo[e]})))},{groupId:"planningApprovalInfo",headerName:"기획팀진행승인",children:Object.keys(Kp.planningApprovalInfo).map((e=>({field:Kp.planningApprovalInfo[e]})))}]),[]),columns:(0,r.useMemo)((()=>[{field:"No",headerName:"No.",headerAlign:"center",headerWideCell:!0,sortable:!1,width:48,type:da._.VIEW_MODE_ID},{field:"mdmCorporationCodeName",headerName:"인사조직",headerWideCell:!0,width:159},{field:"approvalTypeName",headerName:"결재구분",headerWideCell:!0,width:100},{field:Kp.normalApprovalInfo.approvalUserName,headerName:"결재자명",width:160,valueGetter:(e,t)=>{var a;return(null===(a=t.normalApprovalInfo)||void 0===a?void 0:a.approvalUserName)||""}},{field:Kp.normalApprovalInfo.approvalUserId,headerName:"결재자 ID",width:160,valueGetter:(e,t)=>{var a;return(null===(a=t.normalApprovalInfo)||void 0===a?void 0:a.approvalUserId)||""}},{field:Kp.normalApprovalInfo.substituteApprovalUserName,headerName:"대리결재자",width:160,valueGetter:(e,t)=>{var a;return(null===(a=t.normalApprovalInfo)||void 0===a?void 0:a.substituteApprovalUserName)||""}},{field:Kp.normalApprovalInfo.substituteApprovalUserId,headerName:"대리결재자사번",width:152,valueGetter:(e,t)=>{var a;return(null===(a=t.normalApprovalInfo)||void 0===a?void 0:a.substituteApprovalUserId)||""}},{field:Kp.normalApprovalInfo.substituteStartAt,headerName:"대리시작일",width:152,valueGetter:(e,t)=>{var a,l;return(null===(a=t.businessApprovalInfo)||void 0===a?void 0:a.substituteStartAt)?je()(null===(l=t.normalApprovalInfo)||void 0===l?void 0:l.substituteStartAt).locale("ko").format("YYYY-MM-DD ddd"):""}},{field:Kp.normalApprovalInfo.substituteEndAt,headerName:"대리종료일",width:152,valueGetter:(e,t)=>{var a,l;return(null===(a=t.businessApprovalInfo)||void 0===a?void 0:a.substituteEndAt)?je()(null===(l=t.normalApprovalInfo)||void 0===l?void 0:l.substituteEndAt).locale("ko").format("YYYY-MM-DD ddd"):""}},{field:Kp.normalApprovalInfo.substituteReason,headerName:"대리결재사유",width:152,valueGetter:(e,t)=>{var a;return(null===(a=t.normalApprovalInfo)||void 0===a?void 0:a.substituteReason)||""}},{field:Kp.businessApprovalInfo.approvalUserName,headerName:"결재자명",width:160,valueGetter:(e,t)=>{var a;return(null===(a=t.businessApprovalInfo)||void 0===a?void 0:a.approvalUserName)||""}},{field:Kp.businessApprovalInfo.approvalUserId,headerName:"결재자 ID",width:160,valueGetter:(e,t)=>{var a;return(null===(a=t.businessApprovalInfo)||void 0===a?void 0:a.approvalUserId)||""}},{field:Kp.businessApprovalInfo.substituteApprovalUserName,headerName:"대리결재자",width:160,valueGetter:(e,t)=>{var a;return(null===(a=t.businessApprovalInfo)||void 0===a?void 0:a.substituteApprovalUserName)||""}},{field:Kp.businessApprovalInfo.substituteApprovalUserId,headerName:"대리결재자사번",width:152,valueGetter:(e,t)=>{var a;return(null===(a=t.businessApprovalInfo)||void 0===a?void 0:a.substituteApprovalUserId)||""}},{field:Kp.businessApprovalInfo.substituteStartAt,headerName:"대리시작일",width:152,valueGetter:(e,t)=>{var a,l;return(null===(a=t.businessApprovalInfo)||void 0===a?void 0:a.substituteStartAt)?je()(null===(l=t.businessApprovalInfo)||void 0===l?void 0:l.substituteStartAt).locale("ko").format("YYYY-MM-DD ddd"):""}},{field:Kp.businessApprovalInfo.substituteEndAt,headerName:"대리종료일",width:152,valueGetter:(e,t)=>{var a,l;return(null===(a=t.businessApprovalInfo)||void 0===a?void 0:a.substituteEndAt)?je()(null===(l=t.businessApprovalInfo)||void 0===l?void 0:l.substituteEndAt).locale("ko").format("YYYY-MM-DD ddd"):""}},{field:Kp.businessApprovalInfo.substituteReason,headerName:"대리결재사유",width:152,valueGetter:(e,t)=>{var a;return(null===(a=t.businessApprovalInfo)||void 0===a?void 0:a.substituteReason)||""}},{field:Kp.planningApprovalInfo.approvalUserName,headerName:"결재자명",width:160,valueGetter:(e,t)=>{var a;return(null===(a=t.planningApprovalInfo)||void 0===a?void 0:a.approvalUserName)||""}},{field:Kp.planningApprovalInfo.approvalUserId,headerName:"결재자 ID",width:160,valueGetter:(e,t)=>{var a;return(null===(a=t.planningApprovalInfo)||void 0===a?void 0:a.approvalUserId)||""}},{field:Kp.planningApprovalInfo.substituteApprovalUserName,headerName:"대리결재자",width:160,valueGetter:(e,t)=>{var a;return(null===(a=t.planningApprovalInfo)||void 0===a?void 0:a.substituteApprovalUserName)||""}},{field:Kp.planningApprovalInfo.substituteApprovalUserId,headerName:"대리결재자사번",width:152,valueGetter:(e,t)=>{var a;return(null===(a=t.planningApprovalInfo)||void 0===a?void 0:a.substituteApprovalUserId)||""}},{field:Kp.planningApprovalInfo.substituteStartAt,headerName:"대리시작일",width:152,valueGetter:(e,t)=>{var a,l;return(null===(a=t.planningApprovalInfo)||void 0===a?void 0:a.substituteStartAt)?je()(null===(l=t.planningApprovalInfo)||void 0===l?void 0:l.substituteStartAt).locale("ko").format("YYYY-MM-DD ddd"):""}},{field:Kp.planningApprovalInfo.substituteEndAt,headerName:"대리종료일",width:152,valueGetter:(e,t)=>{var a,l;return(null===(a=t.planningApprovalInfo)||void 0===a?void 0:a.substituteEndAt)?je()(null===(l=t.planningApprovalInfo)||void 0===l?void 0:l.substituteEndAt).locale("ko").format("YYYY-MM-DD ddd"):""}},{field:Kp.planningApprovalInfo.substituteReason,headerName:"대리결재사유",width:152,valueGetter:(e,t)=>{var a;return(null===(a=t.planningApprovalInfo)||void 0===a?void 0:a.substituteReason)||""}},{field:"attachFileSignUrl",headerName:"수정내역",headerWideCell:!0,type:"actions",getActions:e=>[(0,l.jsx)(u.A,{level:m.V.level_5,size:m.M.Xsmall,label:"확인",onClick:()=>t(e.row.mdmCorporationCode)})],width:100}]),[])}})({handleConfirmHistory:e=>{A(!0),b(e)}}),_=async e=>{h.mutateAsync({mdmCorporationCodes:e.commonMdmCorporationCode})},w=e=>{s?a({title:"작성 중인 정보가 있습니다.",description:"화면을 나가면 작성된 정보가 삭제됩니다.",confirmButtonLabel:"나가기"}):(i(e.row),n(!1))},O=async()=>{await x(d)};return(0,r.useEffect)((()=>{h.mutateAsync({}),f.mutateAsync()}),[]),(0,r.useEffect)((()=>{var t;h.isSuccess&&h.data&&(null==e||null===(t=e.current)||void 0===t||t.setInitData(h.data),i(h.data[0]))}),[h.isSuccess,h.data]),(0,l.jsxs)("div",{className:"bg-grey98 flex h-full flex-col","data-sentry-component":"AllowedPaymentConditionsManagementPanel","data-sentry-source-file":"MainPanel.tsx",children:[(0,l.jsx)(xl,{title:"진행매출 결재자 관리","data-sentry-element":"ContentHeader","data-sentry-source-file":"MainPanel.tsx",children:(0,l.jsx)(u.A,{label:"새 결재자 정보 만들기",level:m.V.level_1,leftIcon:(0,l.jsx)(Ce,{}),onClick:()=>{n(!0),i(null)},"data-sentry-element":"TmsBasicButton","data-sentry-source-file":"MainPanel.tsx"})}),(0,l.jsx)("div",{className:"relative flex flex-1 bg-white",children:(0,l.jsx)("div",{className:C()("cc-content-layout !overflow-x-hidden",{"is-visible":!0}),children:(0,l.jsx)(nu,{isOpenRightPanel:!c().isEmpty(o)||s,rightPanelWidth:704,onClickCloseButton:()=>{i(null),n(!1)},leftSidePanel:(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(Ve.A.Provider,{params:d,setParams:p,onSearch:_,children:a=>(0,l.jsxs)("div",{className:"flex h-full w-full flex-col",children:[(0,l.jsx)(ah,{children:(0,l.jsx)(Ve.A.AllMetaMultiAutocompleteSearch,{label:"인사 조직",allMetaType:Ze.k.COMMON_MDM_CORPORATION_CODE})}),(0,l.jsx)("div",{className:"grid-area flex-1 overflow-auto",children:(0,l.jsx)(Fa.A,{ref:e,gridApiRef:t,columnGroupingModel:S,columns:R,initialState:{pinnedColumns:{left:["No","mdmCorporationCodeName"]}},onRowDoubleClick:w})}),(0,l.jsx)("div",{className:"flex justify-end gap-[8px] px-[40px] py-[16px]",children:(0,l.jsx)(We,{handleExcelDownload:O})})]})})}),rightSidePanel:(0,l.jsx)(eh,{isRegister:s,rowDetail:o,userList:f.data,onSearch:()=>_(d)}),"data-sentry-element":"TmsBasicSlidePanel","data-sentry-source-file":"MainPanel.tsx"})})}),E&&(0,l.jsx)(th,{mdmCorporationCode:g,setIsOpenedHistoryModal:A})]})};function nh(){return nh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},nh.apply(null,arguments)}var oh,ih,dh=function(e){return r.createElement("svg",nh({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},e),r.createElement("mask",{id:"icon-open-in-new_svg__a",width:24,height:24,x:0,y:0,maskUnits:"userSpaceOnUse",style:{maskType:"alpha"}},lh||(lh=r.createElement("path",{fill:"currentColor",d:"M0 0h24v24H0z"}))),rh||(rh=r.createElement("g",{mask:"url(#icon-open-in-new_svg__a)"},r.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M19.65 13h1.1c.14 0 .25.11.25.25v6.5c0 .69-.56 1.25-1.25 1.25H4.25C3.56 21 3 20.44 3 19.75V4.25C3 3.56 3.56 3 4.25 3h6.5c.14 0 .25.11.25.25v1.1c0 .14-.11.25-.25.25h-5.9c-.14 0-.25.11-.25.25v14.3c0 .14.11.25.25.25h14.3c.14 0 .25-.11.25-.25v-5.9c0-.14.11-.25.25-.25m1.345-4.252V3.25c0-.14-.11-.25-.25-.25h-5.498c-.14 0-.25.11-.25.25v1.1c0 .14.11.25.25.25h3.02L9.07 13.795c-.1.1-.1.25 0 .35l.78.779c.1.1.25.1.35 0l9.196-9.196v3.019c0 .14.11.25.25.25h1.1c.139 0 .249-.11.249-.25",clipRule:"evenodd"}))))};function ch(){return ch=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},ch.apply(null,arguments)}var uh,mh=function(e){return r.createElement("svg",ch({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none",viewBox:"0 0 16 16"},e),oh||(oh=r.createElement("path",{fill:"currentColor",d:"M7.882 4.048a.17.17 0 0 1 .24 0l3.167 3.146a.17.17 0 0 1 0 .24l-.514.514a.17.17 0 0 1-.24 0l-2-1.98v5.866a.165.165 0 0 1-.166.167h-.734a.165.165 0 0 1-.166-.167V5.968l-1.994 1.98a.17.17 0 0 1-.24 0l-.513-.514a.17.17 0 0 1 0-.24l3.167-3.146z"})),ih||(ih=r.createElement("path",{fill:"currentColor",d:"M8 2.4c3.087 0 5.6 2.514 5.6 5.6 0 3.087-2.513 5.6-5.6 5.6A5.61 5.61 0 0 1 2.4 8c0-3.086 2.514-5.6 5.6-5.6m0-1.066A6.67 6.67 0 0 0 1.335 8a6.67 6.67 0 0 0 6.667 6.667A6.67 6.67 0 0 0 14.667 8a6.67 6.67 0 0 0-6.666-6.666"})))};function ph(){return ph=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},ph.apply(null,arguments)}var hh=function(e){return r.createElement("svg",ph({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20"},e),uh||(uh=r.createElement("path",{fill:"currentColor",d:"M10 1.667c4.6 0 8.333 3.733 8.333 8.333S14.6 18.333 10 18.333A8.336 8.336 0 0 1 1.667 10C1.667 5.4 5.4 1.667 10 1.667M10 3c-3.858 0-7 3.142-7 7s3.142 7 7 7 7-3.142 7-7-3.142-7-7-7m3.167 2.9a.21.21 0 0 1 .3 0l.641.642a.21.21 0 0 1 0 .3L10.95 10l3.158 3.158a.21.21 0 0 1 0 .3l-.641.642a.21.21 0 0 1-.3 0l-3.158-3.159-3.16 3.159a.21.21 0 0 1-.3 0l-.64-.642a.21.21 0 0 1 0-.3L9.065 10 5.908 6.842a.21.21 0 0 1 0-.3L6.55 5.9a.21.21 0 0 1 .3 0l3.159 3.159z"})))};const fh=()=>(0,T.n)(["usePaymentConditionsVendorIdList"],(async e=>(await I.q.api((t=>t.ApiVendorPaymentConditionsV1VendorIdList(e)))).data.result)),Ch=()=>(0,T.n)(["useVendorPaymentConditionsMdmCompleteMutation"],(async e=>(await I.q.api((t=>t.ApiVendorPaymentConditionsV1MdmComplete(e)))).data.result)),xh=()=>(0,T.n)(["useVendorPaymentConditionsMdmDeleteVendor"],(async e=>(await I.q.api((t=>t.ApiVendorPaymentConditionsV1MdmDeleteVendorPaymentConditionId(e,null)))).data.result)),Nh=()=>(0,T.n)(["useVendorPaymentConditionsMdmDeleteVendor"],(async e=>(await I.q.api((t=>t.ApiVendorPaymentConditionsV1DeleteVendorPaymentConditionId(e)))).data.result)),yh=[{field:"No",headerName:"No.",headerAlign:"center",sortable:!1,width:48,type:da._.VIEW_MODE_ID},{field:"title",headerName:"구분",width:194},{field:"paymentConditionCodeName",headerName:"지급조건",width:350},{field:"paymentConditionCode",headerName:"지급조건코드"},{field:"approvalStatusTypeName",headerName:"작업구분",align:"center",renderCell:e=>{let t="";switch(e.row.approvalStatusType){case R.CZq.NONE:case R.CZq.SAVE_REQUEST:case R.CZq.DELETE_REQUEST:t="text-primary50";break;case R.CZq.SAVE_COMPLETE:case R.CZq.DELETE_COMPLETE:t="text-success";break;case R.CZq.SAVE_RETURN:case R.CZq.DELETE_RETURN:t="text-error"}return(0,l.jsx)("span",{className:t,children:e.row.approvalStatusTypeName})}},{field:"createdByName",headerName:"요청자"},{field:"updatedAt",headerName:"처리일시",type:da._.VIEW_MODE_YYYYMMDD_HH_MM_SS,flex:1}];var Eh=function(e){let{vendorId:t,setIsOpened:a}=e;const s=(0,r.useRef)(null),n=(0,D.bBi)();var o;const{setInitData:i}=null!==(o=null==s?void 0:s.current)&&void 0!==o?o:{},{mutateAsync:d,isSuccess:c,data:u}=(0,T.n)(["useVendorIdHistoryList"],(async e=>(await I.q.api((t=>t.ApiVendorPaymentConditionsV1VendorIdHistoryList(e)))).data.result));return(0,r.useLayoutEffect)((()=>{t&&(async()=>{await d(t)})()}),[t]),(0,r.useEffect)((()=>{c&&i(u)}),[u]),(0,l.jsx)(Pe.A,{title:"지급조건 변경 이력",onClickCloseButton:()=>a(!1),isShowedConfirmButton:!1,modalWidth:1280,modalContentHeight:448,"data-sentry-element":"TmsBasicModal","data-sentry-component":"HistoryModal","data-sentry-source-file":"HistoryModal.tsx",children:(0,l.jsx)(Fa.A,{ref:s,gridApiRef:n,columns:yh,"data-sentry-element":"WrapperBasicDataGrid","data-sentry-source-file":"HistoryModal.tsx"})})};const vh={vendorPaymentConditionId:null,title:"",paymentConditionCode:"",paymentConditionCodeName:"",createdByName:"",createdAt:"",updatedAt:"",approvalStatusType:R.CZq.NONE,approvalStatusTypeName:"",mdmCorporationCodeName:""},Ah={1:vh,2:vh},gh={1:{paymentConditionCode:"",isClicked:!1,clickTime:""},2:{paymentConditionCode:"",isClicked:!1,clickTime:""}};function Th(e){let{selectedRow:t}=e;const a=(0,$e.P9)(),s=E(),{commonMetaV2List:n}=(0,Je.X)(),[o,i]=(0,r.useState)({vendorPaymentConditionId:null,title:"",paymentConditionCode:"",paymentConditionCodeName:"",createdByName:"",createdAt:"",updatedAt:"",approvalStatusType:null,approvalStatusTypeName:"",mdmCorporationCodeName:""}),[d,c]=(0,r.useState)(Ah),[p,h]=(0,r.useState)(gh),[f,C]=(0,r.useState)(0),[x,y]=(0,r.useState)(!1),[v,A]=(0,r.useState)(""),[g,T]=(0,r.useState)({isOpened:!1,title:"",description:"",confirmButtonLabel:"",confirmButtonType:"normal",confirmClick:()=>null}),{mutateAsync:I,isSuccess:b,data:S}=fh(),{mutateAsync:_,isSuccess:w,data:O}=Ch(),{mutateAsync:M,isSuccess:D,data:j}=xh(),{mutateAsync:P,isSuccess:L,data:B}=Nh(),U=async()=>{await I(null==t?void 0:t.vendorId)};return(0,r.useEffect)((()=>{(null==t?void 0:t.vendorId)&&(h(gh),U())}),[null==t?void 0:t.vendorId]),(0,r.useEffect)((()=>{b&&S&&(i(null==S?void 0:S.defaultPaymentConditionInfo),c(0===Object.keys(d).length?Ah:{...Ah,...S.extraPaymentConditionInfos}),h((e=>({...e,...S.extraPaymentConditionInfos}))),C(S.historyCount),A(S.edmsUrl))}),[S]),(0,r.useEffect)((()=>{w&&(T({isOpened:!1}),a({message:"지급조건 등록 요청이 완료되었습니다."}),U())}),[O]),(0,r.useEffect)((()=>{D&&(T({isOpened:!1}),a({message:"지급조건 삭제 요청이 완료되었습니다."}),U())}),[j]),(0,r.useEffect)((()=>{L&&(T({isOpened:!1}),a({message:"지급조건 삭제가 완료되었습니다."}),U())}),[B]),(0,l.jsxs)("div",{className:"flex flex-col","data-sentry-component":"DetailPanel","data-sentry-source-file":"DetailPanel.tsx",children:[(0,l.jsxs)("div",{className:"Title3_EX bg-blue98 border-blue95 flex items-center border-b-[1px] px-[24px] py-[20px]",children:[null==t?void 0:t.name,f>0&&(0,l.jsx)(u.A,{label:"변경 이력 ".concat(f,"건"),className:"ml-auto",size:m.M.Small,level:m.V.level_5,rightIcon:(0,l.jsx)(re,{width:16,height:16}),onClick:()=>y(!0)})]}),(0,l.jsxs)("div",{className:"flex flex-col gap-[20px] bg-white p-[24px]",children:[(0,l.jsxs)("div",{className:"w-full",children:[(0,l.jsx)("div",{className:"Body5_B text-grey50 mb-[8px]",children:"기본 지급조건"}),(0,l.jsx)(vt,{isFirst:!0,thLabel:"지급조건",labelClassName:"!w-[120px]",childrenContainerClassName:"items-center flex px-[12px]","data-sentry-element":"TableTrLayout","data-sentry-source-file":"DetailPanel.tsx",children:o.paymentConditionCodeName}),(0,l.jsxs)("div",{className:"flex",children:[(0,l.jsx)(vt,{thLabel:"지급조건 코드",labelClassName:"!w-[120px]","data-sentry-element":"TableTrLayout","data-sentry-source-file":"DetailPanel.tsx",children:(0,l.jsx)("div",{className:"bg-warmGrey98 text-grey50 w-full px-[12px] py-[6px]",children:null==o?void 0:o.paymentConditionCode})}),(0,l.jsx)(vt,{thLabel:"등록일",labelClassName:"!w-[120px]","data-sentry-element":"TableTrLayout","data-sentry-source-file":"DetailPanel.tsx",children:(0,l.jsx)("div",{className:"bg-warmGrey98 text-grey50 w-full px-[12px] py-[6px]",children:(null==o?void 0:o.createdAt)?je()(null==o?void 0:o.createdAt).locale("ko").format("YYYY-MM-DD ddd"):je()(new Date).locale("ko").format("YYYY-MM-DD ddd")})})]}),(0,l.jsxs)("div",{className:"flex",children:[(0,l.jsx)(vt,{thLabel:"등록자",labelClassName:"!w-[120px]","data-sentry-element":"TableTrLayout","data-sentry-source-file":"DetailPanel.tsx",children:(0,l.jsx)("div",{className:"bg-warmGrey98 text-grey50 w-full px-[12px] py-[6px]",children:null==o?void 0:o.createdByName})}),(0,l.jsx)(vt,{thLabel:"등록자 부서",labelClassName:"!w-[120px]","data-sentry-element":"TableTrLayout","data-sentry-source-file":"DetailPanel.tsx",children:(0,l.jsx)("div",{className:"bg-warmGrey98 text-grey50 w-full px-[12px] py-[6px]",children:null==o?void 0:o.mdmCorporationCodeName})})]})]}),(0,l.jsxs)("div",{className:"bg-grey98 text-grey40 flex flex-col gap-[8px] rounded-[8px] px-[16px] py-[12px]",children:[(0,l.jsx)("div",{className:"Body4_EX",children:"추가 지급조건 EDMS 증빙 등록 안내"}),(0,l.jsxs)("div",{className:"text-grey40 flex items-center gap-[8px]",children:[(0,l.jsx)("span",{className:"Caption2_B bg-grey90 flex h-[18px] w-[18px] items-center justify-center gap-[10px] rounded-[4px] p-[2px]",children:"1"}),(0,l.jsx)("span",{className:"Body5_M flex",children:"지급조건 입력 후 [EDMS] 버튼을 눌러 EDMS 페이지를 실행합니다."})]}),(0,l.jsxs)("div",{className:"text-grey40 flex items-center gap-[8px]",children:[(0,l.jsx)("span",{className:"Caption2_B bg-grey90 flex h-[18px] w-[18px] items-center justify-center gap-[10px] rounded-[4px] p-[2px]",children:"2"}),(0,l.jsx)("span",{className:"Body5_M flex",children:"EDMS에서 지급조건 증빙 파일을 첨부합니다."})]}),(0,l.jsxs)("div",{className:"text-grey40 flex items-center gap-[8px]",children:[(0,l.jsx)("span",{className:"Caption2_B bg-grey90 flex h-[18px] w-[18px] items-center justify-center gap-[10px] rounded-[4px] p-[2px]",children:"3"}),(0,l.jsx)("span",{className:"Body5_M flex",children:"첨부 완료 후, 본 화면으로 돌아와 [등록요청] 버튼을 눌러 등록을 요청합니다."})]})]}),Object.entries(d).map((e=>{let[a,r]=e;return(0,l.jsxs)("div",{className:"w-full",children:[(0,l.jsxs)("div",{className:"mb-[8px] flex w-full items-center gap-[8px]",children:[(0,l.jsx)("div",{className:"Body5_B text-grey50",children:r.title}),(()=>{switch(null==r?void 0:r.approvalStatusType){case null:var e,n,o;return(0,l.jsxs)("div",{className:"ml-auto flex items-center gap-[8px]",children:[(null===(e=p[a])||void 0===e?void 0:e.isClicked)&&(0,l.jsxs)("span",{className:"Caption2_R text-grey50",children:["마지막 EDMS 실행 시간 (",null===(n=p[a])||void 0===n?void 0:n.clickTime,")"]}),(0,l.jsx)(u.A,{label:"EDMS 실행",size:m.M.Small,level:m.V.level_5,leftIcon:p[a].isClicked?(0,l.jsx)(Pt.A,{width:16,height:16,className:"text-progress"}):(0,l.jsx)(dh,{width:16,height:16}),onClick:()=>{const e=(new Date).toLocaleTimeString();h((t=>({...t,[a]:{...t[a],isClicked:!t[a].isClicked,clickTime:e}}))),window.open(v,"_blank","noopener,noreferrer")}}),(0,l.jsx)(Qp,{label:"등록 요청",size:m.M.Small,disabled:!(null===(o=p[a])||void 0===o?void 0:o.isClicked),onClick:()=>{p[a].paymentConditionCode?T({isOpened:!0,title:"해당 지급조건을 등록 요청하시겠습니까?",description:"등록 요청이 완료되기 전까지는 다른 지급조건 등록·삭제 요청이 불가능합니다.",confirmButtonLabel:"등록 요청",confirmClick:()=>(async e=>{await _({vendorId:null==t?void 0:t.vendorId,seq:Number(e),paymentConditionCode:p[e].paymentConditionCode})})(a)}):s({title:"필수 항목이 입력되지 않았습니다.",description:"지급조건을 선택해 주시기 바랍니다."})}})]});case R.CZq.SAVE_RETURN:return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("span",{className:"Caption1_B text-error",children:"등록반려"}),(0,l.jsx)(u.A,{className:"ml-auto",label:"취소",size:m.M.Small,level:m.V.level_5,leftIcon:(0,l.jsx)(hh,{width:16,height:16,className:"text-error"}),onClick:()=>T({isOpened:!0,title:"".concat(r.title," 등록을 취소 하시겠습니까?"),description:"취소 후 해당 지급 조건은 복구할 수 없습니다.",confirmButtonLabel:"취소",confirmButtonType:"destructive",confirmClick:()=>(async e=>{await P(e)})(null==r?void 0:r.vendorPaymentConditionId)})})]});case R.CZq.SAVE_COMPLETE:return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("span",{className:"Caption1_B text-success",children:"등록완료"}),(0,l.jsx)(u.A,{className:"ml-auto",label:"삭제요청",size:m.M.Small,level:m.V.level_5,leftIcon:(0,l.jsx)(mh,{width:16,height:16,className:"text-error"}),onClick:()=>(async e=>{await M(e)})(null==r?void 0:r.vendorPaymentConditionId)})]});default:return(0,l.jsx)("div",{className:"Caption1_B text-primary50",children:null==r?void 0:r.approvalStatusTypeName})}})()]}),(0,l.jsx)(vt,{isFirst:!0,thLabel:"지급조건",labelClassName:"!w-[120px]",children:(0,l.jsx)(He.A,{placeholder:"지급조건 입력",options:n.COMMON_MDM_PAYMENT_CONDITION_PURCHASE_CODE,selectedId:p[a].paymentConditionCode,autocompleteBoxClassName:"w-full",componentType:"autocomplete-table",onChange:(e,t)=>h((e=>({...e,[a]:{...e[a],paymentConditionCode:t.id}})))})}),(0,l.jsxs)("div",{className:"flex",children:[(0,l.jsx)(vt,{thLabel:"지급조건 코드",labelClassName:"!w-[120px]",children:(0,l.jsx)("div",{className:"bg-warmGrey98 text-grey50 w-full px-[12px] py-[6px]",children:(null==r?void 0:r.paymentConditionCode)?null==r?void 0:r.paymentConditionCode:"자동입력"})}),(0,l.jsx)(vt,{thLabel:"등록일",labelClassName:"!w-[120px]",children:(0,l.jsx)("div",{className:"bg-warmGrey98 text-grey50 w-full px-[12px] py-[6px]",children:(null==r?void 0:r.createdAt)?je()(null==r?void 0:r.createdAt).locale("ko").format("YYYY-MM-DD ddd"):je()(new Date).locale("ko").format("YYYY-MM-DD ddd")})})]}),(0,l.jsxs)("div",{className:"flex",children:[(0,l.jsx)(vt,{thLabel:"등록자",labelClassName:"!w-[120px]",children:(0,l.jsx)("div",{className:"bg-warmGrey98 text-grey50 w-full px-[12px] py-[6px]",children:(null==r?void 0:r.createdByName)?null==r?void 0:r.createdByName:"최초 저장시 최초등록자 자동 입력"})}),(0,l.jsx)(vt,{thLabel:"등록자 부서",labelClassName:"!w-[120px]",children:(0,l.jsx)("div",{className:"bg-warmGrey98 text-grey50 w-full px-[12px] py-[6px]",children:(null==r?void 0:r.mdmCorporationCodeName)?null==r?void 0:r.mdmCorporationCodeName:"최초 저장시 자동 입력"})})]})]},a)}))]}),x&&(0,l.jsx)(Eh,{vendorId:null==t?void 0:t.vendorId,setIsOpened:y}),g.isOpened&&(0,l.jsx)(N,{title:g.title,description:g.description,confirmButtonLabel:g.confirmButtonLabel,onClickCloseButton:()=>T({isOpened:!1}),onClickConfirmButton:g.confirmClick,confirmButtonType:g.confirmButtonType})]})}const Ih=[{field:"No",headerName:"No.",headerAlign:"center",sortable:!1,type:"number",width:48,renderCell:e=>e.api.getRowIndexRelativeToVisibleRows(e.id)+1},{field:"vendorType",type:"string",headerName:"회원유형",headerAlign:"center",width:100,valueFormatter:e=>{switch(e){case"DRIVER":return"차주";case"PARTNER":return"운송가맹점";case"CONSIGNMENT":return"위수탁";default:return e}}},{field:"memberCode",type:"string",headerName:"파트너 코드",width:100},{field:"mdmCode",type:"string",headerName:"파트너 MDM",width:100},{field:"name",type:"string",headerName:"파트너명",flex:1}];var bh=function(e){let{menuName:t}=e;const[a,s]=(0,r.useState)({}),[n,o]=(0,r.useState)(!1),[i,d]=(0,r.useState)(null),{getAllMeta:c}=od({mutationKey:"PaymentConditionsBySupplier",requestAllMeta:[Ze.k.VENDOR_TYPE]}),{mutateAsync:u,data:m}=(0,Wt.rW)();return(0,r.useLayoutEffect)((()=>{c()}),[]),(0,l.jsxs)("div",{className:"bg-grey98 flex h-full flex-col","data-sentry-component":"PaymentConditionsBySupplierManagementPanel","data-sentry-source-file":"MainPanel.tsx",children:[(0,l.jsx)(xl,{title:t,"data-sentry-element":"ContentHeader","data-sentry-source-file":"MainPanel.tsx"}),(0,l.jsx)("div",{className:"relative flex flex-1 bg-white",children:(0,l.jsx)("div",{className:C()("cc-content-layout !overflow-x-hidden",{"is-visible":!0}),style:{height:"calc(100vh - 197px)"},children:(0,l.jsx)(nu,{isOpenRightPanel:n,rightPanelWidth:700,onClickCloseButton:()=>{o(!1)},leftSidePanel:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(Ve.A.Provider,{params:a,setParams:s,onSearch:async()=>{await u({vendorIds:a.vendorIds,vendorTypes:a.vendorTypes?[a.vendorTypes]:[R.p8F.DRIVER,R.p8F.PARTNER],mdmCode:a.mdmCode,mdmStatusTypes:[R.$Qo.COMPLETE,R.$Qo.RE_REQUEST,R.$Qo.RE_RETURN]})},children:e=>(0,l.jsxs)("div",{className:"flex justify-between px-[40px] py-[16px]",children:[(0,l.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,l.jsx)(Ve.A.VendorPartnerMultiAutocomplete,{label:"파트너",fieldName:"vendorIds",className:"!max-w-[246px]"}),(0,l.jsx)(Ve.A.SearchText,{label:"파트너 MDM",placeholder:"파트너 MDM 입력",fieldName:"mdmCode",labelContainerClassName:"flex-none"}),(0,l.jsx)(Ve.A.SearchAutocomplete,{label:"회원유형",options:[{id:R.p8F.DRIVER,label:"차주"},{id:R.p8F.PARTNER,label:"파트너"}],fieldName:"vendorTypes",isUseAll:!1,autocompleteClassName:"!w-[248px]"})]}),(0,l.jsxs)("div",{className:"flex flex-none items-start gap-2",children:[(0,l.jsx)(Ve.A.ResetButton,{}),(0,l.jsx)(Ve.A.SearchButton,{})]})]})}),(0,l.jsx)("div",{className:"h-[calc(100vh-323px)]",children:(0,l.jsx)(Fe.A,{rows:(null==m?void 0:m.itemList)||[],getRowId:e=>e.vendorId,columns:Ih,columnHeaderHeight:32,onRowClick:e=>{o(!0),d(e.row)}})})]}),rightSidePanel:(0,l.jsx)(Th,{selectedRow:i}),"data-sentry-element":"TmsBasicSlidePanel","data-sentry-source-file":"MainPanel.tsx"})})})]})};const Rh=()=>(0,T.n)(["standardInformation/manualSettlementCriteria/useManualSaveMutation"],(async e=>(await I.q.api((t=>t.ApiV1SettlementSalesManualLimitsSave(e)))).data.result));var Sh=e=>{let{params:t,handleProcessRowUpdate:a}=e;const{mutateAsync:s,isSuccess:n,data:o}=Rh(),i=(0,$e.P9)();return(0,r.useEffect)((()=>{if(n){if(t.value)return void i({message:"총 1건의 Limit 허용금액이 적용되었습니다."});i({message:"총 1건의 Limit 허용금액이 적용되지 않도록 설정되었습니다."})}}),[o]),(0,l.jsx)("div",{className:"flex justify-center","data-sentry-component":"IsUsedSwitch","data-sentry-source-file":"IsUsedSwitch.tsx",children:(0,l.jsx)(Ia,{checked:t.value,handleChange:async()=>{const e=[{...t.row,isUsed:!t.value}];t.api.updateRows(e),await s(e)},"data-sentry-element":"TmsBasicSwitch","data-sentry-source-file":"IsUsedSwitch.tsx"})})};var _h,wh,Oh=function(){const[e,t]=(0,r.useState)({}),a=(0,r.useRef)(null),s=(0,D.bBi)(),n=(0,T.n)(["standardInformation/manualSettlementCriteria/useManualSettlementListMutation"],(async e=>(await I.q.api((t=>t.ApiV1SettlementSalesManualLimitsList(e)))).data.result)),{mutateAsync:o,isSuccess:i,data:d}=Rh(),c=(0,$e.P9)(),p=v();var h;const{setInitData:f,setRequired:C,validateRequired:x,getUpdateRows:N}=null!==(h=null==a?void 0:a.current)&&void 0!==h?h:{},y=(0,r.useMemo)((()=>[{field:"No",headerName:"No.",headerAlign:"center",sortable:!1,readonly:!0,width:48,type:da._.VIEW_MODE_ID},{field:"mdmCorporationCodeName",type:"string",headerName:"인사조직 코드",headerAlign:"center",readonly:!0,width:276,disableExport:!0},{field:"customerMemberCode",headerName:"고객사 코드",readonly:!0,width:276},{field:"customerName",type:"string",headerName:"고객명",readonly:!0,width:276},{field:"mdmCode",type:"string",headerName:"고객사MDM",readonly:!0,width:276},{field:"limitAmt",type:"number",editable:!0,defaultEditable:!0,headerName:"Limit 허용금액",width:276},{field:"limitEtcAmt",type:"number",editable:!0,headerName:"Limit 허용금액(기타)",defaultEditable:!0,width:276},{field:"isUsed",type:"boolean",headerName:"사용여부",width:104,renderCell:e=>(0,l.jsx)(Sh,{params:e})}]),[]),E=e=>{const t=N();0===t.length?A(e):p({title:"수정한 ".concat(t.length,"건을 저장하지 않고 나가시겠습니까?"),description:"저장하지 않으면 변경한 정보는 모두 사라집니다.",confirmButtonLabel:"나가기",confirmButtonType:"destructive",onClickConfirmButton:()=>A(e)})},A=async e=>{const t={customerIds:e.commonCustomerCode,mdmCorporationCodes:e.commonMdmCorporationCode};await n.mutateAsync(t)};return(0,r.useEffect)((()=>{if(i){const t=N();c({message:"총 ".concat(t.length,"건의 Limit 허용금액 정보가 저장되었습니다.")}),E(e)}}),[d]),(0,r.useEffect)((()=>{n.data&&f(n.data)}),[n.data]),(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:"relative w-full",children:[(0,l.jsx)("div",{className:"bg-grey98",children:(0,l.jsx)(xl,{title:"매뉴얼 정산기준","data-sentry-element":"ContentHeader","data-sentry-source-file":"MainPanel.tsx",children:(0,l.jsx)(u.A,{label:"저장",level:m.V.level_1,leftIcon:(0,l.jsx)(yt.A,{widht:20,height:20,className:"text-white"}),onClick:async()=>{const e=N();if(x()&&e){const t=e.map((e=>({customerId:e.customerId,customerName:e.customerName,executeCorporationId:e.executeCorporationId,isUsed:e.isUsed||!1,limitAmt:e.limitAmt,limitEtcAmt:e.limitEtcAmt,mdmCode:e.mdmCode,salesManualLimitId:e.salesManualLimitId})));await o(t)}C(!0)},"data-sentry-element":"TmsBasicButton","data-sentry-source-file":"MainPanel.tsx"})})}),(0,l.jsx)(Ve.A.Provider,{params:e,setParams:t,onSearch:E,"data-sentry-element":"SearchFilter.Provider","data-sentry-source-file":"MainPanel.tsx",children:e=>(0,l.jsxs)("div",{className:"flex gap-[16px] px-[40px] py-[16px]",children:[(0,l.jsx)(Ve.A.AllMetaMultiAutocompleteSearch,{required:!0,label:"인사 조직",allMetaType:Ze.k.COMMON_MDM_CORPORATION_CODE,className:"!w-[362px]"}),(0,l.jsx)(Ve.A.CustomerNameMultiAutocomplete,{label:"화주",fieldName:"commonCustomerCode",className:"!w-[362px]",mdmStatusType:R.P7O.COMPLETE}),(0,l.jsxs)("div",{className:"ml-auto flex gap-[8px]",children:[(0,l.jsx)(Ve.A.ResetButton,{}),(0,l.jsx)(Ve.A.SearchButton,{})]})]})}),(0,l.jsx)("div",{className:"pb-[52px]",children:(0,l.jsx)("div",{className:"h-[654px]",children:(0,l.jsx)(Fa.A,{ref:a,gridApiRef:s,columns:y,initialState:{pinnedColumns:{left:["_id_"]}},editMode:"cell","data-sentry-element":"WrappTmsBasicDataGrid","data-sentry-source-file":"MainPanel.tsx"})})})]})})};!function(e){e.ENTER="ENTER",e.APPROVAL="APPROVAL"}(_h||(_h={})),function(e){e.PURCHASE="PURCHASE",e.SALES="SALES"}(wh||(wh={}));const Mh=[{name:"매뉴얼 매출",path:s.R3},{name:"매뉴얼 매입",path:s.wL}];var Dh=function(e){let{searchParams:t,setSearchParams:a,onSearch:s}=e;const[n,o]=(0,r.useState)(!0),[i,d]=(0,r.useState)(!0),c=(0,$e.P9)();return(0,l.jsx)(Ve.A.Provider,{params:t,setParams:a,onSearch:()=>(d(!0),o(!0),t.commonMdmCorporationCode?0===(t.customerId||[]).length?(d(!1),void c({message:"화주명을 선택해 주세요"})):void s():(o(!1),void c({message:"인사조직을 선택해 주세요",type:"caution"}))),"data-sentry-element":"SearchFilter.Provider","data-sentry-component":"OrderReceiptFilter","data-sentry-source-file":"OrderReceiptListFilter.tsx",children:e=>(0,l.jsxs)(xt.A,{children:[(0,l.jsxs)(Ct.A,{children:[(0,l.jsx)(Ve.A.AllMetaAutocompleteSearch,{required:!0,allMetaType:Ze.k.COMMON_MDM_CORPORATION_CODE,label:"인사조직",className:"!w-[162px]",isUseAllOption:!0,isSearchValidation:!n}),(0,l.jsx)(Ve.A.VendorPartnerMultiAutocomplete,{label:"파트너",className:"!w-[144px]"})]}),(0,l.jsxs)(Ct.A,{width:"w-[333px]",children:[(0,l.jsx)(Ve.A.SearchDate,{label:"상차 일자"}),(0,l.jsx)(Ve.A.CustomerNameMultiAutocomplete,{label:"화주명",className:"!w-[254px]",required:!0,isSearchValidation:!i})]}),(0,l.jsxs)(Ct.A,{children:[(0,l.jsx)(Ve.A.ItemNameAutocomplete,{label:"품목",className:"!max-w-[149px]"}),(0,l.jsx)(Ve.A.SearchText,{label:"차량번호",placeholder:"차량번호 입력",fieldName:"plateNumber",className:"!w-[149px]"})]}),(0,l.jsxs)(Ct.A,{children:[(0,l.jsx)(Ve.A.SearchText,{label:"주문번호",placeholder:"주문번호 입력",fieldName:"orderTransferNo",className:"!w-[146px]"}),(0,l.jsx)(Ve.A.SearchAutocomplete,{fieldName:"orderStatusType",options:[{id:"CONFIRM_DISPATCH",label:"배차확정"},{id:"PICKUP_COMPLETE",label:"상차지 도착"},{id:"DROP_MOVING",label:"하차지 출발"},{id:"DELIVERY_COMPLETE",label:"운행완료"},{id:"REQUEST_RESULT_CONFIRM",label:"실적확인 요청"},{id:"CONFIRM_RESULT",label:"운송실적 확정"}],label:"주문 상태",autocompleteClassName:"!w-[146px]"})]}),(0,l.jsxs)(Ct.A,{children:[(0,l.jsx)(Ve.A.SearchText,{label:"관리번호",placeholder:"관리번호 입력",fieldName:"equipmentManageNo",className:"!w-[149px]"}),(0,l.jsx)(Ve.A.SearchText,{label:"하차지",placeholder:"하차지 입력",fieldName:"searchArrival",className:"!w-[149px]"})]})]})})};var jh=[{field:"__check__",headerName:"",width:76,minWidth:76,maxWidth:76,sortable:!1,disableColumnMenu:!0,align:"right",headerClassName:"check-right-align"},{field:"orderTransferId"},{field:"no",headerName:"No.",type:"number",align:"center",width:48,renderCell:e=>e.api.getRowIndexRelativeToVisibleRows(e.id)+1},{field:"orderTransferNo",headerName:"주문번호",width:166},{field:"orderStatusType",headerName:"주문상태",width:98,headerAlign:"center",align:"center",cellClassName:"flex h-full w-full items-center justify-center",renderCell:e=>gn.OrderStatusTag({status:e.value})},{field:"customerName",headerName:"화주명",width:200},{field:"customerMdmCode",headerName:"MDM 코드",width:92},{field:"departureName",headerName:"상차지명",width:160},{field:"departureUserAddress",headerName:"상차지 상세 주소",width:160},{field:"arrivalName",headerName:"하차지명",width:160},{field:"arrivalUerAddress",headerName:"하차지 상세 주소",width:160},{field:"itemName",headerName:"품목",width:122},{field:"departureRequestAt",headerName:"상차 요청 일시",width:144,type:da._.VIEW_MODE_YYYYMMDDHHMM},{field:"arrivalRequestAt",headerName:"하차 요청 일시",width:144,type:da._.VIEW_MODE_YYYYMMDDHHMM},{field:"orderCorporationName",headerName:"인사조직",width:160},{field:"plateNumber",headerName:"차량번호",width:108},{field:"equipmentManageNo",headerName:"관리번호",width:92},{field:"driverUserName",headerName:"운전자명",width:72},{field:"driverUserPhoneNumber",headerName:"연락처",width:120},{field:"salesRateCodeName",headerName:"매출 요율 구분",width:100},{field:"salesQuantity",headerName:"매출 수송량",width:100},{field:"salesRateAmount",headerName:"매출 요율 금액",width:100,type:"number"},{field:"salesFinalAmount",headerName:"매출 금액",width:100,type:"number"},{field:"vendorName",headerName:"협력사명",width:100},{field:"vendorMdmCode",headerName:"MDM 코드(협력사)",width:100},{field:"purchaseRateName",headerName:"매입 요율 구분",width:100},{field:"purchaseQuantity",headerName:"매입 수송량",width:100,type:"number"},{field:"purchaseRateAmount",headerName:"매입 요율 금액",width:100,type:"number"},{field:"purchaseFinalAmount",headerName:"매입 금액",width:100,type:"number"},{field:"orderReceiptCount",headerName:"인수증",width:100,type:"number"},{field:"weighingWeight",headerName:"계근 중량",width:86},{field:"remark",headerName:"요청 사항",width:86}];var Ph;function Lh(){return Lh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},Lh.apply(null,arguments)}var Bh=function(e){return r.createElement("svg",Lh({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},e),Ph||(Ph=r.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M12.175 17.925c-.1.1-.26.1-.36 0h.01l-6.75-6.718c-.1-.1-.1-.26 0-.36l.77-.77c.1-.1.26-.1.36 0l4.99 4.969V2.25c0-.14.11-.25.25-.25h1.1c.14 0 .25.11.25.25v12.796l5-4.968c.1-.1.26-.1.36 0l.77.77c.1.1.1.26 0 .36zM3.25 19.4h17.5a.25.25 0 0 1 .25.25v1.1a.25.25 0 0 1-.25.25H3.25a.25.25 0 0 1-.25-.25v-1.1a.25.25 0 0 1 .25-.25",clipRule:"evenodd"})))};var Uh=function(e){let{setSelectedReceipt:t,isChangedDetail:a}=e;const s=(0,r.useRef)(null),n=(0,D.bBi)(),o=v(),i=(0,$e.P9)(),d=r.useRef(a),[c,p]=r.useState({commonMdmCorporationCode:null,startDate:je()().add(-1,"month").startOf("day").format(),endDate:je()().endOf("day").format(),itemCode:void 0,orderTransferNo:void 0,equipmentManageNo:void 0,vendorId:null,customerId:void 0,plateNumber:void 0,orderStatusType:void 0,searchArrival:void 0}),{mutateAsync:h,data:f}=(0,T.n)(["GetOrderReceiptListMutation"],(async e=>(await I.q.api((t=>t.ApiV1OrderReceiptList(e)))).data.result)),{mutateAsync:C,data:x,isSuccess:N}=(0,T.n)(["useFileDownloadMutation"],(async e=>(await I.q.api((t=>t.ApiV1OrderPlaceAttachFileDownload(e)))).data.result));return(0,r.useEffect)((()=>{var e,a;if(!f)return;null==s||null===(e=s.current)||void 0===e||e.setInitData(null==f?void 0:f.orderReceiptInfoList);const l=(null===(a=((null==f?void 0:f.orderReceiptInfoList)||[])[0])||void 0===a?void 0:a.orderTransferId)||null;t(l)}),[f]),(0,r.useEffect)((()=>{d.current=a}),[a]),(0,r.useEffect)((()=>{if(N){var e;const t=(null===(e=x.orderReceiptInfoList)||void 0===e?void 0:e.map((e=>{var t;return{orderTransferNo:e.orderTransferNo||"",orderReceiptInfoList:null===(t=e.orderReceiptInfoList)||void 0===t?void 0:t.map((e=>({orderTransferPlaceAttachFileId:e.orderTransferPlaceAttachFileId,orderPlaceFileType:e.orderPlaceFileType,originalFileName:e.originalFileName,signedUrl:e.signedUrl,fileKey:e.fileKey,orderTransferId:e.orderTransferId,createdAt:e.createdAt})))}})))||[];(0,pe.Ay)(t)}}),[N]),(0,l.jsxs)("div",{className:"border-blue80 flex h-full flex-col border-r-[2px]","data-sentry-component":"OrderReceiptList","data-sentry-source-file":"OrderReceiptList.tsx",children:[(0,l.jsx)(Dh,{searchParams:c,setSearchParams:p,onSearch:async()=>{var e;await h({mdmCorporationCode:null!==(e=c.commonMdmCorporationCode)&&void 0!==e?e:"",departureRequestAtFrom:c.startDate,departureRequestAtTo:c.endDate,itemCode:c.itemCode,orderTransferNo:c.orderTransferNo,equipmentManageNo:c.equipmentManageNo,vendorIdList:c.vendorId,customerIdList:c.customerId,plateNumber:c.plateNumber,orderStatusType:c.orderStatusType,searchArrival:c.searchArrival})},"data-sentry-element":"OrderStatusFilter","data-sentry-source-file":"OrderReceiptList.tsx"}),(0,l.jsx)("div",{className:"grid-area h-[calc(100vh-330px)] overflow-auto",children:(0,l.jsx)(Fa.A,{ref:s,gridApiRef:n,columns:jh,columnVisibilityModel:{orderTransferId:!1},checkboxSelection:!0,onRowDoubleClick:e=>{var a;a=e.row.orderTransferId,d.current?o({title:"작성 중인 정보가 있습니다.",description:"화면을 나가면 작성된 정보가 삭제됩니다.",confirmButtonLabel:"나가기",onClickConfirmButton:()=>{t(a)}}):t(a)},"data-sentry-element":"WrapperBasicDataGrid","data-sentry-source-file":"OrderReceiptList.tsx"})}),(0,l.jsxs)("div",{className:"flex gap-[8px] px-[40px] py-[12px]",children:[(0,l.jsx)("div",{className:"ml-auto",children:(0,l.jsx)(u.A,{label:"인수증 업로드 요청",level:m.V.level_5,size:m.M.Small,leftIcon:(0,l.jsx)(Sc,{width:16,height:16}),"data-sentry-element":"TmsBasicButton","data-sentry-source-file":"OrderReceiptList.tsx"})}),(0,l.jsx)(u.A,{label:"파일 다운로드",level:m.V.level_5,size:m.M.Small,leftIcon:(0,l.jsx)(Bh,{width:16,height:16}),onClick:()=>{const e=null==s?void 0:s.current.getSelectedRows();if(0===e.length)return void i({message:"리스트에서 다운로드할 row를 체크해 주세요 ",type:"caution"});const t=e.map((e=>e.orderTransferId));C({orderTransferIdList:t})},"data-sentry-element":"TmsBasicButton","data-sentry-source-file":"OrderReceiptList.tsx"})]})]})};var Vh=function(e){let{fileUrl:t}=e;return(0,l.jsx)(u.A,{label:"출력",level:m.V.level_5,size:m.M.Xsmall,onClick:()=>{const e=window.open("","_blank","width=800,height=600");e&&(e.document.write('\n      <html>\n        <head>\n          <title>이미지 출력</title>\n          <style>\n            body { margin: 0; padding: 0; text-align: center; }\n            img { max-width: 100%; max-height: 100vh; }\n          </style>\n        </head>\n        <body onload="window.print(); window.close();">\n          <img src="'.concat(t,'" alt="출력 이미지" />\n        </body>\n      </html>\n    ')),e.document.close())},"data-sentry-element":"TmsBasicButton","data-sentry-component":"ImagePrint","data-sentry-source-file":"ImagePrint.tsx"})};var Fh=[{field:"__check__",headerName:"",width:48,minWidth:48,maxWidth:48,sortable:!1,disableColumnMenu:!0},{field:"orderTransferPlaceAttachFileId"},{field:"fileData"},{field:"signedUrl"},{field:"no",headerName:"No.",type:"number",align:"center",width:48,renderCell:e=>e.aggregation?"":e.api.getRowIndexRelativeToVisibleRows(e.id)+1},{field:"orderPlaceFileType",headerName:"구분",width:110,editable:!0,defaultEditable:!0,filterable:!1,type:da._.CUSTOM_SELECT,cellClassName:"required-cell",options:[{id:"RECEIPT",label:"인수증"},{id:"WEIGHING_SHEET",label:"계근표"},{id:"TAX_INVOICE",label:"세금계산서"}]},{field:"originalFileName",headerName:"파일명",flex:1,renderCell:e=>e.value.split("/").pop()},{field:"print",headerName:"인쇄",align:"center",width:48,renderCell:e=>Vh({fileUrl:e.row.signedUrl||e.row.fileData})}];var Gh,kh;function Yh(){return Yh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},Yh.apply(null,arguments)}var qh=function(e){return r.createElement("svg",Yh({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},e),r.createElement("mask",{id:"icon-arrow-forward_svg__a",width:24,height:24,x:0,y:0,maskUnits:"userSpaceOnUse",style:{maskType:"alpha"}},Gh||(Gh=r.createElement("path",{fill:"#D9D9D9",d:"M0 0h24v24H0z"}))),kh||(kh=r.createElement("g",{mask:"url(#icon-arrow-forward_svg__a)"},r.createElement("path",{fill:"currentColor",d:"M21.925 12.185c.1-.1.1-.26 0-.36l-6.718-6.75c-.1-.1-.26-.1-.36 0l-.77.77c-.1.1-.1.26 0 .36l4.969 5H2.25c-.14 0-.25.11-.25.25v1.1c0 .14.11.25.25.25h16.796l-4.969 4.99c-.1.1-.1.26 0 .36l.77.77c.1.1.26.1.36 0l6.718-6.75z"}))))};var Wh=function(e){let{selectedReceipt:t,setIsChangedDetail:a}=e;const s=(0,r.useRef)(null),n=(0,D.bBi)(),o=(0,$e.P9)(),[i,d]=(0,r.useState)(""),[c,p]=(0,r.useState)(""),h=(0,r.useRef)(null),{mutateAsync:f,data:x,isSuccess:N}=(0,T.n)(["GetOrderReceiptDetailMutation"],(async e=>(await I.q.api((t=>t.ApiV1OrderPlaceAttachFileList(e)))).data.result)),{mutateAsync:y,isSuccess:E,data:v}=(0,T.n)(["saveOrderReceiptMutation"],(async e=>(await I.q.api((t=>t.ApiV1OrderPlaceAttachFileCreate(e)))).data.result)),{mutateAsync:A,isSuccess:g}=(0,T.n)(["DeleteOrderReceiptMutation"],(async e=>(await I.q.api((t=>t.ApiV1OrderPlaceAttachFileDelete(e)))).data.result)),b=()=>{f({orderTransferId:t}),p(null),a(!1)},S=()=>{var e;const t=(null==s?void 0:s.current.getAllRows())||[];let l=t.length!==((null==x?void 0:x.orderReceiptInfoList)||[]).length;l||(l=t.some(((e,t)=>{const a=null==x?void 0:x.orderReceiptInfoList[t];return!a||Object.keys(a).some((t=>e[t]!==a[t]))})));const r=i!==(null===(e=x.weighingWeight)||void 0===e?void 0:e.toString());a(l||r)};return(0,r.useEffect)((()=>{var e;t?b():(null==s||null===(e=s.current)||void 0===e||e.setInitData([]),p(null),a(!1))}),[t]),(0,r.useEffect)((()=>{var e,t;N&&x&&(null==s||null===(e=s.current)||void 0===e||e.setInitData(x.orderReceiptInfoList),d((x.weighingWeight||"").toString()),p(0!==x.orderReceiptInfoList.length&&(null===(t=x.orderReceiptInfoList[0])||void 0===t?void 0:t.signedUrl)))}),[N,x]),(0,r.useEffect)((()=>{E&&v&&(o({message:"파일이 저장되었습니다."}),b())}),[E,v]),(0,r.useEffect)((()=>{g&&o({message:"파일이 삭제되었습니다."})}),[g]),(0,l.jsxs)("div",{"data-sentry-component":"OrderReceiptDetail","data-sentry-source-file":"OrderReceiptDetail.tsx",children:[t&&(0,l.jsxs)("div",{className:"bg-blue98 px-[24px] py-[16px]",children:[(0,l.jsxs)("div",{className:"flex flex-row",children:[(0,l.jsxs)("div",{className:"flex flex-row items-center gap-[6px]",children:[(0,l.jsx)("div",{className:"Body5_M text-grey40",children:null==x?void 0:x.orderTransferNo}),(0,l.jsx)(Ut,{width:16,height:16,className:"text-grey50 cursor-pointer",onClick:()=>{o({message:"주문번호가 복사되었습니다."}),navigator.clipboard.writeText(null==x?void 0:x.orderTransferNo)}})]}),(0,l.jsx)(_t.A,{handleSave:async()=>{const e=null==s?void 0:s.current.getAllRows(),a=e.map((e=>({...e,isError:!e.orderPlaceFileType})));if(n.current.updateRows(a),a.find((e=>e.isError)))return void o({message:"파일 구분을 선택해 주세요.",type:"caution"});const l={};e.forEach((e=>{e.orderPlaceFileType&&(l[e.orderPlaceFileType]=(l[e.orderPlaceFileType]||0)+1)}));Object.values(l).some((e=>e>5))?o({message:"같은 파일 구분은 최대 5개까지만 등록할 수 있습니다.",type:"caution"}):await(async e=>{await y({orderTransferId:t,weighingWeight:i?Number(i):void 0,attachFileInfoList:e.length>0?e.map((e=>({orderPlaceFileType:e.orderPlaceFileType,originalFileName:e.originalFileName,fileData:e.fileData||null,refKey:t,refType:R.vYj.ORDER}))):void 0})})(a)},className:"ml-auto"})]}),(0,l.jsxs)("div",{className:"mb-[8px] mt-[16px] flex items-center gap-[4px]",children:[(0,l.jsx)("span",{className:"Title3_EX",children:null==x?void 0:x.departureName}),(0,l.jsx)(qh,{width:20,height:20,className:"text-grey60"}),(0,l.jsx)("span",{className:"Title3_EX",children:null==x?void 0:x.arrivalName}),(0,l.jsx)(gn.OrderStatusTag,{status:null==x?void 0:x.orderStatusType})]}),(0,l.jsxs)("div",{className:"Body3_B text-grey30 flex flex-row",children:[null==x?void 0:x.customerName," ",null==x?void 0:x.customerMdmCode]})]}),(0,l.jsxs)("div",{className:"px-[24px] py-[24px]",children:[t&&(0,l.jsxs)("div",{className:"mb-[24px]",children:[(0,l.jsx)("div",{className:"Body5_B text-grey60 mb-[8px]",children:"계근표 정보"}),(0,l.jsx)(vt,{labelClassName:"!w-[120px]",thLabel:"계근 중량",children:(0,l.jsx)(Tt.A,{className:"w-full",componentType:"input-table",placeholder:"계근 중량 입력",value:i,type:"number",onChange:e=>{S(),d((0,pe.Ky)(e.target.value))},disabled:!(null==x?void 0:x.isWeighingWeight)})})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsx)("p",{className:"Body5_B text-grey60",children:"파일"}),(0,l.jsxs)("div",{className:"flex gap-[8px]",children:[(0,l.jsx)(Ur,{label:"파일 삭제",disabled:!t,handleDelete:()=>{var e;if(0===(null==s||null===(e=s.current)||void 0===e?void 0:e.getSelectedRows().length))return void o({message:"파일을 선택해 주세요",type:"caution"});const t=null==s?void 0:s.current.getSelectedRows().filter((e=>!e._isNew));t.length>0?A({orderPlaceAttachFileIdList:t.map((e=>e.orderTransferPlaceAttachFileId))}):o({message:"파일이 삭제되었습니다."}),null==s||s.current.removeSelectedRow(!0),b()},"data-sentry-element":"DeleteButton","data-sentry-source-file":"OrderReceiptDetail.tsx"}),(0,l.jsx)("input",{type:"file",ref:h,onChange:e=>{if(e.target.files&&e.target.files.length>0){const t=e.target.files[0];if(e.target.value="",e.target.files=null,!t)return void o({message:"파일을 선택하세요"});if(!["image/jpeg","image/jpg","image/png"].includes(t.type))return void o({message:"jpg, jpeg, png 형식의 파일만 업로드할 수 있습니다."});const a=new FileReader;a.onloadend=()=>{const e=a.result;null==s||s.current.addRow({originalFileName:"".concat(t.name),fileData:e}),S()},a.readAsDataURL(t)}},accept:".jpg,.jpeg,.png",className:"hidden"}),(0,l.jsx)(u.A,{level:m.V.level_5,size:m.M.Small,label:"파일 추가",leftIcon:(0,l.jsx)(Jl,{className:C()("text-primary40 h-[16px] w-[16px]",{"text-blueDisabled":!t})}),onClick:()=>{var e;null===(e=h.current)||void 0===e||e.click()},disabled:!t,"data-sentry-element":"TmsBasicButton","data-sentry-source-file":"OrderReceiptDetail.tsx"})]})]}),(0,l.jsx)("div",{className:"mt-[12px] h-[280px]",children:(0,l.jsx)(Fa.A,{ref:s,gridApiRef:n,columns:Fh,columnVisibilityModel:{orderTransferPlaceAttachFileId:!1,fileData:!1,signedUrl:!1},checkboxSelection:!0,noRowDescription:{description_1:"선택된 목록이 없습니다.",description_2:"좌측 리스트에서 선택해 주세요."},getCellClassName:e=>String(e.colDef.cellClassName).includes("required-cell")&&e.row.isError&&!e.row[e.field]?"basic-dataGrid-error":"",onRowClick:e=>{p(e.row.signedUrl||e.row.fileData)},disableRowSelectionOnClick:!0,"data-sentry-element":"WrapperBasicDataGrid","data-sentry-source-file":"OrderReceiptDetail.tsx"})})]}),(0,l.jsx)("div",{className:"border-blackOpacity8 mt-[20px] h-[288px] border",children:c&&(0,l.jsx)("img",{src:c,alt:"선택한 이미지 미리보기"})})]})]})};var Hh=function(e){let{menuName:t}=e;const[a,s]=(0,r.useState)(),[n,o]=(0,r.useState)(!1);return(0,l.jsxs)("div",{className:"bg-grey98 flex h-full flex-col","data-sentry-component":"OrderReceiptPanel","data-sentry-source-file":"OrderReceiptPanel.tsx",children:[(0,l.jsx)(xl,{title:t,"data-sentry-element":"ContentHeader","data-sentry-source-file":"OrderReceiptPanel.tsx"}),(0,l.jsxs)("div",{className:"flex h-full w-full flex-row bg-white",children:[(0,l.jsx)("div",{className:"h-full flex-1 overflow-hidden",children:(0,l.jsx)(Uh,{setSelectedReceipt:s,isChangedDetail:n,"data-sentry-element":"OrderReceiptList","data-sentry-source-file":"OrderReceiptPanel.tsx"})}),(0,l.jsx)("div",{className:"w-[448px] flex-none",children:(0,l.jsx)(Wh,{selectedReceipt:a,setIsChangedDetail:o,"data-sentry-element":"OrderReceiptDetail","data-sentry-source-file":"OrderReceiptPanel.tsx"})})]})]})};const Kh=[{name:"매뉴얼 매출",path:s.Mt},{name:"매뉴얼 매입",path:s.B}];var zh;function Xh(e){let{label:t,className:a,colorType:r,...s}=e;return(0,l.jsx)("div",{className:C()("Caption1_B inline-flex rounded-[3px] px-[4px]",a,{FILL_GREEN:"bg-green98 text-green50",FILL_BLUE:"bg-blue98 text-blue50",FILL_RED:"bg-red98 text-red50",FILL_YELLOW:"bg-yellow98 text-yellow50",FILL_ORANGE:"bg-orange98 text-orange50",FILL_GREY:"bg-grey98 text-grey50",FILL_SECONDARY:"bg-secondary98 text-secondary50",FILL_PRIMARY:"bg-primary98 text-primary50",LINE_GREEN:"border-[1px] border-green50 text-green50",LINE_BLUE:"border-[1px] border-blue50 text-blue50",LINE_RED:"border-[1px] border-red50 text-red50",LINE_YELLOW:"border-[1px] border-yellow50 text-yellow50",LINE_ORANGE:"border-[1px] border-orange50 text-orange50",LINE_GREY:"border-[1px] border-grey50 text-grey50",LINE_SECONDARY:"border-[1px] border-secondary50 text-secondary50",LINE_PRIMARY:"border-[1px] border-primary50 text-primary50"}[r]),...s,"data-sentry-component":"TmsBasicChip","data-sentry-source-file":"TmsBasicChip.tsx",children:t})}!function(e){e.FILL_GREEN="FILL_GREEN",e.FILL_BLUE="FILL_BLUE",e.FILL_RED="FILL_RED",e.FILL_YELLOW="FILL_YELLOW",e.FILL_ORANGE="FILL_ORANGE",e.FILL_GREY="FILL_GREY",e.FILL_SECONDARY="FILL_SECONDARY",e.FILL_PRIMARY="FILL_PRIMARY",e.LINE_GREEN="LINE_GREEN",e.LINE_BLUE="LINE_BLUE",e.LINE_RED="LINE_RED",e.LINE_YELLOW="LINE_YELLOW",e.LINE_ORANGE="LINE_ORANGE",e.LINE_GREY="LINE_GREY",e.LINE_SECONDARY="LINE_SECONDARY",e.LINE_PRIMARY="LINE_PRIMARY"}(zh||(zh={}));const Qh=()=>(0,T.n)(["useSettlementPurchaseManualsSaveMutation"],(async e=>(await I.q.api((t=>t.ApiV1SettlementPurchaseManualsSave(e)))).data.result)),Zh=()=>(0,T.n)(["useSalesManualsSaveMutation"],(async e=>(await I.q.api((t=>t.ApiV1SettlementSalesManualsSave(e)))).data.result)),Jh=e=>{let{toast:t,gridCurrent:a,searchParams:l}=e;return{isCheckSelectedRow:()=>0!==Array.from(a.getSelectedRows().values()).length||(t({message:"항목을 선택해 주세요.",type:"caution"}),!1),isCheckDateRange:()=>{var e;const a=je()(null!==(e=l.startDate)&&void 0!==e?e:new Date);var r;return!(je()(null!==(r=l.endDate)&&void 0!==r?r:new Date).diff(a,"day")>45)||(t({message:"조회기간은 45일을 넘길 수 없습니다.",type:"caution"}),!1)}}},$h=e=>{let{toast:t,tmsAlert:a,apiRest:l,successMsg:s,successFunction:n,errorTitle:o,errorFunction:i=()=>null}=e;(0,r.useEffect)((()=>{(Array.isArray(l)?l:[l]).forEach((e=>{var l;(e.isSuccess&&(t({message:s}),n()),e.isError)&&(a({title:o,description:null===(l=e.error)||void 0===l?void 0:l.message}),i());e.reset()}))}),[...Array.isArray(l)?l.flatMap((e=>[e.data,e.isSuccess,e.isError])):[l.data,l.isSuccess,l.isError]])},ef=e=>{let{currentTab:t,type:a,isOpenedRightPanel:n,setIsOpenedRightPanel:o,isNewRightPanel:d}=e;var c;const p=(0,$e.P9)(),h=(0,ya.c5)(),f={startDate:je()(new Date).subtract(45,"day").startOf("day").format(),endDate:je()(new Date).endOf("day").format()},[C,x]=(0,r.useState)(f),N=(0,r.useRef)(null),y=(0,D.bBi)();var E;const{setInitData:v,getSelectedRows:A,removeSelectedRow:g,getAllRows:b}=null!==(E=null==N?void 0:N.current)&&void 0!==E?E:{},{user:S}=(0,i.o)(),[_,w]=(0,r.useState)([]),{columns:O}=(e=>{let{createDownLink:t}=e;return{columns:(0,r.useMemo)((()=>[{field:"No",headerName:"No.",sortable:!1,width:48,align:"center",renderCell:e=>e.api.getRowIndexRelativeToVisibleRows(e.id)+1},{field:"sourceSystemTypeName",headerName:"시스템 구분"},{field:"approvalStatusTypeName",headerName:"결재상태",renderCell:e=>{let t=null;switch(e.row.approvalStatusType){case R.cZF.NONE:t=zh.FILL_GREY;break;case R.cZF.WAITING:t=zh.FILL_BLUE;break;case R.cZF.COMPLETE:t=zh.FILL_GREEN;break;case R.cZF.RETURN:t=zh.FILL_RED}return Xh({colorType:t,label:e.row.approvalStatusTypeName})}},{field:"isBilled",headerName:"청구구분",valueGetter:e=>e?"청구":"미청구"},{field:"salesConfirmedAt",headerName:"매출확정일자",width:112,type:da._.VIEW_MODE_YYYYMMDD_DDD},{field:"customerName",headerName:"화주",width:182},{field:"customerMdmCode",headerName:"고객사코드"},{field:"salesGlAccountTypeName",headerName:"계정과목"},{field:"salesCostCodeTypeName",headerName:"매출입항목"},{field:"materialCodeName",headerName:"대표물자"},{field:"quantity",headerName:"작업물량",type:"number"},{field:"rateCodeName",headerName:"작업단위"},{field:"totalAmount",headerName:"공급가액",type:"number"},{field:"vatAmount",headerName:"부가세",type:"number"},{field:"salesVatTypeName",headerName:"세금유형"},{field:"description",headerName:"내역",width:332},{field:"purchaseMdmCostCenterCodeName",headerName:"매입조직",width:182},{field:"paymentConditionCodeName",headerName:"수금조건",width:406},{field:"bizCodeName",headerName:"사업코드"},{field:"serviceCodeName",headerName:"서비스코드"},{field:"serviceCode2Name",headerName:"서비스2코드"},{field:"mdmCorporateCodeName",headerName:"인사조직",width:182},{field:"salesMdmCostCenterCodeName",headerName:"매출조직",width:182},{field:"orderSalesNo",headerName:"주문오더번호",width:152},{field:"orderTransferDispatchNo",headerName:"배차번호",width:152},{field:"purchaseType",headerName:"매입유형"},{field:"cjWorldDocumentNo",headerName:"품의서번호"},{field:"approvalUserName",headerName:"결재자명"},{field:"confirmationNo",headerName:"매출 확정번호",width:189},{field:"attachFileName",headerName:"첨부파일",width:180},{field:"attachFileSignUrl",headerName:"첨부파일 다운로드",type:"actions",getActions:e=>[(0,l.jsx)(u.A,{level:m.V.level_5,size:m.M.Xsmall,rightIcon:(0,l.jsx)(Bh,{className:"h-[16px] w-[16px]"}),onClick:()=>t(e.row.attachFileSignUrl,e.row.attachFileName)})],width:156}]),[])}})({createDownLink:async(e,t)=>{const a=document.createElement("a"),l=await fetch(e).then((e=>e.blob()));a.href=URL.createObjectURL(l),a.download=t,document.body.appendChild(a),a.click(),document.body.removeChild(a)}}),[M,j]=(0,r.useState)(null),[P,L]=(0,r.useState)([]),[B,U]=(0,r.useState)({isOpened:!1,title:"",description:"",confirmButtonType:"normal",confirmButtonLabel:"",onClickConfirmButton:e=>null}),[V,F]=(0,r.useState)([]),{mutateAsync:G,isSuccess:k,data:Y}=(0,T.n)(["useSalesManualsListMutation"],(async e=>(await I.q.api((t=>t.ApiV1SettlementSalesManuals(e)))).data.result)),{mutateAsync:q,isSuccess:W,data:H}=(0,T.n)(["useSalesManualsApprovalsMutation"],(async e=>(await I.q.api((t=>t.ApiV1SettlementSalesManualsApprovals(e)))).data.result)),{mutateAsync:K,...z}=(0,T.n)(["useSalesManualsDeleteMutation"],(async e=>(await I.q.api((t=>t.ApiV1SettlementSalesManualsDelete(e)))).data.result)),{mutateAsync:X,...Q}=(0,T.n)(["useSalesManualsApprovalsRequestMutation"],(async e=>(await I.q.api((t=>t.ApiV1SettlementSalesManualsApprovalsRequest(e)))).data.result)),{mutateAsync:Z,...J}=(0,T.n)(["useSalesManualsApprovalsCompleteMutation"],(async e=>(await I.q.api((t=>t.ApiV1SettlementSalesManualsApprovalsComplete(e)))).data.result)),{mutateAsync:$,...ee}=(0,T.n)(["useSalesManualsApprovalsRejectMutation"],(async e=>(await I.q.api((t=>t.ApiV1SettlementSalesManualsApprovalsReject(e)))).data.result)),{mutateAsync:te,...ae}=(0,T.n)(["useSalesManualsExcelMutation"],(async e=>(await I.q.api((t=>t.ApiV1SettlementSalesManualsExcel(e,{format:"blob"})))).data)),{mutateAsync:le,...re}=(0,T.n)(["useSalesManualsApprovalsExcelMutation"],(async e=>(await I.q.api((t=>t.ApiV1SettlementSalesManualsApprovalsExcel(e,{format:"blob"})))).data)),{isCheckDateRange:se}=Jh({toast:p,gridCurrent:y.current,searchParams:C}),{mutateAsync:ne,isSuccess:oe,data:ie}=(0,T.n)(["useSalesManualsDuplicateMutation"],(async e=>(await I.q.api((t=>t.ApiV1SettlementSalesManualsDuplicate(e)))).data.result)),de={fromDate:C.startDate,toDate:C.endDate,salesMdmCostCenterCodes:C.commonMdmCostCenterSalesCode,customerIds:C.customerId,approvalStatusTypes:C.manualApprovalStatusType,approvalUserIds:[null===(c=S.adminManager)||void 0===c?void 0:c.userId]},ce=async()=>{se()&&(a===_h.ENTER?await G(de):await q(de))},ue=async(e,t)=>{if(A().some((e=>e.approvalStatusType===R.cZF.RETURN||e.approvalStatusType===R.cZF.COMPLETE)))return void p({message:"결재상태를 확인해주세요.",type:"caution"});const a="detail"===e?t:A().filter((e=>!e._isCopy)).map((e=>e.salesManualId)),l=A().filter((e=>e._isCopy));"normal"===e&&A().length===l.length?U({isOpened:!1}):(await K(a),o(!1)),g()},me=async()=>{await X(A().map((e=>({rowNum:b().findIndex((t=>t.salesManualId===e.salesManualId))+1,salesManualId:e.salesManualId}))))},pe=()=>{U({isOpened:!1}),ce()};return(0,r.useLayoutEffect)((()=>{t===s.R3&&ce()}),[t]),(0,r.useEffect)((()=>{k&&a!==_h.APPROVAL&&(v(Y),L(Y),setTimeout((()=>{var e;null===(e=y.current)||void 0===e||e.setRowSelectionModel(V)}),10))}),[Y]),(0,r.useEffect)((()=>{W&&a!==_h.ENTER&&(v(H),L(H))}),[H]),(0,r.useEffect)((()=>{n&&!d||j(null)}),[n,d]),(0,r.useEffect)((()=>{oe&&(p({message:"실적 복사에 성공하였습니다."}),ce(),F(ie.salesManualId))}),[ie]),(0,r.useEffect)((()=>{(J.isSuccess||ee.isSuccess)&&U({isOpened:!1})}),[J.isSuccess,ee.isSuccess]),$h({toast:p,tmsAlert:h,apiRest:z,successMsg:"매뉴얼 매출 ".concat(_.length,"건이 삭제되었습니다."),successFunction:pe,errorTitle:"매뉴얼 매출 삭제에 실패했습니다."}),$h({toast:p,tmsAlert:h,apiRest:Q,successMsg:"매뉴얼 매출 ".concat(_.length,"건의 결재 요청이 완료되었습니다."),successFunction:pe,errorTitle:"매뉴얼 매출 결재 요청에 실패했습니다."}),$h({toast:p,tmsAlert:h,apiRest:J,successMsg:"매뉴얼 매출 ".concat(_.length,"건이 승인되었습니다."),successFunction:pe,errorTitle:"매뉴얼 매출 승인에 실패했습니다."}),$h({toast:p,tmsAlert:h,apiRest:ee,successMsg:"매뉴얼 매출 ".concat(_.length,"건이 반려되었습니다."),successFunction:pe,errorTitle:"매뉴얼 매출 반려에 실패했습니다."}),{initialParams:f,searchParams:C,setSearchParams:x,handleSearch:ce,columns:O,wrapGridRef:N,gridApiRef:y,doubleClickRow:M,setDoubleClickRow:j,handleDelete:(e,t)=>{const a=A();!("normal"===e&&0===a.length||"detail"===e&&0===t.length)?U({isOpened:!0,title:"매뉴얼 매출 ".concat("detail"===e?1:a.length,"건을 삭제하시겠어요?"),description:"삭제한 매출건은 복구할 수 없습니다.",confirmButtonType:"destructive",confirmButtonLabel:"삭제하기",onClickConfirmButton:()=>ue(e,t)}):p({message:"삭제할 항목을 선택해주세요",type:"caution"})},isCheckConfirm:B,setIsCheckConfirm:U,setRowSelectionModel:w,oldRows:P,setOldRows:L,handleCopy:async()=>{const e=A();0!==e.length?await ne(e.map((e=>({rowNum:b().findIndex((t=>t._id_===e._id_))+1,salesManualId:e.salesManualId})))):p({message:"행 복사할 항목을 선택해주세요",type:"caution"})},handleRequest:()=>{const e=A();if(0===e.length)return void p({message:"결재 요청할 항목을 선택해주세요",type:"caution"});e.filter((e=>!e.salesManualId)).length!==e.length?U({isOpened:!0,title:"결재를 요청하시겠어요?",description:"입력하신 매뉴얼 매출 정보에 대해 결재가 요청됩니다. 이후 승인 절차가 진행됩니다.",confirmButtonType:"normal",confirmButtonLabel:"결재 요청하기",onClickConfirmButton:me}):p({message:"매뉴얼 저장을 먼저 진행해주세요",type:"caution"})},handleReject:e=>{if("normal"===e){if(0===A().length)return void p({message:"반려할 항목을 선택해주세요",type:"caution"})}U({isOpened:!0,title:"매뉴얼 매출건을 반려하시겠어요?",description:"해당 매출건이 반려되며, 이후 취소할 수 없습니다.",confirmButtonType:"destructive",confirmButtonLabel:"반려하기",onClickConfirmButton:()=>(async e=>{let t=[];t="normal"===e?A().map((e=>e.salesManualId)):[null==M?void 0:M.salesManualId],await $(t)})(e)})},handleRegister:e=>{if("normal"===e){if(0===A().length)return void p({message:"승인할 항목을 선택해주세요",type:"caution"})}U({isOpened:!0,title:"매뉴얼 매출건을 승인하시겠어요?",description:"해당 매출건이 승인되며, 이후 수정할 수 없습니다.",confirmButtonType:"normal",confirmButtonLabel:"승인하기",onClickConfirmButton:()=>(async e=>{let t=[];t="normal"===e?A().map((e=>e.salesManualId)):[null==M?void 0:M.salesManualId],await Z(t)})(e)})},salesManualId:V,handleExcelDownload:async()=>{se()&&(a===_h.ENTER?await te(de):await le(de))},restManualsExcel:ae,restManualsApprovalExcel:re}};function tf(e){let{handleCopy:t,handleDelete:a,handleRequest:r,excelFileName:s,handleExcelDownload:n,restExcel:o}=e;return(0,l.jsxs)("div",{className:"border-grey90 absolute bottom-0 ml-auto flex h-[52px] w-full items-center justify-end gap-[8px] border-t-[1px] bg-white px-[40px] py-[12px]","data-sentry-component":"EnterFooter","data-sentry-source-file":"EnterFooter.tsx",children:[(0,l.jsx)(Ya,{label:"실적 복사",handleCopyRow:t,"data-sentry-element":"TmsDataGridCopyRowBtn","data-sentry-source-file":"EnterFooter.tsx"}),(0,l.jsxs)("div",{className:"ml-auto flex items-center gap-[8px]",children:[(0,l.jsx)(We,{excelFileName:s,isSuccessExcel:null==o?void 0:o.isSuccess,excelData:null==o?void 0:o.data,handleExcelDownload:n,"data-sentry-element":"TmsBasicDataGridExcelDownload","data-sentry-source-file":"EnterFooter.tsx"}),(0,l.jsx)("div",{className:"bg-grey90 h-[12px] w-[1px]"}),(0,l.jsx)(ja,{handleDeleteComplete:()=>a("normal"),"data-sentry-element":"TmsDataGridDeleteCompleteBtn","data-sentry-source-file":"EnterFooter.tsx"}),(0,l.jsx)(u.A,{label:"결재 요청",level:m.V.level_2,size:m.M.Small,leftIcon:(0,l.jsx)(mh,{widht:16,height:16,className:"text-white"}),onClick:r,"data-sentry-element":"TmsBasicButton","data-sentry-source-file":"EnterFooter.tsx"})]})]})}var af,lf;function rf(){return rf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},rf.apply(null,arguments)}var sf=function(e){return r.createElement("svg",rf({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none"},e),af||(af=r.createElement("path",{fill:"#DC0C0C",d:"m11.513 13.107 2.594-2.84h.113l-2.693 2.853zm0-6.22h.007L14.473 10l-.046.053-2.914-3.16z"})),lf||(lf=r.createElement("path",{fill:"currentColor",d:"M7.833 2.667H4.826C2.78 2.667.946 4.133.7 6.167a4 4 0 0 0 3.966 4.5h8.174l-2.133 2.34c-.054.066-.054.173 0 .233l.713.713s.073.047.113.047.08-.013.114-.047l3.626-3.833a.15.15 0 0 0 .053-.12.15.15 0 0 0-.053-.12l-3.626-3.833S11.573 6 11.527 6a.16.16 0 0 0-.12.047l-.707.706a.2.2 0 0 0 0 .24L13.1 9.6H4.82c-1.547 0-2.94-1.127-3.074-2.673a2.93 2.93 0 0 1 2.92-3.194h3.167A.165.165 0 0 0 8 3.567v-.734a.165.165 0 0 0-.167-.166"})))};function nf(e){let{handleReject:t,handleRegister:a,excelFileName:r,handleExcelDownload:s,restExcel:n}=e;return(0,l.jsxs)("div",{className:"border-grey90 absolute bottom-0 ml-auto flex h-[52px] w-full items-center justify-end gap-[8px] border-t-[1px] bg-white px-[40px] py-[12px]","data-sentry-component":"ApprovalFooter","data-sentry-source-file":"ApprovalFooter.tsx",children:[(0,l.jsx)(We,{excelFileName:r,isSuccessExcel:null==n?void 0:n.isSuccess,excelData:null==n?void 0:n.data,handleExcelDownload:s,"data-sentry-element":"TmsBasicDataGridExcelDownload","data-sentry-source-file":"ApprovalFooter.tsx"}),(0,l.jsx)("div",{className:"bg-grey90 h-[12px] w-[1px]"}),(0,l.jsx)(u.A,{label:"반려",level:m.V.level_5,size:m.M.Small,leftIcon:(0,l.jsx)(sf,{widht:16,height:16,className:"text-error"}),onClick:()=>t("normal"),"data-sentry-element":"TmsBasicButton","data-sentry-source-file":"ApprovalFooter.tsx"}),(0,l.jsx)(ui,{label:"승인",handleRegister:()=>a("normal"),"data-sentry-element":"TmsDataGridRegisterBtn","data-sentry-source-file":"ApprovalFooter.tsx"})]})}function of(e){let{isSales:t,type:a,selectedRow:s,onSubmitForm:n,handleDelete:o,handleCopy:d,handleReject:c,handleRegister:p}=e;const{user:h}=(0,i.o)(),[f,C]=(0,r.useState)(!1),x=null==s?void 0:s.approvalStatusType,y=t?"매출":"매입",[E,v]=(0,r.useState)(!1),A=t?null==s?void 0:s.salesManualId:null==s?void 0:s.purchaseManualId;let g=null;switch(x){case R.cZF.NONE:g=zh.FILL_GREY;break;case R.cZF.WAITING:g=zh.FILL_BLUE;break;case R.cZF.COMPLETE:g=zh.FILL_GREEN;break;case R.cZF.RETURN:g=zh.FILL_RED}return(0,r.useEffect)((()=>{v(t?!(null==s?void 0:s.salesManualId):!(null==s?void 0:s.purchaseManualId))}),[null==s?void 0:s.salesManualId,null==s?void 0:s.purchaseManualId]),(0,l.jsxs)(l.Fragment,{children:[E?(0,l.jsxs)("div",{className:"px-[24px] py-[16px]",children:[(0,l.jsx)(oc,{gradient:!0,children:"새 매뉴얼 ".concat(y," 만들기")}),(0,l.jsx)(ui,{type:"button",className:"float-right inline-flex",handleRegister:()=>C(!0)})]}):(0,l.jsxs)("div",{className:"bg-blue98 flex flex-col gap-[4px] px-[24px]",children:[(x===R.cZF.NONE||x===R.cZF.WAITING)&&(h.userId===h.adminManager.userId&&a===_h.APPROVAL?(0,l.jsxs)("div",{className:"absolute right-[24px] top-[16px] ml-auto flex gap-[8px]",children:[(0,l.jsx)(u.A,{label:"반려",level:m.V.level_5,size:m.M.Small,leftIcon:(0,l.jsx)(sf,{widht:16,height:16,className:"text-error"}),onClick:()=>c("detail")}),(0,l.jsx)(ui,{label:"승인",handleRegister:()=>p("detail")})]}):(0,l.jsxs)("div",{className:"flex pt-[16px]",children:[(0,l.jsx)(u.A,{label:"주문 복사",level:m.V.level_5,size:m.M.Small,onClick:d,leftIcon:(0,l.jsx)(Ut,{widht:16,height:16,className:"text-grey50"})}),(0,l.jsxs)("div",{className:"ml-auto flex gap-[8px]",children:[(0,l.jsx)(Ur,{handleDelete:()=>o("detail",[A]),disabled:!A}),(0,l.jsx)(Qp,{type:"button",size:m.M.Small,onClick:()=>C(!0)})]})]})),(0,l.jsxs)("div",{className:"flex items-center gap-[4px]",children:[(0,l.jsx)("div",{className:"Title3_EX py-[16px]",children:"매뉴얼 ".concat(y," 상세")}),"NONE"!==(null==s?void 0:s.approvalStatusType)&&(0,l.jsx)(Xh,{label:null==s?void 0:s.approvalStatusTypeName,colorType:g})]})]}),f&&(0,l.jsx)(N,{title:E?"매뉴얼 ".concat(y,"건을 저장하시겠어요?"):"수정 내용을 저장하시겠어요?",description:E?"입력하신 매뉴얼  ".concat(y," 정보가 시스템에 저장됩니다."):"변경된 매뉴얼  ".concat(y," 정보가 바로 반영됩니다."),confirmButtonLabel:"저장하기",buttonType:"submit",onClickConfirmButton:()=>{C(!1),n()},onClickCloseButton:()=>C(!1)})]})}var df=e=>{let{autocompleteClassName:t="",placeholder:a,value:r,setValue:s}=e;const{commonCustomerInfoOption:n}=(0,Je.X)();return(0,l.jsx)(He.A,{componentType:"autocomplete-table",autocompleteBoxClassName:"w-full",autocompleteClassName:t,options:n,selectedId:null!=r?r:"",onChange:(e,t)=>s(t),placeholder:a,optionsBoxWidth:444,"data-sentry-element":"TmsBasicAutocomplete","data-sentry-component":"FormCustomerNameAutocomplete","data-sentry-source-file":"FormCustomerNameAutocomplete.tsx"})};const cf=e=>{let{mdmCorporateCode:t}=e;return{purchaseManualId:null,purchaseConfirmedAt:null,purchaseMdmCostCenterCode:null,mdmCorporateCode:null!=t?t:null,salesMdmCostCenterCode:null,affiliateMdmCostCenterCode:null,vendorId:null,customerId:null,purchaseCostType:null,materialCode:null,quantity:"",rateCode:null,description:"",paymentConditionCode:null,purchaseVatType:null,totalAmount:null,vatAmount:0,bizCode:null,serviceCode:null,serviceCode2:null,pickupDate:null,keepDate:null,cjWorldDocumentNo:null,attachFileId:null,purchaseGlAccountType:null}},uf=e=>({purchaseMdmCostCenterCode:"매입조직",salesMdmCostCenterCode:"매출조직",mdmCorporateCode:"인사조직",vendorId:"파트너명",customerId:"화주명",purchaseGlAccountType:"계정과목",purchaseCostType:"매출입항목",purchaseConfirmedAt:"매입확정일자",materialCode:"대표물자",quantity:"작업물량",rateCode:"작업단위",description:"내역",paymentConditionCode:"지급조건",purchaseVatType:"세금유형",totalAmount:"공급가액",attachFileId:"첨부파일"}[e]),mf=e=>{let{mdmCorporateCode:t}=e;return{salesManualId:null,vendorId:null,customerId:null,salesConfirmedAt:null,isBilled:!1,purchaseMdmCostCenterCode:null,salesMdmCostCenterCode:null,mdmCorporateCode:null!=t?t:null,salesCostType:null,materialCode:null,quantity:"",rateCode:null,description:"",paymentConditionCode:null,salesVatType:null,totalAmount:null,vatAmount:0,bizCode:null,serviceCode:null,serviceCode2:null,orderSalesNo:null,orderTransferDispatchNo:null,attachFileId:null}},pf=e=>({salesMdmCostCenterCode:"매출조직",purchaseMdmCostCenterCode:"매입조직",mdmCorporateCode:"인사조직",customerId:"화주명",isBilled:"청구구분",salesConfirmedAt:"매출확정일자",materialCode:"대표물자",quantity:"작업물량",rateCode:"작업단위",description:"내역",salesGlAccountType:"계정과목",salesCostType:"매출입항목",salesVatType:"세금유형",totalAmount:"공급가액",attachFileId:"첨부파일"}[e]);var hf=e=>{let{autocompleteClassName:t,placeholder:a,value:s,setValue:n,customerId:o,mdmCode:i}=e;var d;const{mutateAsync:c,isSuccess:u,data:m}=(0,T.n)(["useCustomerPaymentConditionCodeMutation"],(async e=>(await I.q.api((t=>t.ApiCustomerV1CommonPaymentConditionCodeList(e)))).data.result)),p=(0,r.useMemo)((()=>u&&m?m.itemList.map((e=>({id:e.mdmPaymentConditionCode,label:e.mdmPaymentConditionCodeName}))):[]),[m]);return(0,r.useLayoutEffect)((()=>{o&&(async()=>{await c({customerId:o})})()}),[o]),(0,r.useEffect)((()=>{if(!u)return;String(i).startsWith("10")||n(p[0])}),[m]),(0,l.jsx)(He.A,{componentType:"autocomplete-table",autocompleteBoxClassName:"w-full",autocompleteClassName:t,options:p,selectedId:s||(null===(d=p[0])||void 0===d?void 0:d.id),onChange:(e,t)=>n(t),optionsBoxWidth:444,placeholder:a,"data-sentry-element":"TmsBasicAutocomplete","data-sentry-component":"FormCustomerPaymentConditionsAutocomplete","data-sentry-source-file":"FormCustomerPaymentCodeAutocomplete.tsx"})};function ff(e){let{mutationKey:t,isActived:a}=e;const{mutateAsync:l,isSuccess:s,data:n}=(0,Wt.Hx)(t),o=(0,r.useMemo)((()=>s&&n?(n||[]).map((e=>({id:e.salesGlAccountType,label:e.value,code:e.code}))):[]),[n]);return(0,r.useLayoutEffect)((()=>{a&&(async()=>{await l()})()}),[a]),{salesGlAccountOptions:o}}function Cf(e){let{type:t="string",defaultReadonly:a=!1,readonly:s,decimalPlaces:n=3,value:o,onChange:i,placeholder:d="",...c}=e;const u=String(o),[m,p]=(0,r.useState)("number"===t?(0,pe.GZ)(u,n):u);return(0,r.useEffect)((()=>{p("number"===t?(0,pe.GZ)(u,n):u)}),[o]),(0,l.jsx)(Tt.A,{componentType:"input-table",className:"w-full",classNameInput:"comma-input-box ".concat("number"===t?"comma-input-number":""," !w-full"),placeholder:a?"자동 입력":s?d:"입력",value:m,onChange:e=>{const a=e.target.value;let l=a,r=a;"number"===t&&(l=(0,pe.Mc)(a),r=(0,pe.GZ)(a,n)),i(l),p(r)},readOnly:s,...c,"data-sentry-element":"TmsBasicInput","data-sentry-component":"InputComma","data-sentry-source-file":"InputComma.tsx"})}const xf=()=>{const{user:e}=(0,i.o)(),{mdmCorporationCode:t="",mdmPurchaseCostCenterCode:a="",mdmSalesCostCenterCode:l="",mdmCorporationCodeList:s=[],mdmPurchaseCostCenterCodeList:n=[],mdmSalesCostCenterCodeList:o=[]}=e||{},{commonMetaV2List:d,commonCustomerInfoOption:c,commonVendorInfoOption:u}=(0,Je.X)(),m=(0,r.useMemo)((()=>d[Ze.k.COMMON_MDM_CORPORATION_CODE]),[]),p=(0,r.useMemo)((()=>d[Ze.k.COMMON_MDM_COST_CENTER_SALES_CODE]),[]),h=(0,r.useMemo)((()=>d[Ze.k.COMMON_MDM_COST_CENTER_PURCHASE_CODE]),[]),f=(0,r.useMemo)((()=>(null==m?void 0:m.filter((e=>s.includes(String(e.id))||e.id===t)))||[]),[m]),C=(0,r.useMemo)((()=>(null==p?void 0:p.filter((e=>o.includes(String(e.id))||e.id===l)))||[]),[p]),x=(0,r.useMemo)((()=>(null==h?void 0:h.filter((e=>n.includes(String(e.id))||e.id===a)))||[]),[h]);return{commonCustomerInfoOption:c,commonVendorInfoOption:u,mdmCorporationOptions:m,costCenterSalesOptions:p,costCenterPurchaseOptions:h,mdmCorporationOptionsByUser:f,costCenterSalesOptionsByUser:C,costCenterPurchaseOptionsByUser:x}};var Nf=e=>{let{autocompleteClassName:t,placeholder:a,value:r,setValue:s}=e;const{commonVendorInfoOption:n}=(0,Je.X)();return(0,l.jsx)(He.A,{componentType:"autocomplete-table",autocompleteBoxClassName:"w-full",autocompleteClassName:t,options:n,firstOptionType:null,selectedId:r||"ALL",onChange:(e,t)=>s(t),optionsBoxWidth:444,placeholder:a,"data-sentry-element":"TmsBasicAutocomplete","data-sentry-component":"FormVendorAutocomplete","data-sentry-source-file":"FormVendorAutocomplete.tsx"})};function yf(e){let{currentTab:t,type:a,salesManualId:n,handleDelete:o,oldRows:d,setOldRows:c,handleSearch:u,handleReject:m,handleRegister:p,isNewRightPanel:h,setIsNewRightPanel:f}=e;var C,x,N,y,E,v,A,g,T,I,b,S,_,w;const{commonMetaV2List:O}=(0,Je.X)(),{user:M}=(0,i.o)(),{costCenterSalesOptionsByUser:D,costCenterPurchaseOptionsByUser:j,mdmCorporationOptionsByUser:P}=xf(),L=(0,$e.P9)(),B=(0,ya.c5)(),[U,V]=(0,r.useState)(null),[F,G]=(0,r.useState)(!0),[k,Y]=(0,r.useState)(""),[q,W]=(0,r.useState)(""),[H,K]=(0,r.useState)(!1),z=t===s.R3||t===s.Mt,[X,Q]=(0,r.useState)(null),{serviceOptions:Z,service2Options:J}=qp({isActived:z&&F,selectedOption:X,bizCode:null==U?void 0:U.bizCode}),{salesGlAccountOptions:$}=ff({mutationKey:"DetailSalesPanel",isActived:z}),ee="Y"===(null==U?void 0:U.isBilled),{control:te,handleSubmit:ae,setValue:le,reset:re,getValues:se,setError:ne,formState:oe}=(0,Hr.mN)({defaultValues:mf({mdmCorporateCode:M.mdmCorporationCode}),mode:"onChange",shouldUnregister:!0}),{mutateAsync:ie,...de}=Zh(),ce=async e=>{var t,a;const l={...e,approvalUserId:null==M||null===(t=M.adminManager)||void 0===t?void 0:t.userId,vendorId:0===e.vendorId?null:e.vendorId,isBilled:"Y"===e.isBilled};var r;(null===(a=e.attachFileId)||void 0===a?void 0:a.attachFileId)&&(l.attachFileId=null===(r=e.attachFileId)||void 0===r?void 0:r.attachFileId);V(e),await ie(l)},ue=e=>{Object.entries(e).forEach((e=>{let[t,a]=e;ne(t,{type:a.type,message:a.message})}));const t=Object.keys(e);L({message:"".concat(pf(t[0]),"을 입력해주세요."),type:"caution"})},me=e=>{let{field:t,fieldName:a,fieldValue:l}=e;t.onChange(l),he({[a]:l}),G(!1)},he=e=>{V((t=>({...t,...e})))};return(0,r.useEffect)((()=>{h&&(V(mf({mdmCorporateCode:M.mdmCorporationCode})),re(mf({mdmCorporateCode:M.mdmCorporationCode}),{keepDefaultValues:!1}))}),[h]),(0,r.useEffect)((()=>{if(V(mf({mdmCorporateCode:M.mdmCorporationCode})),re(mf({mdmCorporateCode:M.mdmCorporationCode}),{keepDefaultValues:!1}),n){const e=d.find((e=>e.salesManualId===n)),t={...e,isBilled:"boolean"==typeof(null==e?void 0:e.isBilled)?(null==e?void 0:e.isBilled)?"Y":"N":null==e?void 0:e.isBilled};Object.entries(t).forEach((e=>{let[t,a]=e;le(t,a,{shouldValidate:!0,shouldDirty:!0})})),V(t),G(!1)}}),[n]),(0,r.useEffect)((()=>{if(!n||F||H)return;const e=se(),t=d.findIndex((e=>e.salesManualId===n));if(-1===t)return;const a=[...d];a[t]={...a[t],...e},c(a)}),[U]),$h({toast:L,tmsAlert:B,apiRest:de,successMsg:n?"매뉴얼 매출 입력이 수정되었습니다.":"매뉴얼 매출 입력이 저장되었습니다.",successFunction:()=>{de.data.salesManualId&&(he({salesManualId:de.data.salesManualId,approvalStatusType:R.cZF.NONE}),u(),f(!1),le("salesManualId",de.data.salesManualId))},errorTitle:"매뉴얼 매출 입력이 저장에 실패했습니다."}),(0,l.jsx)("div",{className:"bg-grey98 flex flex-col","data-sentry-component":"DetailSalesPanel","data-sentry-source-file":"DetailSalesPanel.tsx",children:(0,l.jsxs)("form",{autoComplete:"off",onSubmit:ae(ce,ue),children:[(0,l.jsx)(of,{isSales:!0,type:a,selectedRow:U,onSubmitForm:ae(ce,ue),handleDelete:o,handleCopy:()=>{const e=d.find((e=>e.salesManualId===n)),t={...e,salesManualId:null,attachFileId:null,attachFileName:null,attachFileSignUrl:null,isBilled:e.isBilled===typeof Boolean?e.isBilled?"Y":"N":e.isBilled};V(t),re(t),K(!0)},handleRegister:p,handleReject:m,"data-sentry-element":"DetailTitle","data-sentry-source-file":"DetailSalesPanel.tsx"}),(0,l.jsxs)("div",{className:"bg-white p-[24px]",children:[(0,l.jsx)("div",{className:"Body5_B text-grey50 mb-[8px]",children:"결재정보"}),(0,l.jsxs)("div",{className:"border-blackOpacity8 mb-[16px] flex border-t-[1px]",children:[(0,l.jsx)(vt,{thLabel:"결재자",labelClassName:"!w-[120px]","data-sentry-element":"TableTrLayout","data-sentry-source-file":"DetailSalesPanel.tsx",children:(0,l.jsx)(Hr.xI,{name:"approvalUserName",control:te,render:()=>{var e;return(0,l.jsx)(Tt.A,{value:null===(e=M.adminManager)||void 0===e?void 0:e.name,componentType:"input-table",readOnly:!0,className:"!w-full"})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailSalesPanel.tsx"})}),(0,l.jsx)(vt,{thLabel:"결재자 ID",labelClassName:"!w-[120px]","data-sentry-element":"TableTrLayout","data-sentry-source-file":"DetailSalesPanel.tsx",children:(0,l.jsx)(Hr.xI,{name:"approvalUserId",control:te,render:()=>{var e;return(0,l.jsx)(Tt.A,{value:null===(e=M.adminManager)||void 0===e?void 0:e.userId,componentType:"input-table",readOnly:!0,className:"!w-full"})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailSalesPanel.tsx"})})]}),(0,l.jsx)("div",{className:"Body5_B text-grey50 mb-[8px]",children:"상세 정보"}),(0,l.jsxs)("div",{className:"border-blackOpacity8 border-t-[1px]",children:[(0,l.jsx)(vt,{required:!0,thLabel:"매출조직",labelClassName:"!w-[120px]",errorMessage:null===(C=oe.errors.salesMdmCostCenterCode)||void 0===C?void 0:C.message,"data-sentry-element":"TableTrLayout","data-sentry-source-file":"DetailSalesPanel.tsx",children:(0,l.jsx)(Hr.xI,{name:"salesMdmCostCenterCode",control:te,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(He.A,{selectedId:t.value,placeholder:"매출조직 선택",autocompleteBoxClassName:"w-full",options:D,componentType:"autocomplete-table",onChange:(e,a)=>me({field:t,fieldName:"salesMdmCostCenterCode",fieldValue:null==a?void 0:a.id})})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailSalesPanel.tsx"})}),(0,l.jsx)(vt,{required:!0,thLabel:"매입조직",labelClassName:"!w-[120px]",errorMessage:null===(x=oe.errors.purchaseMdmCostCenterCode)||void 0===x?void 0:x.message,"data-sentry-element":"TableTrLayout","data-sentry-source-file":"DetailSalesPanel.tsx",children:(0,l.jsx)(Hr.xI,{name:"purchaseMdmCostCenterCode",control:te,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(He.A,{selectedId:t.value,placeholder:"매입조직 선택",options:j,autocompleteBoxClassName:"w-full",componentType:"autocomplete-table",onChange:(e,a)=>me({field:t,fieldName:"purchaseMdmCostCenterCode",fieldValue:null==a?void 0:a.id})})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailSalesPanel.tsx"})}),(0,l.jsx)(vt,{required:!0,thLabel:"인사조직",labelClassName:"!w-[120px]",errorMessage:null===(N=oe.errors.mdmCorporateCode)||void 0===N?void 0:N.message,"data-sentry-element":"TableTrLayout","data-sentry-source-file":"DetailSalesPanel.tsx",children:(0,l.jsx)(Hr.xI,{name:"mdmCorporateCode",control:te,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(He.A,{selectedId:t.value,placeholder:"인사조직 선택",autocompleteBoxClassName:"w-full",options:P,componentType:"autocomplete-table",onChange:(e,a)=>me({field:t,fieldName:"mdmCorporateCode",fieldValue:null==a?void 0:a.id})})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailSalesPanel.tsx"})}),(0,l.jsx)(vt,{required:!0,thLabel:"화주명",labelClassName:"!w-[120px]",errorMessage:null===(y=oe.errors.customerId)||void 0===y?void 0:y.message,"data-sentry-element":"TableTrLayout","data-sentry-source-file":"DetailSalesPanel.tsx",children:(0,l.jsx)(Hr.xI,{name:"customerId",control:te,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(df,{placeholder:"화주 선택",value:t.value,setValue:e=>{me({field:t,fieldName:"customerId",fieldValue:null==e?void 0:e.id}),le("customerName",e.label),le("paymentConditionCode",null),Y(null==e?void 0:e.mdmCode),W(e.customerType)}})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailSalesPanel.tsx"})}),(0,l.jsx)(vt,{required:!0,thLabel:"청구구분",labelClassName:"!w-[120px]",errorMessage:null===(E=oe.errors.isBilled)||void 0===E?void 0:E.message,"data-sentry-element":"TableTrLayout","data-sentry-source-file":"DetailSalesPanel.tsx",children:(0,l.jsx)(Hr.xI,{name:"isBilled",control:te,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(He.A,{selectedId:t.value,placeholder:"청구구분 선택",autocompleteBoxClassName:"w-full",options:[{id:"Y",label:"청구"},{id:"N",label:"미청구"}],componentType:"autocomplete-table",onChange:(e,a)=>{if(me({field:t,fieldName:"isBilled",fieldValue:null==a?void 0:a.id}),"N"===(null==a?void 0:a.id))return le("salesVatType","YY"),void le("vatAmount",0);le("salesVatType",null)}})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailSalesPanel.tsx"})}),(0,l.jsx)(vt,{required:!0,thLabel:"매출확정일자",labelClassName:"!w-[120px]",errorMessage:null===(v=oe.errors.salesConfirmedAt)||void 0===v?void 0:v.message,"data-sentry-element":"TableTrLayout","data-sentry-source-file":"DetailSalesPanel.tsx",children:(0,l.jsx)(Hr.xI,{name:"salesConfirmedAt",control:te,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(gt.A,{componentType:"date-picker-table",datePickerClassName:"w-full",value:je()(t.value),onChange:e=>me({field:t,fieldName:"salesConfirmedAt",fieldValue:e}),placeholder:"매출확정일자 선택"})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailSalesPanel.tsx"})}),(0,l.jsx)(vt,{required:!0,thLabel:"대표물자",labelClassName:"!w-[120px]",errorMessage:null===(A=oe.errors.materialCode)||void 0===A?void 0:A.message,"data-sentry-element":"TableTrLayout","data-sentry-source-file":"DetailSalesPanel.tsx",children:(0,l.jsx)(Hr.xI,{name:"materialCode",control:te,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(He.A,{selectedId:t.value,placeholder:"대표물자 선택",autocompleteBoxClassName:"w-full",options:O.MATERIAL_CODE,componentType:"autocomplete-table",onChange:(e,a)=>me({field:t,fieldName:"materialCode",fieldValue:null==a?void 0:a.id})})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailSalesPanel.tsx"})}),(0,l.jsxs)("div",{className:"flex",children:[(0,l.jsx)(vt,{required:!0,thLabel:"작업물량",labelClassName:"!w-[120px]",errorMessage:null===(g=oe.errors.quantity)||void 0===g?void 0:g.message,"data-sentry-element":"TableTrLayout","data-sentry-source-file":"DetailSalesPanel.tsx",children:(0,l.jsx)(Hr.xI,{name:"quantity",control:te,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{value:t.value,componentType:"input-table",placeholder:"작업물량 입력",onChange:e=>me({field:t,fieldName:"quantity",fieldValue:(0,pe.cX)(e.target.value)})})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailSalesPanel.tsx"})}),(0,l.jsx)(vt,{required:!0,thLabel:"작업단위",labelClassName:"!w-[120px]",errorMessage:null===(T=oe.errors.rateCode)||void 0===T?void 0:T.message,"data-sentry-element":"TableTrLayout","data-sentry-source-file":"DetailSalesPanel.tsx",children:(0,l.jsx)(Hr.xI,{name:"rateCode",control:te,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(He.A,{selectedId:t.value,placeholder:"작업단위 선택",autocompleteBoxClassName:"w-full",options:O.RATE_CATEGORY_CODE,componentType:"autocomplete-table",onChange:(e,a)=>me({field:t,fieldName:"rateCode",fieldValue:null==a?void 0:a.id})})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailSalesPanel.tsx"})})]}),(0,l.jsx)(vt,{required:!0,thLabel:"내역",labelClassName:"!w-[120px]",errorMessage:null===(I=oe.errors.description)||void 0===I?void 0:I.message,"data-sentry-element":"TableTrLayout","data-sentry-source-file":"DetailSalesPanel.tsx",children:(0,l.jsx)(Hr.xI,{name:"description",control:te,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{value:t.value,className:"!w-full",componentType:"input-table",placeholder:"내역 입력",onChange:e=>me({field:t,fieldName:"description",fieldValue:e.target.value})})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailSalesPanel.tsx"})}),(0,l.jsx)(vt,{required:!0,thLabel:"계정과목",labelClassName:"!w-[120px]",errorMessage:null===(b=oe.errors.salesGlAccountType)||void 0===b?void 0:b.message,"data-sentry-element":"TableTrLayout","data-sentry-source-file":"DetailSalesPanel.tsx",children:(0,l.jsx)(Hr.xI,{name:"salesGlAccountType",control:te,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(He.A,{selectedId:t.value,placeholder:"계정과목 선택",autocompleteBoxClassName:"w-full",options:$,componentType:"autocomplete-table",onChange:(e,a)=>me({field:t,fieldName:"salesGlAccountType",fieldValue:null==a?void 0:a.id})})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailSalesPanel.tsx"})}),(0,l.jsx)(vt,{required:!0,thLabel:"매출입항목",labelClassName:"!w-[120px]",errorMessage:null===(S=oe.errors.salesCostType)||void 0===S?void 0:S.message,"data-sentry-element":"TableTrLayout","data-sentry-source-file":"DetailSalesPanel.tsx",children:(0,l.jsx)(Hr.xI,{name:"salesCostType",control:te,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(He.A,{selectedId:t.value,placeholder:"매출입항목 선택",autocompleteBoxClassName:"w-full",options:O.SALES_COST_TYPE,componentType:"autocomplete-table",onChange:(e,a)=>{me({field:t,fieldName:"salesCostType",fieldValue:null==a?void 0:a.id}),le("salesCostCodeTypeName",a.value)}})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailSalesPanel.tsx"})}),(0,l.jsx)(vt,{thLabel:"수금조건",labelClassName:"!w-[120px]","data-sentry-element":"TableTrLayout","data-sentry-source-file":"DetailSalesPanel.tsx",children:(0,l.jsx)(Hr.xI,{name:"paymentConditionCode",control:te,render:e=>{let{field:t}=e;return"OWNER"===q?(0,l.jsx)(hf,{customerId:null==U?void 0:U.customerId,mdmCode:k,value:t.value,placeholder:"수금조건 선택",setValue:e=>me({field:t,fieldName:"paymentConditionCode",fieldValue:null==e?void 0:e.id})}):(0,l.jsx)(He.A,{selectedId:t.value,placeholder:"수금조건 선택",autocompleteBoxClassName:"w-full",options:O.COMMON_MDM_PAYMENT_CONDITION_SALES_CODE,componentType:"autocomplete-table",onChange:(e,a)=>me({field:t,fieldName:"paymentConditionCode",fieldValue:null==a?void 0:a.id})})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailSalesPanel.tsx"})}),(0,l.jsxs)("div",{className:"flex",children:[(0,l.jsx)(vt,{required:!0,thLabel:"세금유형",labelClassName:"!w-[120px]",errorMessage:null===(_=oe.errors.salesVatType)||void 0===_?void 0:_.message,"data-sentry-element":"TableTrLayout","data-sentry-source-file":"DetailSalesPanel.tsx",children:(0,l.jsx)(Hr.xI,{name:"salesVatType",control:te,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(He.A,{disabled:!ee,selectedId:t.value,placeholder:"세금유형 선택",autocompleteBoxClassName:"w-full",options:O.SALES_VAT_TYPE,componentType:"autocomplete-table",onChange:(e,a)=>{me({field:t,fieldName:"salesVatType",fieldValue:null==a?void 0:a.id}),le("totalAmount",U.totalAmount);["_1A","_1B","_1C","_1D","_1E","_1G","_1H"].includes(null==a?void 0:a.id)?le("vatAmount",Math.floor(Number(U.totalAmount)/10)):le("vatAmount",0)}})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailSalesPanel.tsx"})}),(0,l.jsx)(vt,{thLabel:"통화",labelClassName:"!w-[120px]","data-sentry-element":"TableTrLayout","data-sentry-source-file":"DetailSalesPanel.tsx",children:(0,l.jsx)(Tt.A,{componentType:"input-table",readOnly:!0,className:"!w-full",value:"KRW","data-sentry-element":"TmsBasicInput","data-sentry-source-file":"DetailSalesPanel.tsx"})})]}),(0,l.jsxs)("div",{className:"flex",children:[(0,l.jsx)(vt,{required:!0,thLabel:"공급가액",labelClassName:"!w-[120px]",errorMessage:null===(w=oe.errors.totalAmount)||void 0===w?void 0:w.message,"data-sentry-element":"TableTrLayout","data-sentry-source-file":"DetailSalesPanel.tsx",children:(0,l.jsx)(Hr.xI,{name:"totalAmount",control:te,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(Cf,{type:"number",value:t.value,placeholder:"공급가액 입력",onChange:e=>{me({field:t,fieldName:"totalAmount",fieldValue:e});["_1A","_1B","_1C","_1D","_1E","_1G","_1H"].includes(null==U?void 0:U.salesVatType)?le("vatAmount",Math.floor(Number(e)/10)):le("vatAmount",0)}})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailSalesPanel.tsx"})}),(0,l.jsx)(vt,{required:!0,thLabel:"부가세",labelClassName:"!w-[120px]","data-sentry-element":"TableTrLayout","data-sentry-source-file":"DetailSalesPanel.tsx",children:(0,l.jsx)(Hr.xI,{name:"vatAmount",control:te,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(Cf,{type:"number",value:t.value,readonly:!0})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailSalesPanel.tsx"})})]}),(0,l.jsx)(vt,{thLabel:"사업",labelClassName:"!w-[120px]","data-sentry-element":"TableTrLayout","data-sentry-source-file":"DetailSalesPanel.tsx",children:(0,l.jsx)(Hr.xI,{name:"bizCode",control:te,render:e=>{let{field:t}=e;return(0,l.jsx)(He.A,{selectedId:t.value,placeholder:"사업 선택",autocompleteBoxClassName:"w-full",options:O.INDUSTRY_CODE,componentType:"autocomplete-table",onChange:(e,a)=>me({field:t,fieldName:"bizCode",fieldValue:null==a?void 0:a.id})})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailSalesPanel.tsx"})}),(0,l.jsxs)("div",{className:"flex",children:[(0,l.jsx)(vt,{thLabel:"서비스",labelClassName:"!w-[120px]","data-sentry-element":"TableTrLayout","data-sentry-source-file":"DetailSalesPanel.tsx",children:(0,l.jsx)(Hr.xI,{name:"serviceCode",control:te,render:e=>{let{field:t}=e;return(0,l.jsx)(He.A,{selectedId:t.value,placeholder:"서비스 선택",autocompleteBoxClassName:"w-full",options:Z,componentType:"autocomplete-table",onChange:(e,a)=>{me({field:t,fieldName:"serviceCode",fieldValue:null==a?void 0:a.id}),le("serviceCodeName",a.label),Q(a)}})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailSalesPanel.tsx"})}),(0,l.jsx)(vt,{thLabel:"서비스2",labelClassName:"!w-[120px]","data-sentry-element":"TableTrLayout","data-sentry-source-file":"DetailSalesPanel.tsx",children:(0,l.jsx)(Hr.xI,{name:"serviceCode2",control:te,render:e=>{let{field:t}=e;return(0,l.jsx)(He.A,{selectedId:t.value,placeholder:"서비스2 선택",autocompleteBoxClassName:"w-full",options:J,componentType:"autocomplete-table",onChange:(e,a)=>{me({field:t,fieldName:"serviceCode2",fieldValue:null==a?void 0:a.id}),le("serviceCode2Name",a.label)}})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailSalesPanel.tsx"})})]}),(0,l.jsxs)("div",{className:"flex",children:[(0,l.jsx)(vt,{thLabel:"주문오더번호",labelClassName:"!w-[120px]","data-sentry-element":"TableTrLayout","data-sentry-source-file":"DetailSalesPanel.tsx",children:(0,l.jsx)(Hr.xI,{name:"orderSalesNo",control:te,render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{value:t.value,componentType:"input-table",placeholder:"주문오더번호 입력",onChange:e=>{me({field:t,fieldName:"orderSalesNo",fieldValue:(0,pe.cX)(e.target.value)})}})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailSalesPanel.tsx"})}),(0,l.jsx)(vt,{thLabel:"배차계획번호",labelClassName:"!w-[120px]","data-sentry-element":"TableTrLayout","data-sentry-source-file":"DetailSalesPanel.tsx",children:(0,l.jsx)(Hr.xI,{name:"orderTransferDispatchNo",control:te,render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{value:t.value,componentType:"input-table",placeholder:"배차계획번호 입력",onChange:e=>me({field:t,fieldName:"orderTransferDispatchNo",fieldValue:(0,pe.cX)(e.target.value)})})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailSalesPanel.tsx"})})]}),(0,l.jsx)(vt,{thLabel:"파트너",labelClassName:"!w-[120px]","data-sentry-element":"TableTrLayout","data-sentry-source-file":"DetailSalesPanel.tsx",children:(0,l.jsx)(Hr.xI,{name:"vendorId",control:te,render:e=>{let{field:t}=e;return(0,l.jsx)(Hr.xI,{name:"vendorId",control:te,render:e=>{let{field:t}=e;return(0,l.jsx)(Nf,{value:t.value,placeholder:"파트너 선택",setValue:e=>me({field:t,fieldName:"vendorId",fieldValue:Number(null==e?void 0:e.id)})})}})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailSalesPanel.tsx"})}),(0,l.jsxs)("div",{className:"my-[16px] flex flex-col gap-[8px]",children:[(0,l.jsx)(So.A,{label:"첨부파일",required:!0,requiredClassName:"!right-0 left-[48px]","data-sentry-element":"TmsBasicLabel","data-sentry-source-file":"DetailSalesPanel.tsx"}),(0,l.jsx)(Hr.xI,{rules:{required:Hn.required},name:"attachFileId",control:te,render:e=>{let{field:t}=e;return(0,l.jsx)(Kc,{accept:["image/jpeg","image/png","application/pdf",".xlsx"],file:(null==U?void 0:U.attachFileName)?{attachFileId:t.value,originalFileName:null==U?void 0:U.attachFileName}:t.value,...t,onFileChange:e=>me({field:t,fieldName:"attachFileId",fieldValue:e}),isReset:H})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailSalesPanel.tsx"},"attachFileId")]})]})]})]})})}function Ef(e){let{type:t,currentTab:a,isOpenedRightPanel:r,setIsOpenedRightPanel:s,isNewRightPanel:n,setIsNewRightPanel:o=()=>null}=e;const{initialParams:i,searchParams:d,setSearchParams:c,handleSearch:u,columns:m,wrapGridRef:p,gridApiRef:h,doubleClickRow:f,setDoubleClickRow:C,handleDelete:x,isCheckConfirm:y,setIsCheckConfirm:E,setRowSelectionModel:v,oldRows:A,setOldRows:g,handleCopy:T,handleRequest:I,handleReject:b,handleRegister:S,handleExcelDownload:_,restManualsExcel:w,restManualsApprovalExcel:O}=ef({currentTab:a,type:t,isOpenedRightPanel:r,setIsOpenedRightPanel:s,isNewRightPanel:n});return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(nu,{isOpenRightPanel:r,rightPanelWidth:700,onClickCloseButton:()=>{s(!1),o(!1)},leftSidePanel:(0,l.jsx)("section",{className:"flex h-full w-full flex-col",children:(0,l.jsxs)("div",{className:"filterContainer",children:[(0,l.jsx)(Ve.A.Provider,{initialParams:i,params:d,setParams:c,onSearch:u,children:e=>(0,l.jsxs)(ah,{children:[(0,l.jsx)(Ve.A.SearchDate,{label:"매출확정일자"}),(0,l.jsx)(Ve.A.AllMetaMultiAutocompleteSearch,{label:"매출조직",allMetaType:Ze.k.COMMON_MDM_COST_CENTER_SALES_CODE}),(0,l.jsx)(Ve.A.CustomerNameMultiAutocomplete,{label:"화주",mdmStatusType:R.P7O.COMPLETE}),(0,l.jsx)(Ve.A.ApproverUserId,{}),(0,l.jsx)(Ve.A.AllMetaMultiAutocompleteSearch,{label:"결재상태",allMetaType:Ze.k.MANUAL_APPROVAL_STATUS_TYPE})]})}),(0,l.jsx)("div",{className:"h-[calc(100vh-283px)] pb-[44px]",children:(0,l.jsx)(Fa.A,{ref:p,gridApiRef:h,columns:m,checkboxSelection:!0,getRowId:e=>e.salesManualId,onRowDoubleClick:e=>{C(e.row),s(!0),o(!1)},onRowSelectionModelChange:v})}),t===_h.ENTER&&(0,l.jsx)(tf,{handleCopy:T,handleDelete:x,handleRequest:I,excelFileName:"매뉴얼_매출_입력",handleExcelDownload:_,restExcel:w}),t===_h.APPROVAL&&(0,l.jsx)(nf,{handleRegister:S,handleReject:b,excelFileName:"매뉴얼_매출_결재",handleExcelDownload:_,restExcel:O})]})}),rightSidePanel:(0,l.jsx)(yf,{currentTab:a,type:t,salesManualId:null==f?void 0:f.salesManualId,handleDelete:x,oldRows:A,setOldRows:g,handleSearch:u,handleRegister:S,handleReject:b,isNewRightPanel:n,setIsNewRightPanel:o}),"data-sentry-element":"TmsBasicSlidePanel","data-sentry-source-file":"SalesPanel.tsx"}),y.isOpened&&(0,l.jsx)(N,{title:y.title,description:y.description,confirmButtonType:y.confirmButtonType,confirmButtonLabel:y.confirmButtonLabel,onClickCloseButton:()=>E({isOpened:!1}),onClickConfirmButton:()=>y.onClickConfirmButton()})]})}const vf=e=>{let{type:t,currentTab:a,isOpenedRightPanel:n,setIsOpenedRightPanel:o,isNewRightPanel:d}=e;var c;const p=(0,$e.P9)(),h=(0,ya.c5)(),f={startDate:je()(new Date).subtract(45,"day").startOf("day").format(),endDate:je()(new Date).endOf("day").format()},[C,x]=(0,r.useState)(f),N=(0,r.useRef)(null),y=(0,D.bBi)();var E;const{setInitData:v,getSelectedRows:A,removeSelectedRow:g,getAllRows:b}=null!==(E=null==N?void 0:N.current)&&void 0!==E?E:{},{user:S}=(0,i.o)(),[_,w]=(0,r.useState)([]),{columns:O}=(e=>{let{createDownLink:t}=e;return{columns:(0,r.useMemo)((()=>[{field:"No",headerName:"No.",sortable:!1,width:48,align:"center",renderCell:e=>e.api.getRowIndexRelativeToVisibleRows(e.id)+1},{field:"sourceSystemTypeName",headerName:"시스템 구분"},{field:"approvalStatusTypeName",headerName:"결재상태",renderCell:e=>{let t=null;switch(e.row.approvalStatusType){case R.cZF.NONE:t=zh.FILL_GREY;break;case R.cZF.WAITING:t=zh.FILL_BLUE;break;case R.cZF.COMPLETE:t=zh.FILL_GREEN;break;case R.cZF.RETURN:t=zh.FILL_RED}return Xh({colorType:t,label:e.row.approvalStatusTypeName})}},{field:"purchaseConfirmedAt",headerName:"매입확정일",width:112,type:da._.VIEW_MODE_YYYYMMDD_DDD},{field:"vendorName",headerName:"파트너",width:182},{field:"purchaseGlAccountTypeName",headerName:"계정과목"},{field:"purchaseCostCodeTypeName",headerName:"매출입항목"},{field:"materialCodeName",headerName:"대표물자"},{field:"quantity",headerName:"작업물량",type:"number"},{field:"rateCodeName",headerName:"작업단위"},{field:"totalAmount",headerName:"공급가액",type:"number"},{field:"vatAmount",headerName:"부가세",type:"number"},{field:"purchaseVatTypeName",headerName:"세금유형"},{field:"description",headerName:"내역",width:332},{field:"purchaseMdmCostCenterCodeName",headerName:"매입조직",width:128},{field:"paymentConditionCodeName",headerName:"수금조건",width:406},{field:"mdmCorporateCodeName",headerName:"인사조직",width:128},{field:"bizCode",headerName:"사업코드"},{field:"serviceCode",headerName:"서비스코드"},{field:"serviceCode2",headerName:"서비스2코드"},{field:"salesMdmCostCenterCodeName",headerName:"매출조직",width:128},{field:"affiliateMdmCostCenterCodeName",headerName:"소속코스트센터명"},{field:"customerName",headerName:"화주"},{field:"pickupDate",headerName:"작업시간",type:da._.VIEW_MODE_YYYYMMDD_DDD,width:115},{field:"keepDate",headerName:"보관일",type:da._.VIEW_MODE_YYYYMMDD_DDD,width:115},{field:"purchaseType",headerName:"매입유형"},{field:"cjWorldDocumentNo",headerName:"품의서번호"},{field:"approvalUserName",headerName:"결재자명"},{field:"confirmationNo",headerName:"매입 확정번호",width:189},{field:"attachFileName",headerName:"첨부파일",width:180},{field:"attachFileSignUrl",headerName:"첨부파일 다운로드",type:"actions",getActions:e=>[(0,l.jsx)(u.A,{level:m.V.level_5,rightIcon:(0,l.jsx)(Bh,{className:"h-[16px] w-[16px]"}),onClick:()=>t(e.row.attachFileSignUrl,e.row.attachFileName)})],width:156}]),[])}})({createDownLink:async(e,t)=>{const a=document.createElement("a"),l=await fetch(e).then((e=>e.blob()));a.href=URL.createObjectURL(l),a.download=t,document.body.appendChild(a),a.click(),document.body.removeChild(a)}}),[M,j]=(0,r.useState)(null),[P,L]=(0,r.useState)([]),[B,U]=(0,r.useState)({isOpened:!1,title:"",description:"",confirmButtonType:"normal",confirmButtonLabel:"",onClickConfirmButton:e=>null}),[V,F]=(0,r.useState)([]),{mutateAsync:G,isSuccess:k,data:Y}=(0,T.n)(["useSettlementPurchaseManualsListMutation"],(async e=>(await I.q.api((t=>t.ApiV1SettlementPurchaseManuals(e)))).data.result)),{mutateAsync:q,isSuccess:W,data:H}=(0,T.n)(["useSettlementPurchaseManualsApprovalsMutation"],(async e=>(await I.q.api((t=>t.ApiV1SettlementPurchaseManualsApprovals(e)))).data.result)),{mutateAsync:K,...z}=(0,T.n)(["useSettlementPurchaseManualsDeleteMutation"],(async e=>(await I.q.api((t=>t.ApiV1SettlementPurchaseManualsDelete(e)))).data.result)),{isCheckDateRange:X}=Jh({toast:p,gridCurrent:y.current,searchParams:C}),{mutateAsync:Q,isSuccess:Z,data:J}=(0,T.n)(["usePurchaseManualsDuplicateMutation"],(async e=>(await I.q.api((t=>t.ApiV1SettlementPurchaseManualsDuplicate(e)))).data.result)),{mutateAsync:$,...ee}=(0,T.n)(["usePurchaseManualsExcelMutation"],(async e=>(await I.q.api((t=>t.ApiV1SettlementPurchaseManualsExcel(e,{format:"blob"})))).data)),{mutateAsync:te,...ae}=(0,T.n)(["usePurchaseManualsApprovalsExcelMutation"],(async e=>(await I.q.api((t=>t.ApiV1SettlementSalesManualsApprovalsExcel(e,{format:"blob"})))).data)),le={fromDate:C.startDate,toDate:C.endDate,purchaseMdmCostCenterCodes:C.commonMdmCostCenterPurchaseCode,customerIds:C.customerId,approvalStatusTypes:C.manualApprovalStatusType,approvalUserIds:[null===(c=S.adminManager)||void 0===c?void 0:c.userId]},re=async()=>{X()&&(t===_h.ENTER?await G(le):await q(le))},se=async(e,t)=>{if(A().some((e=>e.approvalStatusType===R.cZF.RETURN||e.approvalStatusType===R.cZF.COMPLETE)))return void p({message:"결재상태를 확인해주세요.",type:"caution"});const a="detail"===e?t:A().filter((e=>!e._isCopy)).map((e=>e.purchaseManualId)),l=A().filter((e=>e._isCopy));"normal"===e&&A().length===l.length?U({isOpened:!1}):(await K(a),o(!1)),g()},{mutateAsync:ne,...oe}=(0,T.n)(["useSettlementPurchaseManualsRequestMutation"],(async e=>(await I.q.api((t=>t.ApiV1SettlementPurchaseManualsApprovalsRequest(e)))).data.result)),ie=async()=>{await ne(A().map((e=>({rowNum:b().findIndex((t=>t.purchaseManualId===e.purchaseManualId))+1,purchaseManualId:e.purchaseManualId}))))},{mutateAsync:de,...ce}=(0,T.n)(["useSettlementPurchaseManualsApprovalsCompleteMutation"],(async e=>(await I.q.api((t=>t.ApiV1SettlementPurchaseManualsApprovalsComplete(e)))).data.result)),{mutateAsync:ue,...me}=(0,T.n)(["useSettlementPurchaseManualsApprovalsRejectMutation"],(async e=>(await I.q.api((t=>t.ApiV1SettlementPurchaseManualsApprovalsReject(e)))).data.result)),pe=()=>{U({isOpened:!1}),re()};return(0,r.useLayoutEffect)((()=>{a===s.wL&&re()}),[a]),(0,r.useEffect)((()=>{k&&t!==_h.APPROVAL&&(v(Y),L(Y),setTimeout((()=>{var e;null===(e=y.current)||void 0===e||e.setRowSelectionModel(V)}),10))}),[Y]),(0,r.useEffect)((()=>{W&&t!==_h.ENTER&&(v(H),L(H))}),[H]),(0,r.useEffect)((()=>{n&&!d||j(null)}),[n,d]),(0,r.useEffect)((()=>{Z&&(p({message:"실적 복사에 성공하였습니다."}),re(),F(J.purchaseManualId))}),[J]),(0,r.useEffect)((()=>{(ce.isSuccess||me.isSuccess)&&U({isOpened:!1})}),[ce.isSuccess,me.isSuccess]),$h({toast:p,tmsAlert:h,apiRest:oe,successMsg:"매뉴얼 매입 ".concat(0===_.length?1:_.length,"건의 결재 요청이 완료되었습니다."),successFunction:pe,errorTitle:"매뉴얼 매입 결재 요청에 실패했습니다."}),$h({toast:p,tmsAlert:h,apiRest:ce,successMsg:"매뉴얼 매입 ".concat(_.length,"건이 승인되었습니다."),successFunction:pe,errorTitle:"매뉴얼 매입 승인에 실패했습니다."}),$h({toast:p,tmsAlert:h,apiRest:me,successMsg:"매뉴얼 매입 ".concat(_.length,"건이 반려되었습니다."),successFunction:pe,errorTitle:"매뉴얼 매입 반려에 실패했습니다."}),$h({toast:p,tmsAlert:h,apiRest:z,successMsg:"매뉴얼 매입 ".concat(_.length,"건이 삭제되었습니다."),successFunction:pe,errorTitle:"매뉴얼 매입 삭제에 실패했습니다."}),{initialParams:f,searchParams:C,setSearchParams:x,handleSearch:re,columns:O,wrapGridRef:N,gridApiRef:y,doubleClickRow:M,setDoubleClickRow:j,handleDelete:(e,t)=>{const a=A();!("normal"===e&&0===a.length||"detail"===e&&0===t.length)?U({isOpened:!0,title:"매뉴얼 매입 ".concat("detail"===e?1:a.length,"건을 삭제하시겠어요?"),description:"삭제한 매입건은 복구할 수 없습니다.",confirmButtonType:"destructive",confirmButtonLabel:"삭제하기",onClickConfirmButton:()=>se(e,t)}):p({message:"삭제할 항목을 선택해주세요",type:"caution"})},isCheckConfirm:B,setIsCheckConfirm:U,setRowSelectionModel:w,oldRows:P,setOldRows:L,handleCopy:async()=>{const e=A();0!==e.length?await Q(e.map((e=>({rowNum:b().findIndex((t=>t._id_===e._id_))+1,purchaseManualId:e.purchaseManualId})))):p({message:"행 복사할 항목을 선택해주세요",type:"caution"})},handleRequest:()=>{const e=A();if(0===e.length)return void p({message:"결재 요청할 항목을 선택해주세요",type:"caution"});e.filter((e=>!e.purchaseManualId)).length!==e.length?U({isOpened:!0,title:"결재를 요청하시겠어요?",description:"입력하신 매뉴얼 매입 정보에 대해 결재가 요청됩니다. 이후 승인 절차가 진행됩니다.",confirmButtonType:"normal",confirmButtonLabel:"결재 요청하기",onClickConfirmButton:ie}):p({message:"매뉴얼 저장을 먼저 진행해주세요",type:"caution"})},handleReject:e=>{if("normal"===e){if(0===A().length)return void p({message:"반려할 항목을 선택해주세요",type:"caution"})}U({isOpened:!0,title:"매뉴얼 매입건을 반려하시겠어요?",description:"해당 매입건이 반려되며, 이후 취소할 수 없습니다.",confirmButtonType:"destructive",confirmButtonLabel:"반려하기",onClickConfirmButton:()=>(async e=>{let t=[];t="normal"===e?A().map((e=>e.purchaseManualId)):[null==M?void 0:M.purchaseManualId],await ue(t)})(e)})},handleRegister:e=>{if("normal"===e){if(0===A().length)return void p({message:"승인할 항목을 선택해주세요",type:"caution"})}U({isOpened:!0,title:"매뉴얼 매입건을 승인하시겠어요?",description:"해당 매입건이 승인되며, 이후 수정할 수 없습니다.",confirmButtonType:"normal",confirmButtonLabel:"승인하기",onClickConfirmButton:()=>(async e=>{let t=[];t="normal"===e?A().map((e=>e.purchaseManualId)):[null==M?void 0:M.purchaseManualId],await de(t)})(e)})},handleExcelDownload:async()=>{X()&&(t===_h.ENTER?await $(le):await te(le))},restManualsExcel:ee,restManualsApprovalExcel:ae}};var Af,gf=e=>{let{autocompleteClassName:t,placeholder:a,value:s,setValue:n,vendorId:o,disabled:i=!1}=e;const{mutateAsync:d,isSuccess:c,data:u}=(0,T.n)(["usePaymentConditionsUsedListMutation"],(async e=>{let{vendorId:t,request:a}=e;return(await I.q.api((e=>e.ApiV1SettlementPurchaseVendorsVendorIdPaymentConditionsUsedList(t,a)))).data.result})),m=(0,r.useMemo)((()=>c&&u?(u||[]).map((e=>({id:e.paymentConditionCode,label:e.paymentConditionCodeName,isDefaultPaymentCondition:e.isDefaultPaymentCondition}))):[]),[u]);return(0,r.useLayoutEffect)((()=>{o&&(async()=>{await d({vendorId:o})})()}),[o]),(0,l.jsx)(He.A,{componentType:"autocomplete-table",autocompleteBoxClassName:"w-full",autocompleteClassName:t,options:m,selectedId:s?null!=s?s:m.find((e=>e.isDefaultPaymentCondition)).id:"ALL",onChange:(e,t)=>n(t),optionsBoxWidth:444,placeholder:a,disabled:i,"data-sentry-element":"TmsBasicAutocomplete","data-sentry-component":"FormVendorPaymentCodeAutocomplete","data-sentry-source-file":"FormVendorPaymentCodeAutocomplete.tsx"})};function Tf(e){let{mutationKey:t,isActived:a}=e;const{mutateAsync:l,isSuccess:s,data:n}=(0,Wt.IX)(t),o=(0,r.useMemo)((()=>s&&n?(n||[]).map((e=>({id:e.purchaseGlAccountType,label:e.value,code:e.code}))):[]),[n]),i=(0,r.useMemo)((()=>s&&n?(n||[]).map((e=>({id:e.purchaseGlAccountType,label:"".concat(e.code," / ").concat(e.value)}))):[]),[n]);return(0,r.useLayoutEffect)((()=>{a&&(async()=>{await l()})()}),[a]),{purchaseGlAccountOptions:o,purchaseGlAccountCustomerOptions:i}}function If(e){let{currentTab:t,purchaseManualId:a,handleDelete:n,oldRows:o,setOldRows:d,handleSearch:c,handleReject:u,handleRegister:m,isNewRightPanel:p,setIsNewRightPanel:h}=e;var f,C,x,N,y,E,v,A,g,T,I,b,S,_,w;const{commonMetaV2List:O}=(0,Je.X)(),{user:M}=(0,i.o)(),{costCenterSalesOptionsByUser:D,costCenterPurchaseOptionsByUser:j,mdmCorporationOptionsByUser:P}=xf(),L=(0,$e.P9)(),B=(0,ya.c5)(),[U,V]=(0,r.useState)(null),[F,G]=(0,r.useState)(!0),[k,Y]=(0,r.useState)(!1),q=t===s.wL||t===s.B,[W,H]=(0,r.useState)(null),{serviceOptions:K,service2Options:z}=qp({isActived:q&&F,selectedOption:W,bizCode:null==U?void 0:U.bizCode}),{purchaseGlAccountOptions:X}=Tf({mutationKey:"DetailPurchasePanel",isActived:q}),{control:Q,handleSubmit:Z,reset:J,setValue:$,getValues:ee,setError:te,formState:ae}=(0,Hr.mN)({defaultValues:cf({mdmCorporateCode:M.mdmCorporationCode}),mode:"onChange",shouldUnregister:!0}),{mutateAsync:le,...re}=Qh(),se=async e=>{var t,a;const l={...e,approvalUserId:null==M||null===(t=M.adminManager)||void 0===t?void 0:t.userId};var r;(null===(a=e.attachFileId)||void 0===a?void 0:a.attachFileId)&&(l.attachFileId=null===(r=e.attachFileId)||void 0===r?void 0:r.attachFileId);await le(l)},ne=e=>{Object.entries(e).forEach((e=>{let[t,a]=e;te(t,{type:a.type,message:a.message})}));const t=Object.keys(e);L({message:"".concat(uf(t[0]),"을 입력해주세요."),type:"caution"})},oe=e=>{let{field:t,fieldName:a,fieldValue:l}=e;t.onChange(l),ie({[a]:l}),G(!1)},ie=e=>{V((t=>({...t,...e})))};return(0,r.useEffect)((()=>{p&&(V(cf({mdmCorporateCode:M.mdmCorporationCode})),J(cf({mdmCorporateCode:M.mdmCorporationCode}),{keepDefaultValues:!1}))}),[p]),(0,r.useEffect)((()=>{if(V(cf({mdmCorporateCode:M.mdmCorporationCode})),J(cf({mdmCorporateCode:M.mdmCorporationCode}),{keepDefaultValues:!1}),a){const e=o.find((e=>e.purchaseManualId===a)),t={...e,isBilled:"boolean"==typeof e.isBilled?e.isBilled?"Y":"N":e.isBilled,changedBillingDate:e.originalBillingDate};Object.entries(t).forEach((e=>{let[t,a]=e;$(t,a,{shouldValidate:!0,shouldDirty:!0})})),V(t),G(!1)}}),[a]),(0,r.useEffect)((()=>{if(!a||F||k)return;const e=ee(),t=o.findIndex((e=>e.purchaseManualId===a));if(-1===t)return;const l=[...o];l[t]={...l[t],...e},d(l)}),[U]),$h({toast:L,tmsAlert:B,apiRest:re,successMsg:a?"매뉴얼 매입 입력이 수정되었습니다.":"매뉴얼 매입 입력이 저장되었습니다.",successFunction:()=>{re.data.purchaseManualId&&(ie({purchaseManualId:re.data.purchaseManualId,approvalStatusType:R.cZF.NONE}),c(),h(!1),$("purchaseManualId",re.data.purchaseManualId))},errorTitle:"매뉴얼 매입 입력이 저장에 실패했습니다."}),(0,l.jsx)("div",{className:"bg-grey98 flex flex-col","data-sentry-component":"DetailPurchasePanel","data-sentry-source-file":"DetailPurchasePanel.tsx",children:(0,l.jsxs)("form",{autoComplete:"off",onSubmit:Z(se,ne),children:[(0,l.jsx)(of,{isSales:!1,selectedRow:U,onSubmitForm:Z(se,ne),handleDelete:n,handleCopy:()=>{const e=o.find((e=>e.purchaseManualId===a)),t={...e,purchaseManualId:null,attachFileId:null,attachFileName:null,attachFileSignUrl:null,isBilled:e.isBilled===typeof Boolean?e.isBilled?"Y":"N":e.isBilled};V(t),J(t),Y(!0)},handleRegister:m,handleReject:u,"data-sentry-element":"DetailTitle","data-sentry-source-file":"DetailPurchasePanel.tsx"}),(0,l.jsxs)("div",{className:"bg-white p-[24px]",children:[(0,l.jsx)("div",{className:"Body5_B text-grey50 mb-[8px]",children:"결재정보"}),(0,l.jsxs)("div",{className:"border-blackOpacity8 mb-[16px] flex border-t-[1px]",children:[(0,l.jsx)(vt,{thLabel:"결재자",labelClassName:"!w-[120px]","data-sentry-element":"TableTrLayout","data-sentry-source-file":"DetailPurchasePanel.tsx",children:(0,l.jsx)(Hr.xI,{name:"approvalUserName",control:Q,render:()=>{var e;return(0,l.jsx)(Tt.A,{value:null===(e=M.adminManager)||void 0===e?void 0:e.name,componentType:"input-table",readOnly:!0,className:"!w-full"})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailPurchasePanel.tsx"})}),(0,l.jsx)(vt,{thLabel:"결재자 ID",labelClassName:"!w-[120px]","data-sentry-element":"TableTrLayout","data-sentry-source-file":"DetailPurchasePanel.tsx",children:(0,l.jsx)(Hr.xI,{name:"approvalUserId",control:Q,render:()=>{var e;return(0,l.jsx)(Tt.A,{value:null===(e=M.adminManager)||void 0===e?void 0:e.userId,componentType:"input-table",readOnly:!0,className:"!w-full"})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailPurchasePanel.tsx"})})]}),(0,l.jsx)("div",{className:"Body5_B text-grey50 mb-[8px]",children:"상세 정보"}),(0,l.jsxs)("div",{className:"border-blackOpacity8 border-t-[1px]",children:[(0,l.jsx)(vt,{required:!0,thLabel:"매입조직",labelClassName:"!w-[120px]",errorMessage:null===(f=ae.errors.purchaseMdmCostCenterCode)||void 0===f?void 0:f.message,"data-sentry-element":"TableTrLayout","data-sentry-source-file":"DetailPurchasePanel.tsx",children:(0,l.jsx)(Hr.xI,{name:"purchaseMdmCostCenterCode",control:Q,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(He.A,{selectedId:t.value,placeholder:"매입조직 선택",options:j,autocompleteBoxClassName:"w-full",componentType:"autocomplete-table",onChange:(e,a)=>oe({field:t,fieldName:"purchaseMdmCostCenterCode",fieldValue:null==a?void 0:a.id})})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailPurchasePanel.tsx"})}),(0,l.jsx)(vt,{required:!0,thLabel:"매출조직",labelClassName:"!w-[120px]",errorMessage:null===(C=ae.errors.salesMdmCostCenterCode)||void 0===C?void 0:C.message,"data-sentry-element":"TableTrLayout","data-sentry-source-file":"DetailPurchasePanel.tsx",children:(0,l.jsx)(Hr.xI,{name:"salesMdmCostCenterCode",control:Q,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(He.A,{selectedId:t.value,placeholder:"매출조직 선택",autocompleteBoxClassName:"w-full",options:D,componentType:"autocomplete-table",onChange:(e,a)=>oe({field:t,fieldName:"salesMdmCostCenterCode",fieldValue:null==a?void 0:a.id})})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailPurchasePanel.tsx"})}),(0,l.jsx)(vt,{required:!0,thLabel:"인사조직",labelClassName:"!w-[120px]",errorMessage:null===(x=ae.errors.mdmCorporateCode)||void 0===x?void 0:x.message,"data-sentry-element":"TableTrLayout","data-sentry-source-file":"DetailPurchasePanel.tsx",children:(0,l.jsx)(Hr.xI,{name:"mdmCorporateCode",control:Q,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(He.A,{selectedId:t.value,placeholder:"인사조직 선택",autocompleteBoxClassName:"w-full",options:P,componentType:"autocomplete-table",onChange:(e,a)=>oe({field:t,fieldName:"mdmCorporateCode",fieldValue:null==a?void 0:a.id})})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailPurchasePanel.tsx"})}),(0,l.jsx)(vt,{required:!0,thLabel:"화주명",labelClassName:"!w-[120px]",errorMessage:null===(N=ae.errors.customerId)||void 0===N?void 0:N.message,"data-sentry-element":"TableTrLayout","data-sentry-source-file":"DetailPurchasePanel.tsx",children:(0,l.jsx)(Hr.xI,{name:"customerId",control:Q,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(df,{placeholder:"화주 선택",value:t.value,setValue:e=>{oe({field:t,fieldName:"customerId",fieldValue:null==e?void 0:e.id}),$("customerName",e.label)}})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailPurchasePanel.tsx"})}),(0,l.jsx)(vt,{required:!0,thLabel:"파트너명",labelClassName:"!w-[120px]",errorMessage:null===(y=ae.errors.vendorId)||void 0===y?void 0:y.message,"data-sentry-element":"TableTrLayout","data-sentry-source-file":"DetailPurchasePanel.tsx",children:(0,l.jsx)(Hr.xI,{name:"vendorId",control:Q,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(Nf,{value:t.value,placeholder:"파트너 선택",setValue:e=>{oe({field:t,fieldName:"vendorId",fieldValue:Number(null==e?void 0:e.id)}),$("paymentConditionCode",null)}})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailPurchasePanel.tsx"})}),(0,l.jsx)(vt,{required:!0,thLabel:"계정과목",labelClassName:"!w-[120px]",errorMessage:null===(E=ae.errors.purchaseGlAccountType)||void 0===E?void 0:E.message,"data-sentry-element":"TableTrLayout","data-sentry-source-file":"DetailPurchasePanel.tsx",children:(0,l.jsx)(Hr.xI,{name:"purchaseGlAccountType",control:Q,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(He.A,{selectedId:t.value,placeholder:"계정과목 선택",autocompleteBoxClassName:"w-full",options:X,componentType:"autocomplete-table",onChange:(e,a)=>{oe({field:t,fieldName:"purchaseGlAccountType",fieldValue:null==a?void 0:a.id}),$("purchaseCostType",O.PURCHASE_COST_TYPE.find((e=>e.id===(null==a?void 0:a.id)))?null==a?void 0:a.id:"ETC_FEE")}})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailPurchasePanel.tsx"})}),(0,l.jsx)(vt,{required:!0,thLabel:"매출입항목",labelClassName:"!w-[120px]",errorMessage:null===(v=ae.errors.purchaseCostType)||void 0===v?void 0:v.message,"data-sentry-element":"TableTrLayout","data-sentry-source-file":"DetailPurchasePanel.tsx",children:(0,l.jsx)(Hr.xI,{name:"purchaseCostType",control:Q,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(He.A,{selectedId:t.value,placeholder:"매출입항목 선택",autocompleteBoxClassName:"w-full",options:O.PURCHASE_COST_TYPE,componentType:"autocomplete-table",onChange:(e,a)=>oe({field:t,fieldName:"purchaseCostType",fieldValue:null==a?void 0:a.id})})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailPurchasePanel.tsx"})}),(0,l.jsx)(vt,{required:!0,thLabel:"매입확정일자",labelClassName:"!w-[120px]",errorMessage:null===(A=ae.errors.purchaseConfirmedAt)||void 0===A?void 0:A.message,"data-sentry-element":"TableTrLayout","data-sentry-source-file":"DetailPurchasePanel.tsx",children:(0,l.jsx)(Hr.xI,{name:"purchaseConfirmedAt",control:Q,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(gt.A,{componentType:"date-picker-table",datePickerClassName:"w-full",value:je()(t.value),placeholder:"매입확정일자 선택",onChange:e=>oe({field:t,fieldName:"purchaseConfirmedAt",fieldValue:e})})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailPurchasePanel.tsx"})}),(0,l.jsx)(vt,{required:!0,thLabel:"대표물자",labelClassName:"!w-[120px]",errorMessage:null===(g=ae.errors.materialCode)||void 0===g?void 0:g.message,"data-sentry-element":"TableTrLayout","data-sentry-source-file":"DetailPurchasePanel.tsx",children:(0,l.jsx)(Hr.xI,{name:"materialCode",control:Q,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(He.A,{selectedId:t.value,placeholder:"대표물자 선택",autocompleteBoxClassName:"w-full",options:O.MATERIAL_CODE,componentType:"autocomplete-table",onChange:(e,a)=>oe({field:t,fieldName:"materialCode",fieldValue:null==a?void 0:a.id})})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailPurchasePanel.tsx"})}),(0,l.jsxs)("div",{className:"flex",children:[(0,l.jsx)(vt,{required:!0,thLabel:"작업물량",labelClassName:"!w-[120px]",errorMessage:null===(T=ae.errors.quantity)||void 0===T?void 0:T.message,"data-sentry-element":"TableTrLayout","data-sentry-source-file":"DetailPurchasePanel.tsx",children:(0,l.jsx)(Hr.xI,{name:"quantity",control:Q,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{value:t.value,componentType:"input-table",placeholder:"작업물량 입력",onChange:(e,a)=>oe({field:t,fieldName:"quantity",fieldValue:(0,pe.cX)(event.target.value)})})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailPurchasePanel.tsx"})}),(0,l.jsx)(vt,{required:!0,thLabel:"작업단위",labelClassName:"!w-[120px]",errorMessage:null===(I=ae.errors.rateCode)||void 0===I?void 0:I.message,"data-sentry-element":"TableTrLayout","data-sentry-source-file":"DetailPurchasePanel.tsx",children:(0,l.jsx)(Hr.xI,{name:"rateCode",control:Q,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(He.A,{selectedId:t.value,placeholder:"작업단위 선택",autocompleteBoxClassName:"w-full",options:O.RATE_CATEGORY_CODE,componentType:"autocomplete-table",onChange:(e,a)=>oe({field:t,fieldName:"rateCode",fieldValue:null==a?void 0:a.id})})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailPurchasePanel.tsx"})})]}),(0,l.jsx)(vt,{required:!0,thLabel:"내역",labelClassName:"!w-[120px]",errorMessage:null===(b=ae.errors.description)||void 0===b?void 0:b.message,"data-sentry-element":"TableTrLayout","data-sentry-source-file":"DetailPurchasePanel.tsx",children:(0,l.jsx)(Hr.xI,{name:"description",control:Q,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{value:t.value,className:"!w-full",componentType:"input-table",placeholder:"내역 입력",onChange:e=>oe({field:t,fieldName:"description",fieldValue:e.target.value})})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailPurchasePanel.tsx"})}),(0,l.jsxs)("div",{className:"flex",children:[(0,l.jsx)(vt,{required:!0,thLabel:"세금유형",labelClassName:"!w-[120px]",errorMessage:null===(S=ae.errors.purchaseVatType)||void 0===S?void 0:S.message,"data-sentry-element":"TableTrLayout","data-sentry-source-file":"DetailPurchasePanel.tsx",children:(0,l.jsx)(Hr.xI,{name:"purchaseVatType",control:Q,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(He.A,{selectedId:t.value,placeholder:"세금유형 선택",autocompleteBoxClassName:"w-full",options:O.PURCHASE_VAT_TYPE,optionsBoxWidth:300,componentType:"autocomplete-table",onChange:(e,a)=>{oe({field:t,fieldName:"purchaseVatType",fieldValue:null==a?void 0:a.id}),$("totalAmount",U.totalAmount),"A1"!==(null==a?void 0:a.id)?$("vatAmount",0):$("vatAmount",Math.floor(Number(U.totalAmount)/10))}})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailPurchasePanel.tsx"})}),(0,l.jsx)(vt,{thLabel:"통화",labelClassName:"!w-[120px]","data-sentry-element":"TableTrLayout","data-sentry-source-file":"DetailPurchasePanel.tsx",children:(0,l.jsx)(Tt.A,{componentType:"input-table",readOnly:!0,className:"!w-full",value:"KRW","data-sentry-element":"TmsBasicInput","data-sentry-source-file":"DetailPurchasePanel.tsx"})})]}),(0,l.jsx)(vt,{required:!0,thLabel:"지급조건",labelClassName:"!w-[120px]",errorMessage:null===(_=ae.errors.paymentConditionCode)||void 0===_?void 0:_.message,"data-sentry-element":"TableTrLayout","data-sentry-source-file":"DetailPurchasePanel.tsx",children:(0,l.jsx)(Hr.xI,{name:"paymentConditionCode",control:Q,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(gf,{vendorId:null==U?void 0:U.vendorId,value:t.value,placeholder:"지급조건 선택",setValue:e=>oe({field:t,fieldName:"paymentConditionCode",fieldValue:e.id})})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailPurchasePanel.tsx"})}),(0,l.jsxs)("div",{className:"flex",children:[(0,l.jsx)(vt,{required:!0,thLabel:"공급가액",labelClassName:"!w-[120px]",errorMessage:null===(w=ae.errors.totalAmount)||void 0===w?void 0:w.message,"data-sentry-element":"TableTrLayout","data-sentry-source-file":"DetailPurchasePanel.tsx",children:(0,l.jsx)(Hr.xI,{name:"totalAmount",control:Q,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(Cf,{type:"number",value:t.value,placeholder:"공급가액 입력",onChange:e=>{oe({field:t,fieldName:"totalAmount",fieldValue:e}),"A1"!==(null==U?void 0:U.purchaseVatType)?$("vatAmount",0):$("vatAmount",Math.floor(Number(e)/10))}})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailPurchasePanel.tsx"})}),(0,l.jsx)(vt,{required:!0,thLabel:"부가세",labelClassName:"!w-[120px]","data-sentry-element":"TableTrLayout","data-sentry-source-file":"DetailPurchasePanel.tsx",children:(0,l.jsx)(Hr.xI,{name:"vatAmount",control:Q,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(Cf,{type:"number",value:t.value,readonly:!0})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailPurchasePanel.tsx"})})]}),(0,l.jsx)(vt,{thLabel:"매입유형",labelClassName:"!w-[120px]","data-sentry-element":"TableTrLayout","data-sentry-source-file":"DetailPurchasePanel.tsx",children:(0,l.jsx)(Tt.A,{componentType:"input-table",readOnly:!0,className:"!w-full",value:"일반","data-sentry-element":"TmsBasicInput","data-sentry-source-file":"DetailPurchasePanel.tsx"})}),(0,l.jsx)(vt,{thLabel:"사업",labelClassName:"!w-[120px]","data-sentry-element":"TableTrLayout","data-sentry-source-file":"DetailPurchasePanel.tsx",children:(0,l.jsx)(Hr.xI,{name:"bizCode",control:Q,render:e=>{let{field:t}=e;return(0,l.jsx)(He.A,{selectedId:t.value,placeholder:"사업 선택",autocompleteBoxClassName:"w-full",options:O.INDUSTRY_CODE,componentType:"autocomplete-table",onChange:(e,a)=>oe({field:t,fieldName:"bizCode",fieldValue:null==a?void 0:a.id})})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailPurchasePanel.tsx"})}),(0,l.jsxs)("div",{className:"flex",children:[(0,l.jsx)(vt,{thLabel:"서비스",labelClassName:"!w-[120px]","data-sentry-element":"TableTrLayout","data-sentry-source-file":"DetailPurchasePanel.tsx",children:(0,l.jsx)(Hr.xI,{name:"serviceCode",control:Q,render:e=>{let{field:t}=e;return(0,l.jsx)(He.A,{selectedId:t.value,placeholder:"서비스 선택",autocompleteBoxClassName:"w-full",options:K,componentType:"autocomplete-table",onChange:(e,a)=>{oe({field:t,fieldName:"serviceCode",fieldValue:null==a?void 0:a.id}),$("serviceCodeName",a.label),H(a)}})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailPurchasePanel.tsx"})}),(0,l.jsx)(vt,{thLabel:"서비스2",labelClassName:"!w-[120px]","data-sentry-element":"TableTrLayout","data-sentry-source-file":"DetailPurchasePanel.tsx",children:(0,l.jsx)(Hr.xI,{name:"serviceCode2",control:Q,render:e=>{let{field:t}=e;return(0,l.jsx)(He.A,{selectedId:t.value,placeholder:"서비스2 선택",autocompleteBoxClassName:"w-full",options:z,componentType:"autocomplete-table",onChange:(e,a)=>{oe({field:t,fieldName:"serviceCode2",fieldValue:null==a?void 0:a.id}),$("serviceCode2Name",a.label)}})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailPurchasePanel.tsx"})})]}),(0,l.jsxs)("div",{className:"flex",children:[(0,l.jsx)(vt,{thLabel:"보관일",labelClassName:"!w-[120px]","data-sentry-element":"TableTrLayout","data-sentry-source-file":"DetailPurchasePanel.tsx",children:(0,l.jsx)(Hr.xI,{name:"keepDate",control:Q,render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{componentType:"input-table",placeholder:"보관일 선택",onChange:e=>oe({field:t,fieldName:"serviceCode2",fieldValue:e.target.value})})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailPurchasePanel.tsx"})}),(0,l.jsx)(vt,{thLabel:"작업시간",labelClassName:"!w-[120px]","data-sentry-element":"TableTrLayout","data-sentry-source-file":"DetailPurchasePanel.tsx",children:(0,l.jsx)(Hr.xI,{name:"pickupDate",control:Q,render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{componentType:"input-table",placeholder:"작업시간 입력",onChange:e=>oe({field:t,fieldName:"serviceCode2",fieldValue:e.target.value})})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailPurchasePanel.tsx"})})]}),(0,l.jsxs)("div",{className:"my-[16px] flex flex-col gap-[8px]",children:[(0,l.jsx)(So.A,{label:"첨부파일",required:!0,requiredClassName:"!right-0 left-[48px]","data-sentry-element":"TmsBasicLabel","data-sentry-source-file":"DetailPurchasePanel.tsx"}),(0,l.jsx)(Hr.xI,{rules:{required:Hn.required},name:"attachFileId",control:Q,render:e=>{let{field:t}=e;return(0,l.jsx)(Kc,{accept:["image/jpeg","image/png","application/pdf",".xlsx"],file:(null==U?void 0:U.attachFileName)?{attachFileId:t.value,originalFileName:null==U?void 0:U.attachFileName}:t.value,...t,onFileChange:e=>oe({field:t,fieldName:"attachFileId",fieldValue:e}),isReset:k})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailPurchasePanel.tsx"},"attachFileId")]})]})]})]})})}function bf(e){let{type:t,currentTab:a,isOpenedRightPanel:r,setIsOpenedRightPanel:s,isNewRightPanel:n,setIsNewRightPanel:o=()=>null}=e;const{initialParams:i,searchParams:d,setSearchParams:c,handleSearch:u,columns:m,wrapGridRef:p,gridApiRef:h,doubleClickRow:f,setDoubleClickRow:C,handleDelete:x,isCheckConfirm:y,setIsCheckConfirm:E,setRowSelectionModel:v,oldRows:A,setOldRows:g,handleCopy:T,handleRequest:I,handleReject:b,handleRegister:S,handleExcelDownload:_,restManualsExcel:w,restManualsApprovalExcel:O}=vf({type:t,currentTab:a,isOpenedRightPanel:r,setIsOpenedRightPanel:s,isNewRightPanel:n});return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(nu,{isOpenRightPanel:r,rightPanelWidth:700,onClickCloseButton:()=>{s(!1),o(!1)},leftSidePanel:(0,l.jsx)("section",{className:"flex h-full w-full flex-col",children:(0,l.jsxs)("div",{className:"filterContainer",children:[(0,l.jsx)(Ve.A.Provider,{initialParams:i,params:d,setParams:c,onSearch:u,children:e=>(0,l.jsxs)(ah,{children:[(0,l.jsx)(Ve.A.SearchDate,{label:"매입확정일자"}),(0,l.jsx)(Ve.A.AllMetaMultiAutocompleteSearch,{label:"매입조직",allMetaType:Ze.k.COMMON_MDM_COST_CENTER_PURCHASE_CODE}),(0,l.jsx)(Ve.A.CustomerNameMultiAutocomplete,{label:"화주",mdmStatusType:R.P7O.COMPLETE}),(0,l.jsx)(Ve.A.ApproverUserId,{}),(0,l.jsx)(Ve.A.AllMetaMultiAutocompleteSearch,{label:"결재상태",allMetaType:Ze.k.MANUAL_APPROVAL_STATUS_TYPE})]})}),(0,l.jsx)("div",{className:"h-[calc(100vh-283px)] pb-[44px]",children:(0,l.jsx)(Fa.A,{ref:p,gridApiRef:h,columns:m,checkboxSelection:!0,getRowId:e=>e.purchaseManualId,onRowDoubleClick:e=>{C(e.row),s(!0),o(!1)},onRowSelectionModelChange:v})}),t===_h.ENTER&&(0,l.jsx)(tf,{handleCopy:T,handleDelete:x,handleRequest:I,excelFileName:"매뉴얼_매입_입력",handleExcelDownload:_,restExcel:w}),t===_h.APPROVAL&&(0,l.jsx)(nf,{handleRegister:S,handleReject:b,excelFileName:"매뉴얼_매입_결재",handleExcelDownload:_,restExcel:O})]})}),rightSidePanel:(0,l.jsx)(If,{currentTab:a,purchaseManualId:null==f?void 0:f.purchaseManualId,handleDelete:x,oldRows:A,setOldRows:g,handleSearch:u,handleRegister:S,handleReject:b,isNewRightPanel:n,setIsNewRightPanel:o}),"data-sentry-element":"TmsBasicSlidePanel","data-sentry-source-file":"PurchasePanel.tsx"}),y.isOpened&&(0,l.jsx)(N,{title:y.title,description:y.description,confirmButtonType:y.confirmButtonType,confirmButtonLabel:y.confirmButtonLabel,onClickCloseButton:()=>E({isOpened:!1}),onClickConfirmButton:()=>y.onClickConfirmButton()})]})}function Rf(){return Rf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},Rf.apply(null,arguments)}var Sf=function(e){return r.createElement("svg",Rf({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none"},e),Af||(Af=r.createElement("path",{fill:"#444855",d:"M8.334 9.743a2.8 2.8 0 0 1-2.06-.856 2.8 2.8 0 0 1-.857-2.06q0-1.203.857-2.06a2.8 2.8 0 0 1 2.06-.857q1.202 0 2.06.857.855.857.856 2.06 0 1.203-.857 2.06a2.8 2.8 0 0 1-2.06.856m-6.25 6.347v-1.853a2.1 2.1 0 0 1 1.22-1.936 13 13 0 0 1 2.244-.864q1.206-.347 2.786-.347h.243q.1 0 .218.025a4.5 4.5 0 0 0-.209.601 7 7 0 0 0-.137.624h-.115q-1.44 0-2.549.33-1.109.332-1.907.747-.284.152-.414.355a.84.84 0 0 0-.13.465v.603h5.25q.092.317.24.644.15.327.327.606zm11.338.617-.186-1.106a3 3 0 0 1-.561-.23 2.6 2.6 0 0 1-.5-.358l-1.056.367-.593-1.008.862-.705a2.4 2.4 0 0 1-.09-.638q0-.315.09-.638l-.854-.721.593-1.008 1.048.375a2.2 2.2 0 0 1 .496-.354 3 3 0 0 1 .565-.226l.186-1.106h1.185l.178 1.106a3 3 0 0 1 .565.233q.267.145.496.372l1.048-.4.593 1.033-.854.722q.09.3.09.626t-.09.624l.862.705-.593 1.008-1.056-.367a2.6 2.6 0 0 1-.5.357 3 3 0 0 1-.56.23l-.178 1.107zm.585-2.092q.655 0 1.12-.466.466-.465.466-1.12t-.466-1.121a1.53 1.53 0 0 0-1.121-.466q-.655 0-1.12.466a1.53 1.53 0 0 0-.466 1.122q0 .655.466 1.12.467.465 1.121.465M8.334 8.493q.687 0 1.177-.49.49-.488.49-1.176T9.51 5.65a1.6 1.6 0 0 0-1.177-.49q-.688 0-1.178.49-.49.489-.49 1.177 0 .687.49 1.177t1.178.49"})))};const _f=(0,mt.vt)(((e,t)=>({settlementMonthlyCustomerCostCenterInfo:{customerId:null,settlementMonthlyCustomerCostCenterId:null},setSettlementMonthlyCustomerCostCenterInfo:a=>{let{customerId:l,settlementMonthlyCustomerCostCenterId:r}=a;return e({settlementMonthlyCustomerCostCenterInfo:{...t().settlementMonthlyCustomerCostCenterInfo,customerId:l,settlementMonthlyCustomerCostCenterId:r}})}})));function wf(e){let{currentTab:t,tabs:a,...s}=e;const[n,o]=(0,r.useState)([t]);return(0,r.useEffect)((()=>{n.includes(t)||o((e=>[...e,t]))}),[t,n]),(0,r.useMemo)((()=>a.map(((e,a)=>{const r=e.path===t;return n.includes(e.path)?(0,l.jsx)("div",{className:C()("cc-content-layout !overflow-x-hidden",{"is-visible":r,hidden:!r}),children:(0,l.jsx)(Hv,{path:e.path,restComponentProps:{...s,isActive:r}})},"".concat(e.path).concat(a)):null}))),[a,t,n,s])}const Of=[{name:"파트너",path:s.EM},{name:"출장소",path:s.cL},{name:"위수탁",path:s.$t},{name:"월대 차량",path:s.T$}];var Mf=function(e){let{menuName:t}=e;const{settlementMonthlyCustomerCostCenterInfo:a}=_f(),n=(0,ya.c5)(),[o,i]=(0,r.useState)(Of[0].path),[d,c]=(0,r.useState)(!1),[p,h]=(0,r.useState)(!1),[f,C]=(0,r.useState)(!1),x=v(),N=(0,r.useMemo)((()=>[s.EM,s.cL].includes(o)),[o]),y=()=>{c(!0)},E=wf({currentTab:o,tabs:Of,isRegister:d,setIsRegister:c,isOpenModal:p,setIsOpenModal:h,isBranchModalOpen:f,setIsBranchModalOpen:C});return(0,l.jsxs)("div",{className:"bg-grey98 flex h-full flex-col","data-sentry-component":"VehicleManagementPanel","data-sentry-source-file":"VehicleManagementPanel.tsx",children:[(0,l.jsx)(xl,{title:t,"data-sentry-element":"ContentHeader","data-sentry-source-file":"VehicleManagementPanel.tsx",children:(0,l.jsxs)("div",{className:"flex flex-row gap-2",children:[o===s.EM&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(u.A,{label:"파트너 운전자 관리",level:m.V.level_4,leftIcon:(0,l.jsx)(Sf,{}),onClick:()=>h(!0)}),N&&(0,l.jsx)(u.A,{className:d?"opacity-50":"",label:"새 차량 등록하기",level:m.V.level_1,leftIcon:(0,l.jsx)(Ce,{}),onClick:y})]}),o===s.cL&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(u.A,{label:"출장소 운전자 관리",level:m.V.level_4,leftIcon:(0,l.jsx)(Sf,{}),onClick:()=>C(!0)}),N&&(0,l.jsx)(u.A,{className:d?"opacity-50":"",label:"새 차량 등록하기",level:m.V.level_1,leftIcon:(0,l.jsx)(Ce,{}),onClick:y})]}),o===s.T$&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(u.A,{label:"코스트 센터 관리",level:m.V.level_4,leftIcon:(0,l.jsx)(Sf,{}),onClick:()=>h(!0)}),(0,l.jsx)(u.A,{label:"새 월대 계약운임 등록하기",level:m.V.level_1,leftIcon:(0,l.jsx)(Ce,{}),onClick:()=>{a.customerId||a.settlementMonthlyCustomerCostCenterId?c(!0):n({title:"새 월대 계약운임을 등록할 수 없습니다.",description:"매입/매출 코스트 센터 등록 후 다시 시도해 주세요. "})}})]})]})}),(0,l.jsx)("div",{className:"border-grey90 border-b",children:(0,l.jsx)(Dr,{className:"ml-10",tabList:Of,onChange:(e,t)=>{d?x({title:"작성 중인 정보가 있습니다.",description:"화면을 나가면 작성된 정보가 삭제됩니다.",confirmButtonLabel:"나가기",onClickConfirmButton:()=>{c(!1),i(t)}}):i(t)},"data-sentry-element":"StaticTabs","data-sentry-source-file":"VehicleManagementPanel.tsx"})}),(0,l.jsx)("div",{className:"relative flex flex-1 bg-white",children:E})]})};const Df=[{field:"__check__",headerName:"",width:76,minWidth:76,maxWidth:76,sortable:!1,disableColumnMenu:!0,align:"right",headerClassName:"check-right-align"},{field:"No",headerName:"No.",headerAlign:"center",sortable:!1,width:48,renderCell:e=>(0,l.jsx)("div",{className:"flex flex-1 flex-row items-center justify-center gap-1",children:(0,l.jsxs)("div",{children:[e.api.getRowIndexRelativeToVisibleRows(e.id)+1," "]})})},{field:"corporationName",headerName:"인사조직",minWidth:159,flex:1},{field:"vendorName",headerName:"소속 파트너",minWidth:159,flex:1},{field:"plateNumber",headerName:"차량번호",width:138},{field:"mdmManageNoCode",headerName:"관리번호",width:122},{field:"vehicleTypeName",headerName:"차종",width:124},{field:"tonName",headerName:"톤급",width:84},{field:"isUsed",headerName:"사용 여부",width:104,type:da._.VIEW_MODE_Y_OR_N},{field:"driverName",headerName:"운전자",width:126},{field:"driverPhoneNumber",headerName:"운전자 연락처",width:152},{field:"vendorVehicleDriverCount",headerName:"소속 운전자",width:112}],jf=[{field:"__check__",headerName:"",width:76,minWidth:76,maxWidth:76,sortable:!1,disableColumnMenu:!0,align:"right",headerClassName:"check-right-align"},{field:"No",headerName:"No.",headerAlign:"center",sortable:!1,width:48,type:da._.VIEW_MODE_ID},{field:"mdmCode",headerName:"MDM 코드(파트너)",width:159,required:!0},{field:"plateNumber",headerName:"차량번호",width:152,required:!0,editable:!0},{field:"vehicleType",headerName:"차종",width:152,required:!0,renderCell:e=>Qt({type:Ze.k.VEHICLE_TYPE,params:e})},{field:"tonCode",headerName:"톤급",width:152,required:!0,renderCell:e=>Qt({type:Ze.k.VEHICLE_TON_CODE,params:e})},{field:"driverName",headerName:"운전자명",width:152,required:!0},{field:"driverPhoneNumber",headerName:"운전자 연락처",width:152,flex:1,required:!0,editable:!0},{field:"isUsed",headerName:"활성 여부",width:152,required:!0,editable:!0,type:"boolean"}],Pf=()=>(0,T.n)(["VehicleManagementListMutation"],(async e=>(await I.q.api((t=>t.ApiVendorVehicleV1ManagementList(e)))).data.result.vendorVehicleList)),Lf=()=>(0,T.n)(["vehicleManagement/useVehicleManagementDetailMutation"],(async e=>(await I.q.api((t=>t.ApiVendorVehicleV1ManagementDetail(e)))).data.result)),Bf=()=>(0,Ul.I)(["vehicleManagement/useVehicleManagementVendorListQuery"],(async()=>(await I.q.api((e=>e.ApiVendorVehicleV1ManagementVendorList()))).data.result.vendorList)),Uf=()=>(0,T.n)(["VehicleManagementCheckExistsByPlateNumberMutation"],(async e=>(await I.q.api((t=>t.ApiVendorVehicleV1CheckExistsByPlateNumber(e)))).data.result)),Vf=()=>(0,T.n)(["vehicleConsignment/VehicleManagementCreateMutation"],(async e=>(await I.q.api((t=>t.ApiVendorVehicleV1ManagementCreate(e)))).data.result)),Ff=()=>(0,T.n)(["vehicleConsignment/VehicleManagementModifyMutation"],(async e=>(await I.q.api((t=>t.ApiVendorVehicleV1ManagementModify(e)))).data.result)),Gf=()=>(0,T.n)(["vehicleConsignment/VehicleManagementDeleteMutation"],(async e=>(await I.q.api((t=>t.ApiVendorVehicleV1ManagementDelete(e)))).data.result)),kf=()=>(0,T.n)(["VehicleManagementDriverInviteMutation"],(async e=>(await I.q.api((t=>t.ApiVendorVehicleV1ManagementDriverInvite(e)))).data.result)),Yf=()=>(0,T.n)(["VehicleBranchListMutation"],(async e=>(await I.q.api((t=>t.ApiVendorVehicleV1BranchList(e)))).data.result.vendorVehicleList)),qf=()=>(0,T.n)(["vehicleBranch/useVehicleBranchDetailMutation"],(async e=>(await I.q.api((t=>t.ApiVendorVehicleV1BranchDetail(e)))).data.result)),Wf=()=>(0,Ul.I)(["vehicleBranch/useVehicleBranchVendorListQuery"],(async()=>(await I.q.api((e=>e.ApiVendorVehicleV1BranchVendorList()))).data.result.vendorList)),Hf=()=>(0,T.n)(["VehicleManagementCheckExistsByPlateNumberMutation"],(async e=>(await I.q.api((t=>t.ApiVendorVehicleV1CheckExistsByPlateNumber(e)))).data.result)),Kf=()=>(0,T.n)(["VehicleBranchCreateMutation"],(async e=>(await I.q.api((t=>t.ApiVendorVehicleV1BranchCreate(e)))).data.result)),zf=()=>(0,T.n)(["VehicleBranchModifyMutation"],(async e=>(await I.q.api((t=>t.ApiVendorVehicleV1BranchModify(e)))).data.result)),Xf=()=>(0,T.n)(["VehicleBranchDeleteMutation"],(async e=>(await I.q.api((t=>t.ApiVendorVehicleV1BranchDelete(e)))).data.result)),Qf=()=>(0,T.n)(["vehicleManagement/VehicleManagementDriverInviteMutation"],(async e=>(await I.q.api((t=>t.ApiVendorVehicleV1ManagementDriverInvite(e)))).data.result)),Zf=e=>{var t;var a;const r=(null===(t=(a={vendorId:e},(0,Ul.I)(["vehicleManagement/useVehicleManagementDriverListQuery",a.vendorId],(async()=>(await I.q.api((e=>e.ApiVendorVehicleV1ManagementDriverList(a)))).data.result.vendorVehicleDriverList),{enabled:!!a.vendorId})).data)||void 0===t?void 0:t.map((e=>({id:e.vendorDriverId,label:"".concat(e.driverName," ").concat(e.driverPhoneNumber)}))))||[],s=async(e,t,a)=>{const l={...a.row,[a.field]:t.id};a.api.updateRows([l])};return{vendorDetailColumns:[{field:"__check__",headerName:"",width:50,sortable:!1,disableColumnMenu:!0,align:"right"},{field:"No",headerName:"No.",headerAlign:"center",sortable:!1,width:48,type:da._.VIEW_MODE_ID},{field:"vendorDriverId",headerName:"운전자",editable:!0,defaultEditable:!1,flex:1,renderCell:e=>e.isEditable?(0,l.jsx)(yn.A,{params:e,options:r,onChangeProps:s}):(0,l.jsxs)("span",{children:[e.row.driverName," ",e.row.driverPhoneNumber]})},{field:"driverName"},{field:"driverPhoneNumber"},{field:"isUsed",headerName:"활성 여부 ",width:100,renderCell:e=>(0,l.jsx)(Ia,{checked:e.value,handleChange:()=>(e=>{const t={...e.row,isUsed:!e.value};e.api.updateRows([t])})(e)})}]}},Jf=e=>{var t;var a;const r=(null===(t=(a={vendorId:e},(0,Ul.I)(["vehicleBranch/useVehicleBranchDriverListQuery",a.vendorId],(async()=>(await I.q.api((e=>e.ApiVendorVehicleV1BranchDriverList(a)))).data.result.vendorVehicleDriverList),{enabled:!!a.vendorId})).data)||void 0===t?void 0:t.map((e=>({id:e.vendorDriverId,label:"".concat(e.driverName," ").concat(e.driverPhoneNumber)}))))||[],s=async(e,t,a)=>{const l={...a.row,[a.field]:t.id};a.api.updateRows([l])};return{vendorDetailColumns:[{field:"__check__",headerName:"",width:50,sortable:!1,disableColumnMenu:!0,align:"right"},{field:"No",headerName:"No.",headerAlign:"center",sortable:!1,width:48,type:da._.VIEW_MODE_ID},{field:"vendorDriverId",headerName:"운전자",editable:!0,defaultEditable:!1,flex:1,renderCell:e=>e.isEditable?(0,l.jsx)(yn.A,{params:e,options:r,onChangeProps:s}):(0,l.jsxs)("span",{children:[e.row.driverName," ",e.row.driverPhoneNumber]})},{field:"driverName"},{field:"driverPhoneNumber"},{field:"isUsed",headerName:"활성 여부 ",width:100,renderCell:e=>(0,l.jsx)(Ia,{checked:e.value,handleChange:()=>(e=>{const t={...e.row,isUsed:!e.value};e.api.updateRows([t])})(e)})}]}},$f=()=>({costCenterChangeHistoryColumns:(0,r.useMemo)((()=>[{field:"updatedAt",headerName:"변경 일시",width:150},{field:"mdmCostCenterName",headerName:"코스트 센터",flex:1},{field:"updatedBy",headerName:"담당자"}]),[])}),eC={vendorId:0,plateNumber:"",mdmManageNoCode:"",vehicleType:"",tonCode:"",isUsed:"true",isOriginVendor:"false",originVendorName:"",plateNumberValid:-1};function tC(e){return{vendorId:(null==e?void 0:e.vendorId)||0,plateNumber:(null==e?void 0:e.plateNumber)||"",mdmManageNoCode:(null==e?void 0:e.mdmManageNoCode)||"",vehicleType:(null==e?void 0:e.vehicleType)||"",tonCode:(null==e?void 0:e.tonCode)||"",isUsed:(null==e?void 0:e.isUsed)?"true":"false",isOriginVendor:(null==e?void 0:e.isOriginVendor)||"false",originVendorName:(null==e?void 0:e.originVendorName)||""}}function aC(e){let{vendorVehicleId:t,isRegister:a,setIsRegister:s,detailData:n,vehicleVendorListQuery:o,onSearch:i}=e;var d,c,p,h,f,x;const{commonMetaV2List:N}=(0,Je.X)(),{wrapGridRef:y,gridApiRef:E,form:A,validatePlateNumber:g,setValidatePlateNumber:T,vendorDetailColumns:I,options:b,handlePlateNumberCheck:R,handleVendorDriverAdd:S,handleVendorDriverDelete:_,onSubmitForm:w,onErrorForm:O,watchIsOriginVendor:M,formState:j,control:P,watchVendorId:L,watchPlateNumber:B,setValue:U,isRegisterMode:V}=function(e){let{vendorVehicleId:t,isRegister:a,setIsRegister:l,detailData:s,vehicleVendorListQuery:n,onSearch:o}=e;const i=(0,r.useRef)(null),d=(0,D.bBi)(),c=(0,$e.P9)(),[u,m]=(0,r.useState)(-1),p=v(),h=Vf(),f=Ff(),C=Uf(),x=(0,Hr.mN)({defaultValues:tC(s),mode:"onChange",shouldUnregister:!0}),{control:N,handleSubmit:y,formState:E,watch:A,setValue:g,trigger:T}=x,I=A("vendorId"),b=A("isOriginVendor"),R=A("plateNumber"),{vendorDetailColumns:S}=Zf(I),_=(0,r.useMemo)((()=>{var e;return null==n||null===(e=n.data)||void 0===e?void 0:e.map((e=>({id:e.vendorId,label:e.vendorName})))}),[null==n?void 0:n.data]);return(0,r.useEffect)((()=>{h.isError&&h.error&&c({message:h.error.message||"",type:"fail"})}),[h.isError]),(0,r.useEffect)((()=>{m(-1)}),[R]),(0,r.useEffect)((()=>{m(-1)}),[I]),(0,r.useEffect)((()=>{"false"===b&&g("originVendorName","",{shouldValidate:!0})}),[b,g]),(0,r.useEffect)((()=>{var e;a?(x.reset(eC,{keepDefaultValues:!1}),null==i||null===(e=i.current)||void 0===e||e.setInitData([])):x.reset(tC(s),{keepDefaultValues:!1})}),[a,s]),(0,r.useEffect)((()=>{var e,t,a;s&&(0===(null==s||null===(e=s.vendorVehicleDriverList)||void 0===e?void 0:e.length)?null==i||null===(t=i.current)||void 0===t||t.setInitData([]):null==i||null===(a=i.current)||void 0===a||a.setInitData(s.vendorVehicleDriverList))}),[s]),{wrapGridRef:i,gridApiRef:d,form:x,validatePlateNumber:u,setValidatePlateNumber:m,vendorDetailColumns:S,options:_,handlePlateNumberCheck:async()=>{const e=x.getValues("plateNumber"),t=x.getValues("vendorId");if(!e)return void c({message:"차량번호를 입력해주세요.",type:"caution"});const a={vendorId:t,plateNumber:e},l=await C.mutateAsync(a);m(l?0:1),l&&x.setError("plateNumber",{type:"manual",message:"이미 등록된 차량번호입니다."})},handleVendorDriverAdd:()=>{var e,t,a;(null==i||null===(e=i.current)||void 0===e?void 0:e.rows)&&0===i.current.rows.length?null==i||null===(t=i.current)||void 0===t||t.addRowToFirst({isUsed:!0}):null==i||null===(a=i.current)||void 0===a||a.addRowToFirst()},handleVendorDriverDelete:()=>{var e,t,a;const l=null==i||null===(e=i.current)||void 0===e?void 0:e.getSelectedRows(),r=null==i||null===(t=i.current)||void 0===t?void 0:t.getUnselectedRows();var s,n;if(l.some((e=>e.isUsed))&&r.length>0)return r[0].isUsed=!0,null==i||null===(s=i.current)||void 0===s||s.removeSelectedRow(!0),void(null==i||null===(n=i.current)||void 0===n||n.updateRows(r));null==i||null===(a=i.current)||void 0===a||a.removeSelectedRow(!0)},onSubmitForm:async e=>{var r,s;if(!(null==i||null===(r=i.current)||void 0===r?void 0:r.getAllRows()).some((e=>e.isUsed)))return void p({title:"차량 정보를 저장할 수 없습니다.",description:"차량에 1명의 운전자가 활성화되어야 저장할 수 있습니다.",confirmButtonLabel:"확인",hiddenCloseButton:!0});const n={vendorVehicleId:t||void 0,vendorId:Number(e.vendorId),plateNumber:e.plateNumber,vehicleType:e.vehicleType,vehicleTon:e.tonCode,isUsed:"true"===e.isUsed,originVendorName:e.originVendorName,isOriginVendor:"true"===e.isOriginVendor,driverList:null==i||null===(s=i.current)||void 0===s?void 0:s.getAllRows().map((e=>({vendorDriverId:e.vendorDriverId,isUsed:!!e.isUsed})))};a?await h.mutateAsync(n):await f.mutateAsync(n),o(),l(!1)},onErrorForm:e=>{var t;const a=Object.keys(e);"".concat(a[0]," ").concat((null===(t=e[a[0]])||void 0===t?void 0:t.message)||"입력값을 확인해주세요."),window.console.error(e)},watchIsOriginVendor:b,formState:E,control:N,watchVendorId:I,watchPlateNumber:R,setValue:g,isRegisterMode:a}}({vendorVehicleId:t,isRegister:a,setIsRegister:s,detailData:n,vehicleVendorListQuery:o,onSearch:i});return(0,l.jsx)("div",{className:"flex flex-1 flex-col","data-sentry-component":"VehicleVendorDetail","data-sentry-source-file":"VehicleVendorDetail.tsx",children:(0,l.jsx)("form",{autoComplete:"off",onSubmit:A.handleSubmit(w,O),className:"flex flex-1",children:(0,l.jsxs)("div",{className:"flex flex-1 flex-col",children:[(0,l.jsx)("div",{className:C()("border-b-blue95 header flex flex-col border-b-[1px]",{"bg-grey98":a,"bg-blue98":!a}),children:a?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"flex items-center justify-between self-stretch px-[24px] pt-4",children:[(0,l.jsx)("div",{className:"Body5_M",children:"차량번호는 등록 후 수정이 불가능합니다."}),(0,l.jsx)(u.A,{type:"submit",label:"차량 등록",level:m.V.level_2,size:m.M.Small,leftIcon:(0,l.jsx)(Pt.A,{widht:16,height:16,className:"text-white"})})]}),(0,l.jsx)("div",{className:"flex h-[60px] w-full items-center justify-start gap-1 px-[24px] py-[16px]",children:(0,l.jsx)("div",{className:"Title3_EX",children:"새차량 등록하기"})})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"flex items-center justify-between self-stretch px-[24px] pt-4",children:[(0,l.jsx)("div",{className:"Body5_B",children:n.vendorName}),(0,l.jsx)(u.A,{type:"submit",label:"저장",level:m.V.level_2,size:m.M.Small,leftIcon:(0,l.jsx)(yt.A,{widht:16,height:16,className:"text-white"})})]}),(0,l.jsxs)("div",{className:"flex h-[60px] w-full items-center justify-start gap-1 px-[24px] py-[16px]",children:[(0,l.jsx)("div",{className:"Title3_EX",children:n.plateNumber}),(0,l.jsxs)("div",{className:"Body5_M",children:[n.vehicleTypeName," ",n.vehicleTypeName]})]})]})}),(0,l.jsxs)("div",{className:"flex flex-1 flex-col gap-[20px] p-[24px]",children:[(0,l.jsxs)("div",{className:"flex flex-1 flex-col",children:[(0,l.jsx)("div",{className:"Body5_B text-grey60 mb-[8px]",children:"차량 정보"}),(0,l.jsxs)(Vn,{"data-sentry-element":"InfoTable","data-sentry-source-file":"VehicleVendorDetail.tsx",children:[(0,l.jsx)(Fn,{required:!0,label:"소속 파트너",error:null===(d=j.errors.vendorId)||void 0===d?void 0:d.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"VehicleVendorDetail.tsx",children:(0,l.jsx)(Hr.xI,{name:"vendorId",control:P,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(He.A,{selectedId:t.value,disabled:!a,placeholder:"소속 파트너 선택",autocompleteBoxClassName:"w-full",options:b,componentType:"autocomplete-table",onChange:(e,a)=>t.onChange(a.id)})},"data-sentry-element":"Controller","data-sentry-source-file":"VehicleVendorDetail.tsx"})}),(0,l.jsx)(Fn,{required:!0,label:"차량번호",error:null===(c=j.errors.plateNumber)||void 0===c?void 0:c.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"VehicleVendorDetail.tsx",children:(0,l.jsx)(Hr.xI,{name:"plateNumber",control:P,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(Tt.A,{disabled:!a,value:t.value,componentType:"input-table",placeholder:"차량번호 입력",className:"flex-1",onChange:e=>t.onChange(e.target.value)}),a&&(0,l.jsx)("div",{className:"flex items-center gap-2",children:1==g?(0,l.jsxs)("div",{className:"text-success Caption1_B flex flex-none items-center",children:[(0,l.jsx)(Pt.A,{className:"text-success h-[20px] w-[20px]"}),"사용 가능"]}):(0,l.jsx)(u.A,{label:"중복 확인",level:m.V.level_5,size:m.M.Xsmall,onClick:R})})]})},"data-sentry-element":"Controller","data-sentry-source-file":"VehicleVendorDetail.tsx"})}),!a&&(0,l.jsx)(Fn,{label:"관리번호",error:null===(p=j.errors.mdmManageNoCode)||void 0===p?void 0:p.message,children:(0,l.jsx)(Hr.xI,{name:"mdmManageNoCode",control:P,render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{disabled:!a,value:t.value,componentType:"input-table",placeholder:"관리번호 입력",className:"flex-1",onChange:e=>t.onChange(formatterOnlyInt(e.target.value))})}})}),(0,l.jsx)(Fn,{required:!0,label:"차종",error:null===(h=j.errors.vehicleType)||void 0===h?void 0:h.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"VehicleVendorDetail.tsx",children:(0,l.jsx)(Hr.xI,{name:"vehicleType",control:P,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(He.A,{selectedId:t.value,placeholder:"차종 선택",autocompleteBoxClassName:"w-full",options:N[Ze.k.VEHICLE_TYPE],componentType:"autocomplete-table",onChange:(e,a)=>t.onChange(a.id)})},"data-sentry-element":"Controller","data-sentry-source-file":"VehicleVendorDetail.tsx"})}),(0,l.jsx)(Fn,{required:!0,label:"톤급",error:null===(f=j.errors.tonCode)||void 0===f?void 0:f.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"VehicleVendorDetail.tsx",children:(0,l.jsx)(Hr.xI,{name:"tonCode",control:P,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(He.A,{selectedId:t.value,placeholder:"톤급 선택",autocompleteBoxClassName:"w-full",options:N[Ze.k.VEHICLE_TON_CODE],componentType:"autocomplete-table",onChange:(e,a)=>t.onChange(a.id)})},"data-sentry-element":"Controller","data-sentry-source-file":"VehicleVendorDetail.tsx"})}),(0,l.jsx)(Fn,{required:!0,label:"사용 여부","data-sentry-element":"InfoTableItem","data-sentry-source-file":"VehicleVendorDetail.tsx",children:(0,l.jsx)(Hr.xI,{name:"isUsed",control:P,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(Un,{groupName:"isUsed",items:[{id:"true",label:"사용"},{id:"false",label:"사용안함"}],...t})},"data-sentry-element":"Controller","data-sentry-source-file":"VehicleVendorDetail.tsx"})}),(0,l.jsx)(Fn,{required:!0,label:"원소속 여부","data-sentry-element":"InfoTableItem","data-sentry-source-file":"VehicleVendorDetail.tsx",children:(0,l.jsx)(Hr.xI,{name:"isOriginVendor",control:P,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(Un,{groupName:"isOriginVendor",items:[{id:"true",label:"원소속 있음"},{id:"false",label:"원소속 없음"}],...t})},"data-sentry-element":"Controller","data-sentry-source-file":"VehicleVendorDetail.tsx"})}),(0,l.jsx)(Fn,{required:!0,label:"원소속명",error:null===(x=j.errors.originVendorName)||void 0===x?void 0:x.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"VehicleVendorDetail.tsx",children:(0,l.jsx)(Hr.xI,{name:"originVendorName",control:P,rules:{required:"true"===M&&Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{disabled:"false"==M,value:t.value,componentType:"input-table",placeholder:"원소속명 입력",className:"w-full",onChange:e=>t.onChange(e.target.value)})},"data-sentry-element":"Controller","data-sentry-source-file":"VehicleVendorDetail.tsx"})})]})]}),(0,l.jsxs)("div",{className:"flex flex-1 flex-col gap-2",children:[(0,l.jsxs)("div",{className:"flex",children:[(0,l.jsx)("div",{className:"Body5_B text-grey60 mb-[8px]",children:"소속 운전자"}),(0,l.jsxs)("div",{className:"ml-auto flex items-center gap-2",children:[(0,l.jsx)(ja,{handleDeleteComplete:_,"data-sentry-element":"TmsDataGridDeleteCompleteBtn","data-sentry-source-file":"VehicleVendorDetail.tsx"}),(0,l.jsx)(St.A,{handleAddRow:S,"data-sentry-element":"TmsDataGridAddRowBtn","data-sentry-source-file":"VehicleVendorDetail.tsx"})]})]}),(0,l.jsx)("div",{className:"flex w-full flex-1",children:(0,l.jsx)(Fa.A,{ref:y,gridApiRef:E,columns:I,columnVisibilityModel:{driverName:!1,driverPhoneNumber:!1},checkboxSelection:!0,"data-sentry-element":"WrapperBasicDataGrid","data-sentry-source-file":"VehicleVendorDetail.tsx"})})]})]})]})})})}const lC=()=>(0,T.n)(["VehicleManagementExcelDownloadMutation"],(async e=>(await I.q.api((t=>t.ApiVendorVehicleV1ManagementListExcel(e,{format:"blob"})))).data));var rC=a(70431);const sC=()=>(0,T.n)(["vehicleConsignment/VehicleManagementDriverValidateMutation"],(async e=>(await I.q.api((t=>t.ApiVendorVehicleV1ManagementDriverValidate(e)))).data.result)),nC=()=>(0,T.n)(["vehicleConsignment/VehicleManagementDriverCreateMutation"],(async e=>(await I.q.api((t=>t.ApiVendorVehicleV1ManagementDriverCreate(e)))).data.result)),oC=[{field:"No",headerName:"No.",headerAlign:"center",sortable:!1,width:48,renderCell:e=>e.api.getRowIndexRelativeToVisibleRows(e.id)+1},{field:"vendorName",headerName:"출장소",width:256},{field:"driverName",headerName:"운전자명",width:108},{field:"driverPhoneNumber",headerName:"운전자 연락처",width:124},{field:"vendorVehicleList",headerName:"배정 차량",width:93,flex:1,renderCell:e=>{const t=e.value;return t&&0!==t.length?(0,l.jsx)("div",{className:"flex flex-row items-center gap-x-2",children:t.map(((e,a)=>(0,l.jsxs)(r.Fragment,{children:[(0,l.jsxs)("div",{className:"flex items-center gap-x-1",children:[(0,l.jsx)("span",{children:e.plateNumber}),e.isUsed&&(0,l.jsx)(Xh,{label:"활성",colorType:zh.FILL_GREEN})]}),a<t.length-1&&(0,l.jsx)("div",{className:"h-1 w-1 rounded-full bg-[#c9cdd7]"})]},e.vendorVehicleId)))}):null}}];function iC(e){let{options:t,onClose:a}=e;var s,n,o;const i=sC(),d=nC(),c=(0,$e.P9)(),u=(0,Hr.mN)({defaultValues:{vendorId:0,driverPhoneNumber:"",driverName:""},mode:"onChange",shouldUnregister:!0}),{control:m,handleSubmit:p,formState:h,setError:f,reset:C}=u;return(0,r.useEffect)((()=>{if(d.isError&&d.error.message){const e=d.error.message;c({message:e,type:"caution",delay:3e3}),e.includes("연락처")&&f("driverPhoneNumber",{type:"manual",message:d.error.message})}}),[d.isError]),(0,l.jsx)(Pe.A,{title:"새 운전자 추가하기",onClickCloseButton:a,modalWidth:612,modalContentHeight:136,isShowedConfirmButton:!0,confirmButtonLabel:"추가하기",onClickConfirmButton:p((async e=>{if(await i.mutateAsync({vendorId:e.vendorId,driverPhoneNumber:e.driverPhoneNumber})){await d.mutateAsync({vendorId:e.vendorId,driverPhoneNumber:e.driverPhoneNumber,driverName:e.driverName})&&a()}}),(e=>{})),"data-sentry-element":"TmsBasicModal","data-sentry-component":"VehicleVendorDriverManagementModalAdd","data-sentry-source-file":"VehicleVendorDriverManagementModal.tsx",children:(0,l.jsx)("div",{className:"flex gap-[16px]",children:(0,l.jsx)("div",{className:"flex flex-1 flex-col",children:(0,l.jsx)("form",{autoComplete:"off",className:"flex flex-1",children:(0,l.jsxs)(Vn,{"data-sentry-element":"InfoTable","data-sentry-source-file":"VehicleVendorDriverManagementModal.tsx",children:[(0,l.jsx)(Fn,{required:!0,label:"소속 파트너",error:null===(s=h.errors.vendorId)||void 0===s?void 0:s.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"VehicleVendorDriverManagementModal.tsx",children:(0,l.jsx)(Hr.xI,{name:"vendorId",control:m,rules:{required:Hn.required},render:e=>{let{field:a}=e;return(0,l.jsx)(He.A,{selectedId:a.value,placeholder:"소속 파트너 선택",autocompleteBoxClassName:"w-full",options:t,componentType:"autocomplete-table",onChange:(e,t)=>a.onChange(t.id)})},"data-sentry-element":"Controller","data-sentry-source-file":"VehicleVendorDriverManagementModal.tsx"})}),(0,l.jsx)(Fn,{required:!0,label:"운전자 연락처",error:null===(n=h.errors.driverPhoneNumber)||void 0===n?void 0:n.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"VehicleVendorDriverManagementModal.tsx",children:(0,l.jsx)(Hr.xI,{name:"driverPhoneNumber",control:m,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{value:t.value,componentType:"input-table",placeholder:"운전자 연락처 입력",onChange:e=>t.onChange(e.target.value)})},"data-sentry-element":"Controller","data-sentry-source-file":"VehicleVendorDriverManagementModal.tsx"})}),(0,l.jsx)(Fn,{required:!0,label:"운전자명",error:null===(o=h.errors.driverName)||void 0===o?void 0:o.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"VehicleVendorDriverManagementModal.tsx",children:(0,l.jsx)(Hr.xI,{name:"driverName",control:m,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{value:t.value,componentType:"input-table",placeholder:"운전자명 입력",onChange:e=>t.onChange(e.target.value)})},"data-sentry-element":"Controller","data-sentry-source-file":"VehicleVendorDriverManagementModal.tsx"})})]})})})})})}var dC=function(e){let{onClose:t}=e;var a;const[s,n]=r.useState([]),[o,i]=r.useState(null),[d,c]=(0,r.useState)(!1),[u,m]=(0,r.useState)(),p=Bf(),h=(0,T.n)(["vehicleConsignment/VehicleManagementDriverListMutation"],(async e=>(await I.q.api((t=>t.ApiVendorVehicleV1ManagementDriverList(e)))).data.result.vendorVehicleDriverList)),f=(0,T.n)(["vehicleConsignment/VehicleManagementDriverDeleteMutation"],(async e=>(await I.q.api((t=>t.ApiVendorVehicleV1ManagementDriverDelete(e)))).data.result)),C=async()=>{const e={vendorId:o};h.mutateAsync(e)},x=null==p||null===(a=p.data)||void 0===a?void 0:a.map((e=>({id:e.vendorId,label:e.vendorName})));return(0,r.useEffect)((()=>{p.refetch()}),[]),(0,r.useEffect)((()=>{h.isSuccess&&n(h.data)}),[h.isSuccess]),(0,r.useEffect)((()=>{h.mutateAsync({})}),[]),(0,l.jsxs)(Pe.A,{title:"파트너 운전자 관리",onClickCloseButton:t,isShowedConfirmButton:!1,modalWidth:1280,modalContentHeight:448,"data-sentry-element":"TmsBasicModal","data-sentry-component":"VehicleVendorDriverManagementModal","data-sentry-source-file":"VehicleVendorDriverManagementModal.tsx",children:[(0,l.jsxs)("div",{className:"flex gap-[16px]",children:[(0,l.jsx)(He.A,{label:"파트너",selectedId:String(o),placeholder:"파트너 선택",autocompleteBoxSize:Ha.A.Small,autocompleteSize:Ha.A.Small,autocompleteBoxClassName:"w-[196px]",options:x,onChange:(e,t)=>{i(t.id)},"data-sentry-element":"TmsBasicAutocomplete","data-sentry-source-file":"VehicleVendorDriverManagementModal.tsx"}),(0,l.jsx)(rC.A,{onClick:C,"data-sentry-element":"ModalSearchButton","data-sentry-source-file":"VehicleVendorDriverManagementModal.tsx"}),(0,l.jsxs)("div",{className:"ml-auto flex gap-2",children:[(0,l.jsx)(ja,{handleDeleteComplete:async()=>{const e={driverList:[...u]};await f.mutateAsync(e)&&C()},"data-sentry-element":"TmsDataGridDeleteCompleteBtn","data-sentry-source-file":"VehicleVendorDriverManagementModal.tsx"}),(0,l.jsx)(St.A,{label:"추가",handleAddRow:()=>c(!0),"data-sentry-element":"TmsDataGridAddRowBtn","data-sentry-source-file":"VehicleVendorDriverManagementModal.tsx"})]})]}),(0,l.jsx)("div",{className:"mt-[12px] flex h-[406px]",children:(0,l.jsx)(Fe.A,{checkboxSelection:!0,rows:s,getRowId:e=>e.vendorDriverId,columns:oC,onRowSelectionModelChange:e=>m(e),"data-sentry-element":"TmsBasicDataGrid","data-sentry-source-file":"VehicleVendorDriverManagementModal.tsx"})}),d&&(0,l.jsx)(iC,{options:x,onClose:()=>{c(!1),C()}})]})};var cC=new class{toList(e){return(null==e?void 0:e.list)?e.list.map(((e,t)=>({__check__:!1,id:t+1,...e}))):[]}};var uC=new class{toList(e){return e?e.map((e=>({mdmCode:e.mdmCode,plateNumber:e.plateNumber,vehicleType:e.vehicleType,tonCode:e.tonCode,driverName:e.driverName,driverPhoneNumber:e.driverPhoneNumber,isUsed:e.isUsed}))):[]}};const mC=()=>{const e=(0,T.n)(["VehicleManagementExcelUploadMutation"],(async e=>(await I.q.api((t=>t.ApiVendorVehicleV1ManagementListExcelUpload(e)))).data.result)),t=(0,T.n)(["VehicleManagementExcelUploadValidateMutation"],(async e=>{const[t]=await Promise.all([I.q.api((t=>t.ApiVendorVehicleV1ManagementListExcelValidate(e)))]);return t.data.result})),a=(0,T.n)(["VehicleManagementExcelUploadSaveMutation"],(async e=>(await I.q.api((t=>t.ApiVendorVehicleV1ManagementListExcelSave(e)))).data.result));return{handleFileUpload:t=>{e.mutateAsync({file:t[0]})},handleValidation:e=>{t.mutateAsync({list:uC.toList(e)})},handleUploadListRegister:()=>{a.mutateAsync({list:uC.toList(t.data.list)})},excelUploadMutation:e,excelUploadValidateMutation:t,excelUploadSaveMutation:a}};const pC=[{field:"__check__",headerName:"",width:76,minWidth:76,maxWidth:76,sortable:!1,disableColumnMenu:!0,align:"right",headerClassName:"check-right-align"},{field:"No",headerName:"No.",headerAlign:"center",sortable:!1,width:48,renderCell:e=>e.api.getRowIndexRelativeToVisibleRows(e.id)+1},{field:"mdmCode",headerName:"MDM 코드",minWidth:159},{field:"corporationName",headerName:"인사조직",minWidth:159,flex:1},{field:"vendorName",headerName:"소속 출장소",minWidth:159,flex:1},{field:"plateNumber",headerName:"차량번호",width:138},{field:"mdmManageNoCode",headerName:"관리번호",width:122},{field:"vehicleTypeName",headerName:"차종",width:124},{field:"tonName",headerName:"톤급",width:84},{field:"isUsed",headerName:"사용 여부",width:104,type:da._.VIEW_MODE_Y_OR_N},{field:"driverName",headerName:"운전자",width:126},{field:"driverPhoneNumber",headerName:"운전자 연락처",width:152},{field:"vendorVehicleDriverCount",headerName:"소속 운전자",width:112}],hC=[{field:"__check__",headerName:"",width:76,minWidth:76,maxWidth:76,sortable:!1,disableColumnMenu:!0,align:"right",headerClassName:"check-right-align"},{field:"No",headerName:"No.",headerAlign:"center",sortable:!1,width:48,type:da._.VIEW_MODE_ID},{field:"mdmCode",headerName:"MDM 코드(파트너)",width:159,required:!0,editable:!0},{field:"plateNumber",headerName:"차량번호",width:152,required:!0,editable:!0},{field:"vehicleType",headerName:"차종",width:152,required:!0,renderCell:e=>Qt({type:Ze.k.VEHICLE_TYPE,params:e})},{field:"tonCode",headerName:"톤급",width:152,required:!0,renderCell:e=>Qt({type:Ze.k.VEHICLE_TON_CODE,params:e})},{field:"driverName",headerName:"운전자명",width:152,required:!0,editable:!0},{field:"driverPhoneNumber",headerName:"운전자 연락처",width:152,flex:1,required:!0,editable:!0},{field:"isUsed",headerName:"활성 여부",width:152,required:!0,editable:!0,type:"boolean"}],fC={vendorId:0,plateNumber:"",mdmManageNoCode:"",vehicleType:"",tonCode:"",isUsed:"true",plateNumberValid:-1};function CC(e){return{vendorId:(null==e?void 0:e.vendorId)||0,plateNumber:(null==e?void 0:e.plateNumber)||"",mdmManageNoCode:(null==e?void 0:e.mdmManageNoCode)||"",vehicleType:(null==e?void 0:e.vehicleType)||"",tonCode:(null==e?void 0:e.tonCode)||"",isUsed:(null==e?void 0:e.isUsed)?"true":"false"}}function xC(e){let{vendorVehicleId:t,isRegister:a,setIsRegister:s,detailData:n,vehicleVendorListQuery:o,onSearch:i}=e;var d,c,p,h,f;const{commonMetaV2List:x}=(0,Je.X)(),{wrapGridRef:N,gridApiRef:y,form:E,validatePlateNumber:A,setValidatePlateNumber:g,vendorDetailColumns:T,options:I,handlePlateNumberCheck:b,handleVendorDriverAdd:R,handleVendorDriverDelete:S,onSubmitForm:_,onErrorForm:w,watchIsOriginVendor:O,formState:M,control:j,watchVendorId:P,watchPlateNumber:L,setValue:B,isRegisterMode:U}=function(e){let{vendorVehicleId:t,isRegister:a,setIsRegister:l,detailData:s,vehicleVendorListQuery:n,onSearch:o}=e;const i=(0,r.useRef)(null),d=(0,D.bBi)(),c=(0,$e.P9)(),[u,m]=(0,r.useState)(-1),p=v(),h=Kf(),f=zf(),C=Hf(),x=(0,Hr.mN)({defaultValues:CC(s),mode:"onChange",shouldUnregister:!0}),{control:N,handleSubmit:y,formState:E,watch:A,setValue:g,trigger:T}=x,I=A("vendorId"),b=A("plateNumber"),{vendorDetailColumns:R}=Jf(I),S=(0,r.useMemo)((()=>{var e;return null==n||null===(e=n.data)||void 0===e?void 0:e.map((e=>({id:e.vendorId,label:e.vendorName})))}),[null==n?void 0:n.data]);return(0,r.useEffect)((()=>{h.isError&&h.error&&c({message:h.error.message||"",type:"fail"})}),[h.isError]),(0,r.useEffect)((()=>{m(-1)}),[b]),(0,r.useEffect)((()=>{m(-1)}),[I]),(0,r.useEffect)((()=>{var e;a?(x.reset(fC,{keepDefaultValues:!1}),null==i||null===(e=i.current)||void 0===e||e.setInitData([])):x.reset(CC(s),{keepDefaultValues:!1})}),[a,s]),(0,r.useEffect)((()=>{var e,t,a;0===(null==s||null===(e=s.vendorVehicleDriverList)||void 0===e?void 0:e.length)?null==i||null===(t=i.current)||void 0===t||t.setInitData([]):null==i||null===(a=i.current)||void 0===a||a.setInitData(s.vendorVehicleDriverList)}),[s.vendorVehicleDriverList]),{wrapGridRef:i,gridApiRef:d,form:x,validatePlateNumber:u,setValidatePlateNumber:m,vendorDetailColumns:R,options:S,handlePlateNumberCheck:async()=>{const e=x.getValues("plateNumber"),t=x.getValues("vendorId");if(!e)return void c({message:"차량번호를 입력해주세요.",type:"caution"});const a={vendorId:t,plateNumber:e},l=await C.mutateAsync(a);m(l?0:1),l&&x.setError("plateNumber",{type:"manual",message:"이미 등록된 차량번호입니다."})},handleVendorDriverAdd:()=>{var e,t,a;(null==i||null===(e=i.current)||void 0===e?void 0:e.rows)&&0===i.current.rows.length?null==i||null===(t=i.current)||void 0===t||t.addRowToFirst({isUsed:!0}):null==i||null===(a=i.current)||void 0===a||a.addRowToFirst()},handleVendorDriverDelete:()=>{var e,t,a;const l=null==i||null===(e=i.current)||void 0===e?void 0:e.getSelectedRows(),r=null==i||null===(t=i.current)||void 0===t?void 0:t.getUnselectedRows();var s,n;if(l.some((e=>e.isUsed))&&r.length>0)return r[0].isUsed=!0,null==i||null===(s=i.current)||void 0===s||s.removeSelectedRow(!0),void(null==i||null===(n=i.current)||void 0===n||n.updateRows(r));null==i||null===(a=i.current)||void 0===a||a.removeSelectedRow(!0)},onSubmitForm:async e=>{var r,s;if(!(null==i||null===(r=i.current)||void 0===r?void 0:r.getAllRows()).some((e=>e.isUsed)))return void p({title:"차량 정보를 저장할 수 없습니다.",description:"차량에 1명의 운전자가 활성화되어야 저장할 수 있습니다.",confirmButtonLabel:"확인",hiddenCloseButton:!0});const n={vendorVehicleId:t||void 0,vendorId:Number(e.vendorId),plateNumber:e.plateNumber,vehicleType:e.vehicleType,vehicleTon:e.tonCode,isUsed:"true"===e.isUsed,driverList:null==i||null===(s=i.current)||void 0===s?void 0:s.getAllRows().map((e=>({vendorDriverId:e.vendorDriverId,isUsed:!!e.isUsed})))};a?await h.mutateAsync(n):await f.mutateAsync(n),o(),l(!1)},onErrorForm:e=>{var t;const a=Object.keys(e);"".concat(a[0]," ").concat((null===(t=e[a[0]])||void 0===t?void 0:t.message)||"입력값을 확인해주세요."),window.console.error(e)},formState:E,control:N,watchVendorId:I,watchPlateNumber:b,setValue:g,isRegisterMode:a}}({vendorVehicleId:t,isRegister:a,setIsRegister:s,detailData:n,vehicleVendorListQuery:o,onSearch:i});return(0,l.jsx)("div",{className:"flex flex-1 flex-col","data-sentry-component":"VehicleBranchDetail","data-sentry-source-file":"VehicleBranchDetail.tsx",children:(0,l.jsx)("form",{autoComplete:"off",onSubmit:E.handleSubmit(_,w),className:"flex flex-1",children:(0,l.jsxs)("div",{className:"flex flex-1 flex-col",children:[(0,l.jsx)("div",{className:C()("border-b-blue95 header flex flex-col border-b-[1px]",{"bg-grey98":a,"bg-blue98":!a}),children:a?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"flex items-center justify-between self-stretch px-[24px] pt-4",children:[(0,l.jsx)("div",{className:"Body5_M",children:"차량번호는 등록 후 수정이 불가능합니다."}),(0,l.jsx)(u.A,{type:"submit",label:"차량 등록",level:m.V.level_2,size:m.M.Small,leftIcon:(0,l.jsx)(Pt.A,{widht:16,height:16,className:"text-white"})})]}),(0,l.jsx)("div",{className:"flex h-[60px] w-full items-center justify-start gap-1 px-[24px] py-[16px]",children:(0,l.jsx)("div",{className:"Title3_EX",children:"새차량 등록하기"})})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"flex items-center justify-between self-stretch px-[24px] pt-4",children:[(0,l.jsx)("div",{className:"Body5_B",children:n.vendorName}),(0,l.jsx)(u.A,{type:"submit",label:"저장",level:m.V.level_2,size:m.M.Small,leftIcon:(0,l.jsx)(yt.A,{widht:16,height:16,className:"text-white"})})]}),(0,l.jsxs)("div",{className:"flex h-[60px] w-full items-center justify-start gap-1 px-[24px] py-[16px]",children:[(0,l.jsx)("div",{className:"Title3_EX",children:n.plateNumber}),(0,l.jsxs)("div",{className:"Body5_M",children:[n.vehicleTypeName," ",n.vehicleTypeName]})]})]})}),(0,l.jsxs)("div",{className:"flex flex-1 flex-col gap-[20px] p-[24px]",children:[(0,l.jsxs)("div",{className:"flex flex-1 flex-col",children:[(0,l.jsx)("div",{className:"Body5_B text-grey60 mb-[8px]",children:"차량 정보"}),(0,l.jsxs)(Vn,{"data-sentry-element":"InfoTable","data-sentry-source-file":"VehicleBranchDetail.tsx",children:[(0,l.jsx)(Fn,{required:!0,label:"소속 출장소",error:null===(d=M.errors.vendorId)||void 0===d?void 0:d.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"VehicleBranchDetail.tsx",children:(0,l.jsx)(Hr.xI,{name:"vendorId",control:j,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(He.A,{selectedId:t.value,disabled:!a,placeholder:"소속 출장소 선택",autocompleteBoxClassName:"w-full",options:I,componentType:"autocomplete-table",onChange:(e,a)=>t.onChange(a.id)})},"data-sentry-element":"Controller","data-sentry-source-file":"VehicleBranchDetail.tsx"})}),(0,l.jsx)(Fn,{required:!0,label:"차량번호",error:null===(c=M.errors.plateNumber)||void 0===c?void 0:c.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"VehicleBranchDetail.tsx",children:(0,l.jsx)(Hr.xI,{name:"plateNumber",control:j,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(Tt.A,{disabled:!a,value:t.value,componentType:"input-table",placeholder:"차량번호 입력",className:"flex-1",onChange:e=>t.onChange(e.target.value)}),a&&(0,l.jsx)("div",{className:"flex items-center gap-2",children:1==A?(0,l.jsxs)("div",{className:"text-success Caption1_B flex flex-none items-center",children:[(0,l.jsx)(Pt.A,{className:"text-success h-[20px] w-[20px]"}),"사용 가능"]}):(0,l.jsx)(u.A,{label:"중복 확인",level:m.V.level_5,size:m.M.Xsmall,onClick:b})})]})},"data-sentry-element":"Controller","data-sentry-source-file":"VehicleBranchDetail.tsx"})}),!a&&(0,l.jsx)(Fn,{label:"관리번호",error:null===(p=M.errors.mdmManageNoCode)||void 0===p?void 0:p.message,children:(0,l.jsx)(Hr.xI,{name:"mdmManageNoCode",control:j,render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{disabled:!a,value:t.value,componentType:"input-table",placeholder:"관리번호 입력",className:"flex-1",onChange:e=>t.onChange(formatterOnlyInt(e.target.value))})}})}),(0,l.jsx)(Fn,{required:!0,label:"차종",error:null===(h=M.errors.vehicleType)||void 0===h?void 0:h.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"VehicleBranchDetail.tsx",children:(0,l.jsx)(Hr.xI,{name:"vehicleType",control:j,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(He.A,{selectedId:t.value,placeholder:"차종 선택",autocompleteBoxClassName:"w-full",options:x[Ze.k.VEHICLE_TYPE],componentType:"autocomplete-table",onChange:(e,a)=>t.onChange(a.id)})},"data-sentry-element":"Controller","data-sentry-source-file":"VehicleBranchDetail.tsx"})}),(0,l.jsx)(Fn,{required:!0,label:"톤급",error:null===(f=M.errors.tonCode)||void 0===f?void 0:f.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"VehicleBranchDetail.tsx",children:(0,l.jsx)(Hr.xI,{name:"tonCode",control:j,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(He.A,{selectedId:t.value,placeholder:"톤급 선택",autocompleteBoxClassName:"w-full",options:x[Ze.k.VEHICLE_TON_CODE],componentType:"autocomplete-table",onChange:(e,a)=>t.onChange(a.id)})},"data-sentry-element":"Controller","data-sentry-source-file":"VehicleBranchDetail.tsx"})}),(0,l.jsx)(Fn,{required:!0,label:"사용 여부","data-sentry-element":"InfoTableItem","data-sentry-source-file":"VehicleBranchDetail.tsx",children:(0,l.jsx)(Hr.xI,{name:"isUsed",control:j,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(Un,{groupName:"isUsed",items:[{id:"true",label:"사용"},{id:"false",label:"사용안함"}],...t})},"data-sentry-element":"Controller","data-sentry-source-file":"VehicleBranchDetail.tsx"})})]})]}),(0,l.jsxs)("div",{className:"flex flex-1 flex-col gap-2",children:[(0,l.jsxs)("div",{className:"flex",children:[(0,l.jsx)("div",{className:"Body5_B text-grey60 mb-[8px]",children:"소속 운전자"}),(0,l.jsxs)("div",{className:"ml-auto flex items-center gap-2",children:[(0,l.jsx)(ja,{handleDeleteComplete:S,"data-sentry-element":"TmsDataGridDeleteCompleteBtn","data-sentry-source-file":"VehicleBranchDetail.tsx"}),(0,l.jsx)(St.A,{handleAddRow:R,"data-sentry-element":"TmsDataGridAddRowBtn","data-sentry-source-file":"VehicleBranchDetail.tsx"})]})]}),(0,l.jsx)("div",{className:"flex w-full flex-1",children:(0,l.jsx)(Fa.A,{ref:N,gridApiRef:y,columns:T,columnVisibilityModel:{driverName:!1,driverPhoneNumber:!1},checkboxSelection:!0,"data-sentry-element":"WrapperBasicDataGrid","data-sentry-source-file":"VehicleBranchDetail.tsx"})})]})]})]})})})}const NC=()=>(0,T.n)(["vehicleBranch/VehicleBranchDriverValidateMutation"],(async e=>(await I.q.api((t=>t.ApiVendorVehicleV1BranchDriverValidate(e)))).data.result)),yC=()=>(0,T.n)(["vehicleBranch/VehicleBranchDriverCreateMutation"],(async e=>(await I.q.api((t=>t.ApiVendorVehicleV1BranchDriverCreate(e)))).data.result));function EC(e){let{options:t,onClose:a}=e;var s,n,o;const i=NC(),d=yC(),c=(0,$e.P9)(),u=(0,Hr.mN)({defaultValues:{vendorId:0,driverPhoneNumber:"",driverName:""},mode:"onChange",shouldUnregister:!0}),{control:m,handleSubmit:p,formState:h,setError:f,reset:C}=u;return(0,r.useEffect)((()=>{if(d.isError&&d.error.message){const e=d.error.message;c({message:e,type:"caution",delay:3e3}),e.includes("연락처")&&f("driverPhoneNumber",{type:"manual",message:d.error.message})}}),[d.isError]),(0,l.jsx)(Pe.A,{title:"새 운전자 추가하기",onClickCloseButton:a,modalWidth:612,modalContentHeight:136,isShowedConfirmButton:!0,confirmButtonLabel:"추가하기",onClickConfirmButton:p((async e=>{if(await i.mutateAsync({vendorId:e.vendorId,driverPhoneNumber:e.driverPhoneNumber})){await d.mutateAsync({vendorId:e.vendorId,driverPhoneNumber:e.driverPhoneNumber,driverName:e.driverName})&&a()}}),(e=>{})),"data-sentry-element":"TmsBasicModal","data-sentry-component":"VehicleBranchVendorDriverManagementModalAdd","data-sentry-source-file":"VehicleBranchVendorDriverManagementModal.tsx",children:(0,l.jsx)("div",{className:"flex gap-[16px]",children:(0,l.jsx)("div",{className:"flex flex-1 flex-col",children:(0,l.jsx)("form",{autoComplete:"off",className:"flex flex-1",children:(0,l.jsxs)(Vn,{"data-sentry-element":"InfoTable","data-sentry-source-file":"VehicleBranchVendorDriverManagementModal.tsx",children:[(0,l.jsx)(Fn,{required:!0,label:"소속 출장소",error:null===(s=h.errors.vendorId)||void 0===s?void 0:s.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"VehicleBranchVendorDriverManagementModal.tsx",children:(0,l.jsx)(Hr.xI,{name:"vendorId",control:m,rules:{required:Hn.required},render:e=>{let{field:a}=e;return(0,l.jsx)(He.A,{selectedId:a.value,placeholder:"소속 출장소 선택",autocompleteBoxClassName:"w-full",options:t,componentType:"autocomplete-table",onChange:(e,t)=>a.onChange(t.id)})},"data-sentry-element":"Controller","data-sentry-source-file":"VehicleBranchVendorDriverManagementModal.tsx"})}),(0,l.jsx)(Fn,{required:!0,label:"운전자 연락처",error:null===(n=h.errors.driverPhoneNumber)||void 0===n?void 0:n.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"VehicleBranchVendorDriverManagementModal.tsx",children:(0,l.jsx)(Hr.xI,{name:"driverPhoneNumber",control:m,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{value:t.value,componentType:"input-table",placeholder:"운전자 연락처 입력",onChange:e=>t.onChange(e.target.value)})},"data-sentry-element":"Controller","data-sentry-source-file":"VehicleBranchVendorDriverManagementModal.tsx"})}),(0,l.jsx)(Fn,{required:!0,label:"운전자명",error:null===(o=h.errors.driverName)||void 0===o?void 0:o.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"VehicleBranchVendorDriverManagementModal.tsx",children:(0,l.jsx)(Hr.xI,{name:"driverName",control:m,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{value:t.value,componentType:"input-table",placeholder:"운전자명 입력",onChange:e=>t.onChange(e.target.value)})},"data-sentry-element":"Controller","data-sentry-source-file":"VehicleBranchVendorDriverManagementModal.tsx"})})]})})})})})}var vC=function(e){let{onClose:t}=e;var a;const[s,n]=r.useState([]),[o,i]=r.useState(null),[d,c]=(0,r.useState)(!1),[u,m]=(0,r.useState)(),p=Wf(),h=(0,T.n)(["vehicleBranch/VehicleBranchDriverListMutation"],(async e=>(await I.q.api((t=>t.ApiVendorVehicleV1BranchDriverList(e)))).data.result.vendorVehicleDriverList)),f=(0,T.n)(["vehicleBranch/VehicleBranchDriverDeleteMutation"],(async e=>(await I.q.api((t=>t.ApiVendorVehicleV1BranchDriverDelete(e)))).data.result)),C=async()=>{const e={vendorId:o};h.mutateAsync(e)},x=null==p||null===(a=p.data)||void 0===a?void 0:a.map((e=>({id:e.vendorId,label:e.vendorName})));return(0,r.useEffect)((()=>{p.refetch()}),[]),(0,r.useEffect)((()=>{h.isSuccess&&n(h.data)}),[h.isSuccess]),(0,r.useEffect)((()=>{h.mutateAsync({})}),[]),(0,l.jsxs)(Pe.A,{title:"출장소 운전자 관리",onClickCloseButton:t,isShowedConfirmButton:!1,modalWidth:1280,modalContentHeight:448,"data-sentry-element":"TmsBasicModal","data-sentry-component":"VehicleBranchVendorDriverManagementModal","data-sentry-source-file":"VehicleBranchVendorDriverManagementModal.tsx",children:[(0,l.jsxs)("div",{className:"flex gap-[16px]",children:[(0,l.jsx)(He.A,{label:"출장소",selectedId:String(o),placeholder:"출장소 선택",autocompleteBoxSize:Ha.A.Small,autocompleteSize:Ha.A.Small,autocompleteBoxClassName:"w-[196px]",options:x,onChange:(e,t)=>{i(t.id)},"data-sentry-element":"TmsBasicAutocomplete","data-sentry-source-file":"VehicleBranchVendorDriverManagementModal.tsx"}),(0,l.jsx)(rC.A,{onClick:C,"data-sentry-element":"ModalSearchButton","data-sentry-source-file":"VehicleBranchVendorDriverManagementModal.tsx"}),(0,l.jsxs)("div",{className:"ml-auto flex gap-2",children:[(0,l.jsx)(ja,{handleDeleteComplete:async()=>{const e={driverList:[...u]};await f.mutateAsync(e)&&C()},"data-sentry-element":"TmsDataGridDeleteCompleteBtn","data-sentry-source-file":"VehicleBranchVendorDriverManagementModal.tsx"}),(0,l.jsx)(St.A,{label:"추가",handleAddRow:()=>c(!0),"data-sentry-element":"TmsDataGridAddRowBtn","data-sentry-source-file":"VehicleBranchVendorDriverManagementModal.tsx"})]})]}),(0,l.jsx)("div",{className:"mt-[12px] flex h-[406px]",children:(0,l.jsx)(Fe.A,{checkboxSelection:!0,rows:s,getRowId:e=>e.vendorDriverId,columns:oC,onRowSelectionModelChange:e=>m(e),"data-sentry-element":"TmsBasicDataGrid","data-sentry-source-file":"VehicleBranchVendorDriverManagementModal.tsx"})}),d&&(0,l.jsx)(EC,{options:x,onClose:()=>{c(!1),C()}})]})};const AC=()=>(0,T.n)(["VehicleManagementExcelDownloadMutation"],(async e=>(await I.q.api((t=>t.ApiVendorVehicleV1BranchListExcel(e,{format:"blob"})))).data));const gC=()=>{const e=(0,T.n)(["VehicleManagementExcelUploadMutation"],(async e=>(await I.q.api((t=>t.ApiVendorVehicleV1BranchListExcelUpload(e)))).data.result)),t=(0,T.n)(["VehicleManagementExcelUploadValidateMutation"],(async e=>{const[t]=await Promise.all([I.q.api((t=>t.ApiVendorVehicleV1BranchListExcelValidate(e)))]);return t.data.result})),a=(0,T.n)(["VehicleManagementExcelUploadSaveMutation"],(async e=>(await I.q.api((t=>t.ApiVendorVehicleV1BranchListExcelSave(e)))).data.result));return{handleFileUpload:t=>{e.mutateAsync({file:t[0]})},handleValidation:e=>{t.mutateAsync({list:uC.toList(e)})},handleUploadListRegister:()=>{a.mutateAsync({list:uC.toList(t.data.list)})},excelUploadMutation:e,excelUploadValidateMutation:t,excelUploadSaveMutation:a}};const TC=()=>(0,T.n)(["vehicleConsignment/VehicleConsignmentModifyMutation"],(async e=>(await I.q.api((t=>t.ApiVendorVehicleV1ConsignmentModify(e)))).data.result)),IC=[{field:"__check__",headerName:"",width:76,minWidth:76,maxWidth:76,sortable:!1,disableColumnMenu:!0,align:"right",headerClassName:"check-right-align"},{field:"No",headerName:"No.",headerAlign:"center",sortable:!1,width:48,type:da._.VIEW_MODE_ID},{field:"mdmCorporationName",headerName:"인사조직",minWidth:218},{field:"mdmCostCenterName",headerName:"코스트센터",minWidth:218},{field:"plateNumber",headerName:"차량번호",width:138},{field:"mdmManageNoCode",headerName:"관리번호",width:122},{field:"vehicleTypeName",headerName:"차종",width:124},{field:"tonName",headerName:"톤급",width:84},{field:"mdmCode",headerName:"MDM 코드",width:152},{field:"driverName",headerName:"운전자",width:116},{field:"driverPhoneNumber",headerName:"운전자 연락처",width:154}],bC={mdmCostCenterName:"",mdmCostCenterCode:"",vendorId:null,vendorName:"",plateNumber:"",mdmManageNoCode:"",vehicleType:null,vehicleTypeName:"",tonCode:"",tonName:"",isOriginVendor:!1,isUsed:!1,mdmCode:"",vendorVehicleCostCenterHistoryList:[]};function RC(e){let{isRegister:t,detailData:a,onSearch:s}=e;(0,$e.P9)();const[n,o]=(0,r.useState)([]),{commonMetaV2List:i}=(0,Je.X)(),{costCenterChangeHistoryColumns:d}=$f(),c=TC(),p=(0,Hr.mN)({defaultValues:bC,mode:"onChange",shouldUnregister:!0}),{control:h,handleSubmit:f,formState:x,reset:N}=p;return(0,r.useEffect)((()=>{a?(N({mdmCostCenterName:a.mdmCostCenterName,mdmCostCenterCode:a.mdmCostCenterCode,vendorId:a.vendorId,vendorName:a.vendorName,plateNumber:a.plateNumber,mdmManageNoCode:a.mdmManageNoCode,vehicleType:a.vehicleType,vehicleTypeName:a.vehicleTypeName,tonCode:a.tonCode,tonName:a.tonName,isOriginVendor:a.isOriginVendor,isUsed:a.isUsed,mdmCode:a.mdmCode,vendorVehicleCostCenterHistoryList:a.vendorVehicleCostCenterHistoryList,vendorVehicleId:a.vendorVehicleId,mdmCorporationName:a.mdmCorporationName}),o(a.vendorVehicleCostCenterHistoryList.map(((e,t)=>({id:t,...e}))))):N(bC)}),[a,N]),(0,l.jsx)("div",{className:"flex flex-1 flex-col","data-sentry-component":"VehicleConsignmentDetail","data-sentry-source-file":"VehicleConsignmentDetail.tsx",children:(0,l.jsx)("form",{autoComplete:"off",onSubmit:f((async e=>{const t={vendorVehicleId:e.vendorVehicleId,vendorId:e.vendorId,mdmCostCenterCode:e.mdmCostCenterCode};await c.mutateAsync(t)&&s()}),(e=>{})),className:"flex flex-1",children:(0,l.jsxs)("div",{className:"flex flex-1 flex-col",children:[(0,l.jsx)("div",{className:C()("border-b-blue95 header flex flex-col border-b-[1px]",{"bg-grey98":t,"bg-blue98":!t}),children:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"flex items-center justify-between self-stretch px-[24px] pt-4",children:[(0,l.jsx)("div",{className:"Body5_B",children:a.mdmCostCenterName||""}),(0,l.jsx)(u.A,{type:"submit",label:"저장",level:m.V.level_2,size:m.M.Small,leftIcon:(0,l.jsx)(yt.A,{widht:16,height:16,className:"text-white"}),"data-sentry-element":"TmsBasicButton","data-sentry-source-file":"VehicleConsignmentDetail.tsx"})]}),(0,l.jsxs)("div",{className:"flex h-[60px] w-full items-center justify-start gap-1 px-[24px] py-[16px]",children:[(0,l.jsx)("div",{className:"Title3_EX",children:a.plateNumber}),(0,l.jsxs)("div",{className:"Body5_M",children:[a.vehicleTypeName," ",a.tonName]})]})]})}),(0,l.jsxs)("div",{className:"flex flex-1 flex-col gap-[20px] p-[24px]",children:[(0,l.jsxs)("div",{className:"flex flex-1 flex-col",children:[(0,l.jsx)("div",{className:"Body5_B text-grey60 mb-[8px]",children:"차량 정보"}),(0,l.jsxs)(Vn,{"data-sentry-element":"InfoTable","data-sentry-source-file":"VehicleConsignmentDetail.tsx",children:[(0,l.jsx)(Fn,{label:"차량번호","data-sentry-element":"InfoTableItem","data-sentry-source-file":"VehicleConsignmentDetail.tsx",children:(0,l.jsx)(Hr.xI,{name:"plateNumber",control:h,render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{disabled:!0,value:t.value,componentType:"input-table",className:"flex-1",onChange:e=>t.onChange(e.target.value)})},"data-sentry-element":"Controller","data-sentry-source-file":"VehicleConsignmentDetail.tsx"})}),(0,l.jsx)(Fn,{label:"관리번호","data-sentry-element":"InfoTableItem","data-sentry-source-file":"VehicleConsignmentDetail.tsx",children:(0,l.jsx)(Hr.xI,{name:"mdmManageNoCode",control:h,render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{disabled:!0,value:t.value,componentType:"input-table",className:"flex-1",onChange:e=>t.onChange(e.target.value)})},"data-sentry-element":"Controller","data-sentry-source-file":"VehicleConsignmentDetail.tsx"})}),(0,l.jsx)(Fn,{label:"차종","data-sentry-element":"InfoTableItem","data-sentry-source-file":"VehicleConsignmentDetail.tsx",children:(0,l.jsx)(Hr.xI,{name:"vehicleTypeName",control:h,render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{disabled:!0,value:t.value,componentType:"input-table",className:"flex-1",onChange:e=>t.onChange(e.target.value)})},"data-sentry-element":"Controller","data-sentry-source-file":"VehicleConsignmentDetail.tsx"})}),(0,l.jsx)(Fn,{label:"톤급","data-sentry-element":"InfoTableItem","data-sentry-source-file":"VehicleConsignmentDetail.tsx",children:(0,l.jsx)(Hr.xI,{name:"tonName",control:h,render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{disabled:!0,value:t.value,componentType:"input-table",className:"flex-1",onChange:e=>t.onChange(e.target.value)})},"data-sentry-element":"Controller","data-sentry-source-file":"VehicleConsignmentDetail.tsx"})}),(0,l.jsx)(Fn,{label:"MDM 코드","data-sentry-element":"InfoTableItem","data-sentry-source-file":"VehicleConsignmentDetail.tsx",children:(0,l.jsx)(Hr.xI,{name:"mdmCode",control:h,render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{disabled:!0,value:t.value,componentType:"input-table",className:"flex-1",onChange:e=>t.onChange(e.target.value)})},"data-sentry-element":"Controller","data-sentry-source-file":"VehicleConsignmentDetail.tsx"})}),(0,l.jsx)(Fn,{label:"운전자","data-sentry-element":"InfoTableItem","data-sentry-source-file":"VehicleConsignmentDetail.tsx",children:(0,l.jsx)(Hr.xI,{name:"driverName",control:h,render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{disabled:!0,value:t.value,componentType:"input-table",className:"flex-1",onChange:e=>t.onChange(e.target.value)})},"data-sentry-element":"Controller","data-sentry-source-file":"VehicleConsignmentDetail.tsx"})}),(0,l.jsx)(Fn,{label:"운전자 연락처","data-sentry-element":"InfoTableItem","data-sentry-source-file":"VehicleConsignmentDetail.tsx",children:(0,l.jsx)(Hr.xI,{name:"driverPhoneNumber",control:h,render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{disabled:!0,value:t.value,componentType:"input-table",className:"flex-1",onChange:e=>t.onChange(e.target.value)})},"data-sentry-element":"Controller","data-sentry-source-file":"VehicleConsignmentDetail.tsx"})}),(0,l.jsx)(Fn,{label:"코스트 센터",required:!0,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"VehicleConsignmentDetail.tsx",children:(0,l.jsx)(Hr.xI,{name:"mdmCostCenterCode",control:h,render:e=>{let{field:t}=e;return(0,l.jsx)(He.A,{selectedId:t.value,placeholder:"코스트 센터",autocompleteBoxClassName:"w-full",options:i[Ze.k.COMMON_MDM_COST_CENTER_PURCHASE_CODE],componentType:"autocomplete-table",onChange:(e,a)=>t.onChange(a.id)})},"data-sentry-element":"Controller","data-sentry-source-file":"VehicleConsignmentDetail.tsx"})}),(0,l.jsx)(Fn,{label:"인사 조직","data-sentry-element":"InfoTableItem","data-sentry-source-file":"VehicleConsignmentDetail.tsx",children:(0,l.jsx)(Hr.xI,{name:"mdmCorporationName",control:h,render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{disabled:!0,value:t.value,componentType:"input-table",className:"flex-1",onChange:e=>t.onChange(e.target.value)})},"data-sentry-element":"Controller","data-sentry-source-file":"VehicleConsignmentDetail.tsx"})}),(0,l.jsx)(Fn,{label:"사용 여부","data-sentry-element":"InfoTableItem","data-sentry-source-file":"VehicleConsignmentDetail.tsx",children:(0,l.jsx)(Hr.xI,{name:"isUsed",control:h,render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{disabled:!0,value:"true"==t.value?"사용":"미사용",componentType:"input-table",className:"flex-1",onChange:e=>t.onChange(e.target.value)})},"data-sentry-element":"Controller","data-sentry-source-file":"VehicleConsignmentDetail.tsx"})})]})]}),(0,l.jsxs)("div",{className:"flex flex-1 flex-col",children:[(0,l.jsx)("div",{className:"Body5_B text-grey60 mb-[8px]",children:"코스트 센터 변경 이력"}),(0,l.jsx)("div",{className:"flex w-full flex-1",children:(0,l.jsx)(Fe.A,{columns:d,rows:n,"data-sentry-element":"TmsBasicDataGrid","data-sentry-source-file":"VehicleConsignmentDetail.tsx"})})]})]})]})})})}var SC,_C;function wC(){return wC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},wC.apply(null,arguments)}var OC=function(e){return r.createElement("svg",wC({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20"},e),r.createElement("mask",{id:"icon-send_svg__a",width:20,height:20,x:0,y:0,maskUnits:"userSpaceOnUse",style:{maskType:"alpha"}},SC||(SC=r.createElement("path",{fill:"#D9D9D9",d:"M0 0h20v20H0z"}))),_C||(_C=r.createElement("g",{mask:"url(#icon-send_svg__a)"},r.createElement("path",{fill:"currentColor",d:"m19.034 9.8-17.9-7.283S1.075 2.5 1.05 2.5a.215.215 0 0 0-.217.217v14.575c0 .125.1.216.217.216.025 0 .059 0 .083-.016l17.9-7.284c.175-.075.175-.325 0-.391zM2.166 9.258 4.475 10l-2.308.742zm0 6.367V12.15l6.025-1.942c.183-.058.183-.341 0-.408L2.167 7.858V4.383l13.816 5.625z"}))))};function MC(e){let{label:t,isDisabled:a,handleInvite:r}=e;return(0,l.jsx)(u.A,{label:null!=t?t:"앱 초대하기",disabled:a,level:m.V.level_5,size:m.M.Small,onClick:r,leftIcon:(0,l.jsx)(OC,{width:16,height:16,className:"text-grey50"}),"data-sentry-element":"TmsBasicButton","data-sentry-component":"TmsDataGridInviteRowBtn","data-sentry-source-file":"TmsDataGridInviteBtn.tsx"})}const DC={totalSummary:{count:0,totalAmount:0},confirmedSummary:{count:0,totalAmount:0},unconfirmedSummary:{count:0,totalAmount:0}},jC=(0,mt.vt)(((e,t)=>({tabInfoFix:DC,setTabInfoFix:t=>e({tabInfoFix:t}),tabInfoChargeFix:DC,setTabInfoChargeFix:t=>e({tabInfoChargeFix:t}),tabInfoAccount:DC,setTabInfoChargeAccount:t=>e({tabInfoAccount:t}),tabInfoAccountCancel:DC,setTabInfoChargeAccountCancel:t=>e({tabInfoAccountCancel:t}),resetAllTab:()=>e({tabInfoFix:DC,tabInfoChargeFix:DC,tabInfoAccount:DC,tabInfoAccountCancel:DC}),isChangeInfoCheck:!1,setIsChangeInfoCheck:t=>e({isChangeInfoCheck:t})})));function PC(e){let{initialParams:t,searchParams:a,setSearchParams:r,onSearch:s,isValidationSearch:n}=e;const{costCenterSalesOptionsByUser:o,mdmCorporationOptionsByUser:i}=xf();return(0,l.jsx)(Ve.A.Provider,{initialParams:t,params:a,setParams:r,onSearch:s,"data-sentry-element":"SearchFilter.Provider","data-sentry-component":"FixSalesFilter","data-sentry-source-file":"FixSalesFilter.tsx",children:e=>(0,l.jsxs)(ah,{children:[(0,l.jsx)(Ve.A.SearchDate,{label:"기간",options:[{id:R.mUs.PICKUP,label:"상차일자"},{id:R.mUs.DELIVERY_COMPLETE,label:"운송실적확정일자"}],optionsClassName:"!w-[110px]"}),(0,l.jsx)(Ve.A.SearchMultiAutocomplete,{required:!0,label:"매출조직",fieldName:"commonMdmCostCenterSalesCode",options:o,isSearchValidation:null==n?void 0:n.commonMdmCostCenterSalesCode,isShowDefaultOption:!1,className:"!w-[241px]"}),(0,l.jsx)(Ve.A.SearchMultiAutocomplete,{required:!0,label:"인사조직",fieldName:"commonMdmCorporationCode",options:i,className:"!max-w-[241px]",isSearchValidation:null==n?void 0:n.commonMdmCorporationCode}),(0,l.jsx)(Ve.A.CustomerNameMultiAutocomplete,{label:"화주",className:"!w-[248px]"}),(0,l.jsx)(Ve.A.SearchText,{label:"하차지명",placeholder:"하차지명 입력",fieldName:"arrivalNodeName",className:"min-w-[150px] max-w-[246px]"}),(0,l.jsxs)("div",{className:"flex h-[28px] items-center gap-[2px]",children:[(0,l.jsx)(So.A,{label:"담당자"}),(0,l.jsxs)("div",{className:"flex flex-row gap-[2px]",children:[(0,l.jsx)(Ve.A.AllMetaAutocompleteSearch,{allMetaType:Ze.k.SETTLEMENT_MANAGER_SEARCH_TYPE,className:"!w-[110px]",isUseAllOption:!1}),(0,l.jsx)(Ve.A.MdmAdminMultiAutocomplete,{fieldName:"managerUserIds",autocompleteBoxClassName:"!w-full"})]})]}),(0,l.jsx)(Ve.A.ItemNameMultiAutocomplete,{label:"품목",className:"!w-[241px]"}),(0,l.jsx)(Ve.A.SearchText,{label:"배차번호",placeholder:"배차번호 입력",fieldName:"orderTransferDispatchNo",className:"!max-w-[241px]"}),(0,l.jsx)(Ve.A.SearchText,{label:"요청사항",placeholder:"요청사항 입력",fieldName:"remark",className:"max-w-[248px]"})]})})}const LC=()=>(0,T.n)(["useUnBillingCustomerChangeMutation"],(async e=>(await I.q.api((t=>t.ApiV1SettlementSalesConfirmationsUnBillingCustomerChangeRequest(e)))).data.result)),BC=()=>(0,T.n)(["useUnBillingApprovalsMutation"],(async e=>(await I.q.api((t=>t.ApiV1SettlementSalesConfirmationsUnBillingApprovalsRequest(e)))).data.result)),UC=()=>(0,T.n)(["useBillingConfirmMutation"],(async e=>(await I.q.api((t=>t.ApiV1SettlementSalesBillingConfirm(e)))).data.result)),VC=e=>{let{toast:t,searchParams:a,activeTab:l,currentActiveTab:s,gridCurrent:n}=e;const o=!a.commonMdmCostCenterSalesCode,i=!a.commonMdmCorporationCode,d=o||i||l!==s,[c,u]=(0,r.useState)({commonMdmCostCenterSalesCode:!1,commonMdmCorporationCode:!1});return{isValidationSearch:c,isCheckedSearch:d,isCheckedSearchInfo:()=>o?(t({message:"매출조직을 먼저 조회해주세요.",type:"caution"}),u({commonMdmCostCenterSalesCode:o,commonMdmCorporationCode:i}),!1):i?(t({message:"인사조직을 먼저 조회해주세요.",type:"caution"}),u({commonMdmCostCenterSalesCode:o,commonMdmCorporationCode:i}),!1):(u({commonMdmCostCenterSalesCode:!1,commonMdmCorporationCode:!1}),!0),isCheckSelectedRow:()=>0!==Array.from(n.getSelectedRows().values()).length||(t({message:"항목을 선택해 주세요.",type:"caution"}),!1),isCheckDateRange:()=>{var e;const l=je()(null!==(e=a.startDate)&&void 0!==e?e:new Date);var r;return!(je()(null!==(r=a.endDate)&&void 0!==r?r:new Date).diff(l,"day")>45)||(t({message:"조회기간은 45일을 넘길 수 없습니다.",type:"caution"}),!1)}}},FC=e=>{let{activeTab:t,activeSubTab:a,salesSearchParams:l,setSalesSearchParams:n}=e;const o=(0,$e.P9)(),i=(0,ya.c5)(),{commonMetaV2List:d}=(0,Je.X)(),[c,u]=(0,r.useState)(l),m=(0,D.bBi)(),p=(0,r.useRef)(null);var h;const{setInitData:f}=null!==(h=null==p?void 0:p.current)&&void 0!==h?h:{},[C,x]=(0,r.useState)([]),{setTabInfoFix:N,setIsChangeInfoCheck:y}=jC(),[E,v]=(0,r.useState)({isOpened:!1,title:"",description:"",confirmButtonLabel:"",confirmButtonType:"normal"}),{mutateAsync:A,isSuccess:g,data:b}=(0,T.n)(["useSettlementSalesConfirmationsListMutation"],(async e=>(await I.q.api((t=>t.ApiV1SettlementSalesConfirmations(e)))).data.result)),{mutateAsync:S,isSuccess:_,data:w}=(0,T.n)(["useSettlementSalesConfirmationsExcelMutation"],(async e=>(await I.q.api((t=>t.ApiV1SettlementSalesConfirmationsExcel(e,{format:"blob"})))).data)),{mutateAsync:O,...M}=(0,T.n)(["useSettlementSalesConfirmMutation"],(async e=>(await I.q.api((t=>t.ApiV1SettlementSalesConfirm(e)))).data.result)),{mutateAsync:j,...P}=(0,T.n)(["useSettlementSalesCancelMutation"],(async e=>(await I.q.api((t=>t.ApiV1SettlementSalesConfirmCancel(e)))).data.result)),L={searchType:""===c.searchType?R.zji.PICKUP:c.searchType,fromDate:c.startDate,toDate:c.endDate,salesMdmCostCenterCodes:c.commonMdmCostCenterSalesCode,mdmCorporationCodes:c.commonMdmCorporationCode,managerUserIds:c.managerUserIdsMdmEmpNo,isCompleted:a,customerIds:c.customerId,orderTransferDispatchNo:c.orderTransferDispatchNo,arrivalNodeName:c.arrivalNodeName,mdmItemCodes:c.itemCode,managerSearchType:""===c.settlementManagerSearchType?d.SETTLEMENT_MANAGER_SEARCH_TYPE[0].id:c.settlementManagerSearchType,remark:c.remark},B=async()=>{await A(L)},{isValidationSearch:U,isCheckedSearch:V,isCheckedSearchInfo:F,isCheckSelectedRow:G,isCheckDateRange:k}=VC({toast:o,searchParams:c,activeTab:t,currentActiveTab:s.Tb,gridCurrent:m.current}),Y=()=>{F()&&k()&&B()};return(0,r.useLayoutEffect)((()=>{V||B()}),[t,a]),(0,r.useEffect)((()=>{g&&(f(b.responseList.map((e=>({...e,pickupRequestAt:je()(null==e?void 0:e.pickupRequestAt).locale("ko").format("YYYY-MM-DD ddd")})))),N(b.summary),y(!1))}),[b]),$h({toast:o,tmsAlert:i,apiRest:M,successMsg:"매출 청구 ".concat(C.length,"건이 확정되었습니다."),successFunction:()=>{v({isOpened:!1}),Y(),y(!1)},errorTitle:"매출 청구 확정을 위한 조건을 확인해 주시기 바랍니다.",errorFunction:()=>{v({isOpened:!1})}}),$h({toast:o,tmsAlert:i,apiRest:P,successMsg:"매출 정산 ".concat(C.length,"건이 확정 취소되었습니다."),successFunction:()=>{v({isOpened:!1}),Y()},errorTitle:"매출 정산 확정 취소에 실패했습니다.",errorFunction:()=>{v({isOpened:!1})}}),{searchParams:c,handleSetParams:e=>{u(e),n(e)},handleSearchChildren:Y,gridApiRef:m,wrapGridRef:p,handleFixComplete:async()=>{const e=Array.from(m.current.getSelectedRows().values()).map((e=>e.orderTransferDispatchId));a?await j({orderTransferDispatchId:e}):await O({orderTransferDispatchId:e})},checkConfirmInfo:E,setCheckConfirmInfo:v,setRowSelectionModel:x,isValidationSearch:U,isCheckSelectedRow:G,rowSelectionModel:C,handleExcelDownload:async()=>{F()&&k()&&await S(L)},isSuccessFixExcel:_,dataFixExcel:w}};function GC(e){let{searchParams:t,initialParams:a,setSearchParams:r,onSearch:s,isValidationSearch:n}=e;const{costCenterPurchaseOptionsByUser:o,mdmCorporationOptionsByUser:i}=xf();return(0,l.jsx)(Ve.A.Provider,{initialParams:a,params:t,setParams:r,onSearch:s,"data-sentry-element":"SearchFilter.Provider","data-sentry-component":"FixPurchaseSettlementFilter","data-sentry-source-file":"FixPurchaseSettlementFilter.tsx",children:e=>(0,l.jsxs)(ah,{children:[(0,l.jsx)(Ve.A.SearchDate,{label:"기간",options:[{id:R.mUs.PICKUP,label:"상차일자"},{id:R.mUs.DELIVERY_COMPLETE,label:"운송실적확정일"}]}),(0,l.jsx)(Ve.A.SearchMultiAutocomplete,{required:!0,label:"매입조직",className:"max-w-[225px]",isShowDefaultOption:!1,fieldName:"commonMdmCostCenterPurchaseCode",options:o,isSearchValidation:n}),(0,l.jsx)(Ve.A.SearchMultiAutocomplete,{label:"인사조직",className:"!max-w-[228px]",fieldName:"commonMdmCorporationCode",options:i}),(0,l.jsx)(Ve.A.CustomerNameMultiAutocomplete,{label:"화주",className:"!max-w-[228px]"}),(0,l.jsx)(Ve.A.VendorPartnerMultiAutocomplete,{label:"파트너",className:"!max-w-[228px]"}),(0,l.jsx)(Ve.A.MdmAdminMultiAutocomplete,{label:"배차등록자"}),(0,l.jsx)(Ve.A.AllMetaMultiAutocompleteSearch,{label:"기존 소속",allMetaType:Ze.k.COMMON_MDM_COST_CENTER_PURCHASE_CODE,className:"!max-w-[225px]",fieldName:"affiliateMdmCostCenterCodes"}),(0,l.jsx)(Ve.A.ItemNameMultiAutocomplete,{label:"품목",className:"!max-w-[228px]"}),(0,l.jsx)(Ve.A.AllMetaAutocompleteSearch,{label:"회원유형",allMetaType:Ze.k.VENDOR_TYPE,className:"!max-w-[228px]"}),(0,l.jsx)(Ve.A.SearchAutocomplete,{fieldName:"isExclusiveSettlement",label:"정산제외",options:[{id:"Y",label:"제외"},{id:"N",label:"미제외"}],autocompleteClassName:"!max-w-[228px]"}),(0,l.jsx)(Ve.A.SearchText,{label:"요청사항",placeholder:"요청사항 입력",fieldName:"orderRemark"}),(0,l.jsx)(Ve.A.SearchText,{label:"배차번호",placeholder:"배차번호 입력",fieldName:"dispatchNo",className:"max-w-[225px]"}),(0,l.jsx)(Ve.A.SearchText,{label:"모선명",placeholder:"모선명 입력",fieldName:"vesselName",className:"max-w-[228px]"})]})})}const kC=()=>(0,T.n)(["usePurchaseConfirmCancelMutation"],(async e=>(await I.q.api((t=>t.ApiV1SettlementPurchaseConfirmCancel(e)))).data.result)),YC=()=>(0,T.n)(["usePurchaseVendorChangeMutation"],(async e=>(await I.q.api((t=>t.ApiV1SettlementPurchaseVendorChange(e)))).data.result)),qC=()=>(0,T.n)(["usePurchaseConfirmationsUpdateMutation"],(async e=>(await I.q.api((t=>t.ApiV1SettlementPurchaseConfirmationsUpdate(e)))).data.result)),WC=()=>(0,T.n)(["useWndConfirmationsUpdateMutation"],(async e=>(await I.q.api((t=>t.ApiV1SettlementPurchaseWndConfirmationsUpdate(e)))).data.result)),HC=e=>{let{activeTab:t,activeSubTab:a,purchaseSearchParams:l,setPurchaseSearchParams:n}=e;const[o,i]=(0,r.useState)([]),d=(0,D.bBi)(),c=(0,r.useRef)(null);var u;const{rows:m,setInitData:p}=null!==(u=null==c?void 0:c.current)&&void 0!==u?u:{},h=(0,$e.P9)(),f=(0,ya.c5)(),[C,x]=(0,r.useState)(!1),[N,y]=(0,r.useState)(l),{setTabInfoFix:E,setIsChangeInfoCheck:v}=Xm(),A=!N||!N.commonMdmCostCenterPurchaseCode||t!==s.YT,{isCheckSelectedRow:g,isCheckDateRange:b}=Jh({toast:h,gridCurrent:d.current,searchParams:N}),[S,_]=(0,r.useState)({isOpened:!1,title:"",description:"",confirmButtonLabel:"",confirmButtonType:"normal",onClickConfirmButton:()=>null}),{isSuccess:w,mutateAsync:O,data:M}=(0,T.n)(["useSearchPurchaseConfirmationListMutation"],(async e=>(await I.q.api((t=>t.ApiV1SettlementPurchaseConfirmations(e)))).data.result)),{mutateAsync:j,isSuccess:P,data:L}=(0,T.n)(["useSearchPurchaseConfirmationExcelMutation"],(async e=>(await I.q.api((t=>t.ApiV1SettlementPurchaseConfirmationsExcel(e,{format:"blob"})))).data)),{mutateAsync:B,...U}=(0,T.n)(["useSavePurchaseConfirmationListPayloadMutation"],(async e=>(await I.q.api((t=>t.ApiV1SettlementPurchaseConfirm(e)))).data.result)),V=()=>{if(A)return h({message:"매입조직을 먼저 조회해주세요.",type:"caution"}),void x(!0);b()&&(x(!1),G())},F=()=>{const e={isConfirmed:a,searchType:""===N.searchType?R.zji.PICKUP:N.searchType,fromDate:N.startDate,toDate:N.endDate,purchaseMdmCostCenterCodes:N.commonMdmCostCenterPurchaseCode,customerIds:N.customerId,vendorIds:N.vendorId,dispatchManagerUserIds:N.managerUserIdsMdmEmpNo,affiliateMdmCostCenterCodes:N.affiliateMdmCostCenterCodes,mdmItemCodes:N.itemCode,vendorType:N.vendorType,orderRemark:N.orderRemark,vesselName:N.vesselName,orderTransferDispatchNo:N.dispatchNo,orderMdmCorporationCodes:N.commonMdmCorporationCode};return N.isExclusiveSettlement&&(e.isExclusiveSettlement="Y"===N.isExclusiveSettlement),e},G=async()=>{const e=F();await O(e)};return(0,r.useEffect)((()=>{A||G()}),[t,a]),$h({toast:h,tmsAlert:f,apiRest:U,successMsg:"총 ".concat(o.length,"건의 매입 정산 확정이 완료되었습니다."),successFunction:()=>{V(),_({isOpened:!1})},errorTitle:"매입 정산 확정에 실패하였습니다."}),(0,r.useEffect)((()=>{w&&M.responseList&&M.summary&&(p(M.responseList.map((e=>({...e,departureRequestAt:je()(e.departureRequestAt).locale("ko").format("YYYY-MM-DD ddd"),wciTarget:e.isWciTarget?"대상":"",notAppliedWci:e.isNotAppliedWci?"미대상":"",excludedFromSettlement:e.isExcludedFromSettlement?"제외":""})))),E(M.summary),v(!1))}),[M]),{handleChangeGroup:e=>{const t=Array.from(d.current.getSelectedRows().values()),a=t.map((t=>({...t,affiliateTeamCostCenterCodeName:e.mdmItemName,affiliateTeamCostCenterCode:e.mdmItemCode})));d.current.updateRows(a),v(!0),h({message:"총 ".concat(t.length,"건의 실적 소속 조직이 변경되었습니다.")})},handlePurchaseComplete:async()=>{const e=Array.from(d.current.getSelectedRows().values()).map(((e,t)=>({rowNum:t+1,orderTransferDispatchId:e.orderTransferDispatchId,affiliateMdmCostCenterCode:e.affiliateCostCenterCode,affiliateTeamMdmCostCenterCode:e.affiliateTeamCostCenterCode,isNotKosis:e.isNotAppliedWci})));await B(e)},rowSelectionModel:o,setRowSelectionModel:i,gridApiRef:d,handleSearchChildren:V,isValidationSearch:C,rowsFix:m,wrapGridRefFix:c,searchParams:N,handleSetParams:e=>{y(e),n(e)},isCheckSelectedRow:g,checkConfirmInfo:S,setCheckConfirmInfo:_,isSuccessPurchaseExcel:P,dataPurchaseExcel:L,handleExcelDownload:async()=>{const e=F();await j(e)}}};var KC=[{field:"no",headerName:"No.",sortable:!1,width:48,align:"center"},{field:"mdmCostCenterCode",headerName:"조직코드",filterable:!1,width:106},{field:"mdmCostCenterName",headerName:"조직명",filterable:!1,width:271},{field:"mdmCostCenterType",headerName:"조직구분",filterable:!1,width:100},{field:"mdmCostCenterType2",headerName:"조직구분2",filterable:!1,width:147}];function zC(e){let{setIsOpened:t,onRowDoubleClickProps:a}=e;const[s,n]=(0,r.useState)({}),[o,i]=(0,r.useState)([]),{mutateAsync:d,isSuccess:c,data:u}=(0,Wt.QK)(),m=async()=>{await d({mdmCostCenterTypes:s.commonMdmCostCenterCategoryCode,mdmCostCenterSearchValue:s.mdmCostCenterSearchValue})};return(0,r.useEffect)((()=>{c&&i(u.mdmCostCenterList)}),[u]),(0,r.useEffect)((()=>{m()}),[]),(0,l.jsxs)(Pe.A,{title:"조직 조회",onClickCloseButton:()=>t(!1),isShowedConfirmButton:!1,modalWidth:720,modalContentHeight:448,"data-sentry-element":"TmsBasicModal","data-sentry-component":"GroupSearchModal","data-sentry-source-file":"GroupSearchModal.tsx",children:[(0,l.jsx)("div",{className:"flex gap-[16px]",children:(0,l.jsx)(Ve.A.Provider,{params:s,setParams:n,onSearch:m,"data-sentry-element":"SearchFilter.Provider","data-sentry-source-file":"GroupSearchModal.tsx",children:e=>(0,l.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,l.jsx)(Ve.A.AllMetaMultiAutocompleteSearch,{label:"조직 구분",allMetaType:Ze.k.COMMON_MDM_COST_CENTER_CATEGORY_CODE,optionsBoxWidth:200}),(0,l.jsx)(Ve.A.SearchText,{label:"조직명/코드",placeholder:"조직명/코드 입력",fieldName:"mdmCostCenterSearchValue",className:"w-[160px]"}),(0,l.jsx)("div",{className:"flex flex-none items-start gap-2",children:(0,l.jsx)(Ve.A.SearchButton,{})})]})})}),(0,l.jsx)("div",{className:"mt-[12px] flex h-[406px]",children:(0,l.jsx)(Fe.A,{rows:o,columns:KC,disableColumnMenu:!0,onRowDoubleClick:(e,l,r)=>{a(e,l,r),t(!1)},noRowDescription:{description_1:"조회된 조직 정보가 없습니다.",description_2:"조회 조건을 입력하거나, 조건을 다시 확인해 주세요."},getRowId:e=>e.no,"data-sentry-element":"TmsBasicDataGrid","data-sentry-source-file":"GroupSearchModal.tsx"})})]})}function XC(e){let{gridApiRefProps:t,setIsOpened:a}=e;const s=(0,$e.P9)(),{commonMetaV2List:n}=(0,Je.X)(),{setIsChangeInfoCheck:o}=Xm(),i={bizCode:"",bizCodeName:"",serviceCode:"",serviceCodeName:"",serviceCode2:"",serviceCode2Name:"",glAccountType:null,glAccountTypeName:"",materialCode:"",materialCodeName:""},[d,u]=(0,r.useState)(i),[m,p]=(0,r.useState)({id:"",label:"",children:[]}),{purchaseGlAccountOptions:h}=Tf({mutationKey:"ChangeAccountInfoModal",isActived:!0}),{serviceOptions:f,service2Options:C}=qp({isActived:!0,selectedOption:m,bizCode:d.bizCode}),x=e=>{u((t=>({...t,...e})))};return(0,l.jsx)(Pe.A,{modalWidth:612,modalContentHeight:240,title:"계정과목 변경",confirmButtonDisabled:c().isEqual(d,i),onClickCloseButton:()=>{u(i),a(!1)},onClickConfirmButton:()=>{const e=Array.from(t.current.getSelectedRows().values()),l=["wndPurchaseMdmCostCenterCodeName","wndBizCodeName","wndServiceCodeName","wndServiceCode2Name","wndGlAccountTypeName","wndMaterialCodeName"],r=e.filter((e=>l.every((t=>!e[t]))));if(0!==r.length){const e=r.map((e=>({...e,...d,isDirty:!0})));t.current.updateRows(e)}o(!0),s({message:"총 ".concat(r.length,"건의 계정과목 정보가 성공적으로 변경되었습니다. ")}),a(!1)},confirmButtonLabel:"저장하기","data-sentry-element":"TmsBasicModal","data-sentry-component":"ChangeAccountInfoModal","data-sentry-source-file":"ChangeAccountInfoModal.tsx",children:(0,l.jsxs)("div",{className:"flex flex-col gap-[16px]",children:[(0,l.jsxs)("ul",{className:"text-grey50 Body4_M list-disc pl-[20px]",children:[(0,l.jsx)("li",{children:"직접비화룰이 반영된 건은 계정과목 변경이 적용되지 않습니다."}),(0,l.jsx)("li",{children:"입력 완료 후 [매입 정산 확정] 버튼을 눌러야 최종 저장됩니다."})]}),(0,l.jsxs)("div",{className:"border-blackOpacity8 border-t-[1px]",children:[(0,l.jsx)(vt,{thLabel:"사업",labelClassName:"!w-[120px]","data-sentry-element":"TableTrLayout","data-sentry-source-file":"ChangeAccountInfoModal.tsx",children:(0,l.jsx)(He.A,{placeholder:"사업 선택",options:n.INDUSTRY_CODE,selectedId:d.bizCode,autocompleteBoxClassName:"w-full",componentType:"autocomplete-table",onChange:(e,t)=>x({bizCode:t.id,bizCodeName:t.label}),"data-sentry-element":"TmsBasicAutocomplete","data-sentry-source-file":"ChangeAccountInfoModal.tsx"})}),(0,l.jsx)(vt,{thLabel:"서비스",labelClassName:"!w-[120px]","data-sentry-element":"TableTrLayout","data-sentry-source-file":"ChangeAccountInfoModal.tsx",children:(0,l.jsx)(He.A,{placeholder:"서비스 선택",options:f,selectedId:d.serviceCode,autocompleteBoxClassName:"w-full",componentType:"autocomplete-table",onChange:(e,t)=>{p(t),x({serviceCode:t.id,serviceCodeName:t.label})},"data-sentry-element":"TmsBasicAutocomplete","data-sentry-source-file":"ChangeAccountInfoModal.tsx"})}),(0,l.jsx)(vt,{thLabel:"서비스2",labelClassName:"!w-[120px]","data-sentry-element":"TableTrLayout","data-sentry-source-file":"ChangeAccountInfoModal.tsx",children:(0,l.jsx)(He.A,{placeholder:"서비스2 선택",options:C,selectedId:d.serviceCode2,autocompleteBoxClassName:"w-full",componentType:"autocomplete-table",onChange:(e,t)=>x({serviceCode2:t.id,serviceCode2Name:t.label}),"data-sentry-element":"TmsBasicAutocomplete","data-sentry-source-file":"ChangeAccountInfoModal.tsx"})}),(0,l.jsx)(vt,{thLabel:"계정과목",labelClassName:"!w-[120px]","data-sentry-element":"TableTrLayout","data-sentry-source-file":"ChangeAccountInfoModal.tsx",children:(0,l.jsx)(He.A,{placeholder:"계정과목 선택",selectedId:d.glAccountType,autocompleteBoxClassName:"w-full",options:h,componentType:"autocomplete-table",onChange:(e,t)=>x({glAccountType:t.id,glAccountTypeName:t.label}),"data-sentry-element":"TmsBasicAutocomplete","data-sentry-source-file":"ChangeAccountInfoModal.tsx"})}),(0,l.jsx)(vt,{thLabel:"대표물자",labelClassName:"!w-[120px]","data-sentry-element":"TableTrLayout","data-sentry-source-file":"ChangeAccountInfoModal.tsx",children:(0,l.jsx)(He.A,{placeholder:"대표물자 선택",selectedId:d.materialCode,autocompleteBoxClassName:"w-full",options:n.MATERIAL_CODE,componentType:"autocomplete-table",onChange:(e,t)=>x({materialCode:t.id,materialCodeName:t.label}),"data-sentry-element":"TmsBasicAutocomplete","data-sentry-source-file":"ChangeAccountInfoModal.tsx"})})]})]})})}function QC(e){let{activeTab:t,activeSubTab:a,gridApiRef:n,rowSelectionModel:o,handleChangeGroup:i=null,handlePurchaseComplete:d,isCheckSelectedRow:c,setCheckConfirmInfo:p,handleSearchChildren:h}=e;const f=(0,$e.P9)(),C=(0,ya.c5)(),{setIsChangeInfoCheck:x}=Xm(),[y,E]=(0,r.useState)(!1),[v,A]=(0,r.useState)(!1),[g,T]=(0,r.useState)(!1),[I,b]=(0,r.useState)({mdmItemCode:"",mdmItemName:""}),{mutateAsync:S,..._}=kC(),w=async()=>{const e=Array.from(n.current.getSelectedRows().values()).map((e=>e.orderTransferDispatchId));await S({orderTransferDispatchId:e})};return $h({toast:f,tmsAlert:C,apiRest:_,successMsg:"총 ".concat(o.length,"건의 매입 정산 확정이 취소되었습니다."),successFunction:()=>{h(),p({isOpened:!1})},errorTitle:"매입 정산 확정 취소에 실패하였습니다.",errorFunction:()=>{p({isOpened:!1})}}),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"flex gap-[8px]",children:a?(0,l.jsx)(u.A,{label:"매입 정산 확정 취소",level:m.V.level_2,size:m.M.Medium,leftIcon:(0,l.jsx)(hh,{width:20,height:20}),onClick:()=>{c()&&p({isOpened:!0,title:"매입 정산 확정을 취소하시겠어요?",description:"선택한 실적의 매입 정산 확정을 취소 처리합니다.",confirmButtonLabel:"확인",onClickConfirmButton:w})}}):(0,l.jsxs)(l.Fragment,{children:[t===s.YT?(0,l.jsx)(u.A,{label:"소속 조직 변경",level:m.V.level_4,size:m.M.Medium,leftIcon:(0,l.jsx)(gc,{width:20,height:20}),onClick:()=>{c()&&A(!0)}}):(0,l.jsx)(u.A,{label:"계정과목 변경",level:m.V.level_4,size:m.M.Medium,leftIcon:(0,l.jsx)(Os,{width:20,height:20}),onClick:()=>{c()&&T(!0)}}),(0,l.jsx)(u.A,{label:"산재보험 적용 제외",level:m.V.level_3,size:m.M.Medium,leftIcon:(0,l.jsx)(tt,{width:20,height:20}),onClick:()=>{if(!c())return;const e=Array.from(n.current.getSelectedRows().values());0!==e.filter((e=>e.vendorType===R.UYR.DRIVER)).length?0===e.filter((e=>e.isNotAppliedWci)).length?E(!0):C({title:"선택한 차주가 산재보험 적용 대상에서 제외되었습니다."}):C({title:"차주만 산재보험 적용 제외가 가능합니다.",description:"현재 선택된 운송가맹점은 적용 대상이 아닙니다."})}}),(0,l.jsx)(u.A,{label:"매입 정산 확정",level:m.V.level_2,size:m.M.Medium,leftIcon:(0,l.jsx)(hh,{width:20,height:20}),onClick:()=>{c()&&p({isOpened:!0,title:"매입 정산을 확정하시겠어요?",description:"총 ".concat(o.length,"건에 대해 정산이 확정 처리됩니다."),confirmButtonLabel:"확인",onClickConfirmButton:()=>d()})}})]})}),y&&(0,l.jsxs)(N,{title:"산재보험 적용 제외하시겠습니까?",confirmButtonLabel:"산재보험 적용 제외",onClickCloseButton:()=>E(!1),onClickConfirmButton:()=>{E(!1),(()=>{const e=Array.from(n.current.getSelectedRows().values()).map((e=>({...e,notAppliedWci:"미대상",isNotAppliedWci:!0,wciTargetAmount:0,isDirty:!0})));n.current.updateRows(e),x(!0),f({message:"선택한 차주가 산재보험 적용 대상에서 제외되었습니다."})})()},children:[(0,l.jsx)("div",{className:"Body4_M text-grey50",children:"선택한 차주를 산재보험 적용 대상에서 제외 처리합니다."}),(0,l.jsxs)("ul",{className:"Body4_M text-grey50 mt-[16px] list-disc pl-[15px]",children:[(0,l.jsx)("li",{children:"산재보험 대상자로 설정된 차주만 산재보험이 적용됩니다."}),(0,l.jsx)("li",{children:"산재보험 대상 여부는 [정보센터] 메뉴에서 설정할 수 있습니다."}),(0,l.jsxs)("li",{children:["산재보험 대상 차주의 실적은, 총 매입금에서 산재보험료가",(0,l.jsx)("br",{}),"차감된 금액으로 회계 전기됩니다."]})]})]}),v&&(0,l.jsx)(zC,{setIsOpened:A,onRowDoubleClickProps:(e,t,a)=>{p({isOpened:!0,title:"해당 조직으로 변경하시겠어요?",description:"선택한 항목의 정산 조직이 선택한 조직으로 변경됩니다.",confirmButtonLabel:"확인",confirmButtonType:"destructive",onClickConfirmButton:()=>i(I)}),b({mdmItemCode:e.row.mdmCostCenterCode,mdmItemName:e.row.mdmCostCenterName})}}),g&&(0,l.jsx)(XC,{gridApiRefProps:n,setIsOpened:T})]})}function ZC(e){let{initialParams:t,searchParams:a,setSearchParams:r,onSearch:s,isValidationSearch:n}=e;const{mdmCorporationOptionsByUser:o}=xf();return(0,l.jsx)(Ve.A.Provider,{initialParams:t,params:a,setParams:r,onSearch:s,"data-sentry-element":"SearchFilter.Provider","data-sentry-component":"AccountPurchaseCancelFilter","data-sentry-source-file":"AccountPurchaseCancelFilter.tsx",children:e=>(0,l.jsxs)(ah,{children:[(0,l.jsx)(Ve.A.SearchDate,{label:"전표일",datePickerClassName:"!w-[142px]"}),(0,l.jsx)(Ve.A.AllMetaMultiAutocompleteSearch,{required:!0,label:"전표부서",allMetaType:Ze.k.COMMON_MDM_COST_CENTER_PURCHASE_CODE,isSearchValidation:n,isShowDefaultOption:!1}),(0,l.jsx)(Ve.A.SearchMultiAutocomplete,{label:"인사조직",fieldName:"commonMdmCorporationCode",options:o}),(0,l.jsx)(Ve.A.VendorPartnerMultiAutocomplete,{label:"파트너"}),(0,l.jsx)(Ve.A.SearchText,{label:"전표번호",placeholder:"전표번호 입력",fieldName:"documentId"}),(0,l.jsx)(Ve.A.MdmAdminMultiAutocomplete,{label:"전표전송자"}),(0,l.jsx)(Ve.A.SearchText,{label:"적요",placeholder:"적요 입력",fieldName:"remark"})]})})}const JC=e=>{let{activeTab:t,activeSubTab:a,purchaseSearchParams:l,setPurchaseSearchParams:n}=e;const[o,i]=(0,r.useState)(l),d=(0,$e.P9)(),c=(0,ya.c5)(),[u,m]=(0,r.useState)([]),[p,h]=(0,r.useState)(!1),f=(0,D.bBi)(),C=(0,r.useRef)(null);var x;const{setInitData:N}=null!==(x=null==C?void 0:C.current)&&void 0!==x?x:{},[y,E]=(0,r.useState)(!1),{setTabInfoAccountCancel:v,setTabInfoAccountCancelFtOne:A,setIsChangeInfoCheck:g}=Xm(),{isCheckDateRange:b}=Jh({toast:d,gridCurrent:f.current,searchParams:o}),{mutateAsync:R,isSuccess:S,data:_}=(0,T.n)(["useSearchPurchaseCancelableDocumentListMutation"],(async e=>(await I.q.api((t=>t.ApiV1SettlementPurchaseCancelableDocuments(e)))).data.result)),{mutateAsync:w,isSuccess:O,data:M}=(0,T.n)(["usePurchaseCancelableDocumentsExcelMutation"],(async e=>(await I.q.api((t=>t.ApiV1SettlementPurchaseCancelableDocumentsExcel(e,{format:"blob"})))).data)),{mutateAsync:j,...P}=(0,T.n)(["useCancelPurchaseIssuedDocumentListMutation"],(async e=>(await I.q.api((t=>t.ApiV1SettlementPurchaseDocumentsCancel(e)))).data.result)),L={fromDate:o.startDate,toDate:o.endDate,purchaseMdmCostCenterCodes:o.commonMdmCostCenterPurchaseCode,orderMdmCorporationCodes:o.commonMdmCorporationCode,vendorIds:o.vendorId,documentId:o.documentId,documentManagerUserIds:o.userIdsMdmEmpNo,remark:o.remark},B=()=>{if(!o||!o.commonMdmCostCenterPurchaseCode)return d({message:"전표 부서를 먼저 조회해주세요.",type:"caution"}),void E(!0);b()&&(E(!1),(async()=>{await R(L)})())};return(0,r.useLayoutEffect)((()=>{t!==s.hj&&t!==s.z8||o.commonMdmCostCenterPurchaseCode&&0!==o.commonMdmCostCenterPurchaseCode.length&&B()}),[t,a]),(0,r.useEffect)((()=>{S&&_.responseList&&_.summary&&(N(_.responseList),t===s.z8?A(_.summary):v(_.summary),g(!1))}),[_]),$h({toast:d,tmsAlert:c,apiRest:P,successMsg:"회계 전표 ".concat(u.length,"건이 성공적으로 취소되었습니다."),successFunction:()=>{h(!1),B()},errorTitle:"회계 전표 취소가 불가능합니다."}),{handleCancelPurchase:async()=>{0!==Array.from(f.current.getSelectedRows().values()).length?h(!0):d({message:"회계전표를 먼저 선택해주세요.",type:"caution"})},handleCancelPurchaseComplete:async()=>{const e=Array.from(f.current.getSelectedRows().values()).map((e=>e.ebelnr));h(!1),await j({documentIds:e})},rowSelectionModel:u,setRowSelectionModel:m,isOpenedComplete:p,setIsOpenedComplete:h,gridApiRef:f,handleSearchChildren:B,isValidationSearch:y,searchParams:o,handleSetParams:e=>{i(e),n(e)},wrapGridRef:C,handleExcelDownload:async()=>{await w(L)},isSuccessPurchaseCancelableDocumentsExcel:O,dataPurchaseCancelableDocumentsExcel:M}};function $C(e){let{activeTab:t,activeSubTab:a,purchaseSearchParams:s,setPurchaseSearchParams:n}=e;const{columns:o}={columns:(0,r.useMemo)((()=>[{field:"__check__",width:48,sortable:!1},{field:"tempDocumentId",headerName:"관리번호",sortable:!1,width:140},{field:"ebelnr",headerName:"전표번호",type:"number",sortable:!1,width:112},{field:"postingDate",headerName:"전표일",width:112,type:da._.VIEW_MODE_YYYYMMDD},{field:"documentDate",headerName:"증빙일",width:112,type:da._.VIEW_MODE_YYYYMMDD},{field:"vendorMdmCode",headerName:"거래처 MDM ID",width:112},{field:"vendorName",headerName:"거래처",width:112},{field:"localAmount",headerName:"발생금액",type:"number",width:112},{field:"payVat",headerName:"부가세",type:"number",width:112},{field:"payVatName",headerName:"부가세명",width:112},{field:"giveCondName",headerName:"지급조건",width:320},{field:"demandTeamCd",headerName:"전표부서",width:112},{field:"createdBy",headerName:"전표생성자",width:112},{field:"remark",headerName:"적요",width:190}]),[])},{handleCancelPurchase:i,handleCancelPurchaseComplete:d,isOpenedComplete:c,setIsOpenedComplete:p,gridApiRef:h,rowSelectionModel:f,setRowSelectionModel:C,handleSearchChildren:x,isValidationSearch:y,searchParams:E,handleSetParams:v,wrapGridRef:A,handleExcelDownload:g,isSuccessPurchaseCancelableDocumentsExcel:T,dataPurchaseCancelableDocumentsExcel:I}=JC({activeTab:t,activeSubTab:a,purchaseSearchParams:s,setPurchaseSearchParams:n});return(0,l.jsxs)("div",{className:"flex h-full w-full flex-col","data-sentry-component":"AccountPurchaseCancelPanel","data-sentry-source-file":"AccountPurchaseCancelPanel.tsx",children:[(0,l.jsx)(ZC,{initialParams:s,searchParams:E,setSearchParams:v,onSearch:x,isValidationSearch:y,"data-sentry-element":"AccountPurchaseCancelFilter","data-sentry-source-file":"AccountPurchaseCancelPanel.tsx"}),(0,l.jsxs)("div",{className:"flex items-center justify-end px-[40px] py-[12px]",children:[(0,l.jsx)("span",{className:"Body2_B flex-auto",children:"매입 회계 전기취소 대상"}),(0,l.jsx)(u.A,{label:"회계 전표 취소",level:m.V.level_2,leftIcon:(0,l.jsx)(hh,{width:20,height:20}),onClick:i,"data-sentry-element":"TmsBasicButton","data-sentry-source-file":"AccountPurchaseCancelPanel.tsx"})]}),(0,l.jsx)("div",{className:"grid-area flex-1 overflow-auto",children:(0,l.jsx)(Fa.A,{ref:A,gridApiRef:h,columns:o,checkboxSelection:!0,rowSelectionModel:f,onRowSelectionModelChange:C,initialState:{pinnedColumns:{left:["__check__"]},aggregation:{model:{tempDocumentId:"totalCount",localAmount:"sum",payVat:"sum"}}},"data-sentry-element":"WrapperBasicDataGrid","data-sentry-source-file":"AccountPurchaseCancelPanel.tsx"})}),(0,l.jsx)("div",{className:"border-grey90 ml-auto flex h-[52px] w-full items-center justify-end gap-[8px] border-t-[1px] bg-white px-[40px] py-[12px]",children:(0,l.jsx)(We,{excelFileName:"매입회계전기취소대상",isSuccessExcel:T,excelData:I,handleExcelDownload:g,"data-sentry-element":"TmsBasicDataGridExcelDownload","data-sentry-source-file":"AccountPurchaseCancelPanel.tsx"})}),c&&(0,l.jsx)(N,{title:"회계 전표를 취소하시겠어요?",onClickCloseButton:()=>p(!1),onClickConfirmButton:d})]})}const ex=e=>{let{isActived:t}=e;return(0,r.useMemo)((()=>[{field:"__check__",width:48,sortable:!1},{field:"no",headerName:"No.",align:"center",width:48,sortable:!1,filterable:!1,valueGetter:(e,t,a,l)=>l.current.getRowIndexRelativeToVisibleRows(t._id_)+1},{field:"confirmedAt",headerName:"매입확정일",width:115},{field:"approvalStatusType",headerName:"결재상태",renderCell:e=>{let t=null;switch(e.row.approvalStatusType){case R.cZF.NONE:t=zh.FILL_GREY;break;case R.cZF.WAITING:t=zh.FILL_BLUE;break;case R.cZF.COMPLETE:t=zh.FILL_GREEN;break;case R.cZF.RETURN:t=zh.FILL_RED}return Xh({colorType:t,label:e.row.approvalStatusTypeName})}},{field:"isAutoEvidence",headerName:"자동증빙여부",width:92},{field:"vendorTypeName",headerName:"회원유형",width:80},{field:"isKosisVendor",headerName:"산재보험대상여부",width:115},{field:"departureAddressName",headerName:"상차지명",width:120},{field:"arrivalAddressName",headerName:"하차지명",width:120},{field:"customerName",headerName:"화주",width:270},{field:"vendorName",headerName:"파트너",width:175},{field:"vendorMdmCode",headerName:"파트너 MDM",width:110},{field:"itemName",headerName:"품목",width:80},{field:"purchaseCostTypeName",headerName:"매출입항목명",width:94},{field:"purchaseTotalAmount",type:"number",headerName:"발생금액",width:95,cellClassName:"wide-cell",renderCell:e=>"auto-generated-group-footer-root"===e.id?(0,l.jsx)("span",{className:"font-[800]",children:Number(e.value.replace(/\D/g,"")).toLocaleString("en-US")}):ca({type:"number",params:e,decimalPlaces:0,readonly:t})},{field:"purchaseVatAmount",type:"number",headerName:"부가세",width:95,cellClassName:"wide-cell",renderCell:e=>"auto-generated-group-footer-root"===e.id?(0,l.jsx)("span",{className:"font-[800]",children:Number(e.value.replace(/\D/g,"")).toLocaleString("en-US")}):ca({type:"number",params:e,decimalPlaces:0,readonly:t||!t&&"A1"!==e.row.purchaseVatType})},{field:"vatCodeName",headerName:"세금유형",width:122},{field:"purchaseKosisAmount",type:"number",headerName:"산재보험 공제금액(원)",width:140},{field:"paymentConditionCodeName",headerName:"지급조건",width:318},{field:"quantity",headerName:"작업물량",width:70,type:"number"},{field:"rateCodeName",headerName:"작업단위",width:70},{field:"salesMdmCostCenterCodeName",headerName:"계약조직",width:120},{field:"orderMdmCorporationCodeName",headerName:"인사조직",width:128},{field:"purchaseMdmCostCenterCodeName",headerName:"정산조직",width:105},{field:"purchaseTeamMdmCostCenterCodeName",headerName:"코스트센터",width:160},{field:"orderTransferNo",headerName:"주문오더번호",width:152},{field:"orderTransferDispatchNo",headerName:"배차계획번호",width:152},{field:"tempDocumentId",headerName:"관리번호",width:142},{field:"documentIssuedAt",headerName:"회계전기일",width:112,type:da._.VIEW_MODE_YYYYMMDD_DDD},{field:"documentEvidencedAt",headerName:"회계증빙일",width:112,type:da._.VIEW_MODE_YYYYMMDD_DDD},{field:"documentId",headerName:"전표번호",width:100},{field:"documentResultMessage",headerName:"전표메세지",width:264},{field:"confirmationNo",headerName:"매입확정번호",width:240},{field:"materialCode",headerName:"물자",width:58},{field:"salesMdmCostCenterCode",headerName:"계약조직코드",width:140},{field:"orderMdmCorporationCode",headerName:"인사 조직코드",width:140},{field:"purchaseMdmCostCenterCode",headerName:"정산조직코드",width:140},{field:"glAccount",headerName:"총계정원장 계정 번호",width:132},{field:"bizCode",headerName:"사업코드",width:70},{field:"serviceCode",headerName:"서비스코드",width:100},{field:"serviceCode2",headerName:"서비스코드2",width:100},{field:"bizCodeName",headerName:"사업명",width:72},{field:"serviceCodeName",headerName:"서비스명",width:70},{field:"serviceCode2Name",headerName:"서비스2명",width:70},{field:"cjWorldDocumentNo",headerName:"품의서번호",width:120},{field:"companyCode",headerName:"사업장",width:60},{field:"equipmentMdmManageNoCode",headerName:"장비코드",width:120},{field:"equipmentTypeName",headerName:"장비유형",width:70},{field:"invoiceItemSeq",headerName:"순번",width:60},{field:"yyyyMM",headerName:"년월",width:70},{field:"paymentMethod",headerName:"지급방법",width:100},{field:"baselineDate",headerName:"만기계산기준",width:100},{field:"paymentConditionCode",headerName:"지급조건",width:100},{field:"progressStatusTypeName",headerName:"진행상태",width:74},{field:"isAgency",headerName:"주선여부",width:74,type:da._.VIEW_MODE_Y_OR_N},{field:"isManual",headerName:"입력구분",valueGetter:e=>e?"M":"",width:70},{field:"unit",headerName:"작업단위",width:74},{field:"originalVendorName",headerName:"변경전 매입처",width:175},{field:"vendorName2",headerName:"변경후 매입처",width:175,valueGetter:(e,t)=>t.vendorName}]),[t])};function tx(e){let{initialParams:t,searchParams:a,setSearchParams:r,onSearch:s,isValidationSearch:n}=e;const{costCenterPurchaseOptionsByUser:o,mdmCorporationOptionsByUser:i}=xf();return(0,l.jsx)(Ve.A.Provider,{initialParams:t,params:a,setParams:r,onSearch:s,"data-sentry-element":"SearchFilter.Provider","data-sentry-component":"AccountPurchaseFilter","data-sentry-source-file":"AccountPurchaseFilter.tsx",children:e=>(0,l.jsxs)(ah,{children:[(0,l.jsx)(Ve.A.SearchDate,{label:"매입확정일",datePickerClassName:"w-[158px]"}),(0,l.jsx)(Ve.A.SearchMultiAutocomplete,{required:!0,label:"매입조직",className:"max-w-[241px]",isShowDefaultOption:!1,fieldName:"commonMdmCostCenterPurchaseCode",options:o,isSearchValidation:n}),(0,l.jsx)(Ve.A.SearchMultiAutocomplete,{label:"인사조직",className:"!max-w-[238px]",fieldName:"commonMdmCorporationCode",options:i}),(0,l.jsx)(Ve.A.CustomerNameMultiAutocomplete,{label:"화주",className:"!max-w-[246px]"}),(0,l.jsx)(Ve.A.VendorPartnerMultiAutocomplete,{label:"파트너",className:"!max-w-[246px]"}),(0,l.jsx)(Ve.A.AllMetaMultiAutocompleteSearch,{label:"기존 소속",allMetaType:Ze.k.COMMON_MDM_COST_CENTER_PURCHASE_CODE,className:"!w-[328px]",fieldName:"affiliateMdmCostCenterCodes"}),(0,l.jsx)(Ve.A.ItemNameMultiAutocomplete,{label:"품목",className:"max-w-[241px]"}),(0,l.jsx)(Ve.A.AllMetaAutocompleteSearch,{label:"회원유형",allMetaType:Ze.k.VENDOR_TYPE,className:"!max-w-[238px]"}),(0,l.jsx)(Ve.A.MdmAdminMultiAutocomplete,{label:"매입확정자",fieldName:"confirmationManagerAdminIds",autocompleteBoxClassName:"!w-full"})]})})}var ax=a(82510);function lx(e){let{gridApiRefProps:t,onSearch:a,setIsOpenedApprovalModal:s,setCheckConfirmInfo:n}=e;const o=(0,$e.P9)(),i=(0,ya.c5)(),[d,c]=(0,r.useState)([]),u=(0,r.useMemo)((()=>[{field:"memberCode",headerName:"파트너 코드",width:100},{field:"mdmCode",headerName:"파트너 MDM",width:100},{field:"vendorTypeName",headerName:"회원유형명",width:100},{field:"name",headerName:"파트너명",width:892}]),[]),[m,p]=(0,r.useState)(""),h=(0,D.bBi)(),[f,C]=(0,r.useState)([]),{isLoadingVendorPartnerList:x,dataVendorPartnerList:N,handleSearch:y}=(0,ax.V)({mutationKey:"ChangePurchaseApprovalModal",mdmStatusType:R.LAR.COMPLETE,requestProps:{searchKeyWords:m},isActived:!0}),{mutateAsync:E,...v}=YC(),A=async()=>{const e=Array.from(h.current.getSelectedRows().values())[0].vendorId,a=Array.from(t.current.getSelectedRows().values()).map((e=>e.purchaseConfirmationId));await E({settlementPurchaseConfirmationIds:a,vendorId:e})};return(0,r.useEffect)((()=>{N&&c(null==N?void 0:N.itemList.map(((e,t)=>({id:t+1,...e}))))}),[N]),$h({toast:o,tmsAlert:i,apiRest:v,successMsg:"총 ".concat(f.length,"건의 매입처 변경 결재 요청이 완료되었습니다."),successFunction:()=>{n({isOpened:!1}),s(!1),a()},errorTitle:"매입처 변경이 불가능합니다."}),(0,l.jsx)(Pe.A,{modalWidth:1240,modalContentHeight:428,title:"매입처 변경 및 결재",confirmButtonDisabled:0===f.length,onClickCloseButton:()=>s(!1),onClickConfirmButton:()=>{n({isOpened:!0,title:"매입처 변경 결재 요청 하시겠어요?",description:"선택한 매입처로 변경 결재 요청을 진행합니다.",confirmButtonLabel:"확인",confirmButtonType:"normal",confirmClick:A})},confirmButtonLabel:"저장 및 결재요청","data-sentry-element":"TmsBasicModal","data-sentry-component":"ChangePurchaseApprovalModal","data-sentry-source-file":"ChangePurchaseApprovalModal.tsx",children:(0,l.jsxs)("div",{className:"flex flex-col gap-[16px]",children:[(0,l.jsx)("div",{className:"Body4_M text-grey50",children:"매입처 변경은 결재 승인 후 확정됩니다."}),(0,l.jsxs)("div",{className:"flex gap-[16px]",children:[(0,l.jsx)(Tt.A,{label:"파트너",placeholder:"파트너 입력",classNameInput:"!w-[222px]",onChange:e=>p(e.target.value),onKeyDown:e=>{"Enter"===e.key&&y()},"data-sentry-element":"TmsBasicInput","data-sentry-source-file":"ChangePurchaseApprovalModal.tsx"}),(0,l.jsx)(rC.A,{onClick:y,"data-sentry-element":"ModalSearchButton","data-sentry-source-file":"ChangePurchaseApprovalModal.tsx"})]}),(0,l.jsx)("div",{className:"flex h-[304px]",children:(0,l.jsx)(Fe.A,{apiRef:h,rows:d,columns:u,disableMultipleRowSelection:!0,checkboxSelection:!0,onRowSelectionModelChange:C,loading:x,"data-sentry-element":"TmsBasicDataGrid","data-sentry-source-file":"ChangePurchaseApprovalModal.tsx"})})]})})}function rx(e){let{gridApiRefProps:t,setIsOpenedAdditionInfoModal:a,setCheckConfirmInfo:s,onSearch:n}=e;const{commonMetaV2List:o}=(0,Je.X)(),i=(0,$e.P9)(),d=(0,ya.c5)(),u={paymentConditionCode:"",purchaseVatType:null,purchaseMdmCostCenterCode:"",bizCode:"",serviceCode:"",serviceCode2:""},[m,p]=(0,r.useState)(u),[h,f]=(0,r.useState)({id:"",label:"",children:[]}),[C,x]=(0,r.useState)(null),{serviceOptions:N,service2Options:y}=qp({isActived:!0,selectedOption:h,bizCode:m.bizCode}),{mutateAsync:E,...v}=qC(),A=async()=>{const e=Array.from(t.current.getSelectedRows().values()).map((e=>e.purchaseConfirmationId));await E({settlementPurchaseConfirmationIds:e,...m})},g=e=>{p((t=>({...t,...e})))};return $h({toast:i,tmsAlert:d,apiRest:v,successMsg:"추가 정보 변경이 완료되었습니다.",successFunction:()=>{s({isOpened:!1}),a(!1),n()},errorTitle:"추가 정보 변경에 실패했습니다."}),(0,r.useEffect)((()=>{if(null==t?void 0:t.current){var e;const a=Array.from(t.current.getSelectedRows().values());if(1!==a.length)return;x(null===(e=a[0])||void 0===e?void 0:e.vendorId)}}),[null==t?void 0:t.current]),(0,l.jsx)(Pe.A,{modalWidth:612,modalContentHeight:280,title:"추가 정보 변경",confirmButtonDisabled:c().isEqual(m,u),onClickCloseButton:()=>{p(u),a(!1)},onClickConfirmButton:()=>{s({isOpened:!0,title:"추가 정보 변경 하시겠어요?",description:"선택한 추가정보로 변경을 진행합니다.",confirmButtonLabel:"확인",confirmButtonType:"normal",confirmClick:A})},confirmButtonLabel:"저장하기","data-sentry-element":"TmsBasicModal","data-sentry-component":"ChangeAdditionalInfoModal","data-sentry-source-file":"ChangeAdditionalInfoModal.tsx",children:(0,l.jsxs)("div",{className:"flex flex-col gap-[16px]",children:[(0,l.jsx)("div",{className:"Body4_M text-grey50",children:"선택 입력 항목은 저장 시 바로 반영됩니다. (결재 불필요)"}),(0,l.jsxs)("div",{className:"border-blackOpacity8 border-t-[1px]",children:[(0,l.jsx)(vt,{labelClassName:"!w-[120px]",thLabel:"지급조건","data-sentry-element":"TableTrLayout","data-sentry-source-file":"ChangeAdditionalInfoModal.tsx",children:C?(0,l.jsx)(gf,{vendorId:C,value:m.paymentConditionCode,placeholder:"지급조건 입력",setValue:e=>g({paymentConditionCode:e.id})}):(0,l.jsx)(He.A,{placeholder:"지급조건 입력",options:o.COMMON_MDM_PAYMENT_CONDITION_PURCHASE_CODE,selectedId:m.paymentConditionCode,autocompleteBoxClassName:"w-full",componentType:"autocomplete-table",onChange:(e,t)=>g({paymentConditionCode:t.id})})}),(0,l.jsx)(vt,{thLabel:"코스트센터",labelClassName:"!w-[120px]","data-sentry-element":"TableTrLayout","data-sentry-source-file":"ChangeAdditionalInfoModal.tsx",children:(0,l.jsx)(He.A,{placeholder:"코스트센터 입력",options:o.COMMON_MDM_COST_CENTER_PURCHASE_CODE,selectedId:m.purchaseMdmCostCenterCode,autocompleteBoxClassName:"w-full",componentType:"autocomplete-table",onChange:(e,t)=>g({purchaseMdmCostCenterCode:t.id}),"data-sentry-element":"TmsBasicAutocomplete","data-sentry-source-file":"ChangeAdditionalInfoModal.tsx"})}),(0,l.jsx)(vt,{thLabel:"세금유형",labelClassName:"!w-[120px]","data-sentry-element":"TableTrLayout","data-sentry-source-file":"ChangeAdditionalInfoModal.tsx",children:(0,l.jsx)(He.A,{placeholder:"세금유형 선택",options:o.PURCHASE_VAT_TYPE,selectedId:m.purchaseVatType,autocompleteBoxClassName:"w-full",componentType:"autocomplete-table",onChange:(e,t)=>g({purchaseVatType:t.id}),"data-sentry-element":"TmsBasicAutocomplete","data-sentry-source-file":"ChangeAdditionalInfoModal.tsx"})}),(0,l.jsx)(vt,{thLabel:"사업",labelClassName:"!w-[120px]","data-sentry-element":"TableTrLayout","data-sentry-source-file":"ChangeAdditionalInfoModal.tsx",children:(0,l.jsx)(He.A,{placeholder:"사업 입력",options:o.INDUSTRY_CODE,selectedId:m.bizCode,autocompleteBoxClassName:"w-full",componentType:"autocomplete-table",onChange:(e,t)=>g({bizCode:t.id}),"data-sentry-element":"TmsBasicAutocomplete","data-sentry-source-file":"ChangeAdditionalInfoModal.tsx"})}),(0,l.jsx)(vt,{thLabel:"서비스",labelClassName:"!w-[120px]","data-sentry-element":"TableTrLayout","data-sentry-source-file":"ChangeAdditionalInfoModal.tsx",children:(0,l.jsx)(He.A,{placeholder:"서비스 입력",options:N,selectedId:m.serviceCode,autocompleteBoxClassName:"w-full",componentType:"autocomplete-table",onChange:(e,t)=>{f(t),g({serviceCode:t.id})},"data-sentry-element":"TmsBasicAutocomplete","data-sentry-source-file":"ChangeAdditionalInfoModal.tsx"})}),(0,l.jsx)(vt,{thLabel:"서비스2",labelClassName:"!w-[120px]","data-sentry-element":"TableTrLayout","data-sentry-source-file":"ChangeAdditionalInfoModal.tsx",children:(0,l.jsx)(He.A,{placeholder:"서비스2 입력",options:y,selectedId:m.serviceCode2,autocompleteBoxClassName:"w-full",componentType:"autocomplete-table",onChange:(e,t)=>g({serviceCode2:t.id}),"data-sentry-element":"TmsBasicAutocomplete","data-sentry-source-file":"ChangeAdditionalInfoModal.tsx"})})]})]})})}function sx(e){let{gridApiRefProps:t,setIsOpenedAdditionInfoModal:a,setCheckConfirmInfo:s,onSearch:n}=e;const{commonMetaV2List:o}=(0,Je.X)(),i=(0,$e.P9)(),d=(0,ya.c5)(),u={vendorId:null,paymentConditionCode:"",purchaseMdmCostCenterCode:""},[m,p]=(0,r.useState)(u),{mutateAsync:h,...f}=WC(),C=async()=>{const e=Array.from(t.current.getSelectedRows().values()).map((e=>e.purchaseConfirmationId));await h({settlementPurchaseConfirmationIds:e,...m})},x=e=>{p((t=>({...t,...e})))},N=()=>{p(u),a(!1)};var y;return $h({toast:i,tmsAlert:d,apiRest:f,successMsg:"추가 정보 변경이 완료되었습니다.",successFunction:()=>{s({isOpened:!1}),N(),n()},errorTitle:"추가 정보 변경에 실패했습니다."}),(0,l.jsx)(Pe.A,{modalWidth:612,modalContentHeight:180,title:"추가 정보 변경 (FT, O-NE)",confirmButtonDisabled:c().isEqual(m,u),onClickCloseButton:N,onClickConfirmButton:()=>{s({isOpened:!0,title:"추가 정보 변경 하시겠어요?",description:"선택한 추가정보로 변경을 진행합니다.",confirmButtonLabel:"확인",confirmButtonType:"normal",confirmClick:C})},confirmButtonLabel:"저장하기","data-sentry-element":"TmsBasicModal","data-sentry-component":"FtOneChangeAdditionalInfoModal","data-sentry-source-file":"FtOneChangeAdditionalInfoModal.tsx",children:(0,l.jsxs)("div",{className:"flex flex-col gap-[16px]",children:[(0,l.jsx)("div",{className:"Body4_M text-grey50",children:"선택 입력 항목은 저장 시 바로 반영됩니다. (결재 불필요)"}),(0,l.jsxs)("div",{className:"border-blackOpacity8 border-t-[1px]",children:[(0,l.jsx)(vt,{thLabel:"매입처",labelClassName:"!w-[120px]","data-sentry-element":"TableTrLayout","data-sentry-source-file":"FtOneChangeAdditionalInfoModal.tsx",children:(0,l.jsx)(Nf,{placeholder:"매입처 선택",value:null!==(y=String(m.vendorId))&&void 0!==y?y:"",setValue:e=>x({vendorId:e.id}),"data-sentry-element":"FormVendorAutocomplete","data-sentry-source-file":"FtOneChangeAdditionalInfoModal.tsx"})}),(0,l.jsx)(vt,{labelClassName:"!w-[120px]",thLabel:"지급조건","data-sentry-element":"TableTrLayout","data-sentry-source-file":"FtOneChangeAdditionalInfoModal.tsx",children:(0,l.jsx)(He.A,{placeholder:"지급조건 입력",options:o.COMMON_MDM_PAYMENT_CONDITION_PURCHASE_CODE,selectedId:m.paymentConditionCode,autocompleteBoxClassName:"w-full",componentType:"autocomplete-table",onChange:(e,t)=>x({paymentConditionCode:t.id}),"data-sentry-element":"TmsBasicAutocomplete","data-sentry-source-file":"FtOneChangeAdditionalInfoModal.tsx"})}),(0,l.jsx)(vt,{thLabel:"코스트센터",labelClassName:"!w-[120px]","data-sentry-element":"TableTrLayout","data-sentry-source-file":"FtOneChangeAdditionalInfoModal.tsx",children:(0,l.jsx)(He.A,{placeholder:"코스트센터 입력",options:o.COMMON_MDM_COST_CENTER_PURCHASE_CODE,selectedId:m.purchaseMdmCostCenterCode,autocompleteBoxClassName:"w-full",componentType:"autocomplete-table",onChange:(e,t)=>x({purchaseMdmCostCenterCode:t.id}),"data-sentry-element":"TmsBasicAutocomplete","data-sentry-source-file":"FtOneChangeAdditionalInfoModal.tsx"})})]})]})})}const nx={documentPostedAt:"",documentIssuedAt:"",cjWorldDocumentNo:"",remark:"",documentIssueCostCenterType:"SALES_MDM_COST_CENTER_CODE",sapPurchaseMdmCostCenterCode:""};function ox(e){let{isPurchase:t=!0,title:a,modalContentHeight:r=208,setIsOpenedPostNegative:s,postNegativeInfo:n,handleSetPostNegative:o,onClickConfirmButton:i}=e;const{commonMetaV2List:d}=(0,Je.X)(),c=(0,ya.c5)();return(0,l.jsx)(Pe.A,{title:a,onClickCloseButton:()=>{s(!1),o(nx)},onClickConfirmButton:()=>{n.documentPostedAt?n.documentIssuedAt?je()(n.documentIssuedAt).isBefore(n.documentPostedAt,"day")?c({title:"전표일은 증빙일보다 과거일 수 없습니다."}):""!==n.documentIssueCostCenterType||n.sapPurchaseMdmCostCenterCode?i():c({title:"채권관리부서를 선택해주세요."}):c({title:"전표일을 입력해주세요."}):c({title:"증빙일을 입력해주세요."})},modalContentHeight:r,"data-sentry-element":"TmsBasicModal","data-sentry-component":"SendAccountingModal","data-sentry-source-file":"SendAccountingModal.tsx",children:(0,l.jsxs)("div",{className:"border-blackOpacity8 border-t-[1px]",children:[(0,l.jsx)(vt,{required:!0,thLabel:"증빙일","data-sentry-element":"TableTrLayout","data-sentry-source-file":"SendAccountingModal.tsx",children:(0,l.jsx)(gt.A,{componentType:"date-picker-table",datePickerClassName:"w-full",value:je()(n.documentPostedAt),onChange:e=>o({documentPostedAt:e}),placeholder:"증빙일 선택","data-sentry-element":"TmsBasicDatePicker","data-sentry-source-file":"SendAccountingModal.tsx"})}),(0,l.jsx)(vt,{required:!0,thLabel:"전표일","data-sentry-element":"TableTrLayout","data-sentry-source-file":"SendAccountingModal.tsx",children:(0,l.jsx)(gt.A,{componentType:"date-picker-table",datePickerClassName:"w-full",value:je()(n.documentIssuedAt),onChange:e=>o({documentIssuedAt:e}),placeholder:"전표일 선택","data-sentry-element":"TmsBasicDatePicker","data-sentry-source-file":"SendAccountingModal.tsx"})}),t&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(vt,{required:!0,thLabel:"전표구분",children:(0,l.jsx)(Un,{groupName:"documentIssueCostCenterType",items:[{id:"SALES_MDM_COST_CENTER_CODE",label:"계약영업팀"},{id:"PURCHASE_MDM_COST_CENTER_CODE",label:"전표부서"},{id:"",label:"직접입력"}],value:n.documentIssueCostCenterType,onChange:e=>o({documentIssueCostCenterType:e})})}),""===n.documentIssueCostCenterType&&(0,l.jsx)(vt,{children:(0,l.jsx)(He.A,{placeholder:"채권관리부서 입력",options:d.COMMON_MDM_COST_CENTER_CODE,selectedId:n.sapPurchaseMdmCostCenterCode,autocompleteBoxClassName:"w-full",componentType:"autocomplete-table",onChange:(e,t)=>o({sapPurchaseMdmCostCenterCode:t.id})})}),(0,l.jsx)(vt,{thLabel:"품의서번호",children:(0,l.jsx)(Tt.A,{placeholder:"품의서번호 입력",componentType:"input-table",value:n.cjWorldDocumentNo,onChange:e=>o({cjWorldDocumentNo:e.target.value})})})]}),(0,l.jsx)(vt,{thLabel:"적요","data-sentry-element":"TableTrLayout","data-sentry-source-file":"SendAccountingModal.tsx",children:(0,l.jsx)(Tt.A,{placeholder:"적요 입력",componentType:"input-table",value:n.remark,onChange:e=>o({remark:e.target.value}),"data-sentry-element":"TmsBasicInput","data-sentry-source-file":"SendAccountingModal.tsx"})})]})})}function ix(e){let{activeTab:t,gridApiRef:a,onSearch:n,handleSendAccount:o,setCheckConfirmInfo:i}=e;const d=(0,$e.P9)(),[c,p]=(0,r.useState)(!1),[h,f]=(0,r.useState)({documentPostedAt:"",documentIssuedAt:"",remark:""}),[C,x]=(0,r.useState)(!1),[N,y]=(0,r.useState)(!1),{isCheckSelectedRow:E}=Jh({toast:d,gridCurrent:a.current}),v=()=>{o({documentEvidencedAt:h.documentPostedAt,documentIssuedAt:h.documentIssuedAt,remark:h.remark}),p(!1)};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"flex gap-[8px]",children:[(0,l.jsx)(u.A,{label:"추가 정보 변경",level:m.V.level_4,size:m.M.Medium,leftIcon:(0,l.jsx)(Os,{width:20,height:20}),onClick:()=>{E()&&y(!0)},"data-sentry-element":"TmsBasicButton","data-sentry-source-file":"AccountPurchaseButtons.tsx"}),t===s.c$&&(0,l.jsx)(u.A,{label:"매입처 변경 및 결재",level:m.V.level_3,size:m.M.Medium,leftIcon:(0,l.jsx)(mh,{width:20,height:20}),onClick:()=>{E()&&x(!0)}}),(0,l.jsx)(u.A,{label:"회계 전표 전송",level:m.V.level_2,size:m.M.Medium,leftIcon:(0,l.jsx)(Sc,{width:20,height:20,className:"text-white"}),onClick:()=>{E()&&p(!0)},"data-sentry-element":"TmsBasicButton","data-sentry-source-file":"AccountPurchaseButtons.tsx"})]}),c&&(0,l.jsx)(ox,{isPurchase:!1,title:"회계 전표 전송",modalContentHeight:148,setIsOpenedPostNegative:p,postNegativeInfo:h,handleSetPostNegative:e=>{f((t=>({...t,...e})))},onClickConfirmButton:()=>{i({isOpened:!0,title:"회계 전표를 전송하시겠어요?",description:"선택한 실적에 대한 회계 전표를 전송합니다.",confirmButtonLabel:"전송하기",confirmButtonType:"normal",confirmClick:v})}}),C&&(0,l.jsx)(lx,{gridApiRefProps:a,onSearch:n,setIsOpenedApprovalModal:x,setCheckConfirmInfo:i}),N&&(t===s.c$?(0,l.jsx)(rx,{gridApiRefProps:a,setIsOpenedAdditionInfoModal:y,setCheckConfirmInfo:i,onSearch:n}):(0,l.jsx)(sx,{gridApiRefProps:a,setIsOpenedAdditionInfoModal:y,setCheckConfirmInfo:i,onSearch:n}))]})}const dx=e=>{let{activeTab:t,activeSubTab:a,purchaseSearchParams:l,setPurchaseSearchParams:n}=e;const o=(0,$e.P9)(),i=(0,ya.c5)(),[d,c]=(0,r.useState)(l),[u,m]=(0,r.useState)([]),[p,h]=(0,r.useState)({isOpened:!1,title:"",description:"",confirmButtonLabel:"",confirmButtonType:"normal",confirmClick:()=>null}),f=(0,D.bBi)(),C=(0,r.useRef)(null);var x;const{setInitData:N,getAllRows:y,getSelectedRows:E}=null!==(x=null==C?void 0:C.current)&&void 0!==x?x:{},v=(0,D.bBi)(),A=(0,r.useRef)(null);var g;const{setInitData:b}=null!==(g=null==A?void 0:A.current)&&void 0!==g?g:{},[R,S]=(0,r.useState)(!1),{setTabInfoAccount:_,setTabInfoAccountFtOne:w,setIsChangeInfoCheck:O}=Xm(),M=!d||!d.commonMdmCostCenterPurchaseCode||t!==s.c$&&t!==s.U3,{isCheckDateRange:j}=Jh({toast:o,gridCurrent:f.current,searchParams:d}),{mutateAsync:P,isSuccess:L,data:B}=(0,T.n)(["useSearchPurchaseDocumentListMutation"],(async e=>(await I.q.api((t=>t.ApiV1SettlementPurchaseDocuments(e)))).data.result)),{mutateAsync:U,isSuccess:V,data:F}=(0,T.n)(["useSearchPurchaseConfirmationExcelMutation"],(async e=>(await I.q.api((t=>t.ApiV1SettlementPurchaseDocumentsExcel(e,{format:"blob"})))).data)),{mutateAsync:G,...k}=(0,T.n)(["useIssuePurchaseDocumentsIssueMutation"],(async e=>(await I.q.api((t=>t.ApiV1SettlementPurchaseDocumentsIssue(e)))).data.result)),{mutateAsync:Y,...q}=(0,T.n)(["useIssuePurchaseDocumentsIssueMutation"],(async e=>(await I.q.api((t=>t.ApiV1SettlementPurchaseWndIssue(e)))).data.result)),W=()=>{if(M)return o({message:"매입조직을 먼저 조회해주세요.",type:"caution"}),void S(!0);j()&&(S(!1),K())},H={isCompleted:a,fromDate:d.startDate,toDate:d.endDate?d.endDate:je()().endOf("day").format(),purchaseMdmCostCenterCodes:d.commonMdmCostCenterPurchaseCode,orderMdmCorporationCodes:d.commonMdmCorporationCode,customerIds:d.customerId,vendorIds:d.vendorId,affiliateMdmCostCenterCodes:d.affiliateMdmCostCenterCodes,mdmItemCodes:d.itemCode,vendorType:""===d.vendorType?null:d.vendorType,confirmationManagerAdminIds:d.confirmationManagerAdminIds},K=async()=>{await P(H)};return(0,r.useEffect)((()=>{M||K()}),[t,a]),(0,r.useEffect)((()=>{if(L&&B.responseList&&B.summary){const e=[...B.responseList.map(((e,t)=>({...e,confirmedAt:je()(e.confirmedAt).locale("ko").format("YYYY-MM-DD ddd"),isAutoEvidence:e.isAutoEvidence?"자동":"수동",isKosisVendor:e.isKosisVendor?"대상":"비대상"})))];N(e),b([]),t===s.U3?w(B.summary):_(B.summary),O(!1)}}),[B]),$h({toast:o,tmsAlert:i,apiRest:k,successMsg:"총 ".concat(u.length,"건의 회계 전표 전송이 완료되었습니다."),successFunction:()=>{h({isOpened:!1}),W()},errorTitle:"회계 전표 전송에 실패했습니다."}),$h({toast:o,tmsAlert:i,apiRest:q,successMsg:"총 ".concat(u.length,"건의 회계 전표 전송이 완료되었습니다."),successFunction:()=>{h({isOpened:!1}),W()},errorTitle:"회계 전표 전송에 실패했습니다."}),{handleSendAccount:async e=>{let{documentEvidencedAt:a,documentIssuedAt:l,remark:r}=e;const n={documentEvidencedAt:je()(a).startOf("day").format(),documentIssuedAt:je()(l).startOf("day").format(),remark:r,purchaseConfirmationDtoList:E().map((e=>({rowNum:y().findIndex((t=>t._id_===e._id_))+1,purchaseConfirmationId:e.purchaseConfirmationId,localAmount:e.purchaseTotalAmount,vatAmount:e.purchaseVatAmount})))};t===s.U3?await Y(n):await G(n)},rowSelectionModel:u,setRowSelectionModel:m,handleRowSelection:e=>{m(e);const t=f.current.getRowModels(),a=Array.from(t.values()).filter((t=>e.includes(t._id_))),l=["vendorMdmCode","purchaseVatType","purchaseMdmCostCenterCode","paymentConditionCode","paymentMethod","baselineDate","tempDocumentId","isAutoEvidence","isKosisVendor"],r=["purchaseTotalAmount","purchaseVatAmount","purchaseKosisAmount"],s=new Map;for(const e of a){const t=l.map((t=>String(e[t]))).join("|");if(s.has(t)){const a=s.get(t);for(const t of r)a.summedValues[t]=(a.summedValues[t]||0)+(e[t]||0);a.originalIds.push(e._id_)}else{const a={...e},l={};for(const t of r)l[t]=e[t]||0;s.set(t,{baseRow:a,summedValues:l,originalIds:[e._id_]})}}const n=[];let o=1;for(const[e,t]of s.entries()){const e={...t.baseRow};for(const a of r)e[a]=t.summedValues[a];e._id_=o++,n.push(e)}var i;const{setInitData:d}=null!==(i=null==A?void 0:A.current)&&void 0!==i?i:{};d(n)},gridApiRef:f,isValidationSearch:R,searchParams:d,handleSetParams:e=>{c(e),n(e)},wrapGridRefAccount:C,handleSearchChildren:W,checkConfirmInfo:p,setCheckConfirmInfo:h,gridApiRefBottom:v,wrapGridRefBottom:A,handleExcelDownload:async()=>{await U(H)},isSuccessDocumentsExcel:V,dataDocumentsExcel:F}};function cx(e){let{activeTab:t,activeSubTab:a,purchaseSearchParams:s,setPurchaseSearchParams:n}=e;const{handleSendAccount:o,handleRowSelection:i,gridApiRef:d,rowSelectionModel:c,searchParams:u,handleSetParams:m,wrapGridRefAccount:p,handleSearchChildren:h,isValidationSearch:f,checkConfirmInfo:C,setCheckConfirmInfo:x,gridApiRefBottom:y,wrapGridRefBottom:E,handleExcelDownload:v,isSuccessDocumentsExcel:A,dataDocumentsExcel:g}=dx({activeTab:t,activeSubTab:a,purchaseSearchParams:s,setPurchaseSearchParams:n}),T=(0,r.useRef)(null);return(0,l.jsxs)("div",{className:"flex h-full w-full flex-col","data-sentry-component":"AccountPurchasePanel","data-sentry-source-file":"AccountPurchasePanel.tsx",children:[(0,l.jsxs)(cl.YZ,{autoSaveId:"purchaseSettlement",direction:"vertical",ref:T,"data-sentry-element":"PanelGroup","data-sentry-source-file":"AccountPurchasePanel.tsx",children:[(0,l.jsxs)(cl.Zk,{defaultSize:8,className:"overflow-hidden","data-sentry-element":"Panel","data-sentry-source-file":"AccountPurchasePanel.tsx",children:[(0,l.jsx)(tx,{initialParams:s,searchParams:u,setSearchParams:m,onSearch:h,isValidationSearch:f,"data-sentry-element":"AccountPurchaseFilter","data-sentry-source-file":"AccountPurchasePanel.tsx"}),(0,l.jsxs)("div",{className:"flex items-center justify-end px-[40px] py-[12px]",children:[(0,l.jsx)("span",{className:"Body2_B flex-auto",children:"매입회계전기 대상"}),!a&&(0,l.jsx)(ix,{activeTab:t,gridApiRef:d,onSearch:h,handleSendAccount:o,setCheckConfirmInfo:x})]}),(0,l.jsx)("div",{className:"h-[290px]",children:(0,l.jsx)(Fa.A,{editMode:"cell",ref:p,gridApiRef:d,columns:ex({isActived:a}),checkboxSelection:!0,rowSelectionModel:c,onRowSelectionModelChange:i,initialState:{pinnedColumns:{left:["__check__"]},aggregation:{model:{no:"totalCount",purchaseTotalAmount:"sumV2",purchaseVatAmount:"sumV2",purchaseKosisAmount:"sumV2"}}},"data-sentry-element":"WrapperBasicDataGrid","data-sentry-source-file":"AccountPurchasePanel.tsx"})})]}),(0,l.jsx)(pl,{handleIconClick:e=>{var t,a;e?null==T||null===(t=T.current)||void 0===t||t.setLayout([53,37]):null==T||null===(a=T.current)||void 0===a||a.setLayout([0,90])},"data-sentry-element":"TmsBasicPanelGroupHandleVertical","data-sentry-source-file":"AccountPurchasePanel.tsx"}),(0,l.jsxs)(cl.Zk,{defaultSize:10,className:"h-[214px] w-full overflow-hidden","data-sentry-element":"Panel","data-sentry-source-file":"AccountPurchasePanel.tsx",children:[(0,l.jsx)("div",{className:"Body2_B px-[24px] py-[16px]",children:"합산값"}),(0,l.jsx)(Fa.A,{ref:E,gridApiRef:y,columns:ex({isActived:a}),initialState:{aggregation:{model:{billingConfirmedAt:"totalCount",purchaseTotalAmount:"sum",purchaseVatAmount:"sum"}}},"data-sentry-element":"WrapperBasicDataGrid","data-sentry-source-file":"AccountPurchasePanel.tsx"})]})]}),(0,l.jsx)("div",{className:"border-grey90 flex justify-end border-t-[1px] px-[40px] py-[12px]",children:(0,l.jsx)(We,{excelFileName:"매입회계전기",isSuccessExcel:A,excelData:g,handleExcelDownload:v,"data-sentry-element":"TmsBasicDataGridExcelDownload","data-sentry-source-file":"AccountPurchasePanel.tsx"})}),C.isOpened&&(0,l.jsx)(N,{title:C.title,description:C.description,confirmButtonLabel:C.confirmButtonLabel,onClickCloseButton:()=>x({isOpened:!1}),onClickConfirmButton:C.confirmClick,confirmButtonType:C.confirmButtonType})]})}function ux(e){let{initialParams:t,searchParams:a,setSearchParams:r,onSearch:s,isValidationSearch:n}=e;const{costCenterSalesOptionsByUser:o,mdmCorporationOptionsByUser:i}=xf();return(0,l.jsx)(Ve.A.Provider,{initialParams:t,params:a,setParams:r,onSearch:s,"data-sentry-element":"SearchFilter.Provider","data-sentry-component":"AccountingCancelSalesFilter","data-sentry-source-file":"AccountingCancelSalesFilter.tsx",children:e=>(0,l.jsxs)(ah,{children:[(0,l.jsx)(Ve.A.SearchDate,{label:"전표일",datePickerClassName:"!w-[158px]"}),(0,l.jsx)(Ve.A.SearchMultiAutocomplete,{required:!0,label:"매출조직",fieldName:"commonMdmCostCenterSalesCode",options:o,isSearchValidation:null==n?void 0:n.commonMdmCostCenterSalesCode,isShowDefaultOption:!1,className:"!max-w-[241px]"}),(0,l.jsx)(Ve.A.SearchMultiAutocomplete,{required:!0,label:"인사조직",className:"!max-w-[241px]",fieldName:"commonMdmCorporationCode",options:i,isSearchValidation:null==n?void 0:n.commonMdmCorporationCode}),(0,l.jsx)(Ve.A.CustomerNameMultiAutocomplete,{label:"화주",className:"!max-w-[241px]"}),(0,l.jsx)(Ve.A.SearchText,{label:"전표번호",placeholder:"전표번호 입력",fieldName:"documentId",className:"max-w-[242px]"}),(0,l.jsxs)("div",{className:"flex h-[28px] items-center gap-[2px]",children:[(0,l.jsx)(So.A,{label:"담당자"}),(0,l.jsxs)("div",{className:"flex flex-row gap-[2px]",children:[(0,l.jsx)(Ve.A.AllMetaAutocompleteSearch,{allMetaType:Ze.k.SETTLEMENT_MANAGER_SEARCH_TYPE,className:"!w-[140px]",isUseAllOption:!1,optionsBoxWidth:200}),(0,l.jsx)(Ve.A.MdmAdminMultiAutocomplete,{fieldName:"managerUserIds",autocompleteBoxClassName:"!w-full"})]})]}),(0,l.jsx)(Ve.A.SearchText,{label:"적요",placeholder:"적요 입력",fieldName:"remark",className:"max-w-[246px]"}),(0,l.jsx)(Ve.A.SearchAutocomplete,{label:"청구구분",options:[{id:"Y",label:"청구"},{id:"N",label:"미청구"}],fieldName:"isBilled",autocompleteClassName:"!max-w-[241px]"})]})})}const mx=e=>{let{activeTab:t,activeSubTab:a,salesSearchParams:l,setSalesSearchParams:n}=e;const o=(0,$e.P9)(),i=(0,ya.c5)(),{commonMetaV2List:d}=(0,Je.X)(),[c,u]=(0,r.useState)(l),m=(0,D.bBi)(),p=(0,r.useRef)(null);var h;const{setInitData:f}=null!==(h=null==p?void 0:p.current)&&void 0!==h?h:{},[C,x]=(0,r.useState)([]),{setTabInfoChargeAccountCancel:N,setIsChangeInfoCheck:y}=jC(),[E,v]=(0,r.useState)({isOpened:!1,title:"",description:"",confirmButtonLabel:"",confirmButtonType:"normal",confirmClick:()=>null}),[A,g]=(0,r.useState)(!1),[b,R]=(0,r.useState)({documentPostedAt:"",documentIssuedAt:"",cjWorldDocumentNo:"",remark:"",documentIssueCostCenterType:null,sapPurchaseMdmCostCenterCode:""}),{mutateAsync:S,isSuccess:_,data:w}=(0,T.n)(["useSalesCancelableMutation"],(async e=>(await I.q.api((t=>t.ApiV1SettlementSalesCancelableDocuments(e)))).data.result)),{mutateAsync:O,...M}=(0,T.n)(["useSalesDocumentsMinusMutation"],(async e=>(await I.q.api((t=>t.ApiV1SettlementSalesDocumentsMinus(e)))).data.result)),{mutateAsync:j,...P}=(0,T.n)(["useSalesDocumentsMinusCancelMutation"],(async e=>(await I.q.api((t=>t.ApiV1SettlementSalesDocumentsMinusCancel(e)))).data.result)),{mutateAsync:L,...B}=(0,T.n)(["useSalesDocumentsCancelMutation"],(async e=>(await I.q.api((t=>t.ApiV1SettlementSalesDocumentsCancel(e)))).data.result)),{mutateAsync:U,...V}=(0,T.n)(["useSalesCancelableDocumentsExcelMutation"],(async e=>(await I.q.api((t=>t.ApiV1SettlementSalesCancelableDocumentsExcel(e,{format:"blob"})))).data)),F={fromDate:c.startDate,toDate:c.endDate,salesMdmCostCenterCodes:c.commonMdmCostCenterSalesCode,orderMdmCorporationCodes:c.commonMdmCorporationCode,isCompleted:a,customerIds:c.customerId,documentId:c.documentId,managerSearchType:""===c.settlementManagerSearchType?d.SETTLEMENT_MANAGER_SEARCH_TYPE[0].id:c.settlementManagerSearchType,managerUserIds:c.managerUserIdsMdmEmpNo,remark:c.remark,isBilled:c.isBilled?"Y"===c.isBilled:null},G=async()=>{await S(F)},{isValidationSearch:k,isCheckedSearch:Y,isCheckedSearchInfo:q,isCheckSelectedRow:W,isCheckDateRange:H}=VC({toast:o,searchParams:c,activeTab:t,currentActiveTab:s.II,gridCurrent:m.current}),K=()=>{q()&&H()&&G()},z=async()=>{const e=Array.from(m.current.getSelectedRows().values()).map((e=>e.documentId));await L({documentIds:e})},X=async()=>{const e=Array.from(m.current.getSelectedRows().values()).map((e=>e.documentId));a?await j({documentIds:e}):await O({...b,documentPostedAt:je()(b.documentPostedAt).startOf("day").format(),documentIssuedAt:je()(b.documentIssuedAt).startOf("day").format(),documentIds:e})};return(0,r.useLayoutEffect)((()=>{Y||G()}),[t,a]),(0,r.useEffect)((()=>{_&&(f(w.responseList.map((e=>({...e,isBilled:e.isBilled?"청구":"미청구"})))),N(w.summary),y(!1))}),[w]),$h({toast:o,tmsAlert:i,apiRest:M,successMsg:"총 ".concat(C.length,"건이 성공적으로 변경되었습니다."),successFunction:()=>{v({isOpened:!1}),K(),g(!1),R({documentPostedAt:"",documentIssuedAt:"",cjWorldDocumentNo:"",remark:"",documentIssueCostCenterType:null,sapPurchaseMdmCostCenterCode:""})},errorTitle:"마이너스 변경에 실패했습니다.",errorFunction:()=>{v({isOpened:!1})}}),$h({toast:o,tmsAlert:i,apiRest:P,successMsg:"총 ".concat(C.length,"건이 마이너스 취소되었습니다."),successFunction:()=>{v({isOpened:!1}),K()},errorTitle:"마이너스 취소에 실패했습니다.",errorFunction:()=>{v({isOpened:!1})}}),$h({toast:o,tmsAlert:i,apiRest:B,successMsg:"총 ".concat(C.length,"건이 회계 전표 취소되었습니다."),successFunction:()=>{v({isOpened:!1}),K()},errorTitle:"회계 전표 취소에 실패했습니다.",errorFunction:()=>{v({isOpened:!1})}}),{searchParams:c,handleSetParams:e=>{u(e),n(e)},handleSearchChildren:K,gridApiRef:m,wrapGridRef:p,checkConfirmInfo:E,setCheckConfirmInfo:v,handlePostNegativeAmount:async()=>{v({isOpened:!0,title:"마이너스 전기를 진행하시겠어요?",description:"선택한 실적에 대해 마이너스 회계 전표를 전송합니다.",confirmButtonLabel:"마이너스 전기 진행하기",confirmClick:X})},isOpenedPostNegative:A,setIsOpenedPostNegative:g,postNegativeInfo:b,handleSetPostNegative:e=>{R((t=>({...t,...e})))},handleDocumentsCancel:()=>{W()&&v({isOpened:!0,title:"회계 전표를 취소하시겠어요?",description:"선택한 실적에 대해 회계 전표 취소 요청을 전송합니다.",confirmButtonLabel:"확인",confirmButtonType:"destructive",confirmClick:z})},rowSelectionModel:C,setRowSelectionModel:x,isValidationSearch:k,isCheckSelectedRow:W,handelPostNegativeAmount:()=>{W()&&v({isOpened:!0,title:"마이너스 전기를 취소하시겠어요?",description:"선택한 실적에 대해 마이너스 회계 전표 취소를 진행합니다.",confirmButtonLabel:"확인",confirmButtonType:"destructive",confirmClick:X})},handleExcelDownload:async()=>{q()&&H()&&await U(F)},restSalesCancelableDocumentsExcel:V}};const px=e=>{let{isActived:t}=e;return(0,r.useMemo)((()=>[{field:"__check__",sortable:!1,headerAlign:"right",width:80,align:"center"},{field:"no",headerName:"No.",align:"center",width:48,sortable:!1,filterable:!1,valueGetter:(e,t,a,l)=>l.current.getRowIndexRelativeToVisibleRows(t._id_)+1},{field:"isBilled",headerName:"청구구분",cellClassName:"wide-cell",renderCell:e=>(0,l.jsx)("div",{className:"px-[10px] ".concat("청구"===e.row.isBilled&&"진행매출"===e.row.isPreviousUnBilled?"bg-yellow95":""),children:e.row.isBilled})},{field:"isPreviousUnBilled",headerName:"전월청구구분"},{field:"unBillingApprovalStatusTypeName",headerName:"진행매출결재상태",renderCell:e=>{let t=null;switch(e.row.unBillingApprovalStatusType){case R.L7M.WAITING:t=zh.FILL_BLUE;break;case R.L7M.COMPLETE:t=zh.FILL_GREEN;break;case R.L7M.RETURN:t=zh.FILL_RED}return Xh({colorType:t,label:e.row.unBillingApprovalStatusTypeName})}},{field:"changeCustomerApprovalStatusTypeName",headerName:"고객변경결재상태",renderCell:e=>{let t=null;switch(e.row.changeCustomerApprovalStatusType){case R.bNJ.WAITING:t=zh.FILL_BLUE;break;case R.bNJ.COMPLETE:t=zh.FILL_GREEN;break;case R.bNJ.RETURN:t=zh.FILL_RED}return Xh({colorType:t,label:e.row.changeCustomerApprovalStatusTypeName})}},{field:"confirmedAt",headerName:"매출확정일",type:da._.VIEW_MODE_YYYYMMDD_DDD,width:115},{field:"customerName",headerName:"화주",width:220},{field:"customerMdmCode",headerName:"화주 MDM"},{field:"billingCustomerName",headerName:"청구고객",width:196},{field:"billingCustomerMdmCode",headerName:"청구고객 MDM"},{field:"departureNodeName",headerName:"상차지명"},{field:"arrivalNodeName",headerName:"하차지명"},{field:"itemName",headerName:"품목"},{field:"salesCostTypeName",headerName:"매출항목"},{field:"salesTotalAmount",headerName:"공급가액",type:"number",cellClassName:"wide-cell",renderCell:e=>{var a;return"auto-generated-group-footer-root"===e.id?(0,l.jsx)("span",{className:"font-[800]",children:Number(null===(a=e.value)||void 0===a?void 0:a.replace(/\D/g,"")).toLocaleString("en-US")}):ca({type:"number",params:e,decimalPlaces:0,readonly:t})}},{field:"billedTotalAmount",headerName:"청구금액",type:"number"},{field:"vatAmount",headerName:"부가세",type:"number",cellClassName:"wide-cell",renderCell:e=>{var a;if("auto-generated-group-footer-root"===e.id)return(0,l.jsx)("span",{className:"font-[800]",children:Number(null===(a=e.value)||void 0===a?void 0:a.replace(/\D/g,"")).toLocaleString("en-US")});return ca({type:"number",params:e,decimalPlaces:0,readonly:t||!t&&!["_1A","_1B","_1C","_1D","_1E","_1G","_1H"].includes(e.row.salesVatType)})}},{field:"vatCodeName",headerName:"부가가치세명"},{field:"salesMdmCostCenterCodeName",headerName:"매출조직"},{field:"purchaseMdmCostCenterCodeName",headerName:"매입조직"},{field:"changedPurchaseMdmCostCenterCodeName",headerName:"변경 매입조직"},{field:"sapPurchaseMdmCostCenterCodeName",headerName:"전표부서"},{field:"mdmCorporationCodeName",headerName:"인사조직"},{field:"orderSalesNo",headerName:"주문오더번호",width:152},{field:"orderTransferDispatchNo",headerName:"배차번호",width:152},{field:"isConsolidated",headerName:"합적여부",type:da._.VIEW_MODE_Y_OR_N},{field:"companyTypeCode",headerName:"운송가맹"},{field:"paymentConditionCodeName",headerName:"수금조건",width:406},{field:"isManual",headerName:"입력구분",valueGetter:e=>e?"M":"",width:70},{field:"billingConfirmationNo",headerName:"매출청구확정번호",width:162},{field:"plateNumber",headerName:"배차차량"},{field:"departureRequestAt",headerName:"상차일",type:da._.VIEW_MODE_YYYYMMDD_DDD,width:112},{field:"originalBillingRequestAt",headerName:"원청구계획월",type:da._.VIEW_MODE_YYYYMMDD_DDD,width:115},{field:"changedBillingRequestAt",headerName:"변경청구계획월",type:da._.VIEW_MODE_YYYYMMDD_DDD,width:115},{field:"unBillingReasonTypeName",headerName:"진행매출사유"},{field:"bizCodeName",headerName:"사업"},{field:"serviceCodeName",headerName:"서비스"}]),[t])};function hx(e){let{initialParams:t,searchParams:a,setSearchParams:r,onSearch:s,isValidationSearch:n}=e;const{costCenterSalesOptionsByUser:o,mdmCorporationOptionsByUser:i}=xf();return(0,l.jsx)(Ve.A.Provider,{initialParams:t,params:a,setParams:r,onSearch:s,"data-sentry-element":"SearchFilter.Provider","data-sentry-component":"ChargeFixSalesFilter","data-sentry-source-file":"ChargeFixSalesFilter.tsx",children:e=>(0,l.jsxs)(ah,{children:[(0,l.jsx)(Ve.A.SearchDate,{label:"매출확정일",datePickerClassName:"!w-[159px]"}),(0,l.jsx)(Ve.A.SearchMultiAutocomplete,{required:!0,label:"매출조직",fieldName:"commonMdmCostCenterSalesCode",options:o,isSearchValidation:null==n?void 0:n.commonMdmCostCenterSalesCode,isShowDefaultOption:!1}),(0,l.jsx)(Ve.A.SearchMultiAutocomplete,{required:!0,label:"인사조직",fieldName:"commonMdmCorporationCode",options:i,isSearchValidation:null==n?void 0:n.commonMdmCorporationCode}),(0,l.jsx)(Ve.A.CustomerNameMultiAutocomplete,{label:"화주"}),(0,l.jsx)(Ve.A.SearchText,{label:"하차지명",placeholder:"하차지명 입력",fieldName:"arrivalNodeName"}),(0,l.jsxs)("div",{className:"flex h-[28px] items-center gap-[2px]",children:[(0,l.jsx)(So.A,{label:"담당자"}),(0,l.jsxs)("div",{className:"flex flex-row gap-[2px]",children:[(0,l.jsx)(Ve.A.AllMetaAutocompleteSearch,{allMetaType:Ze.k.SETTLEMENT_MANAGER_SEARCH_TYPE,className:"!w-[140px]",isUseAllOption:!1,optionsBoxWidth:200}),(0,l.jsx)(Ve.A.MdmAdminMultiAutocomplete,{fieldName:"managerUserIds",autocompleteBoxClassName:"!w-full"})]})]}),(0,l.jsx)(Ve.A.ItemNameMultiAutocomplete,{label:"품목"}),(0,l.jsx)(Ve.A.SearchText,{label:"배차번호",placeholder:"배차번호 입력",fieldName:"orderTransferDispatchNo"}),(0,l.jsx)(Ve.A.SearchText,{label:"요청사항",placeholder:"요청사항 입력",fieldName:"remark"}),(0,l.jsx)(Ve.A.SearchAutocomplete,{label:"청구구분",options:[{id:"Y",label:"청구"},{id:"N",label:"미청구"}],fieldName:"isBilled"})]})})}function fx(e){let{activeSubTab:t,wrapGridRef:a,setCheckConfirmInfo:s,handleBillingCancelComplete:n,handleCustomerUpdateComplete:o,isCheckSelectedRow:i,rowSelectionModel:d,handleSearchChildren:p}=e;const{commonMetaV2List:h}=(0,Je.X)(),f=(0,$e.P9)(),C=(0,ya.c5)(),{setIsChangeInfoCheck:x}=jC();var N;const{getAllRows:y,getSelectedRows:E,rows:v}=null!==(N=null==a?void 0:a.current)&&void 0!==N?N:{},[A,g]=(0,r.useState)(!1),[T,I]=(0,r.useState)(!1),[b,R]=(0,r.useState)(""),[S,_]=(0,r.useState)(""),[w,O]=(0,r.useState)({originalBillingRequestAt:"",billingRequestAt:"",unBillingReasonType:null,billingConfirmationAt:""}),{commonServiceInfoOption:M}=(0,Je.X)(),[D,j]=(0,r.useState)(!1),P={customerId:0,salesVatType:null,sapPurchaseMdmCostCenterCode:"",purchaseMdmCostCenterCode:"",bizCode:"",serviceCode:""},[L,B]=(0,r.useState)(P),{mutateAsync:U,...V}=UC(),{mutateAsync:F,...G}=BC(),{mutateAsync:k,...Y}=LC(),q=e=>{O((t=>({...t,...e})))},W=e=>{B((t=>({...t,...e})))},H=e=>{if(!i())return;const t=E().filter((e=>!e.isManual||e.isManual&&e.isPreviousUnBilled)),l=E().filter((e=>e.isManual&&!e.isPreviousUnBilled)),r=e?"청구":"미청구";if(l.length===E().length)return void C({title:"청구구분값을 변경할 수 없습니다.",description:"매뉴얼 정산건은 청구구분 변경이 불가합니다."});const s=t.map((t=>({...t,isBilled:r,vatCodeName:e?v.find((e=>e._id_===t._id_)).vatCodeName:"세금무관",salesVatType:e?v.find((e=>e._id_===t._id_)).salesVatType:"YY",vatAmount:e?v.find((e=>e._id_===t._id_)).vatAmount:0})));a.current.updateRows(s),x(!0),f({message:"선택하신 ".concat(t.length,"건이 ").concat(r," 상태로 전환되었습니다.")})},K=()=>{g(!1),O({originalBillingRequestAt:"",billingRequestAt:"",unBillingReasonType:null,billingConfirmationAt:""})},z=async()=>{const e=E();await U(e.map((e=>({rowNum:y().findIndex((t=>t._id_===e._id_))+1,settlementSalesConfirmationId:e.settlementSalesConfirmationId,isBilled:"청구"===e.isBilled,salesTotalAmount:e.salesTotalAmount,vatAmount:e.vatAmount,billingConfirmedAt:je()(b).startOf("day").format()}))))},X=async e=>{const t=E().map((e=>e.settlementSalesConfirmationId));await F({...e,originalBillingRequestAt:je()(e.originalBillingRequestAt).startOf("day").format(),billingRequestAt:je()(e.originalBillingRequestAt).startOf("day").format(),billingConfirmationAt:je()(e.billingConfirmationAt).startOf("day").format(),settlementSalesConfirmationIds:t})},Q=async()=>{const e=E().map((e=>e.settlementSalesConfirmationId));await k({settlementSalesConfirmationIds:e})};return $h({toast:f,tmsAlert:C,apiRest:V,successMsg:"매출 청구 ".concat(d.length,"건이 확정되었습니다."),successFunction:()=>{s({isOpened:!1}),p(),R(""),I(!1)},errorTitle:"매출 청구 확정을 위한 조건을 확인해 주시기 바랍니다.",errorFunction:()=>{s({isOpened:!1})}}),$h({toast:f,tmsAlert:C,apiRest:G,successMsg:"총 ".concat(d.length,"건의 진행매출 결재요청이 완료되었습니다."),successFunction:()=>{s({isOpened:!1}),p(),K()},errorTitle:"진행매출 결재요청에 실패했습니다.",errorFunction:()=>{s({isOpened:!1})}}),$h({toast:f,tmsAlert:C,apiRest:Y,successMsg:"총 ".concat(d.length,"건의 청구고객 변경 결재요청이 완료되었습니다."),successFunction:()=>{s({isOpened:!1}),p()},errorTitle:"청구고객 변경 결재요청에 실패했습니다.",errorFunction:()=>{s({isOpened:!1})}}),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"ml-auto flex ".concat(!t&&"min-w-[880px]"),children:t?(0,l.jsx)(u.A,{label:"매출 청구 확정 취소",level:m.V.level_2,size:m.M.Medium,leftIcon:(0,l.jsx)(hh,{width:20}),onClick:()=>{i()&&s({isOpened:!0,title:"매출 청구 확정을 취소하시겠어요?",description:"선택한 실적의 매출 청구 확정을 취소합니다.",confirmButtonLabel:"확인",confirmButtonType:"destructive",confirmClick:n})}}):(0,l.jsxs)("div",{className:"flex gap-[8px]",children:[(0,l.jsx)(u.A,{label:"고객 정보 변경",level:m.V.level_4,size:m.M.Medium,leftIcon:(0,l.jsx)(Os,{width:20,height:20,className:"text-warmrey50"}),onClick:()=>{i()&&j(!0)}}),(0,l.jsx)(u.A,{label:"미청구로 변경",level:m.V.level_4,size:m.M.Medium,leftIcon:(0,l.jsx)(gc,{width:20,height:20,className:"text-warmrey50"}),onClick:()=>H(!1)}),(0,l.jsx)(u.A,{label:"청구로 변경",level:m.V.level_4,size:m.M.Medium,leftIcon:(0,l.jsx)(gc,{width:20,height:20,className:"text-warmrey50"}),onClick:()=>H(!0)}),(0,l.jsx)(u.A,{label:"진행매출 결재요청",level:m.V.level_3,size:m.M.Medium,leftIcon:(0,l.jsx)(mh,{width:20,height:20,className:"text-blue50 h-[20px] w-[20px]"}),onClick:()=>{if(!i())return;const e=Array.from(a.current.getSelectedRows().values()).filter((e=>"청구"===e.isBilled));e.length?C({title:"고객명 ".concat(e[0].billingCustomerName,"(").concat(e[0].billingCustomerMdmCode,") 실적은 청구실적입니다. 미청구로 변경 후 재시도 하시기 바랍니다.")}):g(!0)}}),(0,l.jsx)(u.A,{label:"진행매출 청구고객 변경 결재요청",level:m.V.level_3,size:m.M.Medium,leftIcon:(0,l.jsx)(mh,{width:20,height:20,className:"text-blue50 h-[20px] w-[20px]"}),onClick:()=>{i()&&s({isOpened:!0,title:"청구고객 변경 결재를 요청하시겠어요?",description:"선택한 진행매출에 대해 청구고객 변경 결재를 요청합니다.",confirmButtonLabel:"결재 요청하기",confirmClick:Q})}}),(0,l.jsx)(u.A,{label:"매출 청구 확정",level:m.V.level_2,size:m.M.Medium,leftIcon:(0,l.jsx)(Pt.A,{width:20}),onClick:()=>{i()&&I(!0)}})]})}),T&&(0,l.jsxs)(Pe.A,{title:"청구확정일 입력",onClickCloseButton:()=>{I(!1),_(""),R("")},onClickConfirmButton:()=>{if(!b)return void _("청구 확정일을 입력해 주시기 바랍니다.");const e=je()(b),t=je()().startOf("day"),a=je()().add(1,"month").endOf("month");e.isBefore(t,"day")||e.isAfter(a,"day")?C({title:"청구확정일은 다음 달 말일(".concat(a.format("YYYY-MM-DD"),")까지만 선택 가능합니다.")}):(s({isOpened:!0,title:"매출 청구를 확정하시겠어요?",description:"선택한 실적의 매출 청구를 확정합니다.",confirmButtonLabel:"매출 청구 확정하기",confirmClick:z}),_(""))},modalContentHeight:90,children:[(0,l.jsx)("div",{className:"Body4_M text-grey60",children:"청구확정일은 오늘~다음 달 말일까지 선택할 수 있습니다."}),(0,l.jsx)("div",{className:"border-blackOpacity8 mt-[16px] border-t-[1px]",children:(0,l.jsx)(vt,{required:!0,thLabel:"청구확정일",labelClassName:"!w-[120px]",errorMessage:S,children:(0,l.jsx)(gt.A,{componentType:"date-picker-table",datePickerClassName:"w-full",value:je()(b),onChange:e=>R(e),placeholder:"청구확정일 선택"})})})]}),A&&(0,l.jsx)(Pe.A,{title:"진행매출 결재요청",onClickCloseButton:K,onClickConfirmButton:()=>{w.originalBillingRequestAt&&w.unBillingReasonType?w.billingConfirmationAt?je()(w.originalBillingRequestAt).isSame(w.billingConfirmationAt,"month")||je()(w.originalBillingRequestAt).isBefore(w.billingConfirmationAt,"month")?C({title:"진행매출 원청구계획월은 청구확정일 기준 익월(M+1)입니다."}):s({isOpened:!0,title:"진행매출 결재를 요청하시겠어요?",description:"선택한 진행매출에 대해 결재를 요청합니다.",confirmButtonLabel:"결재 요청하기",confirmClick:()=>X(w)}):C({title:"청구확정일을 입력하시기 바랍니다."}):C({title:"진행매출 결재요청시 원청구계획월, 변경청구계획월, 진행매출사유를 입력하셔야 합니다."})},modalContentHeight:176,children:(0,l.jsxs)("div",{className:"border-blackOpacity8 border-t-[1px]",children:[(0,l.jsx)(vt,{required:!0,thLabel:"원청구계획월",labelClassName:"!w-[120px]",children:(0,l.jsx)(gt.A,{componentType:"date-picker-table",datePickerClassName:"w-full",value:je()(w.originalBillingRequestAt),onChange:e=>q({originalBillingRequestAt:e}),placeholder:"원청구계획월 선택"})}),(0,l.jsx)(vt,{thLabel:"변경청구계획월",labelClassName:"!w-[120px]",children:(0,l.jsx)(gt.A,{componentType:"date-picker-table",datePickerClassName:"w-full",value:je()(w.originalBillingRequestAt),placeholder:"변경청구계획월 자동 선택",readOnly:!0})}),(0,l.jsx)(vt,{required:!0,thLabel:"진행매출사유",labelClassName:"!w-[120px]",children:(0,l.jsx)(He.A,{selectedId:w.unBillingReasonType,placeholder:"진행매출사유 선택",autocompleteBoxClassName:"w-full",options:h.SALES_UN_BILLING_REASON_TYPE,componentType:"autocomplete-table",onChange:(e,t)=>q({unBillingReasonType:t.id})})}),(0,l.jsx)(vt,{required:!0,thLabel:"청구확정일",labelClassName:"!w-[120px]",children:(0,l.jsx)(gt.A,{componentType:"date-picker-table",datePickerClassName:"w-full",value:je()(w.billingConfirmationAt),onChange:e=>q({billingConfirmationAt:e}),placeholder:"청구확정일 선택"})})]})}),D&&(0,l.jsx)(Pe.A,{title:"고객 정보 변경",onClickCloseButton:()=>{j(!1),B(P)},onClickConfirmButton:()=>s({isOpened:!0,title:"고객 정보를 변경하시겠어요?",description:"입력한 내용으로 고객 정보를 저장합니다.\n변경한 내용을 저장하시려면 [저장하기]를 눌러주세요.",confirmButtonLabel:"저장하기",confirmClick:()=>{o(L),j(!1)}}),modalContentHeight:240,confirmButtonDisabled:c().isEqual(L,P),children:(0,l.jsxs)("div",{className:"border-blackOpacity8 border-t-[1px]",children:[(0,l.jsx)(vt,{thLabel:"화주",labelClassName:"!w-[120px]",children:(0,l.jsx)(df,{placeholder:"화주 선택",value:L.customerId,setValue:e=>W({customerId:e.id})})}),(0,l.jsx)(vt,{thLabel:"세금유형",labelClassName:"!w-[120px]",children:(0,l.jsx)(He.A,{placeholder:"세금유형 선택",options:h.SALES_VAT_TYPE,selectedId:L.salesVatType,autocompleteBoxClassName:"w-full",componentType:"autocomplete-table",onChange:(e,t)=>W({salesVatType:t.id})})}),(0,l.jsx)(vt,{thLabel:"전표부서",labelClassName:"!w-[120px]",children:(0,l.jsx)(He.A,{placeholder:"전표부서 선택",options:h.COMMON_MDM_COST_CENTER_CODE,selectedId:L.sapPurchaseMdmCostCenterCode,autocompleteBoxClassName:"w-full",componentType:"autocomplete-table",onChange:(e,t)=>W({sapPurchaseMdmCostCenterCode:t.id})})}),(0,l.jsx)(vt,{thLabel:"코스트센터",labelClassName:"!w-[120px]",children:(0,l.jsx)(He.A,{placeholder:"코스트센터 입력",options:h.COMMON_MDM_COST_CENTER_PURCHASE_CODE,selectedId:L.purchaseMdmCostCenterCode,autocompleteBoxClassName:"w-full",componentType:"autocomplete-table",onChange:(e,t)=>W({purchaseMdmCostCenterCode:t.id})})}),(0,l.jsx)(vt,{thLabel:"사업",labelClassName:"!w-[120px]",children:(0,l.jsx)(He.A,{placeholder:"사업 입력",options:h.INDUSTRY_CODE,selectedId:L.bizCode,autocompleteBoxClassName:"w-full",componentType:"autocomplete-table",onChange:(e,t)=>W({bizCode:t.id})})}),(0,l.jsx)(vt,{thLabel:"서비스",labelClassName:"!w-[120px]",children:(0,l.jsx)(He.A,{placeholder:"서비스 입력",options:M,selectedId:L.serviceCode,autocompleteBoxClassName:"w-full",componentType:"autocomplete-table",onChange:(e,t)=>W({serviceCode:t.id})})})]})})]})}const Cx=e=>{let{activeTab:t,activeSubTab:a,salesSearchParams:l,setSalesSearchParams:n}=e;const o=(0,$e.P9)(),i=(0,ya.c5)(),{commonMetaV2List:d}=(0,Je.X)(),[c,u]=(0,r.useState)(l),m=(0,D.bBi)(),p=(0,r.useRef)(null);var h;const{setInitData:f,getSelectedRows:C}=null!==(h=null==p?void 0:p.current)&&void 0!==h?h:{},[x,N]=(0,r.useState)([]),{setTabInfoChargeFix:y,setIsChangeInfoCheck:E}=jC(),[v,A]=(0,r.useState)({isOpened:!1,title:"",description:"",confirmButtonLabel:"",confirmButtonType:"normal",confirmClick:()=>null}),{mutateAsync:g,isSuccess:b,data:R}=(0,T.n)(["useSalesBillingConfirmationsMutation"],(async e=>(await I.q.api((t=>t.ApiV1SettlementSalesBillingConfirmations(e)))).data.result)),{mutateAsync:S,..._}=(0,T.n)(["useBillingCancelMutation"],(async e=>(await I.q.api((t=>t.ApiV1SettlementSalesBillingCancel(e)))).data.result)),{mutateAsync:w,...O}=(0,T.n)(["useSalesConfirmationsUpdateMutation"],(async e=>(await I.q.api((t=>t.ApiV1SettlementSalesConfirmationsUpdate(e)))).data.result)),{mutateAsync:M,...j}=(0,T.n)(["useSalesBillingConfirmationsExcelMutation"],(async e=>(await I.q.api((t=>t.ApiV1SettlementSalesBillingConfirmationsExcel(e,{format:"blob"})))).data)),P={fromDate:c.startDate,toDate:c.endDate?c.endDate:je()(new Date).endOf("day").format(),salesMdmCostCenterCodes:c.commonMdmCostCenterSalesCode,mdmCorporationCodes:c.commonMdmCorporationCode,isCompleted:a,customerIds:c.customerId,orderTransferDispatchNo:c.orderTransferDispatchNo,managerSearchType:""===c.settlementManagerSearchType?d.SETTLEMENT_MANAGER_SEARCH_TYPE[0].id:c.settlementManagerSearchType,managerUserIds:c.managerUserIdsMdmEmpNo,arrivalNodeName:c.arrivalNodeName,mdmItemCodes:c.itemCode,remark:c.remark,isBilled:c.isBilled?"Y"===c.isBilled:null},L=async()=>{await g(P)},{isValidationSearch:B,isCheckedSearch:U,isCheckedSearchInfo:V,isCheckSelectedRow:F,isCheckDateRange:G}=VC({toast:o,searchParams:c,activeTab:t,currentActiveTab:s.uz,gridCurrent:m.current}),k=()=>{V()&&G()&&L()};return(0,r.useLayoutEffect)((()=>{U||L()}),[t,a]),(0,r.useEffect)((()=>{b&&(f(R.responseList.map((e=>({...e,isBilled:e.isBilled?"청구":"미청구",isPreviousUnBilled:e.isPreviousUnBilled?"진행매출":""})))),y(R.summary),E(!1))}),[R]),$h({toast:o,tmsAlert:i,apiRest:_,successMsg:"매출 청구 ".concat(x.length,"건이 확정 취소되었습니다."),successFunction:()=>{A({isOpened:!1}),k()},errorTitle:"매출 정산 확정 취소에 실패했습니다.",errorFunction:()=>{A({isOpened:!1})}}),$h({toast:o,tmsAlert:i,apiRest:O,successMsg:"총 ".concat(x.length,"건의 고객 정보가 성공적으로 변경되었습니다."),successFunction:()=>{A({isOpened:!1}),k()},errorTitle:"고객 정보에 실패했습니다.",errorFunction:()=>{A({isOpened:!1})}}),{searchParams:c,handleSetParams:e=>{u(e),n(e)},handleSearchChildren:k,gridApiRef:m,wrapGridRef:p,checkConfirmInfo:v,setCheckConfirmInfo:A,rowSelectionModel:x,setRowSelectionModel:N,handleBillingCancelComplete:async()=>{const e=C().map((e=>e.settlementSalesBillingConfirmationId));await S({settlementSalesBillingConfirmationIds:e})},handleCustomerUpdateComplete:async e=>{const t=C().map((e=>e.settlementSalesConfirmationId)),a={...e,customerId:0===e.customerId?null:e.customerId};await w({...a,settlementSalesConfirmationIds:t})},isValidationSearch:B,isCheckSelectedRow:F,handleExcelDownload:async()=>{V()&&G()&&await M(P)},restSalesBillingConfirmationsExcel:j}};const xx=[{field:"__check__",headerName:"",width:76,minWidth:76,maxWidth:76,sortable:!1,disableColumnMenu:!0,align:"right",headerClassName:"check-right-align"},{field:"No",headerName:"No.",sortable:!1,width:48,type:da._.VIEW_MODE_ID},{field:"userId",headerName:"ID(사번)",width:159},{field:"name",headerName:"관리자명",width:159},{field:"authorityRoleName",headerName:"권한명",flex:1},{field:"mdmCorporationName",headerName:"인사조직",width:160},{field:"mdmSalesCostCenterName",headerName:"매출 코스트 센터",width:160},{field:"mdmPurchaseCostCenterName",headerName:"매입 코스트 센터",width:160},{field:"isUsed",headerName:"사용 여부",width:152,type:da._.VIEW_MODE_Y_OR_N,filterOperators:[{label:"전체",value:"all",getApplyFilterFn:e=>null},{label:"사용",value:"Y",getApplyFilterFn:e=>e=>1==e},{label:"미사용",value:"N",getApplyFilterFn:e=>e=>0==e}]},{field:"createdAt",headerName:"최초 등록 일시",width:152}],Nx=[{field:"__check__",headerName:"",width:50,sortable:!1,disableColumnMenu:!0,align:"center",headerClassName:"check-right-align"},{field:"No",headerName:"No.",sortable:!1,width:48,type:da._.VIEW_MODE_ID},{field:"mdmCorporationName",headerName:"인사조직",flex:1},{field:"mdmCorporationCode",headerName:"인사조직 코드",flex:1}],yx=[{field:"__check__",headerName:"",width:50,sortable:!1,disableColumnMenu:!0,align:"right",headerClassName:"check-right-align"},{field:"No",headerName:"No.",sortable:!1,width:48,type:da._.VIEW_MODE_ID},{field:"mdmCostCenterName",headerName:"코스트 센터",flex:1},{field:"mdmCostCenterCode",headerName:"코스트 센터 코드",flex:1}];var Ex=a(12534);const vx="adminAccountManagement/useAdminAccountManagementDetailQuery",Ax=()=>(0,T.n)(["adminAccountManagement/useAdminAccountManagementCreateMutation"],(async e=>(await I.q.api((t=>t.ApiAdminV1Create(e)))).data.result)),gx=()=>(0,T.n)(["adminAccountManagement/useAdminAccountManagementModifyMutation"],(async e=>(await I.q.api((t=>t.ApiAdminV1Modify(e)))).data.result));const Tx=[{field:"__check__",headerName:"",width:50,sortable:!1,disableColumnMenu:!0,align:"center",headerClassName:"check-right-align"},{field:"id",headerName:"ID",width:90},{field:"mdmCorporationCode",headerName:"조직코드",width:150},{field:"mdmCorporationName",headerName:"조직명",width:150,flex:1}],Ix=e=>{let{setIsOpened:t,listMutation:a,onClickConfirm:s}=e;const{corporationName:n,setCorporationName:o,rows:i,handleSearch:d}=function(e){const[t,a]=(0,r.useState)(""),[l,s]=(0,r.useState)([]),n=(0,r.useCallback)((async()=>{await e.mutateAsync({corporationName:t})}),[t,e]);return(0,r.useEffect)((()=>{e.isSuccess&&s((e.data||[]).map(((e,t)=>{var a,l;return{id:t+1,mdmCorporationCode:null!==(a=e.mdmCorporationCode)&&void 0!==a?a:"",mdmCorporationName:null!==(l=e.mdmCorporationName)&&void 0!==l?l:"",commonMdmAdminId:e.commonMdmAdminId}})))}),[e.isSuccess,e.data]),(0,r.useEffect)((()=>{e.mutateAsync({})}),[]),{corporationName:t,setCorporationName:a,rows:l,handleSearch:n}}(a),c=(0,D.bBi)();return(0,l.jsxs)(Pe.A,{title:"인사조직 조회",onClickCloseButton:()=>t(!1),onClickConfirmButton:()=>{const e=Array.from(c.current.getSelectedRows().values());s(e.map((e=>({mdmCorporationCode:e.mdmCorporationCode,mdmCorporationName:e.mdmCorporationName})))),t(!1)},modalWidth:612,modalContentHeight:448,"data-sentry-element":"TmsBasicModal","data-sentry-component":"CorporationSearchModal","data-sentry-source-file":"DetailCorporationList.tsx",children:[(0,l.jsxs)("div",{className:"flex gap-[16px]",children:[(0,l.jsx)(Tt.A,{label:"거점명",placeholder:"거점명 입력",classNameInput:"w-[160px]",value:n,onChange:e=>o(e.target.value),onKeyDown:e=>{"Enter"===e.key&&d()},"data-sentry-element":"TmsBasicInput","data-sentry-source-file":"DetailCorporationList.tsx"}),(0,l.jsx)(rC.A,{onClick:d,"data-sentry-element":"ModalSearchButton","data-sentry-source-file":"DetailCorporationList.tsx"})]}),(0,l.jsx)("div",{className:"mt-[12px] flex h-[406px]",children:(0,l.jsx)(Fe.A,{apiRef:c,rows:i,columns:Tx,checkboxSelection:!0,disableColumnMenu:!0,columnVisibilityModel:{commonMdmAdminId:!1},noRowDescription:{description_1:"조회된 담당자 정보가 없습니다.",description_2:"조회 조건을 입력하거나, 조건을 다시 확인해 주세요."},"data-sentry-element":"TmsBasicDataGrid","data-sentry-source-file":"DetailCorporationList.tsx"})})]})};function bx(e){let{adminId:t,list:a,wrapGridRef:s,corporationGridApiRef:n}=e;const[o,i]=r.useState(!1),d=(0,T.n)(["adminAccountManagement/useAdminAccountManagementMdmCorporationListMutation"],(async e=>(await I.q.api((t=>t.ApiCommonV1MdmCorporationList(e)))).data.result.corporationList)),c=v();return(0,r.useEffect)((()=>{var e;null==s||null===(e=s.current)||void 0===e||e.setInitData(a)}),[a]),(0,l.jsxs)("div",{className:"flex flex-1 flex-col gap-2","data-sentry-component":"DetailCorporationList","data-sentry-source-file":"DetailCorporationList.tsx",children:[(0,l.jsxs)("div",{className:"flex",children:[(0,l.jsx)("div",{className:"Body5_B",children:"소속 인사조직"}),(0,l.jsxs)("div",{className:"ml-auto flex items-center gap-2",children:[(0,l.jsx)(ja,{handleDeleteComplete:()=>{var e;c({confirmButtonType:"destructive",title:"소속 인사조직을 삭제하시겠어요?",description:"삭제 시, 이 계정은 해당 인사조직을 사용할 수 없습니다.",confirmButtonLabel:"삭제하기",onClickConfirmButton:null==s||null===(e=s.current)||void 0===e?void 0:e.removeSelectedRow})},"data-sentry-element":"TmsDataGridDeleteCompleteBtn","data-sentry-source-file":"DetailCorporationList.tsx"}),(0,l.jsx)(St.A,{label:"추가",handleAddRow:()=>i(!0),"data-sentry-element":"TmsDataGridAddRowBtn","data-sentry-source-file":"DetailCorporationList.tsx"})]})]}),(0,l.jsx)("div",{className:"grid-area h-[200px] overflow-auto",children:(0,l.jsx)(Fa.A,{ref:s,gridApiRef:n,columns:Nx,columnVisibilityModel:{driverName:!1,driverPhoneNumber:!1},checkboxSelection:!0,"data-sentry-element":"WrapperBasicDataGrid","data-sentry-source-file":"DetailCorporationList.tsx"})}),o&&(0,l.jsx)(Ix,{setIsOpened:i,listMutation:d,onClickConfirm:e=>{e.forEach((e=>{var t;null==s||null===(t=s.current)||void 0===t||t.addRow(e)}))}})]})}var Rx=r.memo(bx,((e,t)=>c().isEqual(e.list,t.list)&&e.adminId===t.adminId));const Sx=[{field:"__check__",headerName:"",width:50,sortable:!1,disableColumnMenu:!0,align:"center",headerClassName:"check-right-align"},{field:"id",headerName:"ID",width:90},{field:"mdmCostCenterCode",headerName:"조직코드",flex:1},{field:"mdmCostCenterName",headerName:"조직명",flex:1},{field:"mdmCostCenterType",headerName:"조직 구분",flex:1},{field:"mdmCostCenterType2",headerName:"조직 구분2",flex:1}],_x=e=>{let{setIsOpened:t,listMutation:a,onClickConfirm:s}=e;const{mdmCostCenterType:n,setMdmCostCenterType:o,mdmCostCenterSearchValue:i,setMdmCostCenterSearchValue:d,rows:c,handleSearch:u}=function(e){const[t,a]=(0,r.useState)(""),[l,s]=(0,r.useState)(""),[n,o]=(0,r.useState)([]),i=(0,r.useCallback)((async()=>{await e.mutateAsync({mdmCostCenterType:t,mdmCostCenterSearchValue:l})}),[t,l,e]);return(0,r.useEffect)((()=>{e.isSuccess&&o((e.data||[]).map(((e,t)=>{var a,l,r,s;return{id:t+1,mdmCostCenterCode:null!==(a=e.mdmCostCenterCode)&&void 0!==a?a:"",mdmCostCenterName:null!==(l=e.mdmCostCenterName)&&void 0!==l?l:"",mdmCostCenterType:null!==(r=e.mdmCostCenterType)&&void 0!==r?r:"",mdmCostCenterType2:null!==(s=e.mdmCostCenterType2)&&void 0!==s?s:"",commonMdmAdminId:e.commonMdmAdminId}})))}),[e.isSuccess,e.data]),(0,r.useEffect)((()=>{e.mutateAsync({})}),[]),{mdmCostCenterType:t,setMdmCostCenterType:a,mdmCostCenterSearchValue:l,setMdmCostCenterSearchValue:s,rows:n,handleSearch:i}}(a),[m,p]=r.useState([]),h=(0,T.n)(["adminAccountManagement/useAdminAccountManagementMdmCostCenterCategoryTypeListMutation"],(async()=>(await I.q.api((e=>e.ApiCommonV1MdmCostCenterCategoryTypeList()))).data.result.categoryTypeList)),f=(0,D.bBi)();return(0,r.useEffect)((()=>{h.isSuccess&&h.data&&p(h.data.map((e=>({id:e,label:e}))))}),[h.isSuccess]),(0,r.useEffect)((()=>{h.mutateAsync()}),[]),(0,l.jsxs)(Pe.A,{title:"코스트센터 조회",onClickCloseButton:()=>t(!1),onClickConfirmButton:()=>{const e=Array.from(f.current.getSelectedRows().values());s(e.map((e=>({mdmCostCenterCode:e.mdmCostCenterCode,mdmCostCenterName:e.mdmCostCenterName})))),t(!1)},modalWidth:612,modalContentHeight:448,"data-sentry-element":"TmsBasicModal","data-sentry-component":"CostCenterSearchModal","data-sentry-source-file":"DetailconstCenterList.tsx",children:[(0,l.jsxs)("div",{className:"flex gap-[16px]",children:[(0,l.jsx)(He.A,{label:"조직 구분",selectedId:n,placeholder:"조직 구분",autocompleteBoxClassName:"w-[176px]",options:m,onChange:(e,t)=>o(null==t?void 0:t.id),"data-sentry-element":"TmsBasicAutocomplete","data-sentry-source-file":"DetailconstCenterList.tsx"}),(0,l.jsx)(Tt.A,{label:"조직명/코드",placeholder:"조직명 또는 코드 입력",classNameInput:"w-[160px]",value:i,onChange:e=>d(e.target.value),onKeyDown:e=>{"Enter"===e.key&&u()},"data-sentry-element":"TmsBasicInput","data-sentry-source-file":"DetailconstCenterList.tsx"}),(0,l.jsx)(rC.A,{onClick:u,"data-sentry-element":"ModalSearchButton","data-sentry-source-file":"DetailconstCenterList.tsx"})]}),(0,l.jsx)("div",{className:"mt-[12px] flex h-[406px]",children:(0,l.jsx)(Fe.A,{apiRef:f,rows:c,columns:Sx,checkboxSelection:!0,disableColumnMenu:!0,columnVisibilityModel:{commonMdmAdminId:!1},noRowDescription:{description_1:"조회된 담당자 정보가 없습니다.",description_2:"조회 조건을 입력하거나, 조건을 다시 확인해 주세요."},"data-sentry-element":"TmsBasicDataGrid","data-sentry-source-file":"DetailconstCenterList.tsx"})})]})};function wx(e){let{adminId:t,list:a,wrapGridRef:s,constcenterGridApiRef:n}=e;var o;const[i,d]=r.useState(!1),c=(0,T.n)(["adminAccountManagement/useAdminAccountManagementMdmCostCenterListMutation"],(async e=>(await I.q.api((t=>t.ApiCommonV1MdmCostCenterList(e)))).data.result.mdmCostCenterList));return(0,r.useEffect)((()=>{var e;null==s||null===(e=s.current)||void 0===e||e.setInitData(a)}),[a]),(0,l.jsxs)("div",{className:"flex flex-1 flex-col gap-2","data-sentry-component":"DetailCostCenterList","data-sentry-source-file":"DetailconstCenterList.tsx",children:[(0,l.jsxs)("div",{className:"flex",children:[(0,l.jsx)("div",{className:"Body5_B",children:"소속 코스트센터"}),(0,l.jsxs)("div",{className:"ml-auto flex items-center gap-2",children:[(0,l.jsx)(ja,{handleDeleteComplete:null==s||null===(o=s.current)||void 0===o?void 0:o.removeSelectedRow,"data-sentry-element":"TmsDataGridDeleteCompleteBtn","data-sentry-source-file":"DetailconstCenterList.tsx"}),(0,l.jsx)(St.A,{label:"추가",handleAddRow:()=>d(!0),"data-sentry-element":"TmsDataGridAddRowBtn","data-sentry-source-file":"DetailconstCenterList.tsx"})]})]}),(0,l.jsx)("div",{className:"grid-area h-[200px] overflow-auto",children:(0,l.jsx)(Fa.A,{ref:s,gridApiRef:n,columns:yx,columnVisibilityModel:{driverName:!1,driverPhoneNumber:!1},checkboxSelection:!0,"data-sentry-element":"WrapperBasicDataGrid","data-sentry-source-file":"DetailconstCenterList.tsx"})}),i&&(0,l.jsx)(_x,{setIsOpened:d,listMutation:c,onClickConfirm:e=>{e.forEach((e=>{var t;null==s||null===(t=s.current)||void 0===t||t.addRow(e)}))}})]})}var Ox=r.memo(wx,((e,t)=>c().isEqual(e.list,t.list)&&e.adminId===t.adminId));var Mx,Dx,jx=function(e){let{detailData:t,form:a,isRegister:s,cjuserList:n,authorityRoleList:o,corporationWrapGridRef:i,constCenterWrapGridRef:d}=e;var u,m,p,h,f,C,x,N;const{commonMetaV2List:y}=(0,Je.X)(),E=(0,D.bBi)(),v=(0,D.bBi)(),{control:A,handleSubmit:g,formState:T,register:I,setValue:b,reset:R,getValues:S}=a,_=(0,r.useMemo)((()=>function(e){return e?e.map((e=>({id:e.empNo,label:"".concat(e.name," (").concat(e.empNo,")")}))):[]}(n)),[n]),w=(0,r.useMemo)((()=>function(e){return e?e.map((e=>({id:e.authorityRoleId,label:e.authorityRoleName}))):[]}(o)),[o]),{handleChangeAdminUserId:O}=function(e){let{cjuserList:t,setValue:a}=e;return{handleChangeAdminUserId:(e,l)=>{const r=c().find(t,{empNo:l.id});e.onChange(l.id),a("cjWorldId",(null==r?void 0:r.cjWorldId)||""),a("cjWorldEmail",(null==r?void 0:r.cjWorldEmail)||""),a("phoneNumber",(null==r?void 0:r.phoneNumber)||""),a("mdmCorporationCode",(null==r?void 0:r.mdmCorporationCode)||"")}}}({cjuserList:n,setValue:b});return(0,l.jsxs)("div",{className:"basic-info","data-sentry-component":"DetailBasic","data-sentry-source-file":"DetailBasic.tsx",children:[(0,l.jsx)("div",{className:"flex flex-1 flex-col gap-[20px] p-[24px]",children:(0,l.jsxs)("div",{className:"flex flex-1 flex-col",children:[(0,l.jsx)("div",{className:"Body5_B",children:"계정 정보"}),(0,l.jsxs)(Vn,{"data-sentry-element":"InfoTable","data-sentry-source-file":"DetailBasic.tsx",children:[(0,l.jsx)(Fn,{required:!0,label:"관리자명(ID)",error:null===(u=T.errors.adminUserId)||void 0===u?void 0:u.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailBasic.tsx",children:(0,l.jsx)(Hr.xI,{name:"adminUserId",control:A,rules:{required:Hn.required},render:e=>{let{field:t}=e;return s?(0,l.jsx)(He.A,{selectedId:t.value,placeholder:"관리자명 또는 사번 입력",autocompleteBoxClassName:"w-full",options:_,componentType:"autocomplete-table",onChange:(e,a)=>O(t,a)}):(0,l.jsx)(Tt.A,{disabled:!0,value:t.value,componentType:"input-table",className:"flex-1"})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailBasic.tsx"})}),(0,l.jsx)(Fn,{required:!0,label:"권한",error:null===(m=T.errors.authorityRoleId)||void 0===m?void 0:m.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailBasic.tsx",children:(0,l.jsx)(Hr.xI,{name:"authorityRoleId",control:A,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(He.A,{selectedId:t.value,placeholder:"권한 선택",autocompleteBoxClassName:"w-full",options:w,componentType:"autocomplete-table",onChange:(e,a)=>t.onChange(a.id)})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailBasic.tsx"})}),(0,l.jsx)(Fn,{required:!0,label:"CJ월드 ID",error:null===(p=T.errors.cjWorldId)||void 0===p?void 0:p.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailBasic.tsx",children:(0,l.jsx)(Hr.xI,{name:"cjWorldId",control:A,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{disabled:!0,value:t.value,componentType:"input-table",placeholder:"CJ월드 ID 입력",className:"flex-1",onChange:e=>t.onChange(e.target.value)})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailBasic.tsx"})}),(0,l.jsx)(Fn,{required:!0,label:"CJ월드 이메일",error:null===(h=T.errors.cjWorldEmail)||void 0===h?void 0:h.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailBasic.tsx",children:(0,l.jsx)(Hr.xI,{name:"cjWorldEmail",control:A,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{disabled:!0,componentType:"input-table",placeholder:"이메일 입력",className:"w-full",...t,...I("cjWorldEmail",{validate:e=>(0,pe.B9)(e)||"올바른 이메일 주소를 입력해 주세요."})})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailBasic.tsx"})}),(0,l.jsx)(Fn,{required:!0,label:"휴대폰 번호",error:null===(f=T.errors.phoneNumber)||void 0===f?void 0:f.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailBasic.tsx",children:(0,l.jsx)(Hr.xI,{name:"phoneNumber",control:A,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{componentType:"input-table",placeholder:"휴대폰 번호 입력",className:"w-full",...t,...I("phoneNumber",{validate:e=>(0,pe.g0)(e)||"올바른 휴대폰 번호를 입력해 주세요."})})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailBasic.tsx"})}),(0,l.jsx)(Fn,{required:!0,label:"인사 조직",error:null===(C=T.errors.mdmCorporationCode)||void 0===C?void 0:C.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailBasic.tsx",children:(0,l.jsx)(Hr.xI,{name:"mdmCorporationCode",control:A,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(He.A,{disabled:!0,selectedId:t.value,placeholder:"인사 조직 선택",autocompleteBoxClassName:"w-full",options:y[Ze.k.COMMON_MDM_CORPORATION_CODE],componentType:"autocomplete-table",onChange:(e,a)=>t.onChange(a.id)})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailBasic.tsx"})}),(0,l.jsx)(Fn,{required:!0,label:"코스트 센터(매출)",error:null===(x=T.errors.mdmSalesCostCenterCode)||void 0===x?void 0:x.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailBasic.tsx",children:(0,l.jsx)(Hr.xI,{name:"mdmSalesCostCenterCode",control:A,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(He.A,{selectedId:t.value,placeholder:"코스트 센터(매출) 선택",autocompleteBoxClassName:"w-full",options:y[Ze.k.COMMON_MDM_COST_CENTER_SALES_CODE],componentType:"autocomplete-table",onChange:(e,a)=>t.onChange(a.id)})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailBasic.tsx"})}),(0,l.jsx)(Fn,{required:!0,label:"코스트 센터(매입)",error:null===(N=T.errors.mdmPurchaseCostCenterCode)||void 0===N?void 0:N.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailBasic.tsx",children:(0,l.jsx)(Hr.xI,{name:"mdmPurchaseCostCenterCode",control:A,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(He.A,{selectedId:t.value,placeholder:"코스트 센터(매입) 선택",autocompleteBoxClassName:"w-full",options:y[Ze.k.COMMON_MDM_COST_CENTER_PURCHASE_CODE],componentType:"autocomplete-table",onChange:(e,a)=>t.onChange(a.id)})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailBasic.tsx"})}),(0,l.jsx)(Fn,{required:!0,label:"사용 여부","data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailBasic.tsx",children:(0,l.jsx)(Hr.xI,{name:"isUsed",control:A,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(Un,{groupName:"isUsed",value:t.value,items:[{id:"true",label:"사용"},{id:"false",label:"사용안함"}],...t})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailBasic.tsx"})}),(0,l.jsx)(Fn,{label:"알림 채널","data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailBasic.tsx",children:(0,l.jsx)(Hr.xI,{name:"alimType",control:A,render:e=>{let{field:t}=e;return(0,l.jsx)(dc,{groupName:"alimType",items:Wn.RECEIVER_TYPES,...t})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailBasic.tsx"})}),(0,l.jsx)(Fn,{label:"알림 수신","data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailBasic.tsx",children:(0,l.jsx)(Hr.xI,{name:"isAlim",control:A,render:e=>{let{field:t}=e;return(0,l.jsx)(Un,{groupName:"isAlim",items:[{id:"true",label:"수신"},{id:"false",label:"수신 안함"}],...t})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailBasic.tsx"})})]})]})}),(0,l.jsx)("div",{className:"flex flex-1 flex-col gap-[20px] px-[24px]",children:(0,l.jsx)(Rx,{adminId:null==t?void 0:t.adminId,list:(null==t?void 0:t.corporationList)||[],wrapGridRef:i,corporationGridApiRef:E,"data-sentry-element":"DetailCorporationList","data-sentry-source-file":"DetailBasic.tsx"})}),(0,l.jsx)("div",{className:"flex flex-1 flex-col gap-[20px] p-[24px]",children:(0,l.jsx)(Ox,{adminId:null==t?void 0:t.adminId,list:(null==t?void 0:t.costCenterList)||[],wrapGridRef:d,constcenterGridApiRef:v,"data-sentry-element":"DetailconstCenterList","data-sentry-source-file":"DetailBasic.tsx"})})]})};function Px(){return Px=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},Px.apply(null,arguments)}var Lx=function(e){return r.createElement("svg",Px({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none"},e),r.createElement("mask",{id:"icon-chevron-down_svg__a",width:16,height:16,x:0,y:0,maskUnits:"userSpaceOnUse",style:{maskType:"alpha"}},Mx||(Mx=r.createElement("path",{fill:"#D9D9D9",d:"M0 0h16v16H0z"}))),Dx||(Dx=r.createElement("g",{mask:"url(#icon-chevron-down_svg__a)"},r.createElement("path",{fill:"#868C98",d:"m3.378 6.134 4.5 4.483a.17.17 0 0 0 .24 0l4.5-4.484a.17.17 0 0 0 0-.239l-.513-.511a.17.17 0 0 0-.24 0L7.958 9.275l-3.82-3.892a.17.17 0 0 0-.24 0l-.513.511a.17.17 0 0 0 0 .24z"}))))};const Bx={key:"",label:"",isActive:!1,isShow:!0,subItems:[]};function Ux(e){let{checkedOperations:t,onCheckedOperationsChange:a}=e;const[s,n]=r.useState(!0),[o,i]=r.useState(t.isActive);return(0,r.useEffect)((()=>{i(t.isActive)}),[t.isActive]),(0,l.jsx)(x.SB3,{className:C()("basic-checkbox-list"),"data-sentry-element":"BasicBox","data-sentry-component":"NestedCheckboxList","data-sentry-source-file":"TmsCheckBoxList.tsx",children:(0,l.jsxs)(x.p6M,{"data-sentry-element":"BasicList","data-sentry-source-file":"TmsCheckBoxList.tsx",children:[(0,l.jsxs)(x.iXB,{className:C()("basic-checkbox-list-first"),"data-sentry-element":"BasicListItemButton","data-sentry-source-file":"TmsCheckBoxList.tsx",children:[(0,l.jsx)(x.Y1S,{checked:o,onChange:e=>{const l=e.target.checked,r={...t,isActive:l,subItems:t.subItems.map((e=>({...e,isActive:l,operations:e.operations.map((e=>({...e,isActive:l})))})))};i(l),a(r)},"data-sentry-element":"BasicCheckbox","data-sentry-source-file":"TmsCheckBoxList.tsx"}),(0,l.jsx)(x.vXs,{primary:t.label,className:C()("basic-checkbox-list-first-title"),"data-sentry-element":"BasicListItemText","data-sentry-source-file":"TmsCheckBoxList.tsx"}),(0,l.jsx)(Lx,{width:20,height:20,onClick:()=>n(!s),className:"".concat(s?"rotate-180":""),"data-sentry-element":"IconChevronDown","data-sentry-source-file":"TmsCheckBoxList.tsx"})]}),(0,l.jsx)(x.EwN,{in:s,timeout:"auto",unmountOnExit:!0,className:C()("basic-checkbox-list-box ".concat(o?"active":"")),"data-sentry-element":"BasicCollapse","data-sentry-source-file":"TmsCheckBoxList.tsx",children:t.subItems.map((e=>{return(0,l.jsxs)(x.p6M,{component:"div",disablePadding:!0,children:[(0,l.jsxs)(x.iXB,{sx:{pl:4},children:[(0,l.jsx)(x.Y1S,{checked:e.isActive,onChange:(r=e.key,e=>{const l=e.target.checked,s={...t,isActive:l,subItems:t.subItems.map((e=>e.key===r?{...e,isActive:l,operations:e.operations.map((e=>({...e,isActive:l})))}:e))};i(l),a(s)})}),(0,l.jsx)(x.vXs,{primary:e.label})]}),(0,l.jsx)(x.p6M,{component:"div",disablePadding:!0,sx:{display:"flex"},className:C()("basic-checkbox-list-third"),children:e.operations.map((r=>{return(0,l.jsxs)(x.iXB,{children:[(0,l.jsx)(x.Y1S,{checked:r.isActive,onChange:(s=e.key,n=r.key,e=>{const l=e.target.checked,r={...t,subItems:t.subItems.map((e=>e.key===s?{...e,isActive:l,operations:e.operations.map((e=>e.key===n?{...e,isActive:l}:e))}:e))};i(l),a(r)})}),(0,l.jsx)(x.vXs,{primary:r.label})]},r.key);var s,n}))})]},e.key);var r}))})]})})}const Vx=[{id:R.wxT.GOV_GRAIN,label:"정부양곡"}];var Fx=function(e){let{form:t,orderDispatchManageType:a,menuList:s,checkedOperationsList:n,setCheckedOperationsList:o}=e;const{control:i}=t,{handleCheckedOperationsChange:d}=function(e){return{handleCheckedOperationsChange:(t,a)=>{e((e=>e.map(((e,l)=>l===t?a:e))))}}}(o);return(0,r.useEffect)((()=>{Array.isArray(s)&&o(function(e){return(e||[]).map((e=>{const t=(e.children||[]).map((e=>{const t=(e.operationList||[]).map((e=>({key:e.code,label:e.name,isActive:e.isActive}))),a=t.some((e=>e.isActive));return{key:String(e.menuId),label:e.menuName,isActive:a,operations:t}})),a=t.some((e=>e.isActive));return{key:String(e.menuId),label:e.menuName,isActive:a,subItems:t}}))}(s))}),[s]),(0,l.jsxs)("div",{className:"moreInfo","data-sentry-component":"DetailMoreInfo","data-sentry-source-file":"DetailMoreInfo.tsx",children:[(0,l.jsx)("div",{className:"flex flex-1 flex-col p-[24px] pb-[4px]",children:(0,l.jsx)("div",{className:"Body4_B",children:"컬럼설정"})}),(0,l.jsxs)("div",{className:"flex flex-1 flex-col px-[24px]",children:[(0,l.jsxs)("div",{className:"flex flex-1 flex-col",children:[(0,l.jsx)("div",{className:"Body5_B text-grey50 py-[12px]",children:"주문 배차 관리"}),(0,l.jsx)("div",{className:"bg-grey98 flex h-full items-center py-[12px]",children:(0,l.jsx)(Hr.xI,{name:"orderDispatchManageType",control:i,render:e=>{let{field:t}=e;return(0,l.jsx)(dc,{groupName:"orderDispatchManageType",items:Vx,...t})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailMoreInfo.tsx"})})]}),n.map(((e,t)=>(0,l.jsx)(Ux,{checkedOperations:e,onCheckedOperationsChange:e=>d(t,e)},e.key)))]})]})};var Gx=e=>{let{selectedTabId:t,children:a,className:s=""}=e;return(0,l.jsx)("div",{className:"relative flex-1 ".concat(s," overflow-y-scroll"),"data-sentry-component":"InvisibleTabPanel","data-sentry-source-file":"InvisibleTabPanel.tsx",children:r.Children.map(a,(e=>{if(!r.isValidElement(e))return null;const{id:a}=e.props;return(0,l.jsx)("div",{className:t===a?"flex h-full flex-col":"invisible absolute flex h-[5px] w-full flex-col-reverse",children:e})}))})};function kx(e){let{isRegister:t,detailData:a,form:l,checkedOperationsList:r,corporationWrapGridRef:s,constCenterWrapGridRef:n,searchList:o}=e;const i=Ax(),d=gx(),c=(0,$e.P9)();return{onSubmitForm:async e=>{var l,u,m,p;const h=(null==s||null===(l=s.current)||void 0===l?void 0:l.getAllRows())||[],f=(null==n||null===(u=n.current)||void 0===u?void 0:u.getAllRows())||[],C={userId:t?e.adminUserId:void 0,adminId:t?void 0:a.adminId,phoneNumber:e.phoneNumber,authorityRoleId:e.authorityRoleId,mdmSalesCostCenterCode:e.mdmSalesCostCenterCode,mdmPurchaseCostCenterCode:e.mdmPurchaseCostCenterCode,isUsed:"true"===e.isUsed,isAlim:"true"===e.isAlim,isAlimSms:(null===(m=e.alimType)||void 0===m?void 0:m.includes(Wn.RECEIVER_TYPES[0].id))||!1,isAlimEmail:(null===(p=e.alimType)||void 0===p?void 0:p.includes(Wn.RECEIVER_TYPES[1].id))||!1,mdmCorporationCodeList:h.map((e=>e.mdmCorporationCode)),mdmCostCenterList:f.map((e=>e.mdmCostCenterCode)),menuList:r.map((e=>{return t=e,{menuId:Number(t.key),menuName:t.label,menuType:"MENU",operationList:[],children:(t.subItems||[]).map((e=>({menuId:Number(e.key),menuName:e.label,menuType:"TAB",operationList:(e.operations||[]).map((e=>({code:e.key,name:e.label,isActive:e.isActive}))),children:[]})))};var t}))||[],orderDispatchManageType:t?void 0:e.orderDispatchManageType[0]};(t?await i.mutateAsync(C):await d.mutateAsync(C))&&(o(),c({message:"관리자 정보가 저장되었습니다.",type:"success",delay:3e3}))},onErrorForm:()=>{c({message:"필수 정보를 입력해주세요.",type:"caution"})}}}const Yx=g()((()=>a.e(18).then(a.t.bind(a,39018,23))),{loadableGenerated:{webpack:()=>[39018]},ssr:!1});function qx(){const{user:e}=(0,i.o)(),t=e=>{if(!e)return{};try{return"string"==typeof e?JSON.parse(e):e}catch(e){return{}}},[a,s]=(0,r.useState)((()=>t(null==e?void 0:e.personalConfig))),[n,o]=(0,r.useState)("tree"),[d,c]=(0,r.useState)((()=>JSON.stringify(t(null==e?void 0:e.personalConfig),null,2))),[p,h]=(0,r.useState)(null);(0,r.useEffect)((()=>{const a=t(null==e?void 0:e.personalConfig);s(a),c(JSON.stringify(a,null,2))}),[null==e?void 0:e.personalConfig]);const f=e=>{s(e.updated_src),c(JSON.stringify(e.updated_src,null,2))};return(0,l.jsxs)(D.SB3,{"data-sentry-element":"BasicBox","data-sentry-component":"PersonalInfo","data-sentry-source-file":"PersonalInfo.tsx",children:[(0,l.jsxs)("div",{className:"my-2 flex justify-center gap-[8px]",children:[(0,l.jsx)(u.A,{label:"Tree",level:"tree"===n?m.V.level_1:m.V.level_2,onClick:()=>o("tree"),"data-sentry-element":"TmsBasicButton","data-sentry-source-file":"PersonalInfo.tsx"}),(0,l.jsx)(u.A,{label:"Raw",level:"raw"===n?m.V.level_1:m.V.level_2,onClick:()=>o("raw"),"data-sentry-element":"TmsBasicButton","data-sentry-source-file":"PersonalInfo.tsx"}),"raw"===n&&(0,l.jsx)(u.A,{label:"Apply",level:m.V.level_1,onClick:()=>{try{const e=JSON.parse(d);s(e),h(null),o("tree")}catch(e){h(e.message||"Invalid JSON")}}}),(0,l.jsx)(D.iRd,{orientation:"vertical",variant:"middle",flexItem:!0,sx:{mx:2,borderRightWidth:2},"data-sentry-element":"BasicDivider","data-sentry-source-file":"PersonalInfo.tsx"}),(0,l.jsx)(u.A,{label:"Export",level:m.V.level_1,onClick:()=>{if("undefined"==typeof document)return;const e=new Blob([JSON.stringify(a,null,2)],{type:"application/json"}),t=URL.createObjectURL(e),l=document.createElement("a");l.href=t,l.download="personal-config.json",l.click(),URL.revokeObjectURL(t)},"data-sentry-element":"TmsBasicButton","data-sentry-source-file":"PersonalInfo.tsx"}),(0,l.jsx)(u.A,{label:"Reset",level:m.V.level_1,onClick:()=>{const a=t(null==e?void 0:e.personalConfig);s(a),c(JSON.stringify(a,null,2)),h(null)},"data-sentry-element":"TmsBasicButton","data-sentry-source-file":"PersonalInfo.tsx"}),(0,l.jsx)(u.A,{label:"Save",level:m.V.level_1,onClick:()=>{},"data-sentry-element":"TmsBasicButton","data-sentry-source-file":"PersonalInfo.tsx"})]}),(0,l.jsx)("div",{style:{height:480,border:"1px solid #e0e0e0",overflow:"auto",padding:8},children:"tree"===n?(0,l.jsx)(Yx,{src:a,name:null,collapsed:!1,enableClipboard:!1,displayDataTypes:!1,onEdit:f,onAdd:f,onDelete:f,style:{fontFamily:"monospace",fontSize:13}}):(0,l.jsxs)("div",{style:{height:"100%",display:"flex",flexDirection:"column",gap:8},children:[(0,l.jsx)("textarea",{value:d,onChange:e=>c(e.target.value),style:{flex:1,width:"100%",fontFamily:"monospace",fontSize:13,padding:8}}),p&&(0,l.jsxs)("div",{style:{color:"red"},children:["JSON Parse Error: ",p]})]})})]})}const Wx={adminId:null,userId:"",name:"",phoneNumber:"",authorityRoleId:null,authorityRoleName:"",mdmCorporationCode:"",mdmCorporationName:"",mdmSalesCostCenterCode:"",mdmSalesCostCenterName:"",mdmPurchaseCostCenterCode:"",mdmPurchaseCostCenterName:"",isUsed:"false",isAlim:"false",isAlimSms:!1,isAlimEmail:!1,corporationList:[],costCenterList:[],orderDispatchManageType:[]};function Hx(e){let{isRegister:t,detailData:a,cjuserList:s,authorityRoleList:n,searchList:o,handleCopy:d}=e;const{form:p,corporationWrapGridRef:h,constCenterWrapGridRef:f,checkedOperationsList:x,setCheckedOperationsList:N,adminUserId:y}=function(e,t){const a=(0,r.useRef)(null),l=(0,r.useRef)(null),[s,n]=(0,r.useState)([]);return{form:(0,Hr.mN)({defaultValues:{isUsed:"true"},mode:"onChange",shouldUnregister:!0}),corporationWrapGridRef:a,constCenterWrapGridRef:l,checkedOperationsList:s,setCheckedOperationsList:n,adminUserId:(0,r.useMemo)((()=>c().isEmpty(null==t?void 0:t.name)&&c().isEmpty(null==t?void 0:t.userId)?"":t.name+"("+t.userId+")"),[null==t?void 0:t.name,null==t?void 0:t.userId])}}(0,a),{selectedTabId:E,onChangeTab:v}=function(){const[e,t]=(0,r.useState)("basicInfo");return{selectedTabId:e,onChangeTab:e=>t(e.id)}}(),{onSubmitForm:A,onErrorForm:g}=kx({isRegister:t,detailData:a,form:p,checkedOperationsList:x,corporationWrapGridRef:h,constCenterWrapGridRef:f,searchList:o}),{user:T,getOperationIsActive:I}=(0,i.o)(),[b]=(0,r.useState)(I(gd.ADMIN_ACCOUNT_MANAGEMENT,Ad.UPDATE)),[S]=(0,r.useState)(I(gd.ADMIN_ACCOUNT_MANAGEMENT,Ad.COPY)),{control:_,handleSubmit:w,reset:O}=p;(0,r.useEffect)((()=>{if("moreInfo"!==E)if(a){const e=[];a.isAlimSms&&e.push(Wn.RECEIVER_TYPES[0].id),a.isAlimEmail&&e.push(Wn.RECEIVER_TYPES[1].id);const l=c().find(s,{empNo:a.userId});O({adminUserId:t?"":y,authorityRoleId:a.authorityRoleId,cjWorldId:(null==l?void 0:l.cjWorldId)||"",cjWorldEmail:(null==l?void 0:l.cjWorldEmail)||"",phoneNumber:a.phoneNumber,mdmCorporationCode:a.mdmCorporationCode,mdmSalesCostCenterCode:a.mdmSalesCostCenterCode,mdmPurchaseCostCenterCode:a.mdmPurchaseCostCenterCode,isUsed:t||a.isUsed?"true":"false",isAlim:t||a.isAlim?"true":"false",alimType:e,orderDispatchManageType:a.orderDispatchManageType===R.wxT.GOV_GRAIN?[R.wxT.GOV_GRAIN]:[]})}else O(Wx)}),[a,t]);const M=r.useMemo((()=>{const e=[{id:"basicInfo",label:"기본 정보"},{id:"moreInfo",label:"상세 권한"}];return(null==T?void 0:T.empNo.includes(["13413726"]))&&e.push({id:"personalInfo",label:"개인화"}),e}),[null==T?void 0:T.empNo]);return(0,l.jsx)("div",{className:"flex h-full flex-1 flex-col","data-sentry-component":"Detail","data-sentry-source-file":"Detail.tsx",children:(0,l.jsx)("form",{autoComplete:"off",onSubmit:w(A,g),className:"flex h-full flex-1",children:(0,l.jsxs)("div",{className:"flex h-full flex-1 flex-col",children:[(0,l.jsx)("div",{className:C()("border-b-blue95 header flex flex-col gap-[16px] border-b-[1px]",{"bg-grey98":t,"bg-blue98":!t}),children:t?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"flex items-center justify-between self-stretch px-[24px] pt-4",children:[(0,l.jsx)("div",{className:"Body5_M",children:"기본 ‘인사조직’과 ‘코스트 센터’는 삭제할 수 없습니다."}),(0,l.jsx)(u.A,{type:"submit",label:"계정 생성",level:m.V.level_2,size:m.M.Small,leftIcon:(0,l.jsx)(Pt.A,{widht:16,height:16,className:"text-white"})})]}),(0,l.jsx)("div",{className:"flex h-[60px] w-full items-center justify-start gap-1 px-6 py-4",children:(0,l.jsx)("div",{className:"Title3_EX",children:"새 관리자 계정 생성하기"})})]}):(0,l.jsxs)("div",{className:"flex flex-col py-5",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between self-stretch px-[24px]",children:[(0,l.jsx)("div",{className:"Body5_B",children:S&&(0,l.jsx)(u.A,{label:"복사",level:m.V.level_4,size:m.M.Small,onClick:d,leftIcon:(0,l.jsx)(Ut,{widht:16,height:16,className:"text-grey50"})})}),b&&(0,l.jsx)(u.A,{type:"submit",label:"저장",level:m.V.level_2,size:m.M.Small,leftIcon:(0,l.jsx)(yt.A,{widht:16,height:16,className:"text-white"})})]}),(0,l.jsxs)("div",{className:"flex h-[60px] w-full items-center justify-start gap-1 px-6",children:[(0,l.jsx)("div",{className:"Title3_EX",children:y}),(0,l.jsx)("div",{className:"Body5_M",children:a.authorityRoleName||""})]}),(0,l.jsx)("div",{className:"flex px-6",children:(0,l.jsx)(nc,{items:M,selectedId:E,onChange:v})})]})}),(0,l.jsxs)(Gx,{selectedTabId:E,"data-sentry-element":"InvisibleTabPanel","data-sentry-source-file":"Detail.tsx",children:[(0,l.jsx)(jx,{id:"basicInfo",form:p,isRegister:t,cjuserList:s,authorityRoleList:n,detailData:a,corporationWrapGridRef:h,constCenterWrapGridRef:f,"data-sentry-element":"DetailBasic","data-sentry-source-file":"Detail.tsx"}),!t&&(0,l.jsx)(Fx,{id:"moreInfo",form:p,menuList:null==a?void 0:a.menuList,checkedOperationsList:x,setCheckedOperationsList:N}),(0,l.jsx)(qx,{id:"personalInfo","data-sentry-element":"PersonalInfo","data-sentry-source-file":"Detail.tsx"})]})]})})})}var Kx=function(e){let{menuName:t}=e;(0,$e.P9)();const a=(0,r.useRef)(null),s=(0,D.bBi)(),n=v(),[o,d]=(0,r.useState)(!1),[p,h]=(0,r.useState)(null),[f,x]=(0,r.useState)({}),[N,y]=(0,r.useState)(null),[E,A]=(0,r.useState)([]),{getOperationIsActive:g}=(0,i.o)(),[b]=(0,r.useState)(g(gd.ADMIN_ACCOUNT_MANAGEMENT,Ad.CREATE)),{personalizedGridColumns:R,personalizedColumnVisibilityModel:S,..._}=Bl(Ml,xx),w=(0,T.n)(["adminAccountManagement/useAdminAccountManagementListMutation"],(async e=>(await I.q.api((t=>t.ApiAdminV1List(e)))).data.result.list)),O=(e=>{const t=(0,Ex.jE)();return{query:(0,Ul.I)([vx,e],(async()=>(await I.q.api((t=>t.ApiAdminV1Detail({adminId:e})))).data.result),{enabled:!!e,keepPreviousData:!0}),setQueryData:a=>{t.setQueryData([vx,e],a)},setInvalidateQuery:()=>{t.invalidateQueries([vx,e])}}})(N),M=(0,Ul.I)(["adminAccountManagement/useAdminAccountManagementCjlUserListQuery"],(async()=>(await I.q.api((e=>e.ApiAdminV1CjlUserList()))).data.result.list)),j=(0,T.n)(["adminAccountManagement/useAdminAccountManagementAuthorityRoleListMutation"],(async e=>(await I.q.api((t=>t.ApiCommonV1AuthorityRoleList(e)))).data.result.list)),P=async e=>{const t={searchAdminName:null==e?void 0:e.searchAdminName,empNo:null==e?void 0:e.empNo,mdmCorporationCode:null==e?void 0:e.commonMdmCorporationCode,authorityRoleId:null==e?void 0:e.authorityRoleId};w.mutateAsync(t)},L=e=>{o?n({title:"작성 중인 정보가 있습니다.",description:"화면을 나가면 작성된 정보가 삭제됩니다.",confirmButtonLabel:"나가기",onClickConfirmButton(t){y(e.row.adminId),d(!1)}}):(y(e.row.adminId),d(!1))},B=()=>{n({title:"선택한 행을 삭제하시겠습니까?",description:"삭제된 데이터는 복구할 수 없습니다.",confirmButtonLabel:"삭제",onClickConfirmButton:()=>{a.current&&a.current.removeSelectedRow()},onClickCloseButton:()=>{}})},U=(0,r.useMemo)((()=>{var e,t;return null!==(t=null===(e=j.data)||void 0===e?void 0:e.map((e=>({id:e.authorityRoleId,label:e.authorityRoleName}))))&&void 0!==t?t:[]}),[j.data]);return(0,r.useEffect)((()=>{if(w.isSuccess){var e;const t=null===(e=w.data)||void 0===e?void 0:e[0];(null==t?void 0:t.adminId)&&(y(t.adminId),d(!1))}}),[w.isSuccess]),(0,r.useEffect)((()=>{w.mutateAsync({}),j.mutateAsync({isUsed:!0}),M.refetch()}),[]),(0,r.useEffect)((()=>{var e;w.data&&(null==a||null===(e=a.current)||void 0===e||e.setInitData(w.data))}),[w.data]),(0,r.useEffect)((()=>{O.query.data&&h(O.query.data)}),[O.query.data]),(0,l.jsxs)("div",{className:"bg-grey98 flex h-full flex-col","data-sentry-component":"AdminAccountManagementPanel","data-sentry-source-file":"Panel.tsx",children:[(0,l.jsx)(xl,{title:t,"data-sentry-element":"ContentHeader","data-sentry-source-file":"Panel.tsx",children:b&&(0,l.jsx)(u.A,{className:o?"opacity-50":"",label:"새 관리자 계정 생성하기",level:m.V.level_1,leftIcon:(0,l.jsx)(Ce,{}),onClick:()=>{d(!0),h(null),y(null)}})}),(0,l.jsx)("div",{className:"relative flex flex-1 bg-white",children:(0,l.jsx)("div",{className:C()("cc-content-layout !overflow-x-hidden",{"is-visible":!0}),style:{height:"calc(100vh - 197px)"},children:(0,l.jsx)(nu,{isOpenRightPanel:!c().isEmpty(p)||o,rightPanelWidth:448,onClickCloseButton:()=>{y(null),h(null),d(!1)},leftSidePanel:(0,l.jsx)(Ve.A.Provider,{params:f,setParams:x,onSearch:P,children:e=>(0,l.jsxs)("div",{className:"h-[calc(100vh-200px)] w-full",children:[(0,l.jsxs)("div",{className:"flex justify-between px-[40px] py-[16px]",children:[(0,l.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,l.jsx)(Ve.A.SearchText,{label:"사용자명",placeholder:"사용자명 입력",fieldName:"searchAdminName",className:"w-[140px]"}),(0,l.jsx)(Ve.A.SearchText,{label:"ID(사번)",placeholder:"ID(사번) 입력",fieldName:"empNo",className:"w-[140px]"}),(0,l.jsx)(Ve.A.AllMetaAutocompleteSearch,{label:"인사조직",allMetaType:Ze.k.COMMON_MDM_CORPORATION_CODE,className:"!w-[140px]"}),(0,l.jsx)(Ve.A.SearchAutocomplete,{label:"권한명",fieldName:"authorityRoleId",options:U,autocompleteClassName:"!w-[172px]"})]}),(0,l.jsxs)("div",{className:"flex flex-none items-start gap-2",children:[(0,l.jsx)(Ve.A.ResetButton,{}),(0,l.jsx)(Ve.A.SearchButton,{})]})]}),(0,l.jsx)("div",{className:"h-[calc(100vh-363px)]",children:(0,l.jsx)(Fa.A,{..._,ref:a,gridApiRef:s,onRowSelectionModelChange:A,rowSelectionModel:E,columns:R,checkboxSelection:!0,initialState:{pinnedColumns:{left:["__check__","id"]},aggregation:{model:{adminId:"sum"}},columns:{columnVisibilityModel:S}},onRowDoubleClick:L})}),(0,l.jsx)("div",{className:"border-grey90 absolute bottom-0 ml-auto flex h-[54px] w-full items-center justify-end gap-[8px] border-t-[1px] bg-white px-[40px] py-[12px]",children:(0,l.jsx)(Rt,{handleDeleteRow:B,isDisabled:!E.length})})]})}),rightSidePanel:(0,l.jsx)(Hx,{isRegister:o,detailData:p,onRegisterComplete:e=>{d(!1)},searchList:()=>P(f),cjuserList:M.data||[],authorityRoleList:j.data||[],handleCopy:()=>{O.setQueryData({authorityRoleId:null,mdmSalesCostCenterCode:p.mdmSalesCostCenterCode,mdmPurchaseCostCenterCode:p.mdmPurchaseCostCenterCode,corporationList:p.corporationList,costCenterList:p.costCenterList,phoneNumber:""}),O.setInvalidateQuery(),d(!0),y(null)}},N),"data-sentry-element":"TmsBasicSlidePanel","data-sentry-source-file":"Panel.tsx"})})})]})};const zx=()=>(0,r.useMemo)((()=>[{field:"__check__",sortable:!1,headerAlign:"right",width:80},{field:"isBilled",headerName:"청구구분",valueGetter:e=>e?"청구":"미청구"},{field:"billingConfirmedAt",headerName:"청구확정일",type:da._.VIEW_MODE_YYYYMMDD_DDD,width:112},{field:"departureNodeName",headerName:"상차지명",width:140},{field:"arrivalNodeName",headerName:"하차지명",width:140},{field:"customerName",headerName:"화주",width:220},{field:"billingCustomerName",headerName:"청구고객",width:196},{field:"billingCustomerMdmCode",headerName:"청구 고객코드"},{field:"itemName",headerName:"품목"},{field:"salesCostTypeName",headerName:"매출입항목"},{field:"salesTotalAmount",headerName:"발생금액",type:"number"},{field:"vatAmount",headerName:"부가세",type:"number"},{field:"vatCodeName",headerName:"세금유형"},{field:"paymentConditionCodeName",headerName:"수금조건",width:406},{field:"itemQuantity",headerName:"작업물량"},{field:"rateCodeName",headerName:"작업단위"},{field:"salesMdmCostCenterCodeName",headerName:"매출조직"},{field:"purchaseMdmCostCenterCodeName",headerName:"매입조직"},{field:"orderMdmCorporationCodeName",headerName:"인사조직"},{field:"contractSalesNo",headerName:"계약번호",width:152},{field:"orderSalesNo",headerName:"주문오더번호",width:152},{field:"orderTransferDispatchNo",headerName:"배차번호",width:152},{field:"tempDocumentId",headerName:"관리번호",width:152},{field:"documentDate",headerName:"증빙일",type:da._.VIEW_MODE_YYYYMMDD_DDD,width:115},{field:"postingDate",headerName:"전표일",type:da._.VIEW_MODE_YYYYMMDD_DDD,width:115},{field:"documentId",headerName:"전표번호",width:115},{field:"ifMessage",headerName:"전표메세지",width:264},{field:"taxBillNo",headerName:"세금계산서번호"},{field:"taxBillStatusTypeName",headerName:"세금계산서 상태"},{field:"isMinusDocument",headerName:"마이너스",type:da._.VIEW_MODE_Y_OR_N},{field:"previousTempDocumentId",headerName:"이전 관리번호",width:150},{field:"confirmationNo",headerName:"매출확정번호",width:162},{field:"billingConfirmationNo",headerName:"매출청구확정번호",width:162},{field:"confirmedAt",headerName:"매출확정일",type:da._.VIEW_MODE_YYYYMMDD_DDD,width:115},{field:"billedAmount",headerName:"청구금액",type:"number"},{field:"changedPurchaseMdmCostCenterCode",headerName:"코스트센터",width:130},{field:"changedPurchaseMdmCostCenterCodeName",headerName:"코스트센터명"},{field:"materialCode",headerName:"대표물자코드"},{field:"glAccountCode",headerName:"계정과목"},{field:"bizCode",headerName:"사업코드"},{field:"serviceCode",headerName:"서비스코드"},{field:"serviceCode2",headerName:"서비스2코드"},{field:"customerMemberCode",headerName:"고객사코드"},{field:"companyTypeName",headerName:"사업자명"},{field:"equipmentMdmManageNoCode",headerName:"장비코드"},{field:"vehicleTypeCode",headerName:"장비유형"},{field:"billingConfirmationSeq",headerName:"순번"},{field:"confirmedDate",headerName:"년월"},{field:"sourceSystemTypeCode",headerName:"시스템구분"},{field:"progressStatusTypeName",headerName:"진행상태"},{field:"isAgency",headerName:"주선여부",type:da._.VIEW_MODE_Y_OR_N},{field:"isManual",headerName:"입력구분",valueGetter:e=>e?"M":""},{field:"departureRequestAt",headerName:"상차일",type:da._.VIEW_MODE_YYYYMMDD_DDD,width:112},{field:"xnegp",headerName:"구분자",width:112}]),[]);function Xx(e){let{initialParams:t,searchParams:a,setSearchParams:r,onSearch:s,isValidationSearch:n}=e;const{costCenterSalesOptionsByUser:o,mdmCorporationOptionsByUser:i}=xf();return(0,l.jsx)(Ve.A.Provider,{initialParams:t,params:a,setParams:r,onSearch:s,"data-sentry-element":"SearchFilter.Provider","data-sentry-component":"AccountingSalesFilter","data-sentry-source-file":"AccountingSalesFilter.tsx",children:e=>(0,l.jsxs)(ah,{children:[(0,l.jsx)(Ve.A.SearchDate,{label:"청구일",datePickerClassName:"!w-[159px]"}),(0,l.jsx)(Ve.A.SearchMultiAutocomplete,{required:!0,label:"매출조직",fieldName:"commonMdmCostCenterSalesCode",options:o,isSearchValidation:null==n?void 0:n.commonMdmCostCenterSalesCode,isShowDefaultOption:!1}),(0,l.jsx)(Ve.A.SearchMultiAutocomplete,{required:!0,label:"인사조직",fieldName:"commonMdmCorporationCode",options:i,isSearchValidation:null==n?void 0:n.commonMdmCorporationCode}),(0,l.jsx)(Ve.A.CustomerNameMultiAutocomplete,{label:"화주"}),(0,l.jsx)(Ve.A.SearchText,{label:"하차지명",placeholder:"하차지명 입력",fieldName:"arrivalNodeName"}),(0,l.jsxs)("div",{className:"flex h-[28px] items-center gap-[2px]",children:[(0,l.jsx)(So.A,{label:"담당자"}),(0,l.jsxs)("div",{className:"flex flex-row gap-[2px]",children:[(0,l.jsx)(Ve.A.AllMetaAutocompleteSearch,{allMetaType:Ze.k.SETTLEMENT_MANAGER_SEARCH_TYPE,className:"!w-[140px]",isUseAllOption:!1,optionsBoxWidth:200}),(0,l.jsx)(Ve.A.MdmAdminMultiAutocomplete,{fieldName:"managerUserIds",autocompleteBoxClassName:"!w-full"})]})]}),(0,l.jsx)(Ve.A.ItemNameMultiAutocomplete,{label:"품목"}),(0,l.jsx)(Ve.A.SearchText,{label:"전표번호",placeholder:"전표번호 입력",fieldName:"documentId"}),(0,l.jsx)(Ve.A.SearchText,{label:"적요",placeholder:"적요 입력",fieldName:"remark"}),(0,l.jsx)(Ve.A.SearchAutocomplete,{label:"청구구분",options:[{id:"Y",label:"청구"},{id:"N",label:"미청구"}],fieldName:"isBilled"})]})})}const Qx=e=>{let{activeTab:t,activeSubTab:a,salesSearchParams:l,setSalesSearchParams:n}=e;const o=(0,$e.P9)(),i=(0,ya.c5)(),{commonMetaV2List:d}=(0,Je.X)(),[c,u]=(0,r.useState)(l),m=(0,D.bBi)(),p=(0,r.useRef)(null);var h;const{setInitData:f}=null!==(h=null==p?void 0:p.current)&&void 0!==h?h:{},C=(0,D.bBi)(),x=(0,r.useRef)(null),[N,y]=(0,r.useState)([]),{setTabInfoChargeAccount:E,setIsChangeInfoCheck:v}=jC(),[A,g]=(0,r.useState)({isOpened:!1,title:"",description:"",confirmButtonLabel:"",confirmButtonType:"normal",confirmClick:()=>null}),[b,R]=(0,r.useState)(!1),[S,_]=(0,r.useState)(nx),{mutateAsync:w,isSuccess:O,data:M}=(0,T.n)(["useSalesDocumentsMutation"],(async e=>(await I.q.api((t=>t.ApiV1SettlementSalesDocuments(e)))).data.result)),{mutateAsync:j,...P}=(0,T.n)(["useSalesDocumentsIssueMutation"],(async e=>(await I.q.api((t=>t.ApiV1SettlementSalesDocumentsIssue(e)))).data.result)),L=async()=>{const e={fromDate:c.startDate,toDate:c.endDate?c.endDate:je()(new Date).endOf("day").format(),salesMdmCostCenterCodes:c.commonMdmCostCenterSalesCode,mdmCorporationCodes:c.commonMdmCorporationCode,isCompleted:a,customerIds:c.customerId,documentId:c.documentId,managerSearchType:""===c.settlementManagerSearchType?d.SETTLEMENT_MANAGER_SEARCH_TYPE[0].id:c.settlementManagerSearchType,managerUserIds:c.managerUserIdsMdmEmpNo,remark:c.remark,isBilled:c.isBilled?"Y"===c.isBilled:null,arrivalNodeName:c.arrivalNodeName,mdmItemCodes:c.itemCode};await w(e)},{isValidationSearch:B,isCheckedSearch:U,isCheckedSearchInfo:V,isCheckSelectedRow:F,isCheckDateRange:G}=VC({toast:o,searchParams:c,activeTab:t,currentActiveTab:s.tx,gridCurrent:m.current}),k=()=>{V()&&G()&&L()},Y=async()=>{const e=Array.from(m.current.getSelectedRows().values()).map((e=>e.settlementSalesBillingConfirmationId));await j({...S,salesBillingConfirmationIds:e,documentPostedAt:je()(S.documentPostedAt).startOf("day").format(),documentIssuedAt:je()(S.documentIssuedAt).startOf("day").format(),documentIssueCostCenterType:""===S.documentIssueCostCenterType?null:S.documentIssueCostCenterType})};return(0,r.useLayoutEffect)((()=>{U||L()}),[t,a]),(0,r.useEffect)((()=>{O&&(f(M.responseList),E(M.summary),v(!1))}),[M]),$h({toast:o,tmsAlert:i,apiRest:P,successMsg:"총 ".concat(N.length,"건이 전송되었습니다."),successFunction:()=>{g({isOpened:!1}),k(),R(!1),_(nx)},errorTitle:"회계 전표 전송에 실패했습니다.",errorFunction:()=>{g({isOpened:!1})}}),{searchParams:c,handleSetParams:e=>{u(e),n(e)},handleSearchChildren:k,gridApiRef:m,wrapGridRef:p,checkConfirmInfo:A,setCheckConfirmInfo:g,isOpenedPostNegative:b,setIsOpenedPostNegative:R,postNegativeInfo:S,handleSetPostNegative:e=>{_((t=>({...t,...e})))},rowSelectionModel:N,handleUnBillingApprovals:()=>{g({isOpened:!0,title:"회계 전표를 전송하시겠어요?",description:"선택한 항목의 회계 전표를 전송합니다.",confirmButtonLabel:"전송하기",confirmClick:Y})},handleRowSelection:e=>{y(e);const t=m.current.getRowModels(),a=Array.from(t.values()).filter((t=>e.includes(t._id_))),l=["billingCustomerMdmCode","isBilled","vatCodeName","changedPurchaseMdmCostCenterCodeName","paymentConditionCodeName","documentId"],r=["salesTotalAmount","vatAmount"],s=new Map;for(const e of a){const t=l.map((t=>String(e[t]))).join("|");if(s.has(t)){const a=s.get(t);for(const t of r)a.summedValues[t]=(a.summedValues[t]||0)+(e[t]||0);a.originalIds.push(e._id_)}else{const a={...e},l={};for(const t of r)l[t]=e[t]||0;s.set(t,{baseRow:a,summedValues:l,originalIds:[e._id_]})}}const n=[];let o=1;for(const[e,t]of s.entries()){const e={...t.baseRow};for(const a of r)e[a]=t.summedValues[a];e._id_=o++,n.push(e)}var i;const{setInitData:d}=null!==(i=null==x?void 0:x.current)&&void 0!==i?i:{};d(n)},isValidationSearch:B,isCheckSelectedRow:F,gridApiRefBottom:C,wrapGridRefBottom:x}};const Zx=e=>{let{activeTab:t,activeSubTab:a,purchaseSearchParams:l,setPurchaseSearchParams:n}=e;const[o,i]=(0,r.useState)([]),d=(0,D.bBi)(),c=(0,r.useRef)(null);var u;const{rows:m,setInitData:p}=null!==(u=null==c?void 0:c.current)&&void 0!==u?u:{},[h,f]=(0,r.useState)(!1),C=(0,$e.P9)(),x=(0,ya.c5)(),[N,y]=(0,r.useState)(!1),[E,v]=(0,r.useState)(l),{setTabInfoFixFtOne:A,setIsChangeInfoCheck:g}=Xm(),b=!E||!E.commonMdmCostCenterPurchaseCode||t!==s.sx,{isCheckSelectedRow:S,isCheckDateRange:_}=Jh({toast:C,gridCurrent:d.current,searchParams:E}),[w,O]=(0,r.useState)({isOpened:!1,title:"",description:"",confirmButtonLabel:"",confirmButtonType:"normal",onClickConfirmButton:()=>null}),{mutateAsync:M,isSuccess:j,data:P}=(0,T.n)(["usePurchaseWndConfirmationsMutation"],(async e=>(await I.q.api((t=>t.ApiV1SettlementPurchaseWndConfirmations(e)))).data.result)),{mutateAsync:L,isSuccess:B,data:U}=(0,T.n)(["usePurchaseWndConfirmationsExcelMutation"],(async e=>(await I.q.api((t=>t.ApiV1SettlementPurchaseWndConfirmationsExcel(e,{format:"blob"})))).data)),{mutateAsync:V,...F}=(0,T.n)(["usePurchaseWndConfirmMutation"],(async e=>(await I.q.api((t=>t.ApiV1SettlementPurchaseWndConfirm(e)))).data.result)),G=()=>{if(b)return C({message:"매입조직을 먼저 조회해주세요.",type:"caution"}),void y(!0);_()&&(y(!1),Y())},k=()=>{var e;const t={isConfirmed:a,searchType:null!==(e=E.searchType)&&void 0!==e?e:R.mUs.PICKUP,fromDate:E.startDate,toDate:E.endDate?E.endDate:je()(new Date).endOf("day").format(),purchaseMdmCostCenterCodes:E.commonMdmCostCenterPurchaseCode,customerIds:E.customerId,vendorIds:E.vendorId,dispatchManagerUserIds:E.managerUserIdsMdmEmpNo,affiliateMdmCostCenterCodes:E.affiliateMdmCostCenterCodes,mdmItemCodes:E.itemCode,vendorType:E.vendorType,orderRemark:E.orderRemark,vesselName:E.vesselName,orderTransferDispatchNo:E.dispatchNo};return E.isExclusiveSettlement&&(t.isExclusiveSettlement="Y"===E.isExclusiveSettlement),t},Y=async()=>{const e=k();await M(e)};return(0,r.useLayoutEffect)((()=>{b||Y()}),[t,a]),$h({toast:C,tmsAlert:x,apiRest:F,successMsg:"총 ".concat(o.length,"건의 매입 정산 확정이 완료되었습니다."),successFunction:()=>{G(),O({isOpened:!1})},errorTitle:"매입 정산 확정에 실패하였습니다."}),(0,r.useEffect)((()=>{j&&P.responseList&&P.summary&&(p(P.responseList.map(((e,t)=>({...e,departureRequestAt:je()(e.departureRequestAt).locale("ko").format("YYYY-MM-DD ddd"),wciTarget:e.isWciTarget?"대상":"",notAppliedWci:e.isNotAppliedWci?"미대상":"",excludedFromSettlement:e.isExcludedFromSettlement?"제외":""})))),A(P.summary),g(!1))}),[P]),{handlePurchaseComplete:async()=>{const e=Array.from(d.current.getSelectedRows().values()).map(((e,t)=>({rowNum:t+1,orderTransferDispatchId:e.orderTransferDispatchId,affiliateMdmCostCenterCode:e.affiliateCostCenterCode,affiliateTeamMdmCostCenterCode:e.affiliateTeamCostCenterCode,isNotKosis:e.isNotAppliedWci,bizCode:e.bizCode,serviceCode:e.serviceCode,serviceCode2:e.serviceCode2,purchaseGlAccountType:e.glAccountType,materialCode:e.materialCode})));await V(e)},rowSelectionModel:o,setRowSelectionModel:i,gridApiRef:d,isOpenedChangeInfo:h,setIsOpenedChangeInfo:f,handleSearchChildren:G,isValidationSearch:N,rowsFix:m,wrapGridRefFix:c,searchParams:E,handleSetParams:e=>{v(e),n(e)},isCheckSelectedRow:S,checkConfirmInfo:w,setCheckConfirmInfo:O,handleExcelDownload:async()=>{const e=k();await L(e)},isSuccessPurchaseConfirmationExcel:B,dataPurchaseConfirmationExcel:U}};const Jx=()=>(0,T.n)(["useUnBillingApprovalsDeleteMutation"],(async e=>(await I.q.api((t=>t.ApiV1SettlementSalesConfirmationsUnBillingsCustomerMdmCode(e,{})))).data.result)),$x=()=>{const e=(0,$e.P9)(),t=(0,ya.c5)(),a={startDate:je()().startOf("day").format(),endDate:je()().endOf("day").add(30,"day").format()},[l,s]=(0,r.useState)(a),[n,o]=(0,r.useState)([]),i=(0,D.bBi)(),d=(0,r.useRef)(null);var c;const{setInitData:u}=null!==(c=null==d?void 0:d.current)&&void 0!==c?c:{},m=(0,D.bBi)(),p=(0,r.useRef)(null);var h;const{setInitData:f}=null!==(h=null==p?void 0:p.current)&&void 0!==h?h:{},{isCheckSelectedRow:C}=Jh({toast:e,gridCurrent:i.current}),{getAllMeta:x}=od({mutationKey:"PurchaseSettlement",requestAllMeta:[Ze.k.COMMON_MDM_CORPORATION_CODE,Ze.k.SALES_DOCUMENT_TYPE]}),[N,y]=(0,r.useState)({isOpened:!1,title:"",description:"",confirmButtonLabel:"",confirmButtonType:"normal",confirmClick:()=>null}),[E,v]=(0,r.useState)(!1),[A,g]=(0,r.useState)(""),{mutateAsync:b,isSuccess:R,data:S}=(0,T.n)(["useConfirmationsUnBillingApprovalsMutation"],(async e=>(await I.q.api((t=>t.ApiV1SettlementSalesConfirmationsUnBillingApprovals(e)))).data.result)),{mutateAsync:_,...w}=(0,T.n)(["useUnBillingApprovalsCompleteMutation"],(async e=>(await I.q.api((t=>t.ApiV1SettlementSalesConfirmationsUnBillingApprovalsComplete(e)))).data.result)),{mutateAsync:O,isSuccess:M,data:j}=(0,T.n)(["useConfirmationsUnBillingApprovalIdMutation"],(async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(await I.q.api((a=>a.ApiV1SettlementSalesConfirmationsUnBillingApprovalsApprovalId(e,t)))).data.result})),{mutateAsync:P,...L}=(0,T.n)(["useUnBillingApprovalsRejectMutation"],(async e=>(await I.q.api((t=>t.ApiV1SettlementSalesConfirmationsUnBillingApprovalsReject(e)))).data.result)),{mutateAsync:B,...U}=(0,T.n)(["useUnBillingApprovalsDeleteMutation"],(async e=>(await I.q.api((t=>t.ApiV1SettlementSalesConfirmationsUnBillingApprovalsDelete(e)))).data.result)),V=async()=>{const t=je()(l.startDate);je()(l.endDate).diff(t,"day")>30?e({message:"조회기간은 30일을 넘길 수 없습니다.",type:"caution"}):await b({fromDate:l.startDate,toDate:l.endDate?l.endDate:je()(new Date).endOf("day").format(),salesDocumentType:l.salesDocumentType,customerIds:l.customerId,mdmCorporationCodes:l.commonMdmCorporationCode,createUserIds:l.userIds})};return(0,r.useLayoutEffect)((()=>{x()}),[]),(0,r.useEffect)((()=>{R&&u(S.map(((e,t)=>({id:t+1,...e}))))}),[S]),(0,r.useEffect)((()=>{M&&f(j.map(((e,t)=>({id:t+1,...e}))))}),[j]),$h({toast:e,tmsAlert:t,apiRest:w,successMsg:"진행매출 ".concat(n.length,"건이 승인되었습니다."),successFunction:()=>{y({isOpened:!1}),V()},errorTitle:"승인에 실패했습니다. 잠시 후 다시 시도해주세요."}),$h({toast:e,tmsAlert:t,apiRest:L,successMsg:"진행매출 ".concat(n.length,"건이 반려되었습니다."),successFunction:()=>{y({isOpened:!1}),V()},errorTitle:"반려에 실패했습니다. 잠시 후 다시 시도해주세요."}),$h({toast:e,tmsAlert:t,apiRest:U,successMsg:"진행매출 ".concat(n.length,"건이 삭제되었습니다."),successFunction:()=>{y({isOpened:!1}),V()},errorTitle:"삭제에 실패했습니다. 잠시 후 다시 시도해주세요."}),{searchParams:l,setSearchParams:s,handleSearch:V,gridApiRef:i,wrapGridRef:d,gridApiRefDetail:m,wrapGridRefDetail:p,checkConfirmInfo:N,setCheckConfirmInfo:y,rowSelectionModel:n,setRowSelectionModel:o,isCheckSelectedRow:C,handleApprovalsComplete:async()=>{const e=Array.from(i.current.getSelectedRows().values()).map((e=>e.approvalId));await _({documentHeadIds:e})},handleApprovalsReject:async()=>{const e=Array.from(i.current.getSelectedRows().values()).map((e=>e.approvalId));await P({documentHeadIds:e})},handleApprovalsDelete:async()=>{const e=Array.from(i.current.getSelectedRows().values()).map((e=>e.approvalId));await B({documentHeadIds:e})},handleClickRow:async e=>{e&&await O(e)},initialParams:a,handleCustomerMemberCode:e=>{g(e),v(!0)},isOpened:E,setIsOpened:v,customerMemberCode:A}};function eN(e){let{customerMemberCode:t,setIsOpened:a}=e;const s=(0,D.bBi)(),n=(0,r.useRef)(null);var o;const{setInitData:i}=null!==(o=null==n?void 0:n.current)&&void 0!==o?o:{},{mutateAsync:d,isSuccess:c,data:u}=Jx(),m=(0,r.useMemo)((()=>[{field:"no",headerName:"No.",align:"center",width:60,sortable:!1,filterable:!1},{field:"customerMdmCode",headerName:"화주 코드",width:197},{field:"customerName",headerName:"화주",width:197},{field:"localAmount",headerName:"미청구금액",width:197,type:"number"},{field:"confirmationDate",headerName:"매출확정일",type:da._.VIEW_MODE_YYYYMMDD_DDD,width:115},{field:"salesMdmCostCenterCodeName",headerName:"정산팀",width:197},{field:"purchaseMdmCostCenterCodeName",headerName:"계약팀",flex:1}]),[]);return(0,r.useLayoutEffect)((()=>{(async()=>{})()}),[t]),(0,r.useEffect)((()=>{c&&i(u.map(((e,t)=>({no:t+1,...e}))))}),[u]),(0,l.jsx)(Pe.A,{title:"진행매출 미처리내역",onClickCloseButton:()=>a(!1),isShowedConfirmButton:!1,modalWidth:1280,modalContentHeight:448,"data-sentry-element":"TmsBasicModal","data-sentry-component":"UnprocessedHistoryModal","data-sentry-source-file":"UnprocessedHistoryModal.tsx",children:(0,l.jsx)(Fa.A,{ref:n,gridApiRef:s,columns:m,initialState:{aggregation:{model:{no:"totalCount",localAmount:"sum"}}},"data-sentry-element":"WrapperBasicDataGrid","data-sentry-source-file":"UnprocessedHistoryModal.tsx"})})}const tN=()=>{const e=(0,$e.P9)(),t=(0,ya.c5)(),a={startDate:je()(new Date).startOf("day").format(),endDate:je()(new Date).endOf("day").add(45,"day").format(),vendorIds:[],mdmCorporationCodes:[],createUserIds:[]},[l,s]=(0,r.useState)(a),[n,o]=(0,r.useState)([]),i=(0,D.bBi)(),d=(0,r.useRef)(null);var c;const{setInitData:u}=null!==(c=null==d?void 0:d.current)&&void 0!==c?c:{},m=(0,D.bBi)(),p=(0,r.useRef)(null);var h;const{setInitData:f}=null!==(h=null==p?void 0:p.current)&&void 0!==h?h:{},{isCheckSelectedRow:C,isCheckDateRange:x}=Jh({toast:e,gridCurrent:i.current,searchParams:l}),{getAllMeta:N}=od({mutationKey:"PurchaseSettlement",requestAllMeta:[Ze.k.COMMON_VENDOR_CODE,Ze.k.COMMON_MDM_CORPORATION_CODE]}),[y,E]=(0,r.useState)({isOpened:!1,title:"",description:"",confirmButtonLabel:"",confirmButtonType:"normal",confirmClick:()=>null}),{mutateAsync:v,isSuccess:A,data:g}=(0,T.n)(["useVendorChangeApprovalsMutation"],(async e=>(await I.q.api((t=>t.ApiV1SettlementPurchaseVendorChangeApprovals(e)))).data.result)),{mutateAsync:b,...R}=(0,T.n)(["useVendorChangeApprovalsCompleteMutation"],(async e=>(await I.q.api((t=>t.ApiV1SettlementPurchaseVendorChangeApprovalsComplete(e)))).data.result)),{mutateAsync:S,isSuccess:_,data:w}=(0,T.n)(["useChangeApprovalsApprovalIdMutation"],(async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(await I.q.api((a=>a.ApiV1SettlementPurchaseVendorChangeApprovalsApprovalId(e,t)))).data.result})),{mutateAsync:O,...M}=(0,T.n)(["useVendorChangeApprovalsRejectMutation"],(async e=>(await I.q.api((t=>t.ApiV1SettlementPurchaseVendorChangeApprovalsReject(e)))).data.result)),{mutateAsync:j,...P}=(0,T.n)(["useVendorChangeApprovalsDeleteMutation"],(async e=>(await I.q.api((t=>t.ApiV1SettlementPurchaseVendorChangeApprovalsDelete(e)))).data.result)),L=async()=>{x()&&await v({fromDate:l.startDate,toDate:l.endDate?l.endDate:je()(new Date).endOf("day").format(),vendorIds:l.commonVendorCode,mdmCorporationCodes:l.commonMdmCorporationCode,createUserIds:l.managerUserIdsMdmEmpNo})};return(0,r.useLayoutEffect)((()=>{N()}),[]),(0,r.useEffect)((()=>{A&&u(g.map(((e,t)=>({id:t+1,...e}))))}),[g]),(0,r.useEffect)((()=>{_&&f(w.map(((e,t)=>({id:t+1,...e}))))}),[w]),$h({toast:e,tmsAlert:t,apiRest:R,successMsg:"매입처 변경 ".concat(n.length,"건이 승인되었습니다."),successFunction:()=>{E({isOpened:!1}),L()},errorTitle:"승인에 실패했습니다. 잠시 후 다시 시도해주세요."}),$h({toast:e,tmsAlert:t,apiRest:M,successMsg:"매입처 변경 ".concat(n.length,"건이 반려되었습니다."),successFunction:()=>{E({isOpened:!1}),L()},errorTitle:"반려에 실패했습니다. 잠시 후 다시 시도해주세요."}),$h({toast:e,tmsAlert:t,apiRest:P,successMsg:"매입처 변경 ".concat(n.length,"건이 삭제되었습니다."),successFunction:()=>{E({isOpened:!1}),L()},errorTitle:"삭제에 실패했습니다. 잠시 후 다시 시도해주세요."}),{searchParams:l,setSearchParams:s,handleSearch:L,gridApiRef:i,wrapGridRef:d,gridApiRefDetail:m,wrapGridRefDetail:p,checkConfirmInfo:y,setCheckConfirmInfo:E,rowSelectionModel:n,setRowSelectionModel:o,isCheckSelectedRow:C,handleApprovalsComplete:async()=>{const e=Array.from(i.current.getSelectedRows().values()).map((e=>e.approvalId));await b({approvalIds:e})},handleApprovalsReject:async()=>{const e=Array.from(i.current.getSelectedRows().values()).map((e=>e.approvalId));await O({approvalIds:e})},handleApprovalsDelete:async()=>{const e=Array.from(i.current.getSelectedRows().values()).map((e=>e.approvalId));await j({approvalIds:e})},handleClickRow:async e=>{await S(e)},initialParams:a}};const aN=()=>(0,T.n)(["useSettlementOrderUpdateMutation"],(async e=>(await I.q.api((t=>t.ApiV1SettlementOrderUpdate(e)))).data.result)),lN=()=>{const e=(0,$e.P9)(),t={startDate:je()(new Date).subtract(45,"day").startOf("day").format(),endDate:je()(new Date).endOf("day").format()},[a,l]=(0,r.useState)(t),[s,n]=(0,r.useState)([]),[o,i]=(0,r.useState)(!1),d=(0,D.bBi)(),c=(0,r.useRef)(null);var u;const{setInitData:m}=null!==(u=null==c?void 0:c.current)&&void 0!==u?u:{},{isCheckSelectedRow:p,isCheckDateRange:h}=Jh({toast:e,gridCurrent:d.current,searchParams:a}),{mutateAsync:f,isSuccess:C,data:x}=(0,T.n)(["useSettlementOrderListMutation"],(async e=>(await I.q.api((t=>t.ApiV1SettlementOrderList(e)))).data.result));return(0,r.useEffect)((()=>{C&&m(x.map(((e,t)=>({rowNum:t+1,...e}))))}),[x]),{searchParams:a,setSearchParams:l,handleSearch:async()=>{h()&&await f({fromDate:a.startDate,toDate:a.endDate,customerIds:a.customerId,orderTransferDispatchNo:a.dispatchNo,mdmCorporationCodes:a.commonMdmCorporationCode})},gridApiRef:d,wrapGridRef:c,rowSelectionModel:s,setRowSelectionModel:n,isCheckSelectedRow:p,initialParams:t,isOpenedEditModal:o,setIsOpenedEditModal:i}};function rN(e){let{rowSelectionModel:t,gridApiRefProps:a,setIsOpenedEditModal:s,handleSearch:n}=e;const{commonMetaV2List:o}=(0,Je.X)(),i=(0,$e.P9)(),d=(0,ya.c5)(),u={mdmCorporationCode:"",salesCostCenterCode:"",purchaseCostCenterCode:"",bizCode:"",serviceCode:"",serviceCode2:""},[m,p]=(0,r.useState)(u),[h,f]=(0,r.useState)({id:"",label:"",children:[]}),{serviceOptions:C,service2Options:x}=qp({isActived:!0,selectedOption:h,bizCode:m.bizCode}),[y,E]=(0,r.useState)(!1),{mutateAsync:v,...A}=aN(),g=e=>{p((t=>({...t,...e})))};return $h({toast:i,tmsAlert:d,apiRest:A,successMsg:"총 ".concat(t.length,"건의 정산조직변경이 완료되었습니다."),successFunction:()=>{s(!1),n()},errorTitle:"정산조직변경에 실패했습니다.",errorFunction:()=>{s(!1),E(!1)}}),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(Pe.A,{modalWidth:612,modalContentHeight:240,title:"정산 조직 정보 변경",confirmButtonDisabled:c().isEqual(m,u),onClickCloseButton:()=>s(!1),onClickConfirmButton:()=>E(!0),confirmButtonLabel:"변경하기","data-sentry-element":"TmsBasicModal","data-sentry-source-file":"ChangeSettlementGroupModal.tsx",children:(0,l.jsx)("div",{className:"flex flex-col gap-[16px]",children:(0,l.jsxs)("div",{className:"border-blackOpacity8 border-t-[1px]",children:[(0,l.jsx)(vt,{labelClassName:"!w-[120px]",thLabel:"매출조직","data-sentry-element":"TableTrLayout","data-sentry-source-file":"ChangeSettlementGroupModal.tsx",children:(0,l.jsx)(He.A,{placeholder:"매출조직 입력",options:o.COMMON_MDM_COST_CENTER_SALES_CODE,selectedId:m.salesCostCenterCode,autocompleteBoxClassName:"w-full",componentType:"autocomplete-table",onChange:(e,t)=>g({salesCostCenterCode:t.id}),"data-sentry-element":"TmsBasicAutocomplete","data-sentry-source-file":"ChangeSettlementGroupModal.tsx"})}),(0,l.jsx)(vt,{thLabel:"매입조직",labelClassName:"!w-[120px]","data-sentry-element":"TableTrLayout","data-sentry-source-file":"ChangeSettlementGroupModal.tsx",children:(0,l.jsx)(He.A,{placeholder:"매입조직 입력",options:o.COMMON_MDM_COST_CENTER_PURCHASE_CODE,selectedId:m.purchaseCostCenterCode,autocompleteBoxClassName:"w-full",componentType:"autocomplete-table",onChange:(e,t)=>g({purchaseCostCenterCode:t.id}),"data-sentry-element":"TmsBasicAutocomplete","data-sentry-source-file":"ChangeSettlementGroupModal.tsx"})}),(0,l.jsx)(vt,{thLabel:"인사조직",labelClassName:"!w-[120px]","data-sentry-element":"TableTrLayout","data-sentry-source-file":"ChangeSettlementGroupModal.tsx",children:(0,l.jsx)(He.A,{placeholder:"인사조직 선택",options:o.COMMON_MDM_CORPORATION_CODE,selectedId:m.mdmCorporationCode,autocompleteBoxClassName:"w-full",componentType:"autocomplete-table",onChange:(e,t)=>g({mdmCorporationCode:t.id}),"data-sentry-element":"TmsBasicAutocomplete","data-sentry-source-file":"ChangeSettlementGroupModal.tsx"})}),(0,l.jsx)(vt,{thLabel:"사업",labelClassName:"!w-[120px]","data-sentry-element":"TableTrLayout","data-sentry-source-file":"ChangeSettlementGroupModal.tsx",children:(0,l.jsx)(He.A,{placeholder:"사업 입력",options:o.INDUSTRY_CODE,selectedId:m.bizCode,autocompleteBoxClassName:"w-full",componentType:"autocomplete-table",onChange:(e,t)=>g({bizCode:t.id}),"data-sentry-element":"TmsBasicAutocomplete","data-sentry-source-file":"ChangeSettlementGroupModal.tsx"})}),(0,l.jsx)(vt,{thLabel:"서비스",labelClassName:"!w-[120px]","data-sentry-element":"TableTrLayout","data-sentry-source-file":"ChangeSettlementGroupModal.tsx",children:(0,l.jsx)(He.A,{placeholder:"서비스 입력",options:C,selectedId:m.serviceCode,autocompleteBoxClassName:"w-full",componentType:"autocomplete-table",onChange:(e,t)=>{f(t),g({serviceCode:t.id})},"data-sentry-element":"TmsBasicAutocomplete","data-sentry-source-file":"ChangeSettlementGroupModal.tsx"})}),(0,l.jsx)(vt,{thLabel:"서비스2",labelClassName:"!w-[120px]","data-sentry-element":"TableTrLayout","data-sentry-source-file":"ChangeSettlementGroupModal.tsx",children:(0,l.jsx)(He.A,{placeholder:"서비스2 입력",options:x,selectedId:m.serviceCode2,autocompleteBoxClassName:"w-full",componentType:"autocomplete-table",onChange:(e,t)=>g({serviceCode2:t.id}),"data-sentry-element":"TmsBasicAutocomplete","data-sentry-source-file":"ChangeSettlementGroupModal.tsx"})})]})})}),y&&(0,l.jsxs)(N,{title:"정산 조직 정보를 변경하시겠어요?",onClickCloseButton:()=>E(!1),onClickConfirmButton:async()=>{const e=Array.from(a.current.getSelectedRows().values()).map((e=>({rowNum:e.rowNum,orderTransferId:e.orderTransferId})));await v({rowInfoList:e,...m})},confirmButtonLabel:"저장하기",children:[(0,l.jsx)("div",{className:"text-grey50 Body4_M",children:"입력한 내용으로 정산 조직 정보를 저장합니다."}),(0,l.jsx)("div",{className:"text-grey50 Body4_M",children:"변경한 내용을 저장하시려면 [저장하기]를 눌러주세요."})]})]})}var sN=function(){return(0,l.jsxs)("div",{className:"flex flex-col gap-4","data-sentry-component":"BusinessGroupManagementPanel","data-sentry-source-file":"Panel.tsx",children:[(0,l.jsx)("h2",{className:"text-lg font-semibold",children:"Business Group Management"}),(0,l.jsx)("p",{className:"text-sm text-gray-600",children:"Manage your business groups and their settings."})]})};const nN=()=>{const e=(0,$e.P9)(),t={startDate:je()(new Date).subtract(45,"day").startOf("day").format(),endDate:je()(new Date).endOf("day").format(),settlementSearchPaymentType:R.zMr.PICKUP},[a,l]=(0,r.useState)(t),s=(0,D.bBi)(),n=(0,r.useRef)(null);var o;const{setInitData:i}=null!==(o=null==n?void 0:n.current)&&void 0!==o?o:{},{isCheckDateRange:d}=Jh({toast:e,gridCurrent:s.current,searchParams:a}),{mutateAsync:c,isSuccess:u,data:m}=(0,T.n)(["useReportsDriversPaymentsMutation"],(async e=>(await I.q.api((t=>t.ApiV1SettlementReportsDriversPayments(e)))).data.result)),{mutateAsync:p,...h}=(0,T.n)(["useSettlementReportsDriversPaymentsExcelMutation"],(async e=>(await I.q.api((t=>t.ApiV1SettlementReportsDriversPaymentsExcel(e,{format:"blob"})))).data)),f={settlementSearchPaymentType:""===a.settlementSearchPaymentType?R.zMr.PICKUP:a.settlementSearchPaymentType,fromDate:a.startDate,toDate:a.endDate,vendorIds:a.commonVendorCode,isPayed:a.isPayed?"Y"===a.isPayed:null,plateNumber:a.vehicleNumber,documentId:a.documentId,mdmCorporationCodes:a.commonMdmCorporationCode,adminUserIds:a.userIdsMdmEmpNo};return(0,r.useEffect)((()=>{u&&i(m.map(((e,t)=>({rowNum:t+1,...e}))))}),[m]),{searchParams:a,setSearchParams:l,handleSearch:async()=>{d()&&await c(f)},gridApiRef:s,wrapGridRef:n,initialParams:t,handleExcelDownload:async()=>{d()&&await p(f)},restReportsDriversPaymentsExcel:h}};const oN=()=>{const e=(0,$e.P9)(),t={startDate:je()(new Date).endOf("day").format(),endDate:je()(new Date).endOf("day").add(45,"day").format(),vendorIds:[],mdmCorporationCodes:[],createUserIds:[]},[a,l]=(0,r.useState)(t),s=(0,D.bBi)(),n=(0,r.useRef)(null);var o;const{setInitData:i,rows:d}=null!==(o=null==n?void 0:n.current)&&void 0!==o?o:{},c=(0,D.bBi)(),u=(0,r.useRef)(null);var m;const{setInitData:p,rows:h}=null!==(m=null==u?void 0:u.current)&&void 0!==m?m:{},f=(0,D.bBi)(),C=(0,r.useRef)(null);var x;const{setInitData:N,rows:y}=null!==(x=null==C?void 0:C.current)&&void 0!==x?x:{},{getAllMeta:E}=od({mutationKey:"PurchaseSettlement",requestAllMeta:[Ze.k.SERVICE_TYPE]}),[v,A]=(0,r.useState)({isOpened:!1,title:"",description:"",confirmButtonLabel:"",confirmButtonType:"normal",confirmClick:()=>null}),{mutateAsync:g,isSuccess:b,data:R}=(0,T.n)(["useMenuMainListMutation"],(async e=>(await I.q.api((t=>t.ApiCommonV1MenuMainList(e)))).data.result)),{mutateAsync:S,isSuccess:_,data:w}=(0,T.n)(["useMenuSubListMutation"],(async e=>(await I.q.api((t=>t.ApiCommonV1MenuSubList(e)))).data.result)),{mutateAsync:O,isSuccess:M,data:j}=(0,T.n)(["useMenuMainSaveMutation"],(async e=>(await I.q.api((t=>t.ApiCommonV1MenuMainSave(e)))).data.result)),{mutateAsync:P,isSuccess:L,data:B}=(0,T.n)(["useMenuSubSaveMutation"],(async e=>(await I.q.api((t=>t.ApiCommonV1MenuSubSave(e)))).data.result)),{mutateAsync:U,isSuccess:V,data:F}=(0,T.n)(["useMenuDetailListMutation"],(async e=>(await I.q.api((t=>t.ApiCommonV1MenuSubList({mainMenuId:e})))).data.result)),{mutateAsync:G,isSuccess:k,data:Y}=(0,T.n)(["useMenuDetailSaveMutation"],(async e=>(await I.q.api((t=>t.ApiCommonV1MenuSubSave(e)))).data.result)),q=async()=>{await g({serviceType:a.serviceType,isUsed:a.isUsed?"Y"===a.isUsed:null,searchMenuName:a.searchMenuName})};return(0,r.useEffect)((()=>{b&&i(R.list.map((e=>({...e,isUsed:e.isUsed?"Y":"N"}))))}),[R]),(0,r.useEffect)((()=>{M&&e({message:"메인 메뉴 저장에 성공하였습니다."})}),[j]),(0,r.useEffect)((()=>{_&&p(w.list.map((e=>({...e,isUsed:e.isUsed?"Y":"N"}))))}),[w]),(0,r.useEffect)((()=>{L&&e({message:"서브 메뉴 저장에 성공하였습니다."})}),[B]),(0,r.useEffect)((()=>{V&&N&&N(F.list.map((e=>({...e,isUsed:e.isUsed?"Y":"N"}))))}),[F]),(0,r.useEffect)((()=>{k&&e({message:"소분류 메뉴 저장에 성공하였습니다."})}),[Y]),(0,r.useEffect)((()=>{q()}),[]),(0,r.useLayoutEffect)((()=>{E()}),[]),{searchParams:a,setSearchParams:l,handleSearch:q,gridApiRef:s,wrapGridRef:n,gridApiRefDetail:c,wrapGridRefDetail:u,gridApiRefSub:f,wrapGridRefSub:C,checkConfirmInfo:v,setCheckConfirmInfo:A,handleClickMainRow:async e=>{e&&(await S(e),N&&N([]))},handleClickSubRow:async e=>{e&&await U(e)},initialParams:t,handleMainSave:async()=>{const e=Array.from(s.current.getRowModels().values()).map((e=>({mainMenuId:e.mainMenuId,mainMenuName:e.mainMenuName,mainMenuSeq:Number(e.mainMenuSeq),isUsed:"Y"===e.isUsed})));await O({mainMenuList:e})},handleSubSave:async()=>{const e=Array.from(c.current.getRowModels().values()).map((e=>({subMenuId:e.subMenuId,subMenuName:e.subMenuName,subMenuSeq:Number(e.subMenuSeq),isUsed:"Y"===e.isUsed})));await P({subMenuList:e})},handleDetailSave:async()=>{const e=Array.from(f.current.getRowModels().values()).map((e=>({subMenuId:e.subMenuId,subMenuName:e.subMenuName,subMenuSeq:Number(e.subMenuSeq),isUsed:"Y"===e.isUsed})));await G({subMenuList:e})},rows:d,rowsDetail:h,rowsSub:y}};const iN=[{name:"권한별 메뉴 관리",path:s.T9},{name:"권한 모니터링",path:s.qW}];const dN="CUSTOMER_GROUP_REGISTER",cN="CUSTOMER_REGISTER",uN="REGISTER_END",mN=[{name:"사업자 그룹",path:s.gS},{name:"소속 화주사",path:s.G$}];var pN=function(e){let{menuName:t}=e;const[a,n]=(0,r.useState)(mN[0].path),[o,i]=(0,r.useState)(!1),d=v();(0,r.useEffect)((()=>{pe.sV.on(uN,(()=>{i(!1)}))}),[]);const c=(0,r.useMemo)((()=>![s.G$].includes(a)),[a]);return(0,l.jsxs)("div",{className:"bg-grey98 flex h-full flex-col","data-sentry-component":"CustomerGroupManagerPanel","data-sentry-source-file":"CustomerGroupManagerPanel.tsx",children:[(0,l.jsx)(xl,{title:t,"data-sentry-element":"ContentHeader","data-sentry-source-file":"CustomerGroupManagerPanel.tsx",children:c&&(0,l.jsx)(u.A,{label:"새 사업자 그룹 등록하기",level:m.V.level_1,leftIcon:(0,l.jsx)(Ce,{}),onClick:()=>{let e=dN;switch(a){case s.gS:e=dN;break;case s.G$:e=cN}i(!0),pe.sV.emit(e)}})}),(0,l.jsx)("div",{className:"border-grey90 border-b",children:(0,l.jsx)(ed,{className:"ml-10",tabList:mN,currentTab:a,onClickTab:e=>{o?d({title:"작성 중인 정보가 있습니다.",description:"화면을 나가면 작성된 정보가 삭제됩니다.",confirmButtonLabel:"나가기",onClickConfirmButton:()=>{n(e.path),i(!1)}}):n(e.path)},"data-sentry-element":"StaticTabs","data-sentry-source-file":"CustomerGroupManagerPanel.tsx"})}),(0,l.jsx)("div",{className:"relative flex flex-1 bg-white",children:mN.map(((e,t)=>{const r=e.path===a;return(0,l.jsx)("div",{className:C()("cc-content-layout !overflow-x-hidden",{"is-visible":r}),style:{height:"calc(100vh - 197px)"},children:(0,l.jsx)(Hv,{path:e.path,restComponentProps:{isActive:r,isRegister:o}})},"".concat(e.path).concat(t))}))})]})};const hN=e=>({name:"사업자 그룹명",isUsed:"사용 여부",mainUserLoginId:"메인 계정 아이디",mainUserIsUsed:"메인 계정 상태",mainUserName:"메인 계정 이름",mainUserTelMobile:"메인 계정 휴대폰 번호"}[e]||e),fN=e=>({customerName:e.customerName,customerGroupName:e.customerGroupName,isUsed:e.isUsed}),CN=e=>({customerGroupByCustomerId:e.customerGroupByCustomerId,isUsed:e.isUsed,govGrainRegionType:R.y4m[e.govGrainRegionType],govGrainRegionSubType:R.M7p[e.govGrainRegionSubType],govGrainItemDetailType:R.c0l[e.govGrainItemDetailType],govGrainUsageType:R.Fqe[e.govGrainUsageType],govGrainPackageUnitType:e.govGrainPackageUnitType,govGrainTransportType:R.lHX[e.govGrainTransportType]}),xN=()=>(0,T.n)(["useUpdateCustomerDetail"],(async e=>(await I.q.api((t=>t.ApiCustomerGroupV1CustomerUpdate(CN(e))))).data.result)),NN=(0,r.createContext)(null);function yN(e){let{children:t,detailData:a,setDetailData:s,onRegisterComplete:n}=e;const o=(0,$e.P9)(),[i,d]=(0,r.useState)(!1),{control:c,formState:u,getValues:m,getFieldState:p,handleSubmit:h,reset:f,setValue:C,setError:x,clearErrors:N,trigger:y}=(0,Hr.mN)({defaultValues:null,mode:"onChange",shouldUnregister:!0}),{mutateAsync:E,isSuccess:v,isError:A,error:g,data:T}=xN();(0,r.useEffect)((()=>{a&&f(a,{keepDefaultValues:!1})}),[a]);const{isValid:I,errors:b}=u;return(0,r.useEffect)((()=>{v&&T&&(o({message:"소속 화주사가 수정되었습니다.",type:"success"}),n(T.customerGroupByCustomerId))}),[v]),(0,r.useEffect)((()=>{A&&g&&o({message:g.message,type:"caution"})}),[A]),(0,l.jsx)(NN.Provider,{value:{detailData:a,setDetailData:s,control:c,formState:u,getValues:m,getFieldState:p,setValue:C,setError:x,clearErrors:N,trigger:y,isClickedEEConfirmButton:i,setIsClickedEEConfirmButton:d,onRegisterComplete:n},"data-sentry-element":"DetailContext.Provider","data-sentry-component":"DetailProvider","data-sentry-source-file":"DetailProvider.tsx",children:(0,l.jsx)("form",{autoComplete:"off",onSubmit:h((async e=>{if(I||0===Object.keys(b).length)try{const t={customerGroupByCustomerId:e.customerGroupByCustomerId,isUsed:e.isUsed,govGrainRegionType:R.y4m[e.govGrainRegionType],govGrainRegionSubType:R.M7p[e.govGrainRegionSubType],govGrainItemDetailType:R.c0l[e.govGrainItemDetailType],govGrainUsageType:R.Fqe[e.govGrainUsageType],govGrainPackageUnitType:e.govGrainPackageUnitType,govGrainTransportType:R.lHX[e.govGrainTransportType]};e.govGrainPackageUnitType,await E(t)}catch(e){o({message:e.message,type:"caution"})}else o({message:"입력값을 확인해주세요.",type:"fail"}),window.console.log("onSubmitForm INVALID:",u.errors)}),(e=>{var t;const a=Object.keys(e),l="".concat(hN(a[0])," ").concat((null===(t=e[a[0]])||void 0===t?void 0:t.message)||"입력값을 확인해주세요.");o({message:l,type:"fail"}),window.console.error(e)})),children:t})})}var EN=function(e){let{detailData:t}=e;return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:C()("border-b-blue95 flex flex-col gap-[16px] border-b-[1px] px-[24px] py-[16px]",{"bg-grey98":!1,"bg-blue98":!0}),children:[(0,l.jsx)("div",{className:"flex flex-row justify-between",children:(0,l.jsxs)("div",{className:"flex w-full flex-row items-center justify-between",children:[(0,l.jsx)("div",{className:"Body5_B text-primary50",children:null==t?void 0:t.customerGroupName}),(0,l.jsx)("div",{className:"flex flex-row items-center gap-[8px]",children:(0,l.jsx)(_t.A,{type:"submit","data-sentry-element":"TmsDataGridSaveBtn","data-sentry-source-file":"DetailTop.tsx"})})]})}),(0,l.jsx)("div",{className:"Body5_B flex flex-row items-center gap-[8px]",children:(0,l.jsx)(oc,{"data-sentry-element":"FormTitle","data-sentry-source-file":"DetailTop.tsx",children:null==t?void 0:t.customerName})})]})})};var vN=function(){var e,t;const{control:a,formState:s,setValue:n,detailData:o}=(0,r.useContext)(NN),{commonMetaV2List:i}=(0,Je.X)(),{getAllMeta:d}=od({mutationKey:"DetailTabBasicInfo",requestAllMeta:[Ze.k.GOV_GRAIN_REGION_TYPE,Ze.k.GOV_GRAIN_REGION_SUB_TYPE,Ze.k.GOV_GRAIN_ITEM_DETAIL_TYPE,Ze.k.GOV_GRAIN_USAGE_TYPE,Ze.k.GOV_GRAIN_PACKAGE_UNIT_TYPE,Ze.k.GOV_GRAIN_TRANSPORT_TYPE]}),c=(0,Hr.FH)({control:a,name:"govGrainRegionType"}),u=r.useMemo((()=>{if(!c)return i.GOV_GRAIN_REGION_SUB_TYPE;const e={SUDO:["SEOUL","INCHEON","GYEONGGI"],YEONGDONG:["GANGWON"],YEONGNAM:["GYEONGBUK","GYEONGNAM","DAEGU","ULSAN","BUSAN"],CHUNGCHEONG:["CHUNGBUK","CHUNGNAM","DAEJEON","SEJONG"],HONAM:["JEONBUK","JEONNAM","GWANGJU","JEJU"]},t=String(c);return e[t]?i.GOV_GRAIN_REGION_SUB_TYPE.filter((a=>e[t].includes(String(a.id)))):i.GOV_GRAIN_REGION_SUB_TYPE}),[c,i]);return(0,r.useEffect)((()=>{u&&1===u.length&&n("govGrainRegionSubType",u[0].id,{shouldValidate:!0})}),[u,n]),(0,r.useLayoutEffect)((()=>{d()}),[]),(0,l.jsx)("div",{className:C()("flex flex-col gap-[20px] p-[24px]"),"data-sentry-component":"DetailTabBasicInfo","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:(0,l.jsx)("div",{children:(0,l.jsxs)(Vn,{"data-sentry-element":"InfoTable","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:[(0,l.jsx)(Fn,{label:"고객사",required:!0,error:null===(e=s.errors.managerName)||void 0===e?void 0:e.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"customerName",control:a,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{autoComplete:"off",componentType:"input-table",placeholder:"고객사 입력",className:"w-full",...t,disabled:!!(null==o?void 0:o.customerName)})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabBasicInfo.tsx"})}),(0,l.jsx)(Fn,{label:"사업자그룹",required:!0,error:null===(t=s.errors.managerName)||void 0===t?void 0:t.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"customerGroupName",control:a,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{autoComplete:"off",componentType:"input-table",placeholder:"사업자 그룹 입력",className:"w-full",...t,disabled:!!(null==o?void 0:o.customerGroupName)})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabBasicInfo.tsx"})}),(0,l.jsx)(Fn,{label:"사용 여부","data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"isUsed",control:a,render:e=>{let{field:t}=e;return(0,l.jsx)(Un,{groupName:"isUsed",items:[{id:!0,label:"사용"},{id:!1,label:"사용 안함"}],value:t.value,onChange:e=>n("isUsed",e)})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabBasicInfo.tsx"})}),(0,l.jsx)(Fn,{label:"권역","data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"govGrainRegionType",control:a,render:e=>{let{field:t}=e;return(0,l.jsx)(He.A,{options:i.GOV_GRAIN_REGION_TYPE,selectedId:t.value,componentType:"autocomplete-table",placeholder:"권역 선택",autocompleteBoxClassName:"w-full",onChange:(e,a)=>t.onChange(a.id)})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabBasicInfo.tsx"})}),(0,l.jsx)(Fn,{label:"상세 권역","data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"govGrainRegionSubType",control:a,render:e=>{let{field:t}=e;return(0,l.jsx)(He.A,{options:u,selectedId:t.value,componentType:"autocomplete-table",placeholder:"상세 권역 선택",autocompleteBoxClassName:"w-full",onChange:(e,a)=>t.onChange(a.id)})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabBasicInfo.tsx"})}),(0,l.jsx)(Fn,{label:"상세 품목","data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"govGrainItemDetailType",control:a,render:e=>{let{field:t}=e;return(0,l.jsx)(He.A,{options:i.GOV_GRAIN_ITEM_DETAIL_TYPE,selectedId:t.value,componentType:"autocomplete-table",placeholder:"상세 품목 선택",autocompleteBoxClassName:"w-full",onChange:(e,a)=>t.onChange(a.id)})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabBasicInfo.tsx"})}),(0,l.jsx)(Fn,{label:"용도","data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"govGrainUsageType",control:a,render:e=>{let{field:t}=e;return(0,l.jsx)(He.A,{options:i.GOV_GRAIN_USAGE_TYPE,selectedId:t.value,componentType:"autocomplete-table",placeholder:"용도 선택",autocompleteBoxClassName:"w-full",onChange:(e,a)=>t.onChange(a.id)})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabBasicInfo.tsx"})}),(0,l.jsx)(Fn,{label:"포장 단위","data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"govGrainPackageUnitType",control:a,render:e=>{let{field:t}=e;return(0,l.jsx)(He.A,{options:i.GOV_GRAIN_PACKAGE_UNIT_TYPE,selectedId:t.value,componentType:"autocomplete-table",placeholder:"포장 단위 선택",autocompleteBoxClassName:"w-full",onChange:(e,a)=>t.onChange(a.id)})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabBasicInfo.tsx"})}),(0,l.jsx)(Fn,{label:"수송 구분","data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"govGrainTransportType",control:a,render:e=>{let{field:t}=e;return(0,l.jsx)(He.A,{options:i.GOV_GRAIN_TRANSPORT_TYPE,selectedId:t.value,componentType:"autocomplete-table",placeholder:"수송 구분 선택",autocompleteBoxClassName:"w-full",onChange:(e,a)=>t.onChange(a.id)})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabBasicInfo.tsx"})})]})})})};var AN=function(e){let{detailData:t,setDetailData:a,onRegisterComplete:r}=e;return(0,l.jsx)("div",{className:"flex flex-col","data-sentry-component":"Detail","data-sentry-source-file":"index.tsx",children:(0,l.jsxs)(yN,{detailData:t,setDetailData:a,onRegisterComplete:r,"data-sentry-element":"DetailProvider","data-sentry-source-file":"index.tsx",children:[(0,l.jsx)(EN,{detailData:t,"data-sentry-element":"DetailTop","data-sentry-source-file":"index.tsx"}),(0,l.jsx)("div",{className:"h-[calc(100vh-350px)] overflow-y-auto",children:(0,l.jsx)(vN,{"data-sentry-element":"DetailTabBasicInfo","data-sentry-source-file":"index.tsx"})})]})})};const gN=[{field:"__No__",headerName:"No.",sortable:!1,width:48,align:"center",type:da._.VIEW_MODE_ID},{field:"customerName",headerName:"소속 고객사",width:183},{field:"customerGroupName",headerName:"사업자 그룹",width:183,align:"center"},{field:"isUsed",headerName:"사용 여부",width:74,align:"center",type:da._.VIEW_MODE_Y_OR_N},{field:"govGrainRegionType",headerName:"권역",width:110,align:"center",valueFormatter:e=>Je.X.getState().getMetaLabel(Ze.k.GOV_GRAIN_REGION_TYPE,e)},{field:"govGrainRegionSubType",headerName:"상세 권역",width:110,align:"center",valueFormatter:e=>Je.X.getState().getMetaLabel(Ze.k.GOV_GRAIN_REGION_SUB_TYPE,e)},{field:"govGrainItemDetailType",headerName:"상세 품목",width:110,align:"center",valueFormatter:e=>Je.X.getState().getMetaLabel(Ze.k.GOV_GRAIN_ITEM_DETAIL_TYPE,e)},{field:"govGrainUsageType",headerName:"용도",width:110,align:"center",valueFormatter:e=>Je.X.getState().getMetaLabel(Ze.k.GOV_GRAIN_USAGE_TYPE,e)},{field:"govGrainPackageUnitType",headerName:"포장 단위",width:110,align:"center",valueFormatter:e=>Je.X.getState().getMetaLabel(Ze.k.GOV_GRAIN_PACKAGE_UNIT_TYPE,e)},{field:"govGrainTransportType",headerName:"수송 구분",width:110,align:"center",valueFormatter:e=>Je.X.getState().getMetaLabel(Ze.k.GOV_GRAIN_TRANSPORT_TYPE,e)},{field:"createdAt",headerName:"최초 등록일시",minWidth:180,flex:1,valueGetter:e=>e?je()(e).format("YYYY-MM-DD HH:mm"):""}];var TN=function(e){let{isActive:t,isRegister:a}=e;const s=(0,$e.P9)(),n=(0,r.useRef)(null),o=(0,D.bBi)(),i=(0,r.useRef)(!0),[d,c]=(0,r.useState)(null),[u,m]=(0,r.useState)({}),[p,h]=(0,r.useState)(0);(0,r.useEffect)((()=>{t&&i.current&&f(u)}),[t]);const f=async e=>{try{var t;const a=await(async e=>{var t;return null!==(t=(await I.q.api((t=>t.ApiCustomerGroupV1CustomerList(fN(e))))).data.result.itemList)&&void 0!==t?t:[]})(e);if(null===(t=n.current)||void 0===t||t.setInitData(a),i.current&&a.length){const e=a[0].customerGroupByCustomerId;await C({customerGroupByCustomerId:e}),i.current=!1}}catch(e){s({message:e.message,type:"caution"})}},C=async e=>{h((e=>e+1));try{const t=await(async e=>(await I.q.api((t=>t.ApiCustomerGroupV1CustomerDetail(e)))).data.result)(e);c(t)}catch(e){s({message:e.message,type:"caution"})}},x=e=>{var t;t=e.row.customerGroupByCustomerId,C({customerGroupByCustomerId:t}),pe.sV.emit(uN)};return(0,l.jsx)(nu,{isOpenRightPanel:a||d,rightPanelWidth:448,onClickCloseButton:()=>{a&&pe.sV.emit(uN),d&&c(null)},leftSidePanel:(0,l.jsx)(Ve.A.Provider,{params:u,setParams:m,onSearch:async e=>{f(e)},children:e=>(0,l.jsxs)("div",{className:"h-[calc(100vh-200px)] w-full",children:[(0,l.jsxs)("div",{className:"flex justify-between px-[40px] py-[16px]",children:[(0,l.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,l.jsx)(Ve.A.SearchText,{label:"소속 고객사",placeholder:"소속 고객사 입력",fieldName:"customerName",className:"w-[161px]"}),(0,l.jsx)(Ve.A.SearchText,{label:"사업자 그룹",placeholder:"사업자 그룹 입력",fieldName:"customerGroupName",className:"w-[161px]"}),(0,l.jsx)(Ve.A.SearchAutocomplete,{label:"사용 여부",options:[{id:"true",label:"사용"},{id:"false",label:"미사용"}],fieldName:"isUsed",autocompleteClassName:"!w-[161px]"})]}),(0,l.jsxs)("div",{className:"flex flex-none items-start gap-2",children:[(0,l.jsx)(Ve.A.ResetButton,{}),(0,l.jsx)(Ve.A.SearchButton,{})]})]}),(0,l.jsx)("div",{className:"h-[calc(100vh-367px)]",children:(0,l.jsx)(Fa.A,{ref:n,gridApiRef:o,columns:gN,initialState:{pinnedColumns:{left:["__check__","id"]}},onRowDoubleClick:x})})]})}),rightSidePanel:(0,l.jsx)(AN,{detailData:d,setDetailData:c,onRegisterComplete:e=>{f(u),C({customerGroupByCustomerId:e}),pe.sV.emit(uN)}},p),"data-sentry-element":"TmsBasicSlidePanel","data-sentry-component":"CustomerManager","data-sentry-source-file":"CustomerManager.tsx"})};const IN=()=>({customerGroupId:null,name:"",isUsed:!0,customerInfoList:null,mainUserCustomerGroupUserId:null,mainUserLoginId:"",mainUserIsMain:!0,mainUserIsUsed:!0,mainUserName:"",mainUserTelMobile:"",subUserInfoList:null}),bN=e=>({name:e.name,isUsed:e.isUsed}),RN=e=>({customerGroupId:e.customerGroupId,name:e.name,isUsed:e.isUsed,mainUserCustomerGroupUserId:e.mainUserInfo.customerGroupUserId,mainUserLoginId:e.mainUserInfo.loginId,mainUserIsMain:e.mainUserInfo.isMain,mainUserIsUsed:e.mainUserInfo.isUsed,mainUserName:e.mainUserInfo.name,mainUserTelMobile:e.mainUserInfo.telMobile,subUserInfoList:e.subUserInfoList,customerInfoList:e.customerInfoList}),SN=()=>(0,T.n)(["useCreateCustomerGroupDetail"],(async e=>(await I.q.api((t=>t.ApiCustomerGroupV1Create(e)))).data.result)),_N=()=>(0,T.n)(["useUpdateCustomerGroupDetail"],(async e=>(await I.q.api((t=>t.ApiCustomerGroupV1Update(e)))).data.result)),wN=(0,r.createContext)(null);function ON(e){let{isNew:t,children:a,detailData:s,setDetailData:n,onRegisterComplete:o,modifyCustomerIdsList:i,setModifyCustomerIdsList:d,modifySubUserInfoList:c,setModifySubUserInfoList:u}=e;const m=(0,$e.P9)(),[p,h]=(0,r.useState)(!1),{control:f,formState:C,getValues:x,getFieldState:N,handleSubmit:y,reset:E,setValue:v,setError:A,clearErrors:g,trigger:T}=(0,Hr.mN)({defaultValues:IN(),mode:"onChange",shouldUnregister:!0}),{mutateAsync:I,isSuccess:b,isError:R,error:S,data:_}=SN(),{mutateAsync:w,isSuccess:O,isError:M,error:D,data:j}=_N();(0,r.useEffect)((()=>{t&&E(IN(),{keepDefaultValues:!1})}),[t]),(0,r.useEffect)((()=>{s&&E(s,{keepDefaultValues:!1})}),[s]);const{isValid:P,errors:L}=C;return(0,r.useEffect)((()=>{b&&_&&(m({message:"사업자 그룹이 등록되었습니다.",type:"success"}),o(_.customerGroupId))}),[b]),(0,r.useEffect)((()=>{R&&S&&m({message:S.message,type:"caution"})}),[R]),(0,r.useEffect)((()=>{O&&j&&(m({message:"사업자 그룹이 수정되었습니다.",type:"success"}),o(j.customerGroupId))}),[O]),(0,r.useEffect)((()=>{M&&D&&m({message:D.message,type:"caution"})}),[M]),(0,l.jsx)(wN.Provider,{value:{isNew:t,detailData:s,setDetailData:n,control:f,formState:C,getValues:x,getFieldState:N,setValue:v,setError:A,clearErrors:g,modifyCustomerIdsList:i,setModifyCustomerIdsList:d,modifySubUserInfoList:c,setModifySubUserInfoList:u,trigger:T,isClickedEEConfirmButton:p,setIsClickedEEConfirmButton:h,onRegisterComplete:o},"data-sentry-element":"DetailContext.Provider","data-sentry-component":"DetailProvider","data-sentry-source-file":"DetailProvider.tsx",children:(0,l.jsx)("form",{autoComplete:"off",onSubmit:y((async e=>{if(P||0===Object.keys(L).length)try{if(0===i.length)return void m({message:"소속 고객사는 필수 정보입니다.",type:"caution"});if(t){g();const t={name:e.name,isUsed:e.isUsed,customerIdList:i};await I(t)}else{const t={customerGroupId:e.customerGroupId,name:e.name,isUsed:e.isUsed,mainUserInfo:{customerGroupUserId:e.mainUserCustomerGroupUserId,isUsed:e.mainUserIsUsed,loginId:e.mainUserLoginId,name:e.mainUserName,telMobile:e.mainUserTelMobile},subUserInfoList:c,customerIdList:i};await w(t)}}catch(e){m({message:e.message,type:"caution"})}else m({message:"입력값을 확인해주세요.",type:"fail"}),window.console.log("onSubmitForm INVALID:",C.errors)}),(e=>{var t;const a=Object.keys(e),l="".concat(hN(a[0])," ").concat((null===(t=e[a[0]])||void 0===t?void 0:t.message)||"입력값을 확인해주세요.");m({message:l,type:"fail"}),window.console.error(e)})),children:a})})}function MN(){return(0,r.useContext)(wN)}var DN=function(e){let{detailData:t,tabItems:a,selectedTabId:r,onChangeTab:s}=e;var n;const{isNew:o}=MN();return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:C()("border-b-blue95 flex flex-col gap-[16px] border-b-[1px] px-[24px] py-[16px]",{"bg-grey98":o,"bg-blue98":!o}),children:[(0,l.jsx)("div",{className:"flex flex-row justify-between",children:o?(0,l.jsxs)("div",{className:"flex w-full flex-row items-center justify-between",children:[(0,l.jsx)("div",{className:"flex flex-row items-center gap-[4px]",children:(0,l.jsx)(ac,{type:"info",children:"소속 고객사는 필수 정보입니다."})}),(0,l.jsx)("div",{className:"flex flex-row items-center gap-[8px]",children:(0,l.jsx)(ui,{type:"submit"})})]}):(0,l.jsxs)("div",{className:"flex w-full flex-row items-center justify-between",children:[(0,l.jsx)("div",{className:"Body5_B text-grey40",children:(null==t||null===(n=t.customerInfoList)||void 0===n?void 0:n.length)>0&&"".concat(null==t?void 0:t.customerInfoList[0].name," 외 ").concat(t.customerInfoList.length-1,"개사")}),(0,l.jsx)("div",{className:"flex flex-row items-center gap-[8px]",children:(0,l.jsx)(_t.A,{type:"submit"})})]})}),o?(0,l.jsx)("div",{className:"flex flex-row items-center gap-[8px]",children:(0,l.jsx)(oc,{gradient:!0,children:"새 사업자 그룹 등록하기"})}):(0,l.jsx)("div",{className:"Body5_B flex flex-row items-center gap-[8px]",children:(0,l.jsx)(oc,{children:null==t?void 0:t.name})}),!o&&(0,l.jsx)(nc,{items:a,selectedId:r,onChange:s})]})})};var jN=function(e){let{useFormContext:t,inputPlaceholder:a="아이디 입력",isOnlyNumberId:s=!1,detailData:n,userIdDefault:o}=e;const{control:i,getValues:d,setValue:c,setError:p,clearErrors:h}=t,f=(0,$e.P9)(),{mutate:C,data:x,isSuccess:N,isError:y,error:E,isLoading:v,reset:A}=(0,T.n)(["checkUserId"],(async e=>(await I.q.api((t=>t.ApiCustomerGroupV1UserCheckExistsLoginId(e)))).data.result)),g=d("loginId"),b=null==n?void 0:n.loginId,R=()=>{g?C({loginId:g}):f({message:"로그인 아이디를 입력해주세요",type:"caution"})};return(0,r.useEffect)((()=>{N&&(x.isExist?(c("isLoginIdVerified",!1),p("loginId",{type:"manual",message:"이미 등록된 아이디입니다."})):(c("isLoginIdVerified",!0),h("loginId")))}),[N,x,c,p,h]),(0,r.useEffect)((()=>{y&&(f({message:(null==E?void 0:E.message)||"아이디 확인 중 오류가 발생했습니다.",type:"caution"}),c("isLoginIdVerified",!1),p("loginId",{type:"manual",message:"아이디 확인 중 오류가 발생했습니다."}))}),[y,E,c,p]),(0,l.jsx)(Hr.xI,{name:"loginId",control:i,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsxs)("div",{className:"flex w-full items-center justify-between",children:[(0,l.jsx)(Tt.A,{autoComplete:"off",componentType:"input-table",placeholder:a,className:"flex-1",disabled:b,...t,value:t.value||o,onChange:e=>{s?t.onChange(e.target.value.replace(/[^0-9]/g,"")):t.onChange(e.target.value.replace(/[^a-zA-Z0-9]/g,"")),c("isLoginIdVerified",!1),h("loginId"),A()}}),!b&&(0,l.jsxs)("div",{className:"mr-[12px] flex items-center gap-[12px]",children:[d("isLoginIdVerified")&&(0,l.jsxs)("div",{className:"text-success Caption1_B flex flex-none items-center",children:[(0,l.jsx)(xc,{className:"text-success h-[20px] w-[20px]"}),"사용 가능"]}),(0,l.jsx)(u.A,{className:"flex-none",size:m.M.Xsmall,level:m.V.level_5,label:"중복 확인",onClick:R,disabled:d("isLoginIdVerified")||v})]})]})},"data-sentry-element":"Controller","data-sentry-component":"SubAccountLoginIdInput","data-sentry-source-file":"SubAccountLoginIdInput.tsx"})};var PN={required:"필수 정보를 입력해 주세요.",email:{value:/^\w+([\\.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/,message:"올바른 이메일 주소를 입력해 주세요."},businessNumber:{value:/^\d{3}-?\d{2}-?\d{5}$/,message:"올바른 사업자 번호를 입력해 주세요."},plateNumber:{value:/(^[0-9]{2,3}[가-힣][0-9]{4}$)|(^[가-힣]{2}[0-9]{1,2}[가-힣][0-9]{4}$)/,message:"올바른 차량 번호를 입력해 주세요."},personalName:{value:/^[가-힣a-zA-Z0-9\s]{2,}$/,message:"올바른 이름을 입력해 주세요."},telPhonMobile:{value:/^[0-9]{3}[0-9]{4}[0-9]{4}$/,message:"올바른 휴대폰 번호를 입력해 주세요."}};var LN=function(e){let{createCustomerUser:t,onClose:a}=e;var r,s,n,o;const i=(0,Hr.mN)({defaultValues:{customerGroupId:0,isUsed:null,isMain:!1,loginId:"",name:"",telMobile:""},mode:"all",shouldUnregister:!0}),{control:d,formState:{isValid:c,errors:u},handleSubmit:m,reset:p,clearErrors:h,setError:f}=i,C=e=>{if(c||0===Object.keys(u).length){if(!e.isLoginIdVerified)return void f("loginId",{message:"아이디 중복 확인을 진행해 주세요"});t(e)}};return(0,l.jsx)(Pe.A,{title:"서브 계정 생성",modalWidth:448,modalContentHeight:175,confirmButtonLabel:"계정 생성",onClickConfirmButton:m(C),onClickCloseButton:()=>{p({customerGroupId:0,isUsed:null,isMain:!1,loginId:"",name:"",telMobile:""}),h(),a()},"data-sentry-element":"TmsBasicModal","data-sentry-component":"CreateSubAccountModal","data-sentry-source-file":"CreateSubAccountModal.tsx",children:(0,l.jsx)("form",{autoComplete:"off",className:"flex flex-col",onSubmit:m(C),children:(0,l.jsxs)(Vn,{"data-sentry-element":"InfoTable","data-sentry-source-file":"CreateSubAccountModal.tsx",children:[(0,l.jsx)(Fn,{label:"아이디",required:!0,error:null===(r=u.loginId)||void 0===r?void 0:r.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"CreateSubAccountModal.tsx",children:(0,l.jsx)(jN,{useFormContext:{...i,isNew:!0},inputPlaceholder:"아이디 입력","data-sentry-element":"SubAccountLoginIdInput","data-sentry-source-file":"CreateSubAccountModal.tsx"})}),(0,l.jsx)(Fn,{label:"계정 상태",required:!0,error:null===(s=u.isUsed)||void 0===s?void 0:s.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"CreateSubAccountModal.tsx",children:(0,l.jsx)(Hr.xI,{name:"isUsed",control:d,rules:{required:PN.required},render:e=>{let{field:t}=e;return(0,l.jsx)(Un,{groupName:"isUsed",items:[{id:"true",label:"활성"},{id:"false",label:"비활성"}],...t})},"data-sentry-element":"Controller","data-sentry-source-file":"CreateSubAccountModal.tsx"})}),(0,l.jsx)(Fn,{label:"이름",required:!0,error:null===(n=u.name)||void 0===n?void 0:n.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"CreateSubAccountModal.tsx",children:(0,l.jsx)(Hr.xI,{name:"name",control:d,rules:{required:PN.required,pattern:PN.personalName},render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{componentType:"input-table",placeholder:"이름 입력",className:"w-full",...t})},"data-sentry-element":"Controller","data-sentry-source-file":"CreateSubAccountModal.tsx"})}),(0,l.jsx)(Fn,{label:"휴대폰 번호",required:!0,error:null===(o=u.telMobile)||void 0===o?void 0:o.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"CreateSubAccountModal.tsx",children:(0,l.jsx)(Hr.xI,{name:"telMobile",control:d,rules:{required:PN.required,pattern:PN.telPhonMobile},render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{componentType:"input-table",placeholder:"휴대폰 번호 입력",className:"w-full",...t})},"data-sentry-element":"Controller","data-sentry-source-file":"CreateSubAccountModal.tsx"})})]})})})};const BN={customerGroupUserId:!1},UN=[{field:"customerGroupUserId"},{field:"__check__",headerName:"",width:48,minWidth:48,maxWidth:48,sortable:!1,align:"center",disableColumnMenu:!0},{field:"loginId",headerName:"아이디",sortable:!1,width:140,defaultEditable:!1},{field:"isUsed",headerName:"계정 상태",width:100,editable:!0,defaultEditable:!0,type:da._.CUSTOM_SELECT,options:[{id:"true",label:"활성"},{id:"false",label:"비활성"}]},{field:"name",headerName:"이름",width:88,editable:!0,defaultEditable:!0},{field:"telMobile",headerName:"휴대폰 번호",width:136,editable:!0,defaultEditable:!0}];var VN=function(){(0,$e.P9)();const e=(0,r.useRef)(null),t=(0,D.bBi)(),[a,s]=(0,r.useState)(!1),[n,o]=(0,r.useState)([]),{isNew:i,detailData:d,modifySubUserInfoList:c,setModifySubUserInfoList:p}=MN(),h=(0,r.useCallback)((e=>{const t=c.findIndex((t=>t.loginId===e.loginId)),a=t>-1?c.map(((a,l)=>l===t?{...a,...e}:a)):[...c,e];p(a)}),[c,p]),f=(0,r.useCallback)((()=>{alert("초대하기 기능 생기면 합니다.")}),[]),C=(0,r.useCallback)((e=>{const a=Object.keys(e)[0],l=Array.from(t.current.getRowModels().values()).find((e=>e._id_===a));l&&h({customerGroupUserId:l.customerGroupUserId,loginId:l.loginId,name:l.name,isUsed:l.isUsed,telMobile:l.telMobile})}),[h]);(0,r.useEffect)((()=>{var t;if(i)null===(t=e.current)||void 0===t||t.setInitData([]);else if(d){var a;null===(a=e.current)||void 0===a||a.setInitData(d.subUserInfoList)}}),[d,i]),(0,r.useEffect)((()=>{t.current&&t.current.subscribeEvent("customRowUpdate",C)}),[C]);const x=(0,r.useCallback)((t=>{var a;s(!1),null===(a=e.current)||void 0===a||a.addRow({customerGroupUserId:null,loginId:t.loginId,name:t.name,isUsed:t.isUsed,isMain:!1,telMobile:t.telMobile}),h({customerGroupUserId:null,loginId:t.loginId,name:t.name,isUsed:t.isUsed,telMobile:t.telMobile})}),[h]);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(kn,{label:"서브 계정","data-sentry-element":"DetailSection","data-sentry-source-file":"SubAccount.tsx",children:[(0,l.jsx)("div",{className:"flex",children:(0,l.jsx)(bc,{disabled:0===n.length,passwordReset:f,"data-sentry-element":"PasswordResetButton","data-sentry-source-file":"SubAccount.tsx"})}),(0,l.jsx)("div",{className:"flex",children:(0,l.jsx)(u.A,{label:"서브 계정 생성",level:m.V.level_4,size:m.M.Small,leftIcon:(0,l.jsx)(Jl,{width:16,height:16,className:"text-primary50"}),onClick:()=>s(!0),"data-sentry-element":"TmsBasicButton","data-sentry-source-file":"SubAccount.tsx"})})]}),(0,l.jsx)("div",{className:"flex h-[300px]",children:(0,l.jsx)(Fa.A,{ref:e,gridApiRef:t,columns:UN,columnVisibilityModel:BN,checkboxSelection:!0,columnHeaderHeight:32,noRowDescription:{description_1:"조회된 서브 계정이 없습니다.",description_2:"“서브 계정 생성”을 눌러 계정을 추가해 주세요."},onRowSelectionModelChange:o,editMode:"cell","data-sentry-element":"TmsWrappBasicDataGrid","data-sentry-source-file":"SubAccount.tsx"})}),a&&(0,l.jsx)(LN,{onClose:()=>s(!1),createCustomerUser:x})]})};var FN=function(e){var t,a,r,s;const{isShow:n=!1}=e,{control:o,formState:i,detailData:d}=MN();return(0,$e.P9)(),(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:C()("flex h-full flex-col gap-[20px] p-[24px]",{hidden:!n}),children:[(0,l.jsxs)("div",{children:[(0,l.jsx)(kn,{label:"메인 계정","data-sentry-element":"DetailSection","data-sentry-source-file":"DetailTabAccountInfo.tsx"}),(0,l.jsxs)(Vn,{"data-sentry-element":"InfoTable","data-sentry-source-file":"DetailTabAccountInfo.tsx",children:[(0,l.jsx)(Fn,{label:"아이디",required:!0,error:null===(t=i.errors.mainUserLoginId)||void 0===t?void 0:t.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabAccountInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"mainUserLoginId",control:o,rules:{required:PN.required},render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{componentType:"input-table",placeholder:"아이디 입력",className:"w-full",...t,disabled:!!(null==d?void 0:d.mainUserLoginId)})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabAccountInfo.tsx"})}),(0,l.jsx)(Fn,{label:"계정 상태",required:!0,error:null===(a=i.errors.mainUserIsUsed)||void 0===a?void 0:a.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabAccountInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"mainUserIsUsed",control:o,render:e=>{let{field:t}=e;return(0,l.jsx)(Un,{groupName:"mainUserInfo.isUsed",items:[{id:!0,label:"활성"},{id:!1,label:"비활성"}],...t})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabAccountInfo.tsx"})}),(0,l.jsx)(Fn,{label:"이름",required:!0,error:null===(r=i.errors.mainUserName)||void 0===r?void 0:r.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabAccountInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"mainUserName",control:o,rules:{required:PN.required,pattern:PN.personalName},render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{componentType:"input-table",placeholder:"이름 입력",className:"w-full",...t})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabAccountInfo.tsx"})}),(0,l.jsx)(Fn,{label:"휴대폰 번호",required:!0,error:null===(s=i.errors.mainUserTelMobile)||void 0===s?void 0:s.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabAccountInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"mainUserTelMobile",control:o,rules:{required:PN.required,pattern:PN.telPhonMobile},render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{componentType:"input-table",placeholder:"휴대폰 번호 입력",className:"w-full",...t})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabAccountInfo.tsx"})})]})]}),(0,l.jsx)("div",{className:"flex grow-[1] flex-col pb-[24px]",children:(0,l.jsx)(VN,{"data-sentry-element":"SubAccount","data-sentry-source-file":"DetailTabAccountInfo.tsx"})})]})})};const GN={customerId:!1},kN=[{field:"customerId"},{field:"__check__",headerName:"",width:48,minWidth:48,maxWidth:48,sortable:!1,align:"center",disableColumnMenu:!0},{field:"__No__",headerName:"No.",sortable:!1,width:76,minWidth:76,maxWidth:76,align:"right",type:da._.VIEW_MODE_ID},{field:"name",headerName:"고객사명",width:136,editable:!0,defaultEditable:!0},{field:"mdmCode",headerName:"MDM코드",width:136,editable:!0,defaultEditable:!0}];var YN=function(e){let{onSelected:t,onClose:a,tabs:s}=e;const n=(0,$e.P9)(),o=s.filter((e=>e.customerId)).map((e=>e.customerId)),[i,d]=(0,r.useState)([]),[c,p]=(0,r.useState)(""),[h,f]=(0,r.useState)(o),C=async()=>{try{const e=await(0,$s.xT)({name:c},!0);d(e)}catch(e){n({message:e.message,type:"fail",delay:3e3})}};return(0,l.jsxs)(Pe.A,{title:"화주 추가",modalWidth:1280,modalContentHeight:465,confirmButtonLabel:"추가하기",onClickConfirmButton:async()=>{let e=[];h.length>0&&(e=i.reduce(((e,t)=>{if(h.includes(t.customerId)){const a={...t,customerId:t.customerId,customerName:t.name,mdmCode:t.mdmCode,represent:t.representativeName,address:t.address};e=[...e,a]}return e}),[])),t(e)},onClickCloseButton:()=>a(),"data-sentry-element":"TmsBasicModal","data-sentry-component":"CustomerGroupAccountModal","data-sentry-source-file":"CustomerGroupAccountModal.tsx",children:[(0,l.jsxs)("div",{className:"flex gap-[16px]",children:[(0,l.jsx)(Tt.A,{label:"고객사",placeholder:"고객사명 입력",classNameInput:"w-[500px]",value:c,onChange:e=>p(e.target.value),onKeyDown:e=>{"Enter"===e.key&&C().catch()},"data-sentry-element":"TmsBasicInput","data-sentry-source-file":"CustomerGroupAccountModal.tsx"}),(0,l.jsx)(u.A,{label:"조회",level:m.V.level_3,size:m.M.Small,leftIcon:(0,l.jsx)(se.A,{width:20,height:20}),onClick:C,"data-sentry-element":"TmsBasicButton","data-sentry-source-file":"CustomerGroupAccountModal.tsx"})]}),(0,l.jsx)("div",{className:"mt-[12px] flex h-[406px]",children:(0,l.jsx)(Fe.A,{rows:i,columns:$l,getRowId:e=>e.customerId,rowSelectionModel:h,checkboxSelection:!0,disableColumnMenu:!0,noRowDescription:{description_1:"조회된 고객사가 없습니다.",description_2:"조회 조건을 입력하거나, 조건을 다시 확인해 주세요."},onRowSelectionModelChange:e=>f(e),"data-sentry-element":"TmsBasicDataGrid","data-sentry-source-file":"CustomerGroupAccountModal.tsx"})})]})};var qN=function(){var e;const t=(0,$e.P9)(),a=(0,r.useRef)(null),s=(0,D.bBi)(),[n,o]=(0,r.useState)(!1),[i]=(0,r.useState)([]),[d,c]=(0,r.useState)([]),{isNew:p,detailData:h,setModifyCustomerIdsList:f}=MN();return(0,r.useEffect)((()=>{var e;if(p)null===(e=a.current)||void 0===e||e.setInitData([]);else if(h){var t;null===(t=a.current)||void 0===t||t.setInitData(h.customerInfoList)}}),[h,p]),(0,r.useEffect)((()=>{(()=>{var e;f(null===(e=a.current)||void 0===e?void 0:e.getAllRows().map((e=>e.customerId)))})()}),[null===(e=a.current)||void 0===e?void 0:e.getAllRows().length]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(kn,{label:"소속 고객사","data-sentry-element":"DetailSection","data-sentry-source-file":"CustomerAccount.tsx",children:[(0,l.jsx)(ja,{isDisabled:0==d.length,handleDeleteComplete:function(){var e;null===(e=a.current)||void 0===e||e.removeSelectedRow(!0)},"data-sentry-element":"TmsDataGridDeleteCompleteBtn","data-sentry-source-file":"CustomerAccount.tsx"}),(0,l.jsx)(u.A,{label:"추가",level:m.V.level_4,size:m.M.Small,leftIcon:(0,l.jsx)(Jl,{width:16,height:16,className:"text-primary50"}),onClick:()=>o(!0),"data-sentry-element":"TmsBasicButton","data-sentry-source-file":"CustomerAccount.tsx"})]}),(0,l.jsx)("div",{className:"flex h-[300px]",children:(0,l.jsx)(Fa.A,{ref:a,gridApiRef:s,columns:kN,columnVisibilityModel:GN,checkboxSelection:!0,columnHeaderHeight:32,noRowDescription:{description_1:"조회된 소속 고객사가 없습니다.",description_2:"“추가”를 눌러 소속 고객사를 추가해 주세요."},onRowSelectionModelChange:c,editMode:"cell","data-sentry-element":"TmsWrappBasicDataGrid","data-sentry-source-file":"CustomerAccount.tsx"})}),n&&(0,l.jsx)(YN,{tabs:i,onSelected:function(e){var l,r;const s=null!==(r=null===(l=a.current)||void 0===l?void 0:l.getAllRows().map((e=>e.customerId)))&&void 0!==r?r:[];let n=!1;e.forEach(((e,t)=>{var l;s.includes(e.customerId)?n=!0:null===(l=a.current)||void 0===l||l.addRow({customerId:e.customerId,name:e.name,mdmCode:e.mdmCode})})),n&&t({message:"이미 등록된 소속 고객사는 제외 합니당.",type:"caution"}),o(!1)},onClose:()=>o(!1)})]})};var WN=function(e){var t,a;const{isShow:r=!1}=e,{control:s,formState:n,setValue:o}=MN();return(0,l.jsxs)("div",{className:C()("flex flex-col gap-[20px] p-[24px]",{hidden:!r}),"data-sentry-component":"DetailTabBasicInfo","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)(kn,{label:"기본 정보","data-sentry-element":"DetailSection","data-sentry-source-file":"DetailTabBasicInfo.tsx"}),(0,l.jsxs)(Vn,{"data-sentry-element":"InfoTable","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:[(0,l.jsx)(Fn,{label:"사업자 그룹명",required:!0,error:null===(t=n.errors.name)||void 0===t?void 0:t.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"name",control:s,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{autoComplete:"off",componentType:"input-table",placeholder:"사업자 그룹 입력",className:"w-full",...t})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabBasicInfo.tsx"})}),(0,l.jsx)(Fn,{label:"사용 여부",required:!0,error:null===(a=n.errors.isUsed)||void 0===a?void 0:a.message,"data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailTabBasicInfo.tsx",children:(0,l.jsx)(Hr.xI,{name:"isUsed",control:s,render:e=>{let{field:t}=e;return(0,l.jsx)(Un,{groupName:"isUsed",items:[{id:!0,label:"사용"},{id:!1,label:"사용 안함"}],value:t.value,onChange:e=>o("isUsed",e)})},"data-sentry-element":"Controller","data-sentry-source-file":"DetailTabBasicInfo.tsx"})})]})]}),(0,l.jsx)("div",{className:"flex grow-[1] flex-col pb-[24px]",children:(0,l.jsx)(qN,{"data-sentry-element":"CustomerAccount","data-sentry-source-file":"DetailTabBasicInfo.tsx"})})]})};const HN=[{id:"basicInfo",label:"소속 고객사"},{id:"accountInfo",label:"계정 정보"}],KN=[{id:"basicInfo",label:"소속 고객사"}];var zN=function(e){let{isNew:t=!1,detailData:a,setDetailData:s,onRegisterComplete:n,modifyCustomerIdsList:o,setModifyCustomerIdsList:i,modifySubUserInfoList:d,setModifySubUserInfoList:c}=e;const[u,m]=(0,r.useState)(KN[0]),p=(0,r.useMemo)((()=>t?KN:HN),[a,t]);return(0,r.useEffect)((()=>{m(KN[0])}),[t,p]),(0,l.jsx)("div",{className:"flex flex-col","data-sentry-component":"Detail","data-sentry-source-file":"index.tsx",children:(0,l.jsxs)(ON,{isNew:t,detailData:a,setDetailData:s,onRegisterComplete:n,modifyCustomerIdsList:o,setModifyCustomerIdsList:i,modifySubUserInfoList:d,setModifySubUserInfoList:c,"data-sentry-element":"DetailProvider","data-sentry-source-file":"index.tsx",children:[(0,l.jsx)(DN,{detailData:a,setDetailData:s,tabItems:p,selectedTabId:u.id,onChangeTab:e=>{m(e)},onChangeFileTab:()=>{m({id:"documentsInfo",label:"제출 서류"})},"data-sentry-element":"DetailTop","data-sentry-source-file":"index.tsx"}),(0,l.jsxs)("div",{className:"h-[calc(100vh-350px)] overflow-y-auto",children:[(0,l.jsx)(WN,{isShow:"basicInfo"===u.id,"data-sentry-element":"DetailTabBasicInfo","data-sentry-source-file":"index.tsx"}),!t&&(0,l.jsx)(FN,{isShow:"accountInfo"===u.id})]})]})})};const XN=[{field:"__check__",headerName:"",width:76,sortable:!1,disableColumnMenu:!0,align:"center"},{field:"id",headerName:"No.",sortable:!1,width:48,align:"center",type:da._.VIEW_MODE_ID},{field:"name",headerName:"사업자 그룹명",maxWidth:698,flex:1},{field:"userCount",headerName:"소속고객사",width:160,align:"center",valueGetter:e=>e+"개"},{field:"customerCount",headerName:"등록 계정",width:160,align:"center",cellClassName:"flex h-full w-full items-center justify-center",valueGetter:e=>e+"개"},{field:"isUsed",headerName:"사용 여부",width:74,align:"center",type:da._.VIEW_MODE_Y_OR_N},{field:"createdAt",headerName:"최초 등록일시",maxWidth:188,cellClassName:"flex h-full w-full items-center justify-center",flex:1,valueGetter:e=>e?je()(e).format("YYYY-MM-DD HH:mm"):""}];var QN=function(e){let{isActive:t,isRegister:a}=e;const s=(0,$e.P9)(),n=(0,r.useRef)(null),o=(0,D.bBi)(),i=v(),d=(0,r.useRef)(!0),[c,u]=(0,r.useState)(null),[m,p]=(0,r.useState)(!1),[h,f]=(0,r.useState)({}),[C,x]=(0,r.useState)(0),[N,y]=(0,r.useState)(null),[E,A]=(0,r.useState)([]),[g,b]=(0,r.useState)([]),R=(0,T.n)(["useCustomerGroupDeleteMutation"],(async e=>(await I.q.api((t=>t.ApiCustomerGroupV1Delete(e)))).data.result));(0,r.useEffect)((()=>{pe.sV.on(dN,(()=>{p(!0)}))}),[]),(0,r.useEffect)((()=>{t&&d.current&&S(h)}),[t]);const S=async e=>{try{var t;const a=await(async e=>{var t;return null!==(t=(await I.q.api((t=>t.ApiCustomerGroupV1List(bN(e))))).data.result.itemList)&&void 0!==t?t:[]})(e);if(null===(t=n.current)||void 0===t||t.setInitData(a),d.current&&a.length){const e=a[0].customerGroupId;await _({customerGroupId:e}),d.current=!1}}catch(e){s({message:e.message,type:"caution"})}},_=async e=>{x((e=>e+1));try{u(null),y(null),A([]);const t=await(async e=>{const t=await I.q.api((t=>t.ApiCustomerGroupV1Detail(e)));return RN(t.data.result)})(e);u(t)}catch(e){s({message:e.message,type:"caution"})}},w=async e=>{S(e)},O=e=>{p(!1),_({customerGroupId:e}),pe.sV.emit(uN)},M=e=>{m?i({title:"작성 중인 정보가 있습니다.",description:"화면을 나가면 작성된 정보가 삭제됩니다.",confirmButtonLabel:"나가기",onClickConfirmButton:()=>O(e.row.customerGroupId)}):O(e.row.customerGroupId)},j=()=>{const e=Array.from(o.current.getSelectedRows().values());if(0===e.length)return s({message:"항목을 선택해 주세요.",type:"caution"}),!1;const t={customerGroupIdList:e.map((e=>e.customerGroupId))};i({title:"사업자 그룹을 삭제하시겠어요?",description:"삭제 시, 더 이상 이 사업자 그룹을 사용할 수 없습니다.",confirmButtonLabel:"삭제하기",confirmButtonType:"destructive",onClickConfirmButton:async()=>R.mutateAsync(t)})};(0,r.useEffect)((()=>{R.isSuccess&&(d.current=!0,p(!1),w(h))}),[R.isSuccess]);const P=async()=>{var e;null==n||null===(e=n.current)||void 0===e||e.getSelectedRows();alert("아직 안되지롱~")};return(0,l.jsx)(nu,{isOpenRightPanel:a||c,rightPanelWidth:448,onClickCloseButton:()=>{a&&pe.sV.emit(uN),c&&u(null)},leftSidePanel:(0,l.jsx)(Ve.A.Provider,{params:h,setParams:f,onSearch:w,children:e=>(0,l.jsxs)("div",{className:"h-[calc(100vh-200px)] w-full",children:[(0,l.jsxs)("div",{className:"flex justify-between px-[40px] py-[16px]",children:[(0,l.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,l.jsx)(Ve.A.SearchText,{label:"사업자 그룹",placeholder:"사업자 그룹 입력",fieldName:"name",className:"!w-[161px]"}),(0,l.jsx)(Ve.A.SearchAutocomplete,{label:"사용 여부",options:[{id:"true",label:"사용"},{id:"false",label:"미사용"}],fieldName:"isUsed",autocompleteClassName:"!w-[172px]"})]}),(0,l.jsxs)("div",{className:"flex flex-none items-start gap-2",children:[(0,l.jsx)(Ve.A.ResetButton,{}),(0,l.jsx)(Ve.A.SearchButton,{})]})]}),(0,l.jsx)("div",{className:"h-[calc(100vh-367px)]",children:(0,l.jsx)(Fa.A,{ref:n,gridApiRef:o,columns:XN,checkboxSelection:!0,columnHeaderHeight:32,onRowSelectionModelChange:e=>{b(e)},onRowDoubleClick:M})}),(0,l.jsxs)("div",{className:"flex justify-end gap-[8px] px-[40px] py-[16px]",children:[(0,l.jsx)(MC,{isDisabled:0==g.length,handleInvite:P}),(0,l.jsx)(ja,{isDisabled:0==g.length,handleDeleteComplete:j})]})]})}),rightSidePanel:(0,l.jsx)(zN,{isNew:m,detailData:c,setDetailData:u,modifyCustomerIdsList:N,setModifyCustomerIdsList:y,modifySubUserInfoList:E,setModifySubUserInfoList:A,onRegisterComplete:e=>{p(!1),S(h),_({customerGroupId:e}),pe.sV.emit(uN)}},C),"data-sentry-element":"TmsBasicSlidePanel","data-sentry-component":"CustomerGroupManager","data-sentry-source-file":"CustomerGroupManager.tsx"})};const ZN=e=>{let{type:t,currentTab:a,isOpenedRightPanel:l,setIsOpenedRightPanel:n}=e;const[o,i]=(0,r.useState)({}),d=(0,r.useRef)(null),c=(0,D.bBi)();var u;const{setInitData:m}=null!==(u=null==d?void 0:d.current)&&void 0!==u?u:{},[p,h]=(0,r.useState)(null),[f,C]=(0,r.useState)({isOpened:!1,title:"",description:"",confirmButtonType:"normal",confirmButtonLabel:"",onClickConfirmButton:e=>null}),{mutateAsync:x,isSuccess:N,data:y}=(0,T.n)(["useAuthorityRoleListMutation"],(async e=>(await I.q.api((t=>t.ApiCommonV1AuthorityRoleList(e)))).data.result)),E=async()=>{await x({isUsed:o.isUsed?"Y"===o.isUsed:null,searchAuthorityRoleName:o.searchAuthorityRoleName})};return(0,r.useLayoutEffect)((()=>{a===s.T9&&E()}),[]),(0,r.useEffect)((()=>{N&&m(y.list)}),[y]),(0,r.useEffect)((()=>{l||h(null)}),[l]),{searchParams:o,setSearchParams:i,handleSearch:E,wrapGridRef:d,gridApiRef:c,doubleClickRow:p,setDoubleClickRow:h,isCheckConfirm:f,setIsCheckConfirm:C}};function JN(e){let{isNew:t,authorityRoleName:a,createdBy:r,handleModify:s,handleCreate:n}=e;return(0,l.jsx)(l.Fragment,{children:t?(0,l.jsxs)("div",{className:"bg-grey98",children:[(0,l.jsxs)("div",{className:"flex items-center px-[24px] pt-[20px]",children:[(0,l.jsx)("span",{className:"Body5_B text-grey40",children:r}),(0,l.jsx)(u.A,{label:"권한 생성",className:"ml-auto",level:m.V.level_2,size:m.M.Small,leftIcon:(0,l.jsx)(Pt.A,{width:20,height:20}),onClick:n})]}),(0,l.jsx)("div",{className:"px-[24px] py-[16px]",children:(0,l.jsx)(oc,{gradient:!0,children:"새 권한 생성하기"})})]}):(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex w-full items-center px-[24px] pt-[20px]",children:[(0,l.jsx)("span",{className:"Body5_B text-grey40",children:r}),(0,l.jsx)(Qp,{className:"ml-auto",type:"button",size:m.M.Small,onClick:s})]}),(0,l.jsx)("div",{className:"Title3_EX px-[24px] py-[16px]",children:a})]})})}const $N=e=>({key:e.menuId,label:e.menuName,isActive:e.isActive,isShow:!0,subItems:e.children.map((e=>({key:e.menuId,label:e.menuName,isActive:e.isActive,operations:e.children.map((e=>({key:e.menuId,label:e.menuName,isActive:e.isActive})))})))}),ey=e=>{let{doubleClickRow:t,isNewPanel:a}=e;const l=(0,$e.P9)(),[s,n]=(0,r.useState)(""),[o,i]=(0,r.useState)(""),[d,c]=(0,r.useState)(""),[u,m]=(0,r.useState)(""),{mutateAsync:p,isSuccess:h,data:f}=(0,T.n)(["useAuthorityRoleDetailMutation"],(async e=>(await I.q.api((t=>t.ApiCommonV1AuthorityRoleDetail(e)))).data.result)),{mutateAsync:C,isSuccess:x,data:N}=(0,T.n)(["useAuthorityRoleMenuListMutation"],(async()=>(await I.q.api((e=>e.ApiCommonV1AuthorityRoleMenuList()))).data.result)),{mutateAsync:y,isSuccess:E,data:v}=(0,T.n)(["useAuthorityRoleModifyMutation"],(async e=>(await I.q.api((t=>t.ApiCommonV1AuthorityRoleModify(e)))).data.result)),{mutateAsync:A,isSuccess:g,data:b}=(0,T.n)(["useAuthorityRoleCreateMutation"],(async e=>(await I.q.api((t=>t.ApiCommonV1AuthorityRoleCreate(e)))).data.result)),[R,S]=(0,r.useState)([Bx]),[_,w]=(0,r.useState)([Bx]),O=()=>s?""!==d||(l({message:"사용 여부를 입력해주세요.",type:"caution"}),!1):(l({message:"권한명을 입력해주세요.",type:"caution"}),!1);return(0,r.useEffect)((()=>{(async()=>{a?await C():await p({authorityRoleId:t.authorityRoleId})})(),c((null==t?void 0:t.isUsed)?"Y":"N"),a&&(n(""),i(""))}),[null==t?void 0:t.authorityRoleId,a]),(0,r.useEffect)((()=>{if(h){const e=f.list.map((e=>$N(e)));S(e),w(e),n(f.authorityRoleName),i(f.createdBy)}}),[f]),(0,r.useEffect)((()=>{if(x){const e=N.list.map((e=>$N(e)));S(e),w(e)}}),[N]),(0,r.useEffect)((()=>{E&&l({message:"권한이 수정되었습니다."})}),[v]),(0,r.useEffect)((()=>{g&&l({message:"권한이 생성되었습니다."})}),[b]),{authorityRoleName:s,setAuthorityRoleName:n,createdBy:o,isUsed:d,setIsUsed:c,handleModify:async()=>{if(!O())return;const e=R.map((e=>({menuId:e.key,isActive:e.isActive,children:e.subItems.map((e=>({menuId:e.key,isActive:e.isActive,children:e.operations.map((e=>({menuId:e.key,isActive:e.isActive})))})))})));await y({authorityRoleId:t.authorityRoleId,authorityRoleName:s,isUsed:"Y"===d,list:e})},handleCreate:async()=>{if(!O())return;const e=R.map((e=>({menuId:e.key,isActive:e.isActive,children:e.subItems.map((e=>({menuId:e.key,isActive:e.isActive,children:e.operations.map((e=>({menuId:e.key,isActive:e.isActive})))})))})));await A({authorityRoleName:s,isUsed:"Y"===d,list:e})},menuList:R,handleMenuList:(e,t)=>{const a=R.map((a=>a.key===e?t:a));S(a),w(a)},menuName:u,setMenuName:m,handlerFilterMenu:()=>{if(!u)return void S(_);const e=((e,t)=>{if(!t||""===t.trim())return e;const a=[];for(const l of e){const e=[];for(const a of l.subItems){const l=a.operations.filter((e=>e.label.includes(t)));(a.label.includes(t)||l.length>0)&&e.push({...a,operations:l.length>0?l:a.operations})}l.label.includes(t)||e.length>0?a.push({...l,isShow:!0,subItems:e.length>0?e:l.subItems}):a.push({...l,isShow:!1,subItems:l.subItems})}return a})(R,u);S(e)}}};function ty(e){let{doubleClickRow:t,isNewPanel:a,setIsNewPanel:r,isOpenedRightPanel:s}=e;const{authorityRoleName:n,setAuthorityRoleName:o,createdBy:i,isUsed:d,setIsUsed:c,handleModify:p,handleCreate:h,menuList:f,handleMenuList:C,menuName:x,setMenuName:N,handlerFilterMenu:y}=ey({doubleClickRow:t,isNewPanel:a});return(0,l.jsxs)("div",{className:"flex flex-1 flex-col","data-sentry-component":"DetailMenuPanel","data-sentry-source-file":"DetailMenuPanel.tsx",children:[(0,l.jsx)(JN,{isNew:a,authorityRoleName:n,createdBy:i,handleModify:p,handleCreate:h,"data-sentry-element":"DetailMenuTitle","data-sentry-source-file":"DetailMenuPanel.tsx"}),(0,l.jsxs)("div",{className:"border-grey90 border-t-[1px] px-[24px] pb-[12px] pt-[24px]",children:[(0,l.jsx)("div",{className:"Body4_B",children:"권한 설정"}),(0,l.jsxs)("div",{className:"border-blackOpacity8 mt-[12px] border-t-[1px]",children:[(0,l.jsx)(vt,{required:!0,thLabel:"권한명",labelClassName:"!w-[120px]","data-sentry-element":"TableTrLayout","data-sentry-source-file":"DetailMenuPanel.tsx",children:(0,l.jsx)(Tt.A,{value:n,componentType:"input-table",placeholder:"권한명 입력",onChange:e=>o(e.target.value),"data-sentry-element":"TmsBasicInput","data-sentry-source-file":"DetailMenuPanel.tsx"})}),(0,l.jsx)(vt,{required:!0,thLabel:"사용 여부",labelClassName:"!w-[120px]","data-sentry-element":"TableTrLayout","data-sentry-source-file":"DetailMenuPanel.tsx",children:(0,l.jsx)(Un,{groupName:"isUsed",items:[{id:"Y",label:"사용"},{id:"N",label:"사용 안 함"}],value:d,onChange:e=>c(e),"data-sentry-element":"TmsBasicRadioGroup","data-sentry-source-file":"DetailMenuPanel.tsx"})})]})]}),(0,l.jsxs)("div",{className:"p-[24px]",children:[(0,l.jsx)("div",{className:"Body4_B",children:"총 메뉴 접근 권한"}),(0,l.jsxs)("div",{className:"flex w-full gap-[16px] py-[12px]",children:[(0,l.jsx)(Tt.A,{value:x,placeholder:"메뉴명으로 검색",onChange:e=>N(e.target.value),className:"w-full",onKeyDown:e=>{"Enter"===e.key&&y()},"data-sentry-element":"TmsBasicInput","data-sentry-source-file":"DetailMenuPanel.tsx"}),(0,l.jsx)(u.A,{className:"!h-[28px] flex-none",level:m.V.level_3,size:m.M.Small,label:"조회",leftIcon:(0,l.jsx)(se.A,{width:20,height:20}),onClick:y,"data-sentry-element":"TmsBasicButton","data-sentry-source-file":"DetailMenuPanel.tsx"})]}),null==f?void 0:f.map((e=>e.isShow&&(0,l.jsx)(Ux,{checkedOperations:e,onCheckedOperationsChange:t=>C(e.key,t)})))]})]})}var ay=function(e){let{setSelectedAuthorityRoleId:t,setIsOpenedRightPanel:a}=e;var s,n;const[o,i]=(0,r.useState)({}),{mutateAsync:d,data:c}=(0,T.n)(["useAuthorityRoleMonitoringListMutation"],(async e=>(await I.q.api((t=>t.ApiCommonV1AuthorityRoleMonitoringList(e)))).data.result));return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"Body2_B py-[16px]",children:["권한",(null==c||null===(s=c.list)||void 0===s?void 0:s.length)>0&&(0,l.jsxs)("span",{className:"Body5_M py-[13px]",children:[" (",c.list.length,"개)"]})]}),(0,l.jsxs)("div",{className:"border-grey90 ".concat((null==c?void 0:c.list)?"":"h-[calc(100vh-280px)]"," border-[1px]"),children:[(0,l.jsx)("div",{className:"border-grey90 border-b-[1px] px-[24px] py-[16px]",children:(0,l.jsx)(Ve.A.Provider,{params:o,setParams:i,onSearch:async()=>{await d({searchAuthorityRoleName:o.searchAuthorityRoleName||null})},"data-sentry-element":"SearchFilter.Provider","data-sentry-source-file":"AuthorityList.tsx",children:e=>(0,l.jsxs)("div",{className:"flex gap-[16px]",children:[(0,l.jsx)(Ve.A.SearchText,{label:"",placeholder:"권한명 입력",fieldName:"searchAuthorityRoleName",className:"w-[148px]"}),(0,l.jsx)(Ve.A.SearchButton,{})]})})}),(null==c?void 0:c.list)?(0,l.jsx)("div",{className:"h-[calc(100vh-344px)] overflow-y-auto",children:null==c||null===(n=c.list)||void 0===n?void 0:n.map((e=>(0,l.jsxs)("div",{className:"hover:bg-blue98 cursor-pointer px-[24px] py-[8px]",onDoubleClick:()=>(e=>{t(e.authorityRoleId),a(!1)})(e),children:[(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("span",{className:"Body5_B flex flex-1",children:e.authorityRoleName}),(0,l.jsx)("span",{className:"Caption1_B flex flex-1 justify-end ".concat(e.isUsed?"text-success":""),children:e.isUsed?"사용중":"사용안함"})]}),(0,l.jsxs)("div",{className:"text-grey50 Body5_M mt-[2px] flex items-center gap-[4px]",children:[e.userCount,"명",(0,l.jsx)("span",{className:"bg-grey70 flex h-[4px] w-[4px] rounded-3xl"}),e.menuCount,"개 메뉴"]})]},e.authorityRoleId)))}):(0,l.jsx)("div",{className:"mt-[70%]",children:(0,l.jsx)(Ne.A,{description_1:"조회된 권한이 없습니다.",description_2:"조회 조건을 확인해 주세요."})})]})]})};const ly=[{field:"id",headerName:"No.",width:60,sortable:!1,filterable:!1,align:"center",type:da._.VIEW_MODE_ID},{field:"userId",headerName:"ID(사번)",width:166},{field:"adminName",headerName:"관리자명",width:76},{field:"mdmCorporationName",headerName:"인사조직",width:180},{field:"mdmSalesCostCenterName",headerName:"코스트 센터(매출)",width:200},{field:"mdmPurchaseCostCenterName",headerName:"코스트 센터(매입)",width:200},{field:"isUsed",headerName:"사용 여부",type:da._.VIEW_MODE_Y_OR_N,width:74,align:"center"},{field:"createdAt",headerName:"최초 등록 일시",width:178,type:da._.VIEW_MODE_YYYYMMDD_DDD}],ry=[{field:"id",headerName:"No.",width:48,sortable:!1,filterable:!1,align:"center",type:da._.VIEW_MODE_ID},{field:"mdmCorporationCode",headerName:"인사 조직",width:176},{field:"mdmCorporationName",headerName:"인사 조직 코드",width:176}],sy=[{field:"id",headerName:"No.",width:48,sortable:!1,filterable:!1,align:"center",type:da._.VIEW_MODE_ID},{field:"mdmCostCenterCode",headerName:"코스트 센터",width:176},{field:"mdmCostCenterName",headerName:"코스트 센터 코드",width:176}];var ny=function(e){let{detailData:t}=e;const a=(0,r.useRef)(null),s=(0,D.bBi)(),n=(0,r.useRef)(null),o=(0,D.bBi)(),i=(e,t)=>{t&&e.current&&e.current.setInitData(t)};var d,c;return(0,r.useEffect)((()=>{i(a,null==t?void 0:t.corporationList)}),[null==t?void 0:t.corporationList]),(0,r.useEffect)((()=>{i(n,null==t?void 0:t.costCenterList)}),[null==t?void 0:t.costCenterList]),(0,l.jsxs)("div",{className:"basic-info flex w-full flex-col gap-[20px] p-[24px]","data-sentry-component":"DetailBasic","data-sentry-source-file":"DetailBasic.tsx",children:[(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsx)("div",{className:"Body5_B text-grey50",children:"관리자 정보"}),(0,l.jsx)("div",{className:"mt-[8px] flex-col border-t-[1px] border-[#16171B14]",children:(0,l.jsxs)(Vn,{"data-sentry-element":"InfoTable","data-sentry-source-file":"DetailBasic.tsx",children:[(0,l.jsx)(Fn,{label:"관리자명(ID)","data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailBasic.tsx",children:(0,l.jsx)(Tt.A,{readOnly:!0,value:"".concat(null!==(d=null==t?void 0:t.name)&&void 0!==d?d:"","(").concat(null!==(c=null==t?void 0:t.userId)&&void 0!==c?c:"",")"),componentType:"input-table",className:"flex-1","data-sentry-element":"TmsBasicInput","data-sentry-source-file":"DetailBasic.tsx"})}),(0,l.jsx)(Fn,{label:"권한","data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailBasic.tsx",children:(0,l.jsx)(Tt.A,{readOnly:!0,value:null==t?void 0:t.authorityRoleName,componentType:"input-table",className:"flex-1","data-sentry-element":"TmsBasicInput","data-sentry-source-file":"DetailBasic.tsx"})}),(0,l.jsx)(Fn,{label:"인사조직","data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailBasic.tsx",children:(0,l.jsx)(Tt.A,{readOnly:!0,value:null==t?void 0:t.mdmCorporationName,componentType:"input-table",className:"flex-1","data-sentry-element":"TmsBasicInput","data-sentry-source-file":"DetailBasic.tsx"})}),(0,l.jsx)(Fn,{label:"코스트 센터(매출)","data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailBasic.tsx",children:(0,l.jsx)(Tt.A,{readOnly:!0,value:null==t?void 0:t.mdmSalesCostCenterName,componentType:"input-table",className:"flex-1","data-sentry-element":"TmsBasicInput","data-sentry-source-file":"DetailBasic.tsx"})}),(0,l.jsx)(Fn,{label:"코스트 센터(매입)","data-sentry-element":"InfoTableItem","data-sentry-source-file":"DetailBasic.tsx",children:(0,l.jsx)(Tt.A,{readOnly:!0,value:null==t?void 0:t.mdmPurchaseCostCenterName,componentType:"input-table",className:"flex-1","data-sentry-element":"TmsBasicInput","data-sentry-source-file":"DetailBasic.tsx"})})]})})]}),(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsx)("div",{className:"Body5_B text-grey50",children:"소속 인사조직"}),(0,l.jsx)("div",{className:"mt-[8px] h-[188px] flex-col border-t-[1px] border-[#16171B14]",children:(0,l.jsx)(Fa.A,{columnHeaderHeight:32,ref:a,gridApiRef:s,columns:ry,"data-sentry-element":"WrappedTmsBasicDataGrid","data-sentry-source-file":"DetailBasic.tsx"})})]}),(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsx)("div",{className:"Body5_B text-grey50",children:"소속 코스트 센터"}),(0,l.jsx)("div",{className:"mt-[8px] flex-col border-t-[1px] border-[#16171B14]",children:(0,l.jsx)(Fa.A,{columnHeaderHeight:32,ref:n,gridApiRef:o,columns:sy,"data-sentry-element":"WrappedTmsBasicDataGrid","data-sentry-source-file":"DetailBasic.tsx"})})]})]})};const oy=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=0,a=0;for(const r of e){var l;t+=1,r.isActive&&(a+=1);const e=null!==(l=r.children)&&void 0!==l?l:[];if(e.length>0){const l=oy(e);t+=l.total,a+=l.active}}return{total:t,active:a}};var iy=e=>{let{detailData:t}=e;var a;const s=null!==(a=null==t?void 0:t.menuList)&&void 0!==a?a:[],{total:n,active:o}=(0,r.useMemo)((()=>oy(s)),[s]);return(0,l.jsxs)("div",{className:"flex flex-1 flex-col p-[24px]","data-sentry-component":"DetailAccessAuthority","data-sentry-source-file":"DetailAccessAuthority.tsx",children:[(0,l.jsxs)("div",{className:"Body5_B text-grey50",children:["총 메뉴 접근 권한 (",o,"/",n,")"]}),(0,l.jsx)("div",{className:"mt-[8px] flex-col border-t-[1px] border-[#16171B14]",children:s.map((e=>{var t;return(0,l.jsxs)("div",{className:"Body5_M flex border-b-[1px] border-[#16171B14]",children:[(0,l.jsx)("div",{className:"bg-warmGrey95 text-grey30 flex w-[120px] border-r-[1px] border-[#16171B14] px-[12px] py-[6px]",children:e.menuName}),(0,l.jsx)("div",{className:"bg-warmGrey98 text-grey50 flex w-[280px] flex-col px-[12px] py-[6px]",children:(null!==(t=e.children)&&void 0!==t?t:[]).map((e=>{var t;return(0,l.jsxs)("div",{className:"mb-1",children:[(0,l.jsx)("div",{className:"justify-start self-stretch",children:e.menuName}),(0,l.jsx)("ul",{className:"text-grey50 ml-3 list-inside list-disc",children:(null!==(t=e.children)&&void 0!==t?t:[]).map((e=>(0,l.jsx)("li",{className:"text-sm leading-tight",children:e.menuName},e.menuId)))})]},e.menuId)}))})]},e.menuId)}))})]})};function dy(e){let{detailData:t}=e;const[a,s]=r.useState("basicInfo");return(0,l.jsx)("div",{className:"flex flex-1 flex-col","data-sentry-component":"Detail","data-sentry-source-file":"Detail.tsx",children:(0,l.jsxs)("div",{className:"flex flex-1 flex-col",children:[(0,l.jsxs)("div",{className:"border-b-blue95 header bg-blue98 flex flex-col border-b-[1px] px-[24px] py-[16px]",children:[(0,l.jsxs)("div",{className:"mb-[16px] flex w-full items-center justify-start",children:[(0,l.jsxs)("div",{className:"Title3_EX",children:[null==t?void 0:t.name," (",null==t?void 0:t.userId,")"]}),(0,l.jsx)("div",{className:"Body5_M text-grey50",children:null==t?void 0:t.authorityRoleName})]}),(0,l.jsx)(nc,{items:[{id:"basicInfo",label:"기본 정보"},{id:"accessAuthorityInfo",label:"메뉴 접근 권한"}],selectedId:a,onChange:e=>{s(e.id)},"data-sentry-element":"TmsBasicRoundedTabs","data-sentry-source-file":"Detail.tsx"})]}),"basicInfo"===a?(0,l.jsx)(ny,{detailData:t}):(0,l.jsx)(iy,{detailData:t})]})})}var cy=function(e){let{isOpenedRightPanel:t,setIsOpenedRightPanel:a,selectedAuthorityRoleId:s}=e;const n=(0,D.bBi)(),{mutateAsync:o}=(0,T.n)(["useAuthorityRoleMonitoringAdminListMutation"],(async e=>(await I.q.api((t=>t.ApiCommonV1AuthorityRoleMonitoringAdminList(e)))).data.result)),{mutateAsync:i}=(0,T.n)(["useAuthorityRoleMonitoringAdminDetailMutation"],(async e=>(await I.q.api((t=>t.ApiCommonV1AuthorityRoleMonitoringAdminDetail(e)))).data.result)),d=(0,r.useRef)(null),[c,u]=(0,r.useState)({}),[m,p]=(0,r.useState)(null),[h,f]=(0,r.useState)(0);return(0,r.useEffect)((()=>{s&&o({authorityRoleId:s}).then((e=>{var t,a,l,r;null===(t=d.current)||void 0===t||t.setInitData(null!==(l=e.list)&&void 0!==l?l:[]),f(null!==(r=null===(a=e.list)||void 0===a?void 0:a.length)&&void 0!==r?r:0)}))}),[s,o]),(0,l.jsx)(nu,{isOpenRightPanel:t,rightPanelWidth:448,onClickCloseButton:()=>a(!1),leftSidePanel:(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"Body2_B py-[16px]",children:["권한 사용자",h>0&&(0,l.jsxs)("span",{className:"Body5_M py-[13px]",children:[" (",h,"명)"]})]}),(0,l.jsx)(Ve.A.Provider,{params:c,setParams:u,onSearch:()=>{s&&(o({authorityRoleId:s,...c}).then((e=>{var t,a,l,r;null===(t=d.current)||void 0===t||t.setInitData(null!==(l=e.list)&&void 0!==l?l:[]),f(null!==(r=null===(a=e.list)||void 0===a?void 0:a.length)&&void 0!==r?r:0)})),a(!1))},children:e=>(0,l.jsxs)("div",{className:"border-grey90 flex border-[1px] px-[24px] py-[16px]",children:[(0,l.jsx)("div",{className:"flex flex-wrap gap-4",children:(0,l.jsx)(Ve.A.SearchText,{label:"관리자명",placeholder:"관리자명 입력",fieldName:"searchAdminName",className:"w-[148px]"})}),(0,l.jsxs)("div",{className:"flex flex-none items-start gap-2",children:[(0,l.jsx)(Ve.A.ResetButton,{}),(0,l.jsx)(Ve.A.SearchButton,{})]})]})}),(0,l.jsx)("div",{className:"h-[calc(100vh-344px)]",children:(0,l.jsx)(Fa.A,{ref:d,gridApiRef:n,columns:ly,columnHeaderHeight:32,onRowDoubleClick:e=>{return t=e.row,void i({adminId:t.adminId},{onSuccess:e=>{p(e),a(!0)}});var t}})})]}),rightSidePanel:(0,l.jsx)(dy,{detailData:m}),"data-sentry-element":"TmsBasicSlidePanel","data-sentry-component":"AuthorityUserList","data-sentry-source-file":"AuthorityUserList.tsx"})};var uy=function(e){let{isOpenedRightPanel:t,setIsOpenedRightPanel:a}=e;const[s,n]=(0,r.useState)(null);return(0,l.jsx)("div",{className:"bg-grey98","data-sentry-component":"MonitorPanel","data-sentry-source-file":"MonitorPanel.tsx",children:(0,l.jsxs)("div",{className:"flex gap-[16px] bg-white px-[40px]",children:[(0,l.jsx)("div",{className:"w-[280px]",children:(0,l.jsx)(ay,{setSelectedAuthorityRoleId:n,setIsOpenedRightPanel:a,"data-sentry-element":"AuthorityList","data-sentry-source-file":"MonitorPanel.tsx"})}),(0,l.jsx)("div",{className:"w-[calc(100%-280px)]",children:(0,l.jsx)(cy,{selectedAuthorityRoleId:s,isOpenedRightPanel:t,setIsOpenedRightPanel:a,"data-sentry-element":"AuthorityUserList","data-sentry-source-file":"MonitorPanel.tsx"})})]})})};function my(e){let{initialParams:t,searchParams:a,setSearchParams:r,onSearch:s}=e;const{costCenterSalesOptionsByUser:n,costCenterPurchaseOptionsByUser:o}=xf();return(0,l.jsx)(Ve.A.Provider,{params:a,setParams:r,initialParams:t,onSearch:s,"data-sentry-element":"SearchFilter.Provider","data-sentry-component":"SettlementReportFilter","data-sentry-source-file":"SettlementReportFilter.tsx",children:e=>(0,l.jsxs)(ah,{children:[(0,l.jsx)(Ve.A.SearchDate,{label:"회계전기일",datePickerClassName:"w-[128px]"}),(0,l.jsx)(Ve.A.SearchMultiAutocomplete,{label:"전표부서",fieldName:"sapMdmCostCenterCodes",options:[...n,...o],className:"!max-w-[248px]"}),(0,l.jsx)(Ve.A.AllMetaMultiAutocompleteSearch,{label:"매입처",allMetaType:Ze.k.COMMON_VENDOR_CODE,className:"!max-w-[310px]",fieldName:"vendorIds"}),(0,l.jsx)(Ve.A.AllMetaMultiAutocompleteSearch,{label:"매출처",allMetaType:Ze.k.COMMON_CUSTOMER_CODE,className:"!max-w-[248px]",fieldName:"customerIds"}),(0,l.jsx)(Ve.A.AllMetaAutocompleteSearch,{label:"전표구분",allMetaType:Ze.k.DOCUMENT_TYPE,className:"!max-w-[248px]"}),(0,l.jsx)(Ve.A.SearchText,{label:"전표번호",placeholder:"전표번호 입력",fieldName:"documentId",className:"max-w-[300px]"}),(0,l.jsx)(Ve.A.MdmAdminMultiAutocomplete,{label:"입력자명",fieldName:"adminUserIds",className:"!max-w-[248px]"})]})})}const py=()=>{const{user:e}=(0,i.o)(),t=(0,r.useRef)(null),a=(0,D.bBi)(),{getAllMeta:l}=od({mutationKey:"ManualSettlementEnterPanel",requestAllMeta:[Ze.k.UN_BILLING_STANDARD_TYPE,Ze.k.UN_BILLING_STANDARD_DETAIL_TYPE,Ze.k.UN_BILLING_STANDARD_REASON_TYPE]}),{mutateAsync:s,isSuccess:n,data:o}=(0,T.n)(["useSettlementSalesUnBillingStandardListMutation"],(async e=>(await I.q.api((t=>t.ApiV1SettlementSalesUnBillingStandardList(e)))).data.result)),{mutateAsync:d,isSuccess:u,data:m}=(0,T.n)(["useSettlementSalesUnBillingStandardSaveMutation"],(async e=>(await I.q.api((t=>t.ApiV1SettlementSalesUnBillingStandardSave(e)))).data.result)),{mutateAsync:p,isSuccess:h,data:f}=(0,T.n)(["useSettlementSalesUnBillingStandardDeleteMutation"],(async e=>(await I.q.api((t=>t.ApiV1SettlementSalesUnBillingStandardDelete(e)))).data.result)),C=(0,$e.P9)(),x=v(),[N,y]=(0,r.useState)(new Set);var E;const{rows:A}=null!==(E=null==t?void 0:t.current)&&void 0!==E?E:{},[g,b]=(0,r.useState)(0),R={startDate:je()(new Date).subtract(3,"month").startOf("day").format(),endDate:je()(new Date).endOf("day").format()},[S,_]=(0,r.useState)(R),w=t=>"".concat("http://tedms.cjlogistics.com:8084/index.jsp","?USR_ID=").concat(encodeURIComponent(e.userId),"&MODE=1&JOB_GB=KCI&DOC_TYPE=&LAN_GB=KO&SRHMODE=1&INDEX02=").concat(encodeURIComponent(t),"&INDEX03=&INDEX04=&INDEX05=&INDEX06=&INDEX07=&INDEX08="),O=()=>{s({fromDate:S.startDate,toDate:S.endDate})};return(0,r.useLayoutEffect)((()=>{l()}),[]),(0,r.useEffect)((()=>{var e;n&&(null===(e=t.current)||void 0===e||e.setInitData(o))}),[o]),(0,r.useEffect)((()=>{u&&(C({message:"총 ".concat(g,"건의 진행매출표준화건이 저장되었습니다.")}),b(0),O())}),[m]),(0,r.useEffect)((()=>{h&&(C({message:"총 ".concat(g,"건의 진행매출표준화건이 삭제되었습니다.")}),b(0),O())}),[f]),{wrapGridRef:t,gridApiRef:a,initialParams:R,searchParams:S,setSearchParams:_,handleSave:()=>{const e=Array.from(a.current.getRowModels().values()).filter((e=>!c().some(A,(t=>c().isEqual(e,t)))));if(0===e.length)return void C({message:"변경된 사항이 없습니다.",type:"caution"});const t=a.current.getAllColumns(),{hasErrors:l,updatedRows:r}=((e,t)=>{let a=!1;const l=e.map((e=>{const l=t.some((t=>"isExistsContract"!=t.field&&t.required&&t.editable&&!e[t.field]));return l&&(a=!0),{...e,isError:l}}));return{hasErrors:a,updatedRows:l}})(e,t);a.current.updateRows(r),l?C({message:"필수 정보를 입력해주세요.",type:"caution"}):(b(e.length),d(e.map(((e,t)=>({rowNum:t+1,tempDocumentId:e.tempDocumentId,isExistsContract:e.isExistsContract,contractFromDate:je()(e.contractFromDate).startOf("day").format(),contractToDate:je()(e.contractToDate).endOf("day").format(),standardType:e.standardType,standardDetailType:e.standardDetailType,standardReasonType:e.standardReasonType,reasonDocumentId:e.reasonDocumentId,contractDocUrl:w(e.tempDocumentId),reasonDocUrl:w(e.tempDocumentId),reasonDocumentMonth:je()(e.reasonDocumentMonth).format("YYYYMM"),reasonAmount:Number(e.reasonAmount),reasonCostTypeName:e.reasonCostTypeName,reasonProfitRate:Number(e.reasonProfitRate),billingExpectedMonth:je()(e.billingExpectedMonth).format("YYYYMM"),unBillingReason:e.unBillingReason,unBillingStandardId:e.unBillingStandardId})))))},handleDelete:()=>{const e=()=>Array.from(a.current.getSelectedRows().values());0!==e().length?(b(e().length),x({title:"진행매출표준화건을 삭제하시겠습니까?",description:"삭제하면 해당 진행매출표준화건은 복구할 수 없습니다.",confirmButtonLabel:"삭제하기",confirmButtonType:"destructive",onClickConfirmButton:()=>{p(e().map(((e,t)=>({rowNum:t+1,tempDocumentId:e.tempDocumentId}))))}})):C({message:"항목을 선택해 주세요.",type:"caution"})},handleSearch:O,clickedEdmsExecuteRows:N,setClickedEdmsExecuteRows:y,handleEdmsButtonClick:e=>{const t=w(e);window.open(t,"_blank","noopener,noreferrer")}}};const hy=()=>(0,T.n)(["useMdmNodeManagementLevel1"],(async()=>(await I.q.api((e=>e.ApiCommonV1MdmNodeManagementLevel1()))).data.result)),fy=()=>(0,T.n)(["useMdmNodeManagementLevel2"],(async e=>(await I.q.api((t=>t.ApiCommonV1MdmNodeManagementLevel2(e)))).data.result)),Cy=()=>(0,T.n)(["useMdmNodeManagementLevel3"],(async e=>(await I.q.api((t=>t.ApiCommonV1MdmNodeManagementLevel3(e)))).data.result)),xy=()=>(0,T.n)(["useMdmNodeManagementLevel4"],(async e=>(await I.q.api((t=>t.ApiCommonV1MdmNodeManagementLevel4(e)))).data.result));function Ny(e,t,a){const{mutateAsync:l,isSuccess:s,data:n}=hy(),{mutateAsync:o,isSuccess:i,data:d}=fy(),{mutateAsync:c,isSuccess:u,data:m}=Cy(),{mutateAsync:p,isSuccess:h,data:f}=xy(),C=(0,r.useMemo)((()=>s&&n?((null==n?void 0:n.levelList)||[]).map((e=>({id:e,label:e}))):[]),[n]),x=(0,r.useMemo)((()=>e&&i&&d?((null==d?void 0:d.levelList)||[]).map((e=>({id:e,label:e}))):[]),[d]),N=(0,r.useMemo)((()=>e&&t&&u&&m?((null==m?void 0:m.levelList)||[]).map((e=>({id:e,label:e}))):[]),[m]),y=(0,r.useMemo)((()=>e&&t&&a&&h&&f?((null==f?void 0:f.levelList)||[]).map((e=>({id:e,label:e}))):[]),[f]);return(0,r.useLayoutEffect)((()=>{(async()=>{await l()})()}),[]),(0,r.useEffect)((()=>{e&&(async()=>{await o({level1:e})})()}),[e]),(0,r.useEffect)((()=>{t&&(async()=>{await c({level1:e,level2:t})})()}),[e,t]),(0,r.useEffect)((()=>{a&&(async()=>{await p({level1:e,level2:t,level3:a})})()}),[e,t,a]),{mdmNodeLevel1Options:C,mdmNodeLevel2Options:x,mdmNodeLevel3Options:N,mdmNodeLevel4Options:y}}const yy=()=>{const e=(0,r.useRef)(null),t=(0,D.bBi)(),a=(0,r.useRef)(null),l=(0,D.bBi)(),{mutateAsync:s,isSuccess:n,data:o}=(0,T.n)(["useCommonGroupCodeListMutation"],(async e=>(await I.q.api((t=>t.ApiCommonV1CommonGroupCodeList(e)))).data.result)),{mutateAsync:i,isSuccess:d,data:c}=(0,T.n)(["useCommonCodeListMutation"],(async e=>(await I.q.api((t=>t.ApiCommonV1CommonCodeList(e)))).data.result)),{mutateAsync:u,isSuccess:m,data:p}=(0,T.n)(["useCommonGroupCodeModifyMutation"],(async e=>(await I.q.api((t=>t.ApiCommonV1CommonGroupCodeModify(e)))).data.result)),{mutateAsync:h,isSuccess:f,data:C}=(0,T.n)(["useCommonGroupCodeModifyMutation"],(async e=>(await I.q.api((t=>t.ApiCommonV1CommonCodeModify(e)))).data.result)),[x,N]=(0,r.useState)({}),[y,E]=(0,r.useState)(0),[v,A]=(0,r.useState)(0);return(0,r.useEffect)((()=>{var t,a;n&&(null===(t=e.current)||void 0===t||t.setInitData(null!==(a=o.list.map((e=>({...e,isUsed:e.isUsed?"Y":"N"}))))&&void 0!==a?a:[]),E(o.list.length),A(0))}),[o]),(0,r.useEffect)((()=>{var e,t;d&&(null===(e=a.current)||void 0===e||e.setInitData(null!==(t=c.list.map((e=>({...e,isUsed:e.isUsed?"Y":"N"}))))&&void 0!==t?t:[]),A(c.list.length))}),[c]),(0,r.useEffect)((()=>{(m||f)&&alert("수정되었습니다.")}),[C,p]),{wrapGridRef:e,gridApiRef:t,wrapGridRefDetail:a,gridApiRefDetail:l,searchParams:x,setSearchParams:N,handleSearch:async e=>{await s(e)},handleClickRow:async e=>{await i({commonGroupCodeId:e})},codeGroupCount:y,codeCount:v,handleUpdateCommonCodeGroupIsUsed:async(e,t)=>{await u({commonGroupCodeId:e,isUsed:t})},handleUpdateCommonCodeModify:(e,t)=>{h({commonCodeId:e,isUsed:t})}}};const Ey=[{field:"No",headerName:"No.",sortable:!1,width:76,align:"center",type:da._.VIEW_MODE_ID},{field:"settlementMonthlyRateGroupName",headerName:"월대 운임명",width:236},{field:"temperatureTypeName",headerName:"온도",flex:1},{field:"vehicleCount",headerName:"소속 차량(대)",type:"number",flex:1},{field:"vehicleTypeName",headerName:"차종",flex:1},{field:"tonName",headerName:"톤급",flex:1},{field:"rateAmount",headerName:"고정비(무제)",type:"number",width:160},{field:"isUsed",headerName:"사용 여부",type:da._.VIEW_MODE_Y_OR_N,flex:1}],vy=[{field:"No",headerName:"No.",sortable:!1,width:76,align:"center",type:da._.VIEW_MODE_ID},{field:"plateNumber",headerName:"차량 번호",required:!0,editable:!0},{field:"vendorMdmCode",headerName:"MDM코드",required:!0,editable:!0},{field:"vehicleTypeName",headerName:"차종"},{field:"tonCodeName",headerName:"톤급"},{field:"monthlyRateGroupName",headerName:"월대 운임명",width:240,required:!0,editable:!0},{field:"rateAmount",headerName:"기본 운송료",type:"number"},{field:"vendorTypeName",headerName:"차주 유형"},{field:"vendorName",headerName:"파트너"},{field:"vehicleGroupName",headerName:"그룹",editable:!0}],Ay=e=>(0,T.n)([null!=e?e:"useMonthlyCustomerCostCentersUpdateMutation"],(async()=>(await I.q.api((e=>e.ApiV1SettlementMonthlyCustomers()))).data.result)),gy=()=>(0,T.n)(["useMonthlyRecentlyCustomerCostCenterMutation"],(async()=>(await I.q.api((e=>e.ApiV1SettlementMonthlyRecentlyCustomerCostCenter()))).data.result)),Ty=e=>(0,T.n)([null!=e?e:"useMonthlyCustomerCostCentersMutation"],(async e=>(await I.q.api((t=>t.ApiV1SettlementMonthlyCustomerCostCenters(e)))).data.result)),Iy=()=>(0,T.n)(["useMonthlyRateGroupsSaveMutation"],(async e=>(await I.q.api((t=>t.ApiV1SettlementMonthlyRateGroupsSave(e)))).data.result)),by=()=>(0,T.n)(["useMonthlyRateGroupsMutation"],(async e=>(await I.q.api((t=>t.ApiV1SettlementMonthlyRateGroups(e)))).data.result)),Ry=()=>(0,T.n)(["useMonthlyRateGroupIdMutation"],(async e=>(await I.q.api((t=>t.ApiV1SettlementMonthlyRateGroupsSettlementMonthlyRateGroupId(e)))).data.result)),Sy=()=>(0,T.n)(["useMonthlyRateGroupIdHistoryMutation"],(async e=>(await I.q.api((t=>t.ApiV1SettlementMonthlyRateGroupsExcel(e,{format:"blob"})))).data)),_y=()=>(0,T.n)(["useMonthlyRateGroupIdHistoryMutation"],(async e=>(await I.q.api((t=>t.ApiV1SettlementMonthlyRateGroupsVehiclesExcelSave(e)))).data.result));var wy=function(e){let{settlementMonthlyRateGroupId:t,onClose:a}=e;const s=(0,D.bBi)(),n=(0,r.useRef)(null);var o;const{setInitData:i}=null!==(o=null==n?void 0:n.current)&&void 0!==o?o:{},{mutateAsync:d,isSuccess:c,data:u}=(0,T.n)(["useMonthlyRateGroupIdHistoryMutation"],(async e=>(await I.q.api((t=>t.ApiV1SettlementMonthlyRateGroupsSettlementMonthlyRateGroupIdHistoryList(e)))).data.result)),m=[{field:"No",headerName:"No.",type:da._.VIEW_MODE_ID,width:48,align:"center"},{field:"createdAt",headerName:"변경 일시",type:da._.VIEW_MODE_YYYYMMDD_HH_MM_SS,width:150},{field:"createdBy",headerName:"변경 담당자",width:136},{field:"vehicleTypeName",headerName:"차종",width:93},{field:"tonCodeName",headerName:"톤급",width:93},{field:"settlementMonthlyRateGroupName",headerName:"월대 운임명",width:264},{field:"contractStartAt",headerName:"계약 시작일",type:da._.VIEW_MODE_YYYYMMDD},{field:"contractEndAt",headerName:"계약 종료일",type:da._.VIEW_MODE_YYYYMMDD},{field:"temperatureTypeName",headerName:"온도"},{field:"settlementDayValue",headerName:"정산일(매월)"},{field:"rateAmount",headerName:"기본 운송료",type:"number",width:98},{field:"isUsed",headerName:"사용여부",width:98,type:da._.VIEW_MODE_Y_OR_N},{field:"remark",headerName:"비고",width:280}];return(0,r.useEffect)((()=>{(async()=>{await d(t)})()}),[]),(0,r.useEffect)((()=>{c&&i(u)}),[u]),(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(Pe.A,{title:"월대 운임 변경 이력",onClickCloseButton:a,isShowedConfirmButton:!1,modalWidth:1280,modalContentHeight:448,"data-sentry-element":"TmsBasicModal","data-sentry-source-file":"VehicleMonthlyHistoryModal.tsx",children:(0,l.jsx)("div",{className:"h-[414px]",children:(0,l.jsx)(Fa.A,{ref:n,gridApiRef:s,columns:m,"data-sentry-element":"WrapperBasicDataGrid","data-sentry-source-file":"VehicleMonthlyHistoryModal.tsx"})})})})};const Oy=e=>{let{monthlyVendorOptions:t}=e;return[{field:"__check__",width:76,sortable:!1,disableColumnMenu:!0,align:"center",cellClassName:"wide-cell"},{field:"No",headerName:"No.",headerAlign:"center",sortable:!1,width:48,type:da._.VIEW_MODE_ID,align:"center"},{field:"plateNumber",headerName:"차량 번호",editable:!1,defaultEditable:!0,cellClassName:"wide-cell",renderCell:e=>(0,l.jsx)(Xt,{params:e,options:t,readonly:!e.row._isNew,onChangeProps:t=>{e.api.updateRows([{...e.row,isDirty:!0,[e.field]:t.id,vendorVehicleId:t.id,vehicleTypeName:t.vehicleTypeName,mdmTonCodeName:t.mdmTonCodeName,vendorTypeName:t.vendorTypeName,displayVendorTypeName:t.displayVendorTypeName}])},optionsBoxWidth:420})},{field:"vehicleTypeName",headerName:"차종",readonly:!0,cellClassName:"wide-cell",renderCell:e=>(0,l.jsx)(ua.A,{params:e,defaultReadonly:!0,readonly:!0})},{field:"mdmTonCodeName",headerName:"톤급",width:32,cellClassName:"wide-cell",renderCell:e=>(0,l.jsx)(ua.A,{params:e,defaultReadonly:!0,readonly:!0})},{field:"vehicleGroupName",headerName:"그룹",editable:!0,cellClassName:"wide-cell",renderCell:e=>(0,l.jsx)(ua.A,{params:e})},{field:"vendorTypeName",headerName:"차주 유형",width:73,cellClassName:"wide-cell",renderCell:e=>(0,l.jsx)(ua.A,{params:e,defaultReadonly:!0,readonly:!0})},{field:"displayVendorTypeName",headerName:"파트너",cellClassName:"wide-cell",renderCell:e=>(0,l.jsx)(ua.A,{params:e,defaultReadonly:!0,readonly:!0})},{field:"createdAt",headerName:"등록 일시",cellClassName:"wide-cell",renderCell:e=>(0,l.jsx)(ua.A,{params:e,defaultReadonly:!0,readonly:!0})},{field:"createdByName",headerName:"등록자",cellClassName:"wide-cell",renderCell:e=>(0,l.jsx)(ua.A,{params:e,defaultReadonly:!0,readonly:!0})}]};function My(e){let{onSubmitForm:t,formState:a,control:r,setValue:s,vehicleCount:n}=e;var o,i,d,c,u,m,p,h,f;const{commonMetaV2List:C}=(0,Je.X)(),x=[{id:"LAST",label:"말일"},...Array.from({length:30},((e,t)=>({id:String(t+1),label:"".concat(t+1,"일")})))];return(0,l.jsxs)("form",{autoComplete:"off",onSubmit:t,"data-sentry-component":"VehicleMonthlyDetailForm","data-sentry-source-file":"VehicleMonthlyDetailForm.tsx",children:[(0,l.jsx)(vt,{isFirst:!0,required:!0,thLabel:"월대 운임명",labelClassName:"!w-[120px]",errorMessage:null===(o=a.errors.name)||void 0===o?void 0:o.message,"data-sentry-element":"TableTrLayout","data-sentry-source-file":"VehicleMonthlyDetailForm.tsx",children:(0,l.jsx)(Hr.xI,{name:"name",control:r,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(Tt.A,{autoComplete:"off",componentType:"input-table",className:"!w-full",placeholder:"월대 운임명 입력",value:t.value,onChange:e=>{e.target.value.length>24||t.onChange(e.target.value)}})},"data-sentry-element":"Controller","data-sentry-source-file":"VehicleMonthlyDetailForm.tsx"})}),(0,l.jsxs)("div",{className:"flex",children:[(0,l.jsx)(vt,{required:!0,thLabel:"계약 시작일",labelClassName:"!w-[120px]",errorMessage:null===(i=a.errors.contractStartAt)||void 0===i?void 0:i.message,"data-sentry-element":"TableTrLayout","data-sentry-source-file":"VehicleMonthlyDetailForm.tsx",children:(0,l.jsx)(Hr.xI,{name:"contractStartAt",control:r,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(gt.A,{componentType:"date-picker-table",datePickerClassName:"w-full",value:je()(t.value),onChange:e=>t.onChange(e),placeholder:"계약 시작일 선택"})},"data-sentry-element":"Controller","data-sentry-source-file":"VehicleMonthlyDetailForm.tsx"})}),(0,l.jsx)(vt,{required:!0,thLabel:"계약 종료일",labelClassName:"!w-[120px]",errorMessage:null===(d=a.errors.contractEndAt)||void 0===d?void 0:d.message,"data-sentry-element":"TableTrLayout","data-sentry-source-file":"VehicleMonthlyDetailForm.tsx",children:(0,l.jsx)(Hr.xI,{name:"contractEndAt",control:r,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(gt.A,{componentType:"date-picker-table",datePickerClassName:"w-full",value:je()(t.value),onChange:e=>t.onChange(e),placeholder:"계약 종료일 선택"})},"data-sentry-element":"Controller","data-sentry-source-file":"VehicleMonthlyDetailForm.tsx"})})]}),(0,l.jsxs)("div",{className:"flex",children:[(0,l.jsx)(vt,{required:!0,thLabel:"차종",labelClassName:"!w-[120px]",errorMessage:null===(c=a.errors.vehicleType)||void 0===c?void 0:c.message,"data-sentry-element":"TableTrLayout","data-sentry-source-file":"VehicleMonthlyDetailForm.tsx",children:(0,l.jsx)(Hr.xI,{name:"vehicleType",control:r,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(He.A,{selectedId:t.value,placeholder:"차종 선택",autocompleteBoxClassName:"w-full",options:C.VEHICLE_TYPE,componentType:"autocomplete-table",onChange:(e,a)=>t.onChange(a.id),disabled:0!==n})},"data-sentry-element":"Controller","data-sentry-source-file":"VehicleMonthlyDetailForm.tsx"})}),(0,l.jsx)(vt,{required:!0,thLabel:"톤급",labelClassName:"!w-[120px]",errorMessage:null===(u=a.errors.tonCode)||void 0===u?void 0:u.message,"data-sentry-element":"TableTrLayout","data-sentry-source-file":"VehicleMonthlyDetailForm.tsx",children:(0,l.jsx)(Hr.xI,{name:"tonCode",control:r,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(He.A,{selectedId:t.value,placeholder:"톤급 선택",autocompleteBoxClassName:"w-full",options:C.VEHICLE_TON_CODE,componentType:"autocomplete-table",onChange:(e,a)=>t.onChange(a.id),disabled:0!==n})},"data-sentry-element":"Controller","data-sentry-source-file":"VehicleMonthlyDetailForm.tsx"})})]}),(0,l.jsxs)("div",{className:"flex",children:[(0,l.jsx)(vt,{required:!0,thLabel:"온도",labelClassName:"!w-[120px]",errorMessage:null===(m=a.errors.temperatureType)||void 0===m?void 0:m.message,"data-sentry-element":"TableTrLayout","data-sentry-source-file":"VehicleMonthlyDetailForm.tsx",children:(0,l.jsx)(Hr.xI,{name:"temperatureType",control:r,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(He.A,{selectedId:t.value,placeholder:"온도 선택",autocompleteBoxClassName:"w-full",options:C.TEMPERATURE_TYPE,componentType:"autocomplete-table",onChange:(e,a)=>t.onChange(a.id)})},"data-sentry-element":"Controller","data-sentry-source-file":"VehicleMonthlyDetailForm.tsx"})}),(0,l.jsx)(vt,{required:!0,thLabel:"정산일(매월)",labelClassName:"!w-[120px]",errorMessage:null===(p=a.errors.settlementDayValue)||void 0===p?void 0:p.message,"data-sentry-element":"TableTrLayout","data-sentry-source-file":"VehicleMonthlyDetailForm.tsx",children:(0,l.jsx)(Hr.xI,{name:"settlementDayValue",control:r,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(He.A,{selectedId:t.value,placeholder:"정산일(매월) 선택",autocompleteBoxClassName:"w-full",options:x,componentType:"autocomplete-table",onChange:(e,a)=>{t.onChange(a.id),"LAST"!==a.id?s("settlementDayType","FIXED"):s("settlementDayType","LAST")}})},"data-sentry-element":"Controller","data-sentry-source-file":"VehicleMonthlyDetailForm.tsx"})})]}),(0,l.jsxs)("div",{className:"flex",children:[(0,l.jsx)(vt,{required:!0,thLabel:"기본 운송료",labelClassName:"!w-[120px]",errorMessage:null===(h=a.errors.rateAmount)||void 0===h?void 0:h.message,"data-sentry-element":"TableTrLayout","data-sentry-source-file":"VehicleMonthlyDetailForm.tsx",children:(0,l.jsx)(Hr.xI,{name:"rateAmount",control:r,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(Cf,{type:"number",placeholder:"기본 운송료 입력",value:t.value,onChange:e=>t.onChange(e)})},"data-sentry-element":"Controller","data-sentry-source-file":"VehicleMonthlyDetailForm.tsx"})}),(0,l.jsx)(vt,{required:!0,thLabel:"사용 여부",labelClassName:"!w-[120px]",errorMessage:null===(f=a.errors.isUsed)||void 0===f?void 0:f.message,"data-sentry-element":"TableTrLayout","data-sentry-source-file":"VehicleMonthlyDetailForm.tsx",children:(0,l.jsx)(Hr.xI,{name:"isUsed",control:r,rules:{required:Hn.required},render:e=>{let{field:t}=e;return(0,l.jsx)(Un,{groupName:"isUsed",items:[{id:"Y",label:"사용"},{id:"N",label:"사용 안함"}],value:t.value,onChange:e=>t.onChange(e)})},"data-sentry-element":"Controller","data-sentry-source-file":"VehicleMonthlyDetailForm.tsx"})})]}),(0,l.jsx)(vt,{thLabel:"비고",className:"!h-[96px]",labelClassName:"!w-[120px]","data-sentry-element":"TableTrLayout","data-sentry-source-file":"VehicleMonthlyDetailForm.tsx",children:(0,l.jsx)(Hr.xI,{name:"remark",control:r,render:e=>{let{field:t}=e;return(0,l.jsx)(La,{className:"border-blackOpacity8 h-[96px] border-b",maxLength:1e3,placeholder:"비고 입력",value:t.value,onChange:e=>{const a=e.target.value;a.length>1e3||t.onChange(a)}})},"data-sentry-element":"Controller","data-sentry-source-file":"VehicleMonthlyDetailForm.tsx"})})]})}function Dy(e){let{titleInfo:t,setIsOpenedHistory:a,onSubmitForm:r,detailTitle:s}=e;return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:"Title3_EX bg-grey98 border-blue95 flex flex-col border-b-[1px] px-[24px] py-[20px]",children:[(0,l.jsxs)("div",{className:"Body5_M text-grey50 flex items-center gap-[8px]",children:[(0,l.jsxs)("div",{children:[s.customerName," ",s.customerMdmCode]}),(0,l.jsx)("div",{className:"bg-grey90 h-[12px] w-[1px]"}),(0,l.jsxs)("div",{className:"flex items-center gap-[4px]",children:[(0,l.jsx)("span",{className:"text-secondary50",children:"매입"})," ",s.purchaseMdmCostCenterName,(0,l.jsx)("div",{className:"bg-grey50 h-[4px] w-[4px] rounded-full"}),(0,l.jsx)("span",{className:"text-tertiary50",children:"매출"})," ",s.salesMdmCostCenterName]}),t.title?(0,l.jsx)(_t.A,{type:"submit",className:"ml-auto",handleSave:r}):(0,l.jsx)(ui,{type:"submit",className:"ml-auto",handleRegister:r,label:"월대 계약운임 등록"})]}),t.title?(0,l.jsxs)("div",{className:"mt-[16px] flex",children:[(0,l.jsx)("div",{className:"Title3_EX",children:t.title}),t.historyCount>0&&(0,l.jsx)(u.A,{label:"변경 이력 ".concat(t.historyCount,"건"),className:"ml-auto",size:m.M.Small,level:m.V.level_5,rightIcon:(0,l.jsx)(re,{width:16,height:16}),onClick:()=>a(!0)})]}):(0,l.jsx)(oc,{gradient:!0,className:"mt-[16px]",children:"새 월대 계약운임 등록하기"})]})})}const jy=()=>({name:"",contractStartAt:je()().startOf("day").format(),contractEndAt:je()().add(1,"year").subtract(1,"day").endOf("day").format(),vehicleType:null,tonCode:null,temperatureType:null,settlementDayValue:"",settlementDayType:null,rateAmount:"",isUsed:null,remark:""});function Py(e){let{settlementMonthlyRateGroupIdProps:t,detailTitle:a,handleSearch:s,monthlyVendorOptions:n,isNew:o,vehicleCount:i}=e;const{gridApiRef:d,wrapGridRef:c,isOpenedHistory:u,setIsOpenedHistory:m,handleDeleteRow:p,handleDeleteRowComplete:h,isOpenedDeleteConfirm:f,setIsOpenedDeleteConfirm:C,control:x,formState:y,setValue:E,handleSubmit:v,onSubmitForm:A,onErrorForm:g,titleInfo:T,settlementMonthlyRateGroupId:I}=function(e){let{isNew:t,settlementMonthlyRateGroupIdProps:a,settlementMonthlyCustomerCostCenterId:l,handleSearch:s}=e;const n=(0,ya.c5)(),o=(0,$e.P9)(),[i,d]=(0,r.useState)(!1),c=(0,D.bBi)(),u=(0,r.useRef)(null),[m,p]=(0,r.useState)({title:"",historyCount:0});var h;const{setInitData:f,getSelectedRows:C,removeSelectedRow:x,getAllRows:N}=null!==(h=null==u?void 0:u.current)&&void 0!==h?h:{},{getAllMeta:y}=od({mutationKey:"VehicleMonthlyDetail",requestAllMeta:[Ze.k.TEMPERATURE_TYPE,Ze.k.SETTLEMENT_DAY_TYPE,Ze.k.DAY_CODE]}),[E,v]=(0,r.useState)({isOpened:!1,title:""}),[A,g]=(0,r.useState)(t?null:a),{mutateAsync:T,isSuccess:I,data:b,isError:R,error:S}=Iy(),{mutateAsync:_,isSuccess:w,data:O}=Ry(),M=async()=>{await _(A)},{control:j,formState:P,handleSubmit:L,setValue:B,setError:U,reset:V}=(0,Hr.mN)({defaultValues:jy(),mode:"onChange",shouldUnregister:!0});return(0,r.useEffect)((()=>{y()}),[]),(0,r.useEffect)((()=>{A&&M()}),[A]),(0,r.useEffect)((()=>{if(I){if(o({message:"월대 계약운임이 등록되었습니다."}),s(),t)return void g(b.id);M()}R&&n({title:"소속 월대 차량을 추가할 수 없습니다.",description:null==S?void 0:S.message})}),[b,S]),(0,r.useEffect)((()=>{var e;if(t)return V(jy()),p({title:"",historyCount:0}),null==u||null===(e=u.current)||void 0===e||e.setInitData([]),void g(null);a&&g(a)}),[a,t]),(0,r.useEffect)((()=>{w&&(Object.entries(O).forEach((e=>{let[t,a]=e;return"settlementDayValue"===t?B(t,"LAST"===O.settlementDayType?"LAST":a):"isUsed"===t?B(t,O.isUsed?"Y":"N"):void B(t,null!=a?a:"")})),p({title:O.name,historyCount:O.historyCount}),f(O.vehicles.map((e=>({...e,plateNumber:e.vendorVehicleId,plateNumberText:e.plateNumber,createdAt:je()(e.createdAt).format("YYYY-MM-DD HH:mm")})))))}),[O]),{gridApiRef:c,wrapGridRef:u,isOpenedHistory:i,setIsOpenedHistory:d,handleDeleteRow:()=>{if(0===C().length)return void n({title:"삭제할 행을 먼저 선택해 주세요."});const e=C().filter((e=>e._isNew)),t=C().filter((e=>!e._isNew));e.length!==C().length?v({isOpened:!0,title:1===t.length?t[0].plateNumberText:"".concat(t[0].plateNumberText," 외 ").concat(C().length-1,"대")}):x(!0)},handleDeleteRowComplete:()=>{v({isOpened:!1}),x(!0)},isOpenedDeleteConfirm:E,setIsOpenedDeleteConfirm:v,control:j,formState:P,setValue:B,handleSubmit:L,onSubmitForm:async e=>{const t=N().map((e=>({vendorVehicleId:e.vendorVehicleId,vehicleGroupName:e.vehicleGroupName})));await T({...e,id:A,settlementMonthlyCustomerCostCenterId:l,settlementDayValue:"LAST"===e.settlementDayValue?je()().endOf("month").date():e.settlementDayValue,isUsed:"Y"===e.isUsed,vehicles:t})},onErrorForm:e=>{Object.entries(e).forEach((e=>{let[t,a]=e;U(t,{type:a.type,message:a.message})}))},titleInfo:m,settlementMonthlyRateGroupId:A}}({isNew:o,settlementMonthlyRateGroupIdProps:t,settlementMonthlyCustomerCostCenterId:a.settlementMonthlyCustomerCostCenterId,handleSearch:s});return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsx)(Dy,{titleInfo:T,setIsOpenedHistory:m,onSubmitForm:v(A,g),detailTitle:a,"data-sentry-element":"VehicleMonthlyDetailTitle","data-sentry-source-file":"VehicleMonthlyDetail.tsx"}),(0,l.jsxs)("div",{className:"p-[24px]",children:[(0,l.jsxs)("div",{className:"mb-[20px] flex flex-col",children:[(0,l.jsx)("div",{className:"Body5_B text-grey60 mb-[8px]",children:"월대 운임 정보"}),(0,l.jsx)(My,{control:x,formState:y,onSubmitForm:v(A,g),setValue:E,vehicleCount:i,"data-sentry-element":"VehicleMonthlyDetailForm","data-sentry-source-file":"VehicleMonthlyDetail.tsx"})]}),(0,l.jsxs)("div",{className:"mb-[8px] flex items-center",children:[(0,l.jsx)("div",{className:"Body5_B text-grey60",children:"소속 월대 차량"}),(0,l.jsxs)("div",{className:"ml-auto flex gap-[8px]",children:[(0,l.jsx)(Rt,{label:"삭제",handleDeleteRow:p,"data-sentry-element":"TmsDataGridDeleteRowBtn","data-sentry-source-file":"VehicleMonthlyDetail.tsx"}),(0,l.jsx)(St.A,{handleAddRow:()=>{var e;return null==c||null===(e=c.current)||void 0===e?void 0:e.addRowToFirst()},"data-sentry-element":"TmsDataGridAddRowBtn","data-sentry-source-file":"VehicleMonthlyDetail.tsx"})]})]}),(0,l.jsx)("div",{className:"h-[300px]",children:(0,l.jsx)(Fa.A,{ref:c,gridApiRef:d,columns:Oy({monthlyVendorOptions:n}),checkboxSelection:!0,editMode:"cell",noRowDescription:{description_1:"조회된 소속 월대 차량 정보가 없습니다.",description_2:'“추가"를 눌러 차량을 추가해 주세요.'},"data-sentry-element":"WrapperBasicDataGrid","data-sentry-source-file":"VehicleMonthlyDetail.tsx"})})]})]}),f.isOpened&&(0,l.jsxs)(N,{title:f.title,confirmButtonType:"destructive",confirmButtonLabel:"삭제하기",onClickCloseButton:()=>C({isOpened:!1}),onClickConfirmButton:h,children:[(0,l.jsx)("div",{className:"Body4_M text-grey50",children:"삭제 시, 더 이상 이 차량으로 월대 운임을 진행할 수 없습니다."}),(0,l.jsx)("div",{className:"bg-grey95 my-[12px] h-[1px] w-full"}),(0,l.jsxs)("div",{className:"Body4_B text-grey40 flex",children:[(0,l.jsx)(ai,{width:20,height:20,className:"text-grey50 mr-[8px]"}),"삭제 후 ",(0,l.jsx)("div",{className:"text-blue50 mx-[4px]",children:"저장"})," 버튼을 눌러야 적용됩니다."]})]}),u&&(0,l.jsx)(wy,{settlementMonthlyRateGroupId:I,onClose:()=>m(!1)})]})}function Ly(e){let{mutationKey:t="GetMonthlyCostCenterOptions",customerId:a,isActive:l=!1}=e;const{mutateAsync:s,isSuccess:n,data:o}=Ty(t),i=(0,r.useMemo)((()=>n?(o||[]).map((e=>({id:e.id,label:"매입 : ".concat(e.purchaseMdmCostCenterName," / 매출 : ").concat(e.salesMdmCostCenterName),purchaseMdmCostCenterName:e.purchaseMdmCostCenterName,salesMdmCostCenterName:e.salesMdmCostCenterName}))):[]),[o]),d=async()=>{await s({customerId:a,isUsed:!0})};return(0,r.useEffect)((()=>{a&&l&&d()}),[a,l]),{monthlyCostCenterOptions:i,getMonthlyCustomerCostCenters:d}}function By(e){let{mutationKey:t="GetMonthlyCustomerOptions",isActive:a=!1}=e;const{mutateAsync:l,isSuccess:s,data:n}=Ay(t),o=(0,r.useMemo)((()=>s?(n||[]).map((e=>({id:e.customerId,label:"".concat(e.customerName,"(").concat(e.customerMdmCode,"/").concat(e.representativeName,"/").concat(e.registrationNumber,")"),customerMdmCode:e.customerMdmCode,customerName:e.customerName}))):[]),[n]),i=async()=>{await l()};return(0,r.useEffect)((()=>{a&&i()}),[a]),{monthlyCustomerOptions:o,getMonthlyCustomer:i}}function Uy(e){let{isActive:t}=e;const a=(0,ya.c5)(),{setSettlementMonthlyCustomerCostCenterInfo:l}=_f(),s=(0,D.bBi)(),n=(0,r.useRef)(null);var o;const{setInitData:i}=null!==(o=null==n?void 0:n.current)&&void 0!==o?o:{},[d,c]=(0,r.useState)({}),[u,m]=(0,r.useState)(null),[p,h]=(0,r.useState)(null),[f,C]=(0,r.useState)({customerName:"",customerMdmCode:"",purchaseMdmCostCenterName:"",salesMdmCostCenterName:"",settlementMonthlyCustomerCostCenterId:""}),{mutateAsync:x,isSuccess:N,data:y}=by(),{monthlyCustomerOptions:E,getMonthlyCustomer:v}=By({mutationKey:"useVehicleMonthlyHandler",isActive:t}),{monthlyCostCenterOptions:A,getMonthlyCustomerCostCenters:g}=Ly({mutationKey:"VehicleMonthly",customerId:d.customerId,isActive:t}),{mutateAsync:T,isSuccess:I,data:b}=_y(),{mutateAsync:R,isSuccess:S,data:_}=gy(),{mutateAsync:w,isSuccess:O,data:M}=Sy(),j=()=>!!d.customerId&&!!d.settlementMonthlyCustomerCostCenterId,P=async()=>{j()?await x({customerId:d.customerId,settlementMonthlyCustomerCostCenterId:d.settlementMonthlyCustomerCostCenterId,plateNumber:d.plateNumber}):a({title:"월대차량 리스트를 조회 할 수 없습니다.",description:"매입/매출 코스트 센터 등록 후 다시 시도해 주세요."})};return(0,r.useEffect)((()=>{(async()=>{await R()})()}),[]),(0,r.useEffect)((()=>{S&&(c({...d,customerId:_.customerId}),l({customerId:_.customerId}))}),[_]),(0,r.useEffect)((()=>{S&&A&&c({...d,settlementMonthlyCustomerCostCenterId:_.monthlyCustomerCostCenterId})}),[A]),(0,r.useEffect)((()=>{var e;A&&c({...d,settlementMonthlyCustomerCostCenterId:null===(e=A[0])||void 0===e?void 0:e.id})}),[d.customerId,A]),(0,r.useEffect)((()=>{N&&i(y)}),[y]),(0,r.useEffect)((()=>{if(l({settlementMonthlyCustomerCostCenterId:null==d?void 0:d.settlementMonthlyCustomerCostCenterId}),d.settlementMonthlyCustomerCostCenterId){const e=E.find((e=>e.id===d.customerId)),t=A.find((e=>e.id===d.settlementMonthlyCustomerCostCenterId));C({customerName:null==e?void 0:e.customerName,customerMdmCode:null==e?void 0:e.customerMdmCode,purchaseMdmCostCenterName:null==t?void 0:t.purchaseMdmCostCenterName,salesMdmCostCenterName:null==t?void 0:t.salesMdmCostCenterName,settlementMonthlyCustomerCostCenterId:null==d?void 0:d.settlementMonthlyCustomerCostCenterId})}}),[null==d?void 0:d.settlementMonthlyCustomerCostCenterId]),(0,r.useEffect)((()=>{I&&P()}),[b]),{params:d,setParams:c,wrapGridRef:n,gridApiRef:s,handleSearch:P,monthlyCustomerOptions:E,monthlyCostCenterOptions:A,mutateAsyncExcelSave:T,isSuccessExcelSave:I,detailTitle:f,settlementMonthlyRateGroupId:u,setSettlementMonthlyRateGroupId:m,handleExcelDownload:async()=>{j()?await w({customerId:d.customerId,settlementMonthlyCustomerCostCenterId:d.settlementMonthlyCustomerCostCenterId,plateNumber:d.plateNumber}):a({title:"엑셀 파일을 다운로드 할 수 없습니다.",description:"조회된 데이터가 없습니다. 조건을 확인 후 다시 시도해 주세요."})},isSuccessExcelDownload:O,dataExcelDownload:M,isValid:j,vehicleCount:p,setVehicleCount:h,getCustomerIdCostCenter:()=>{v(),g()}}}var Vy=function(e){let{onClose:t,monthlyCustomerOptions:a,customerId:s,getCustomerIdCostCenter:n}=e;const o=(0,$e.P9)(),i=(0,ya.c5)(),d=(0,D.bBi)(),c=(0,r.useRef)(null);var p;const{setInitData:h,getAllRows:f}=null!==(p=null==c?void 0:c.current)&&void 0!==p?p:{},[C,x]=(0,r.useState)({}),{commonMetaV2List:N}=(0,Je.X)(),[y,E]=(0,r.useState)(!1),[v,A]=(0,r.useState)({customerId:null,purchaseMdmCostCenterCode:"",salesMdmCostCenterCode:""}),[g,b]=(0,r.useState)({customerId:"",purchaseMdmCostCenterCode:"",salesMdmCostCenterCode:""}),{mutateAsync:R,isSuccess:S,data:_}=Ty(),{mutateAsync:w,isSuccess:O,data:M,error:j,isError:P}=(0,T.n)(["useMonthlyCustomerCostCentersSaveMutation"],(async e=>(await I.q.api((t=>t.ApiV1SettlementMonthlyCustomerCostCentersSave(e)))).data.result)),{mutateAsync:L,isSuccess:B,data:U}=(0,T.n)(["useMonthlyCustomerCostCentersUpdateMutation"],(async e=>(await I.q.api((t=>t.ApiV1SettlementMonthlyCustomerCostCentersUpdate(e)))).data.result)),V=async()=>{var e;await R({customerId:null!==(e=C.customerId)&&void 0!==e?e:s})},F=async()=>{if(!C.customerId)return void o({message:"화주를 선택해 주세요.",type:"caution"});const e=f().filter((e=>e.isDirty));await L(e.map(((e,t)=>({id:e.id,isUsed:"Y"===e.isUsed,rowNum:t+1}))))},G=[{field:"No",headerName:"No.",type:da._.VIEW_MODE_ID,width:48},{field:"customerName",headerName:"화주명",flex:1},{field:"purchaseMdmCostCenterName",headerName:"매입 코스트 센터",flex:1},{field:"salesMdmCostCenterName",headerName:"매출 조직",flex:1},{field:"isUsed",headerName:"사용 여부",width:83,cellClassName:"wide-cell",renderCell:e=>(0,l.jsx)(Al.A,{params:e})}];return(0,r.useEffect)((()=>{x({customerId:s}),A({...v,customerId:s})}),[s]),(0,r.useEffect)((()=>{C.customerId||V()}),[C.customerId]),(0,r.useEffect)((()=>{S&&h(_.map((e=>({...e,isUsed:e.isUsed?"Y":"N"}))))}),[_]),(0,r.useEffect)((()=>{O&&(o({message:"코스트 센터가 추가되었습니다."}),E(!1),A({customerId:s,purchaseMdmCostCenterCode:"",salesMdmCostCenterCode:""}),V(),n()),P&&i({title:"코스트 센터가 추가에 실패했습니다.",description:null==j?void 0:j.message})}),[M,j]),(0,r.useEffect)((()=>{B&&(o({message:"코스트 센터 정보가 저장되었습니다."}),V(),n())}),[U]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(Pe.A,{title:"코스트 센터 관리",onClickCloseButton:t,isShowedConfirmButton:!1,modalWidth:1280,modalContentHeight:448,"data-sentry-element":"TmsBasicModal","data-sentry-source-file":"CostCenterManagementModal.tsx",children:[(0,l.jsx)(Ve.A.Provider,{params:C,setParams:x,onSearch:V,"data-sentry-element":"SearchFilter.Provider","data-sentry-source-file":"CostCenterManagementModal.tsx",children:e=>(0,l.jsxs)("div",{className:"mb-[12px] flex w-full gap-[16px]",children:[(0,l.jsx)(Ve.A.SearchAutocomplete,{label:"화주",fieldName:"customerId",options:a,autocompleteClassName:"!w-[304px]",optionsBoxWidth:420}),(0,l.jsx)(Ve.A.SearchButton,{}),(0,l.jsxs)("div",{className:"ml-auto flex gap-2",children:[(0,l.jsx)(u.A,{label:"추가",level:m.V.level_5,size:m.M.Small,leftIcon:(0,l.jsx)(Jl,{widht:16,height:16}),onClick:()=>E(!0)}),(0,l.jsx)(_t.A,{handleSave:F})]})]})}),(0,l.jsx)("div",{className:"h-[400px]",children:(0,l.jsx)(Fa.A,{ref:c,gridApiRef:d,columns:G,"data-sentry-element":"WrapperBasicDataGrid","data-sentry-source-file":"CostCenterManagementModal.tsx"})})]}),y&&(0,l.jsxs)(Pe.A,{title:"코스트 센터 추가하기",onClickCloseButton:()=>{E(!1),A({customerId:s,purchaseMdmCostCenterCode:"",salesMdmCostCenterCode:""})},modalWidth:612,modalContentHeight:200,confirmButtonLabel:"추가하기",onClickConfirmButton:async()=>{const e={customerId:v.customerId?"":"필수 정보를 입력해 주세요.",purchaseMdmCostCenterCode:v.purchaseMdmCostCenterCode?"":"필수 정보를 입력해 주세요.",salesMdmCostCenterCode:v.salesMdmCostCenterCode?"":"필수 정보를 입력해 주세요."};b(e);Object.values(e).every((e=>""===e))&&await w({...v,isUsed:!0})},children:[(0,l.jsx)("div",{className:"Body5_B text-grey60 mb-[8px]",children:"화주"}),(0,l.jsx)(vt,{isFirst:!0,required:!0,thLabel:"화주명",labelClassName:"!w-[120px]",errorMessage:g.customerId,children:(0,l.jsx)(df,{placeholder:"화주 선택",value:v.customerId,setValue:e=>A({...v,customerId:Number(e.id)})})}),(0,l.jsx)("div",{className:"Body5_B text-grey60 mb-[8px] mt-[24px]",children:"코스트 센터"}),(0,l.jsx)(vt,{isFirst:!0,required:!0,thLabel:"매입 코스트 센터",labelClassName:"!w-[120px]",errorMessage:g.purchaseMdmCostCenterCode,children:(0,l.jsx)(He.A,{placeholder:"매입 코스트 센터 선택",selectedId:v.purchaseMdmCostCenterCode,autocompleteBoxClassName:"w-full",options:N[Ze.k.COMMON_MDM_COST_CENTER_PURCHASE_CODE],componentType:"autocomplete-table",onChange:(e,t)=>A({...v,purchaseMdmCostCenterCode:t.id})})}),(0,l.jsx)(vt,{required:!0,thLabel:"매출조직",labelClassName:"!w-[120px]",errorMessage:g.salesMdmCostCenterCode,children:(0,l.jsx)(He.A,{placeholder:"매출 조직 선택",selectedId:v.salesMdmCostCenterCode,autocompleteBoxClassName:"w-full",options:N[Ze.k.COMMON_MDM_COST_CENTER_SALES_CODE],componentType:"autocomplete-table",onChange:(e,t)=>A({...v,salesMdmCostCenterCode:t.id})})})]})]})};const Fy=e=>{let{mutateAsyncExcelSave:t,params:a,isValid:l}=e;const s=(0,ya.c5)(),{mutateAsync:n,isSuccess:o,data:i,reset:d}=(0,T.n)(["useMonthlyRateGroupIdHistoryMutation"],(async e=>(await I.q.api((t=>t.ApiV1SettlementMonthlyRateGroupsVehiclesExcelUpload(e)))).data.result)),{mutateAsync:c,isSuccess:u,data:m}=(0,T.n)(["useMonthlyRateGroupsVehiclesExcelValidateMutation"],(async e=>(await I.q.api((t=>t.ApiV1SettlementMonthlyRateGroupsVehiclesExcelValidate(e)))).data.result));return(0,r.useEffect)((()=>{o&&!(null==i?void 0:i.validationResultList)&&s({title:"엑셀 파일을 업로드 할 수 없습니다.",description:null==i?void 0:i.message})}),[null==i?void 0:i.validationResultList]),{handleExcelUpload:()=>!!l()||(s({title:"엑셀 파일을 업로드 할 수 없습니다.",description:"매입/매출 코스트 센터 등록 후 다시 시도해 주세요."}),!1),handleFileUpload:e=>{n({file:e[0],request:{customerId:a.customerId,monthlyCustomerCostCenterId:a.settlementMonthlyCustomerCostCenterId}})},uploadedList:i,resetUploadList:d,isUploadSuccess:o,handleValidation:e=>{c({customerId:a.customerId,monthlyCustomerCostCenterId:a.settlementMonthlyCustomerCostCenterId,validationResultList:e})},isSuccessValidation:u,handleUploadListRegister:async()=>{await t({customerId:a.customerId,monthlyCustomerCostCenterId:a.settlementMonthlyCustomerCostCenterId,validationResultList:m.validationResultList})},validationResponseData:m}};var Gy=a(76702),ky=a(12948);class Yy{static formatAddress(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return[null!=e?e:"",null!=t?t:"",null!=a?a:""].filter((e=>""!==e.trim())).join(" ")}static toList(e){return e&&e.govGrainInstructionInfoList?e.govGrainInstructionInfoList.map(((e,t)=>({__check__:!1,id:t+1,...e}))):[]}}class qy{static toList(e,t){const a=t||"govGrainInstructionInfoList";return e?{[a]:e.map(((e,t)=>({excelRowNumber:t+1,customerMdmCode:e.customerMdmCode,regionSubName:e.regionSubName,instructionYearMonth:e.instructionYearMonth,instructionNo:e.instructionNo,itemName:e.itemName,productionYear:e.productionYear,originName:e.originName,grainVarietyName:e.grainVarietyName,grainFormName:e.grainFormName,departureProvince:e.departureProvince,departureCity:e.departureCity,departureWarehouseName:e.departureWarehouseName,departureAddress:e.departureAddress,departurePhoneNumber:e.departurePhoneNumber,arrivalProvince:e.arrivalProvince,arrivalCity:e.arrivalCity,arrivalWarehouseName:e.arrivalWarehouseName,arrivalAddress:e.arrivalAddress,arrivalPhoneNumber:e.arrivalPhoneNumber,distance:e.distance,materialProductName:e.materialProductName,usagePurposeName:e.usagePurposeName,totalQuantity:e.totalQuantity,kg10:e.kg10,kg20:e.kg20,kg40:e.kg40,kg800:e.kg800,kg1000:e.kg1000,deadline:e.deadline,remark:e.remark})))}:{[a]:[]}}}const Wy=()=>(0,T.n)(["useMonthlyManagementVehicleExtraCostExcelMutation"],(async e=>{let{settlementMonth:t,request:a}=e;return(await I.q.api((e=>e.ApiSettlementMonthlyManagementVehicleExtraCostSettlementMonthListExcel(t,a,{format:"blob"})))).data})),Hy=()=>(0,T.n)(["useMonthPurchaseConfirmMutation"],(async e=>{let{settlementMonth:t,request:a}=e;return(await I.q.api((e=>e.ApiSettlementMonthlyManagementVehicleExtraCostSettlementMonthPurchaseConfirm(t,a)))).data.result})),Ky=()=>(0,T.n)(["useMonthPurchaseConfirmCancelMutation"],(async e=>{let{settlementMonth:t,request:a}=e;return(await I.q.api((e=>e.ApiSettlementMonthlyManagementVehicleExtraCostSettlementMonthPurchaseConfirmCancel(t,a)))).data.result})),zy=()=>(0,T.n)(["useMonthSalesConfirmMutation"],(async e=>{let{settlementMonth:t,request:a}=e;return(await I.q.api((e=>e.ApiSettlementMonthlyManagementVehicleExtraCostSettlementMonthSalesConfirm(t,a)))).data.result})),Xy=()=>(0,T.n)(["useMonthSalesConfirmCancelMutation"],(async e=>{let{settlementMonth:t,request:a}=e;return(await I.q.api((e=>e.ApiSettlementMonthlyManagementVehicleExtraCostSettlementMonthSalesConfirmCancel(t,a)))).data.result})),Qy=()=>(0,T.n)(["useExtraCostConfigsSaveMutation"],(async e=>(await I.q.api((t=>t.ApiSettlementMonthlyManagementCustomerExtraCostConfigsSave(e)))).data.result)),Zy=()=>(0,T.n)(["useExtraCostConfigsCustomerIdMutation"],(async e=>{let{customerId:t,settlementMonth:a}=e;return(await I.q.api((e=>e.ApiSettlementMonthlyManagementCustomerExtraCostConfigsCustomerIdSettlementMonth(t,a)))).data.result})),Jy=()=>(0,T.n)(["useExtraCostConfigsCustomerIdMutation"],(async e=>{let{settlementMonth:t,request:a}=e;return(await I.q.api((e=>e.ApiSettlementMonthlyManagementVehicleExtraCostSettlementMonthSaveAll(t,a)))).data.result})),$y=()=>(0,T.n)(["useExtraCostSettlementMonthDeleteAllMutation"],(async e=>{let{settlementMonth:t,request:a}=e;return(await I.q.api((e=>e.ApiSettlementMonthlyManagementVehicleExtraCostSettlementMonthDeleteAll(t,a)))).data.result})),eE=()=>(0,T.n)(["useMonthBillsAlimtalkMutation"],(async e=>{let{settlementMonth:t,request:a}=e;return(await I.q.api((e=>e.ApiSettlementMonthlyManagementVehicleExtraCostSettlementMonthBillsAlimtalk(t,a)))).data.result})),tE=()=>(0,T.n)(["useVehicleMonthlyPdfDownloadMutation"],(async e=>{let{settlementMonth:t,data:a}=e;return(await I.q.api((e=>e.ApiSettlementMonthlyManagementVehicleExtraCostSettlementMonthBills(t,a)))).data.result})),aE=()=>(0,T.n)(["useExtraCostSettlementMonthListMutation"],(async e=>{let{customerId:t,settlementMonth:a}=e;return(await I.q.api((e=>e.ApiSettlementMonthlyManagementCustomerExtraCostConfigsCustomerIdSettlementMonthUsedList(t,a)))).data.result})),lE=()=>(0,T.n)(["useExtraCostSettlementMonthAddAllMutation"],(async e=>{let{settlementMonth:t,data:a}=e;return(await I.q.api((e=>e.ApiSettlementMonthlyManagementVehicleExtraCostSettlementMonthAddAll(t,a)))).data.result})),rE=()=>{const e=(0,$e.P9)(),t=E(),[a,l]=(0,r.useState)([]),[s,n]=(0,r.useState)(je()().format("YYYYMM")),[o,i]=(0,r.useState)({customerName:"",customerMdmCode:"",purchaseMdmCostCenterName:"",salesMdmCostCenterName:"",settlementMonthlyCustomerCostCenterId:""}),d={searchParams:je()().format("YYYYMM"),startDate:je()().subtract(45,"day").startOf("day").format(),endDate:je()(new Date).endOf("day").format(),searchType:R.zji.PICKUP,commonMdmCorporationCode:[]},[c,u]=(0,r.useState)(d),{monthlyCustomerOptions:m}=By({mutationKey:"useVehicleMonthlyHandler",isActive:!0}),{monthlyCostCenterOptions:p}=Ly({mutationKey:"VehicleMonthlySettlement",customerId:c.customerId,isActive:!0}),h=(0,D.bBi)(),[f,C]=(0,r.useState)([]),[x,N]=(0,r.useState)([]),{mutateAsync:y,isSuccess:v,data:A}=(0,T.n)(["useMonthlyManagementVehicleExtraCostMutation"],(async e=>{let{settlementMonth:t,request:a}=e;return(await I.q.api((e=>e.ApiSettlementMonthlyManagementVehicleExtraCostSettlementMonthList(t,a)))).data.result})),g=tE();return(0,r.useEffect)((()=>{if(!v)return;const e={sales:"매출",purchase:"매입",consignment:"위수탁"},t=A.customerExtraCostHeader,a=["sales","purchase","consignment"],r=a.filter((e=>t["".concat(e,"Headers")])).map((a=>{const l="".concat(a,"Headers"),r=t[l];return{groupId:l,headerName:e[a]||l,children:Object.keys(r).map((e=>({field:"".concat(a).concat(e)})))}})),s=a.flatMap((e=>{const a="".concat(e,"Headers"),l=t[a];return l?Object.entries(l).map((t=>{let[a,l]=t;return{field:"".concat(e).concat(a),editable:!0,defaultEditable:!0,headerName:l,type:"number"}})):[]})),o=A.monthlyVehicles.map((e=>{const t={_id_:(0,pe.uR)(),...e};return s.forEach((a=>{const l=a.field,r=l.match(/(purchase|sales|consignment)(\d+)/);if(r){var s;const[,a,n]=r,o=Number(n),i=null===(s=e.extraCost[a])||void 0===s?void 0:s.find((e=>e.extraCostConfigId===o));t[l]=i?i.amount:""}else t[l]=""})),t}));C(r),N(s),l(o),n(je()(A.settlementMonth).format("YYYYMM"))}),[A]),(0,r.useEffect)((()=>{var e;(null==g?void 0:g.isError)&&t({title:"pdf 다운로드에 실패하였습니다.",description:null===(e=g.error)||void 0===e?void 0:e.message})}),[null==g?void 0:g.isError]),(0,r.useEffect)((()=>{(null==c?void 0:c.customerId)||u({settlementMonthlyCustomerCostCenterId:null})}),[null==c?void 0:c.customerId]),(0,r.useEffect)((()=>{if(c.settlementMonthlyCustomerCostCenterId){const e=m.find((e=>e.id===c.customerId)),t=p.find((e=>e.id===c.settlementMonthlyCustomerCostCenterId));i({customerName:null==e?void 0:e.customerName,customerMdmCode:null==e?void 0:e.customerMdmCode,purchaseMdmCostCenterName:null==t?void 0:t.purchaseMdmCostCenterName,salesMdmCostCenterName:null==t?void 0:t.salesMdmCostCenterName,settlementMonthlyCustomerCostCenterId:null==c?void 0:c.settlementMonthlyCustomerCostCenterId})}}),[null==c?void 0:c.settlementMonthlyCustomerCostCenterId]),{initialParams:d,searchParams:c,setSearchParams:u,handleSearch:async()=>{if(!c.customerId)return void e({message:"화주를 선택해 주세요.",type:"caution"});if(!c.settlementMonthlyCustomerCostCenterId)return void e({message:"코스트센터를 선택해 주세요.",type:"caution"});const t=je()(c.settlementMonth).format("YYYYMM");await y({settlementMonth:t,request:{customerId:Number(c.customerId),settlementMonthlyCustomerCostCenterId:c.settlementMonthlyCustomerCostCenterId,plateNumber:c.plateNumber,vehicleGroupName:c.vehicleGroupName}})},gridApiRef:h,monthlyCustomerOptions:m,monthlyCostCenterOptions:p,columnField:x,columnGroupingHeaders:f,rows:a,createDownLink:async(e,t)=>{const a={settlementMonth:s,data:{customerId:c.customerId,vendorVehicleId:e,monthlyRateGroupId:t}};await g.mutateAsync(a)},settlementMonth:s,pdfDownloadMutation:g,detailTitle:o}};function sE(e){let{searchParams:t,settlementMonth:a,onSearch:s,allRows:n}=e;const o=(0,$e.P9)(),i=(0,ya.c5)(),[d,c]=(0,r.useState)([]),[p,h]=(0,r.useState)({isOpened:!1,title:"",description:"",confirmButtonLabel:"확인",confirmButtonType:"normal",confirmClick:()=>null}),f=e=>({settlementMonth:a,request:{customerId:t.customerId,monthlyVehicleInfoList:e.map(((e,t)=>({rowNum:t+1,vendorVehicleId:e.vendorVehicleId,settlementMonthlyRateGroupId:e.settlementMonthlyRateGroupId})))}}),{mutateAsync:C,...x}=Xy(),{mutateAsync:y,...E}=Ky(),{mutateAsync:v,...A}=zy(),{mutateAsync:g,...T}=Hy(),I=()=>{const e=n.getSelectedRows(),a=Array.from(e.values());return c(a),0===a.length?(o({message:"항목을 선택해 주세요.",type:"caution"}),!1):t.customerId?!!t.settlementMonthlyCustomerCostCenterId||(o({message:"코스트센터를 선택해 주세요.",type:"caution"}),!1):(o({message:"화주를 선택해 주세요.",type:"caution"}),!1)};return $h({toast:o,tmsAlert:i,apiRest:[x,E],successMsg:"총 ".concat(d.length,"건의 월대 정산 확정이 취소되었습니다."),successFunction:()=>{h({isOpened:!1}),s()},errorTitle:"월대 정산 확정 취소에 실패했습니다."}),$h({toast:o,tmsAlert:i,apiRest:[A,T],successMsg:"총 ".concat(d.length,"건의 월대 정산 확정이 완료되었습니다."),successFunction:()=>{h({isOpened:!1}),s()},errorTitle:"월대 정산 확정에 실패했습니다."}),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"ml-auto flex gap-[8px]",children:[(0,l.jsx)(u.A,{label:"매출 정산 확정 취소",level:m.V.level_3,size:m.M.Medium,leftIcon:(0,l.jsx)(hh,{width:20}),onClick:()=>{if(I()){const e=n.getSelectedRows(),t=Array.from(e.values());h({isOpened:!0,title:"매출 정산 확정을 취소하시겠습니까?",description:"해당 실적은 다시 미확정 상태로 되돌아가며, 이후 회계 처리에도 영향을 줄 수 있습니다.",confirmButtonLabel:"확정 취소",confirmButtonType:"destructive",confirmClick:async()=>await C(f(t))})}},"data-sentry-element":"TmsBasicButton","data-sentry-source-file":"VehicleMonthlyButtons.tsx"}),(0,l.jsx)(u.A,{label:"매입 정산 확정 취소",level:m.V.level_3,size:m.M.Medium,leftIcon:(0,l.jsx)(hh,{width:20}),onClick:()=>{if(I()){const e=n.getSelectedRows(),t=Array.from(e.values());h({isOpened:!0,title:"매입 정산 확정을 취소하시겠습니까?",description:"해당 실적은 다시 미확정 상태로 되돌아가며, 이후 회계 처리에도 영향을 줄 수 있습니다.",confirmButtonLabel:"확정 취소",confirmButtonType:"destructive",confirmClick:async()=>await y(f(t))})}},"data-sentry-element":"TmsBasicButton","data-sentry-source-file":"VehicleMonthlyButtons.tsx"}),(0,l.jsx)(u.A,{label:"매출 정산 확정",level:m.V.level_2,size:m.M.Medium,leftIcon:(0,l.jsx)(Pt.A,{width:20}),onClick:()=>{if(I()){const e=n.getSelectedRows(),t=Array.from(e.values());h({isOpened:!0,title:"매출 정산을 확정하시겠어요?",description:"선택한 실적의 매출 정산을 확정합니다.",confirmButtonLabel:"매출 정산 확정하기",confirmButtonType:"normal",confirmClick:async()=>await v(f(t))})}},"data-sentry-element":"TmsBasicButton","data-sentry-source-file":"VehicleMonthlyButtons.tsx"}),(0,l.jsx)(u.A,{label:"매입 정산 확정",level:m.V.level_2,size:m.M.Medium,leftIcon:(0,l.jsx)(Pt.A,{width:20}),onClick:()=>{if(I()){const e=n.getSelectedRows(),t=Array.from(e.values());h({isOpened:!0,title:"매입 정산을 확정하시겠어요?",description:"선택한 실적의 매출 정산을 확정합니다.",confirmButtonLabel:"매입 정산 확정하기",confirmButtonType:"normal",confirmClick:async()=>await g(f(t))})}},"data-sentry-element":"TmsBasicButton","data-sentry-source-file":"VehicleMonthlyButtons.tsx"})]}),p.isOpened&&(0,l.jsx)(N,{title:p.title,description:p.description,confirmButtonLabel:p.confirmButtonLabel,onClickCloseButton:()=>h({isOpened:!1}),onClickConfirmButton:p.confirmClick,confirmButtonType:p.confirmButtonType})]})}const nE=e=>{let{searchParams:t,settlementMonth:a,handleSearch:l}=e;const s=(0,$e.P9)(),n=(0,ya.c5)(),[o,i]=(0,r.useState)([]),[d,c]=(0,r.useState)(!1),{isSuccess:u,mutateAsync:m,data:p,reset:h}=(0,T.n)(["useCustomerIdExcelSampleMutation"],(async e=>{let{customerId:t,settlementMonth:a,settlementMonthlyCustomerCostCenterId:l}=e;return(await I.q.api((e=>e.ApiSettlementMonthlyManagementCustomerExtraCostConfigsCustomerIdSettlementMonthExcelSample(t,a,{settlementMonthlyCustomerCostCenterId:l},{format:"blob"})))).data})),{mutateAsync:f,isSuccess:C,data:x,reset:N,error:y,isError:E}=(0,T.n)(["useVehicleExtraCostExcelUploadMutation"],(async e=>(await I.q.api((t=>t.ApiSettlementMonthlyManagementVehicleExtraCostExcelUpload(e)))).data.result)),{mutateAsync:v,isSuccess:A,data:g}=(0,T.n)(["useVehicleExtraCostExcelValidateMutation"],(async e=>(await I.q.api((t=>t.ApiSettlementMonthlyManagementVehicleExtraCostExcelValidate(e)))).data.result)),{mutateAsync:b,isSuccess:R,data:S,error:_,isError:w}=(0,T.n)(["useVehicleExtraCostExcelValidateMutation"],(async e=>(await I.q.api((t=>t.ApiSettlementMonthlyManagementVehicleExtraCostExcelSave(e)))).data.result));return(0,r.useEffect)((()=>{if(C){if(!x.validationResultList)return;const e=x.validationResultList.map((e=>{const t=Object.entries(e.extraCostDto||{}).reduce(((e,t)=>{let[a,l]=t;return l.forEach((t=>{e["".concat(a).concat(t.extraCostConfigId)]=t.amount})),e}),{});return{...e,...t}}));return i(e),void c(!0)}c(!1)}),[x]),(0,r.useEffect)((()=>{E&&n({title:"엑셀 업로드에 실패했습니다.",description:null==y?void 0:y.message})}),[y]),(0,r.useEffect)((()=>{u&&h()}),[u]),(0,r.useEffect)((()=>{R&&l(),w&&n({title:"엑셀 업로드에 실패했습니다.",description:null==y?void 0:y.message})}),[S,_]),{sampleFile:p,handleClickSampleExcelFileDown:()=>{t.customerId?m({customerId:t.customerId,settlementMonth:a,settlementMonthlyCustomerCostCenterId:t.settlementMonthlyCustomerCostCenterId}):s({message:"화주를 선택해 주세요.",type:"caution"})},isSuccessSampleFile:u,handleFileUpload:e=>{f({file:e[0],request:{settlementMonth:a,customerId:t.customerId,customerCostCenterId:t.settlementMonthlyCustomerCostCenterId}})},resetUploadList:N,isSuccessExcelResponseList:d,handleValidation:e=>{const l=e.map(((e,t)=>{const a={purchase:[],sales:[],consignment:[]};return Object.entries(e).forEach((e=>{let[t,l]=e;const r=t.match(/^(purchase|sales|consignment)(\d+)$/);if(r&&null!=l){const[,e,t]=r;a[e].push({extraCostConfigId:Number(t),amount:Number(l)})}})),{excelRowNumber:t+1,isValid:e.isValid,errorMap:e.errorMap,plateNumber:e.plateNumber,vendorMdmCode:e.vendorMdmCode,monthlyRateGroupName:e.monthlyRateGroupName,settlementMonth:e.settlementMonth,vendorId:e.vendorId,monthlyRateGroupId:e.monthlyRateGroupId,vendorVehicleId:e.vendorVehicleId,baseAmount:e.baseAmount,extraCostDto:a}}));v({settlementMonth:a,customerId:t.customerId,customerCostCenterId:t.settlementMonthlyCustomerCostCenterId,validationResultList:l})},isSuccessValidation:A,handleUploadListRegister:async()=>{await b({settlementMonth:a,customerId:t.customerId,customerCostCenterId:t.settlementMonthlyCustomerCostCenterId,validationResultList:g.validationResultList.map(((e,t)=>({excelRowNumber:t+1,isValid:e.isValid,errorMap:e.errorMap,plateNumber:e.plateNumber,vendorMdmCode:e.vendorMdmCode,monthlyRateGroupName:e.monthlyRateGroupName,settlementMonth:e.settlementMonth,vendorId:e.vendorId,monthlyRateGroupId:e.monthlyRateGroupId,vendorVehicleId:e.vendorVehicleId,baseAmount:e.baseAmount,extraCostDto:e.extraCostDto})))})},validationResponseData:g,isSuccessExcelSave:R,dataExcelSave:S,excelResponseList:o}};var oE=a(15535);oE.KQ.register({family:"NotoSansKR",src:"/fonts/NotoSansKR-VariableFont_wght.ttf"}),oE.KQ.register({family:"NotoSansKR",src:"/fonts/static/NotoSansKR-Bold.ttf",fontWeight:"bold"}),oE.KQ.register({family:"NotoSansKR",src:"/fonts/static/NotoSansKR-Light.ttf",fontWeight:"light"});const iE=oE.vv.create({page:{padding:24,fontSize:12,fontFamily:"NotoSansKR",fontWeight:"light"},section:{marginBottom:16},title:{fontSize:22,fontWeight:700,marginBottom:4,fontFamily:"NotoSansKR"},subtitle:{fontSize:14,fontWeight:600,marginBottom:8,fontFamily:"NotoSansKR"},table:{borderStyle:"solid",borderWidth:1.5,borderColor:"#2065CC",marginBottom:5,paddingBottom:"25px",fontFamily:"NotoSansKR",minHeight:"390px",maxHeight:"auto"},tableRed:{borderStyle:"solid",borderWidth:1.5,borderColor:"#B0200A",marginBottom:5,paddingBottom:"25px",fontFamily:"NotoSansKR",minHeight:"390px",maxHeight:"auto"},tableGray:{width:"100%",borderColor:"#6b7280",fontFamily:"NotoSansKR"},tableRow:{flexDirection:"row"},tableCellHeader:{borderStyle:"solid",borderBottom:1.5,borderColor:"#2065CC",fontWeight:"bold",backgroundColor:"#D4E5FF",flex:1,textAlign:"center",fontFamily:"NotoSansKR",color:"#2065CC",padding:2,fontSize:10},tableCellSubHeader:{borderStyle:"solid",borderRight:1.5,borderRightColor:"#2065CC",borderBottom:1.5,borderBottomColor:"#2065CC",fontWeight:"bold",backgroundColor:"#F0F6FF",flex:1,textAlign:"center",fontFamily:"NotoSansKR",color:"#2065CC",padding:2,fontSize:9},tableCellSubHeaderLast:{fontWeight:"bold",backgroundColor:"#F0F6FF",borderBottom:1.5,borderBottomColor:"#2065CC",flex:1,textAlign:"center",fontFamily:"NotoSansKR",color:"#2065CC",padding:2,fontSize:9},tableCellHeaderRed:{borderBottom:1.5,borderBottomColor:"#B0200A",fontWeight:"bold",backgroundColor:"#FCE1DE",flex:1,textAlign:"center",fontFamily:"NotoSansKR",color:"#B0200A",padding:2,fontSize:9},tableCellSubHeaderRed:{borderBottom:1.5,borderBottomColor:"#B0200A",fontWeight:"bold",backgroundColor:"#FFF0F0",flex:1,textAlign:"center",fontFamily:"NotoSansKR",color:"#B0200A",padding:2,fontSize:9},tableCellHeaderRedLast:{borderRight:1.5,borderRightColor:"#B0200A",borderBottom:1.5,borderBottomColor:"#B0200A",fontWeight:"bold",backgroundColor:"#FFF0F0",flex:1,textAlign:"center",fontFamily:"NotoSansKR",color:"#B0200A",padding:2,fontSize:9},lastTableCell:{borderColor:"#d1d5db",flex:1,textAlign:"right",fontFamily:"NotoSansKR",padding:2,fontSize:8},lastTableCellTitle:{borderColor:"#d1d5db",flex:1,textAlign:"left",fontFamily:"NotoSansKR",padding:2,fontSize:8},tableCell:{borderStyle:"solid",borderBottom:1,borderBottomColor:"#d1d5db",borderRight:1,borderRightColor:"#d1d5db",flex:1,textAlign:"right",fontFamily:"NotoSansKR",padding:2,fontSize:8},tableCellTitle:{borderStyle:"solid",borderBottom:1,borderBottomColor:"#d1d5db",borderRight:1,borderRightColor:"#d1d5db",flex:1,textAlign:"left",fontFamily:"NotoSansKR",padding:2,fontSize:8},infoTable:{width:"100%",marginBottom:16,fontFamily:"NotoSansKR"},infoRow:{flexDirection:"row"},infoLabel:{width:60,fontWeight:"bold",fontFamily:"NotoSansKR",padding:2,fontSize:9},infoValue:{flex:1,fontFamily:"NotoSansKR",padding:2,fontSize:9},infoRowContainer:{flexDirection:"row",width:"100%",marginBottom:16,gap:10},infoLeft:{flex:1,justifyContent:"flex-start"},infoRight:{flex:1,justifyContent:"flex-start"},dividerBold:{borderBottomWidth:1.5,borderBottomColor:"#111827",width:"100%"},amountBorder:{borderBottomWidth:.5,borderBottomColor:"#111827",width:"100%"},footerRow:{flexDirection:"row",alignItems:"center",margin:5,fontSize:12},footerRowHighlight:{flexDirection:"row",alignItems:"center",padding:5,backgroundColor:"#DEE1E8",fontSize:14},footerLabel:{textAlign:"left",flex:1,fontFamily:"NotoSansKR",fontSize:8},footerAmount:{textAlign:"right",flex:1,fontFamily:"NotoSansKR",fontSize:8},footerLabelBold:{textAlign:"left",flex:1,fontFamily:"NotoSansKR",fontWeight:800,fontSize:14},footerAmountBold:{textAlign:"right",flex:1,fontFamily:"NotoSansKR",fontWeight:800,fontSize:14},noticeRow:{flexDirection:"row",alignItems:"flex-start",width:"100%",marginTop:16,backgroundColor:"#EDEFF5",padding:5},noticeLabel:{width:100,fontWeight:"bold",fontFamily:"NotoSansKR",fontSize:10,marginRight:16},noticeContent:{flex:1,fontFamily:"NotoSansKR",fontSize:8,lineHeight:1.2},noticeItem:{marginBottom:4},thankYouRow:{alignItems:"center",marginTop:15},thankYouText:{fontWeight:"bold",fontFamily:"NotoSansKR",fontSize:10}}),dE=["구분","공급가","부가세"],cE=["구분","금액"],uE=e=>{let{isSuccess:t,data:a}=e;return t&&a?(0,l.jsx)(oE.yo,{"data-sentry-element":"Document","data-sentry-component":"MyPDFDocument","data-sentry-source-file":"VehicleMonthlyPdf.tsx",children:(0,l.jsxs)(oE.YW,{size:"A4",style:iE.page,"data-sentry-element":"Page","data-sentry-source-file":"VehicleMonthlyPdf.tsx",children:[(0,l.jsxs)(oE.Ss,{"data-sentry-element":"View","data-sentry-source-file":"VehicleMonthlyPdf.tsx",children:[(0,l.jsxs)(oE.Ss,{style:iE.infoRowContainer,"data-sentry-element":"View","data-sentry-source-file":"VehicleMonthlyPdf.tsx",children:[(0,l.jsxs)(oE.Ss,{style:iE.infoLeft,"data-sentry-element":"View","data-sentry-source-file":"VehicleMonthlyPdf.tsx",children:[(0,l.jsx)(oE.EY,{style:iE.title,"data-sentry-element":"Text","data-sentry-source-file":"VehicleMonthlyPdf.tsx",children:"운송료 내역서"}),(0,l.jsx)(oE.EY,{style:iE.subtitle,"data-sentry-element":"Text","data-sentry-source-file":"VehicleMonthlyPdf.tsx",children:je()(a.settlementMonth,"YYYYMM").format("YYYY년 MM월")})]}),(0,l.jsxs)(oE.Ss,{style:iE.infoRight,"data-sentry-element":"View","data-sentry-source-file":"VehicleMonthlyPdf.tsx",children:[(0,l.jsxs)(oE.Ss,{style:[iE.infoRow,{borderTop:1,borderTopColor:"#d1d5db"}],"data-sentry-element":"View","data-sentry-source-file":"VehicleMonthlyPdf.tsx",children:[(0,l.jsx)(oE.EY,{style:iE.infoLabel,"data-sentry-element":"Text","data-sentry-source-file":"VehicleMonthlyPdf.tsx",children:"성명"}),(0,l.jsx)(oE.EY,{style:iE.infoValue,"data-sentry-element":"Text","data-sentry-source-file":"VehicleMonthlyPdf.tsx",children:a.driverName})]}),(0,l.jsxs)(oE.Ss,{style:[iE.infoRow,{borderTop:1,borderTopColor:"#d1d5db"}],"data-sentry-element":"View","data-sentry-source-file":"VehicleMonthlyPdf.tsx",children:[(0,l.jsx)(oE.EY,{style:iE.infoLabel,"data-sentry-element":"Text","data-sentry-source-file":"VehicleMonthlyPdf.tsx",children:"차량번호"}),(0,l.jsx)(oE.EY,{style:iE.infoValue,"data-sentry-element":"Text","data-sentry-source-file":"VehicleMonthlyPdf.tsx",children:a.plateNumber})]}),(0,l.jsxs)(oE.Ss,{style:[iE.infoRow,{borderTop:1,borderTopColor:"#d1d5db"}],"data-sentry-element":"View","data-sentry-source-file":"VehicleMonthlyPdf.tsx",children:[(0,l.jsx)(oE.EY,{style:iE.infoLabel,"data-sentry-element":"Text","data-sentry-source-file":"VehicleMonthlyPdf.tsx",children:"소속"}),(0,l.jsx)(oE.EY,{style:iE.infoValue,"data-sentry-element":"Text","data-sentry-source-file":"VehicleMonthlyPdf.tsx",children:a.affiliateName})]}),(0,l.jsxs)(oE.Ss,{style:[iE.infoRow,{borderTop:1,borderTopColor:"#d1d5db"}],"data-sentry-element":"View","data-sentry-source-file":"VehicleMonthlyPdf.tsx",children:[(0,l.jsx)(oE.EY,{style:iE.infoLabel,"data-sentry-element":"Text","data-sentry-source-file":"VehicleMonthlyPdf.tsx",children:"근무처"}),(0,l.jsx)(oE.EY,{style:iE.infoValue,"data-sentry-element":"Text","data-sentry-source-file":"VehicleMonthlyPdf.tsx",children:a.customerName})]})]})]}),(0,l.jsxs)(oE.Ss,{style:iE.infoRowContainer,"data-sentry-element":"View","data-sentry-source-file":"VehicleMonthlyPdf.tsx",children:[(0,l.jsx)(oE.Ss,{style:iE.infoLeft,"data-sentry-element":"View","data-sentry-source-file":"VehicleMonthlyPdf.tsx",children:(0,l.jsxs)(oE.Ss,{style:iE.table,"data-sentry-element":"View","data-sentry-source-file":"VehicleMonthlyPdf.tsx",children:[(0,l.jsx)(oE.Ss,{style:iE.tableRow,"data-sentry-element":"View","data-sentry-source-file":"VehicleMonthlyPdf.tsx",children:(0,l.jsx)(oE.EY,{style:iE.tableCellHeader,"data-sentry-element":"Text","data-sentry-source-file":"VehicleMonthlyPdf.tsx",children:"운송비 내역"})}),(0,l.jsx)(oE.Ss,{style:iE.tableRow,"data-sentry-element":"View","data-sentry-source-file":"VehicleMonthlyPdf.tsx",children:dE.map(((e,t)=>(0,l.jsx)(oE.EY,{style:dE.length===t+1?iE.tableCellSubHeaderLast:iE.tableCellSubHeader,children:e},e)))}),a.purchaseItems.map(((e,t)=>{const r=t===a.purchaseItems.length-1;return(0,l.jsxs)(oE.Ss,{style:[iE.tableRow,r&&{borderTopWidth:1,borderTopColor:"#000000",position:"absolute",bottom:0,width:"100%",padding:2}],children:[(0,l.jsx)(oE.EY,{style:[r?iE.lastTableCellTitle:iE.tableCellTitle],children:e.extraCostName}),(0,l.jsx)(oE.EY,{style:[r?iE.lastTableCell:iE.tableCell],children:e.amount.toLocaleString()}),(0,l.jsx)(oE.EY,{style:[r?iE.lastTableCell:iE.tableCell],children:e.vatAmount.toLocaleString()})]},t)}))]})}),(0,l.jsx)(oE.Ss,{style:iE.infoRight,"data-sentry-element":"View","data-sentry-source-file":"VehicleMonthlyPdf.tsx",children:(0,l.jsxs)(oE.Ss,{style:iE.tableRed,"data-sentry-element":"View","data-sentry-source-file":"VehicleMonthlyPdf.tsx",children:[(0,l.jsx)(oE.Ss,{style:iE.tableRow,"data-sentry-element":"View","data-sentry-source-file":"VehicleMonthlyPdf.tsx",children:(0,l.jsx)(oE.EY,{style:iE.tableCellHeaderRed,"data-sentry-element":"Text","data-sentry-source-file":"VehicleMonthlyPdf.tsx",children:"공제 내역"})}),(0,l.jsx)(oE.Ss,{style:iE.tableRow,"data-sentry-element":"View","data-sentry-source-file":"VehicleMonthlyPdf.tsx",children:cE.map(((e,t)=>(0,l.jsx)(oE.EY,{style:0===t?iE.tableCellHeaderRedLast:iE.tableCellSubHeaderRed,children:e},e)))}),a.consignmentItems.map(((e,t)=>{const r=t===a.consignmentItems.length-1;return(0,l.jsxs)(oE.Ss,{style:[iE.tableRow,r&&{borderTopWidth:1,borderTopColor:"#000000",position:"absolute",bottom:0,width:"100%",padding:4}],children:[(0,l.jsx)(oE.EY,{style:[r?iE.lastTableCellTitle:iE.tableCellTitle],children:e.extraCostName}),(0,l.jsx)(oE.EY,{style:[r?iE.lastTableCell:iE.tableCell],children:e.amount.toLocaleString()})]},t)}))]})})]})]}),(0,l.jsx)(oE.Ss,{style:iE.dividerBold,"data-sentry-element":"View","data-sentry-source-file":"VehicleMonthlyPdf.tsx"}),(0,l.jsxs)(oE.Ss,{id:"footer","data-sentry-element":"View","data-sentry-source-file":"VehicleMonthlyPdf.tsx",children:[(0,l.jsxs)(oE.Ss,{id:"sales",style:iE.footerRow,"data-sentry-element":"View","data-sentry-source-file":"VehicleMonthlyPdf.tsx",children:[(0,l.jsx)(oE.EY,{id:"label",style:iE.footerLabel,"data-sentry-element":"Text","data-sentry-source-file":"VehicleMonthlyPdf.tsx",children:"운송비 내역 (A)"}),(0,l.jsx)(oE.EY,{id:"amount",style:iE.footerAmount,"data-sentry-element":"Text","data-sentry-source-file":"VehicleMonthlyPdf.tsx",children:a.totalPurchaseAmount.toLocaleString()})]}),(0,l.jsx)(oE.Ss,{style:iE.amountBorder,"data-sentry-element":"View","data-sentry-source-file":"VehicleMonthlyPdf.tsx"}),(0,l.jsxs)(oE.Ss,{id:"purchases",style:iE.footerRow,"data-sentry-element":"View","data-sentry-source-file":"VehicleMonthlyPdf.tsx",children:[(0,l.jsx)(oE.EY,{id:"label",style:iE.footerLabel,"data-sentry-element":"Text","data-sentry-source-file":"VehicleMonthlyPdf.tsx",children:"공제 내역 (B)"}),(0,l.jsx)(oE.EY,{id:"amount",style:iE.footerAmount,"data-sentry-element":"Text","data-sentry-source-file":"VehicleMonthlyPdf.tsx",children:a.totalConsignmentAmount.toLocaleString()})]}),(0,l.jsxs)(oE.Ss,{id:"totalAmount",style:iE.footerRowHighlight,"data-sentry-element":"View","data-sentry-source-file":"VehicleMonthlyPdf.tsx",children:[(0,l.jsx)(oE.EY,{id:"label",style:iE.footerLabel,"data-sentry-element":"Text","data-sentry-source-file":"VehicleMonthlyPdf.tsx",children:(0,l.jsx)(oE.EY,{style:iE.footerLabelBold,"data-sentry-element":"Text","data-sentry-source-file":"VehicleMonthlyPdf.tsx",children:"실 지급액(A-B)"})}),(0,l.jsxs)(oE.EY,{id:"amount",style:iE.footerAmount,"data-sentry-element":"Text","data-sentry-source-file":"VehicleMonthlyPdf.tsx",children:[(0,l.jsx)(oE.EY,{style:[{display:"flex",fontSize:9,justifyContent:"center"}],"data-sentry-element":"Text","data-sentry-source-file":"VehicleMonthlyPdf.tsx",children:"VAT 포함"}),(0,l.jsxs)(oE.EY,{style:iE.footerAmountBold,"data-sentry-element":"Text","data-sentry-source-file":"VehicleMonthlyPdf.tsx",children:["₩",a.totalActualAmount.toLocaleString()]})]})]}),(0,l.jsxs)(oE.Ss,{style:iE.noticeRow,"data-sentry-element":"View","data-sentry-source-file":"VehicleMonthlyPdf.tsx",children:[(0,l.jsx)(oE.EY,{id:"label",style:iE.noticeLabel,"data-sentry-element":"Text","data-sentry-source-file":"VehicleMonthlyPdf.tsx",children:"공지사항"}),(0,l.jsxs)(oE.Ss,{id:"content",style:iE.noticeContent,"data-sentry-element":"View","data-sentry-source-file":"VehicleMonthlyPdf.tsx",children:[(0,l.jsx)(oE.EY,{style:iE.noticeItem,"data-sentry-element":"Text","data-sentry-source-file":"VehicleMonthlyPdf.tsx",children:"1. 차량 사고 시, 시간 상관없이 담당자에게 즉시 보고바랍니다."}),(0,l.jsx)(oE.EY,{style:iE.noticeItem,"data-sentry-element":"Text","data-sentry-source-file":"VehicleMonthlyPdf.tsx",children:"2. 자동차정기검사기간 자체 확인 및 기간 내 검사 요청드립니다."}),(0,l.jsx)(oE.EY,{style:iE.noticeItem,"data-sentry-element":"Text","data-sentry-source-file":"VehicleMonthlyPdf.tsx",children:"3. 과태료 체납방지 위해 기관(시/구청 교통정책과 등)에 주기적 문의바랍니다."})]})]}),(0,l.jsx)(oE.Ss,{style:iE.thankYouRow,"data-sentry-element":"View","data-sentry-source-file":"VehicleMonthlyPdf.tsx",children:(0,l.jsx)(oE.EY,{style:iE.thankYouText,"data-sentry-element":"Text","data-sentry-source-file":"VehicleMonthlyPdf.tsx",children:"귀하의 노고에 감사드립니다."})})]})]})}):(0,l.jsx)(oE.yo,{})},mE=e=>{let{columnGroupingHeaders:t}=e;return[{groupId:"settlement",headerName:"정산 상태",children:[{field:"isSalesConfirmed"},{field:"isPurchaseConfirmed"}]},{groupId:"statement",headerName:"거래 명세서",children:[{field:"isSendBill"},{field:"billUrl"}]},...t]},pE=e=>{let{columnField:t,createDownLink:a,pdfDownloadMutation:r}=e;const s=e=>r.isSuccess?(0,l.jsx)(oE.XP,{document:(0,l.jsx)(uE,{isSuccess:r.isSuccess,data:r.data}),fileName:"운송료 내역서.pdf",children:(0,l.jsx)(u.A,{level:m.V.level_5,size:m.M.Xsmall,rightIcon:(0,l.jsx)(Bh,{className:"h-[16px] w-[16px]"}),onClick:()=>a(e.row.vendorVehicleId,e.row.settlementMonthlyRateGroupId)})}):(0,l.jsx)(u.A,{level:m.V.level_5,size:m.M.Xsmall,rightIcon:(0,l.jsx)(Bh,{className:"h-[16px] w-[16px]"}),onClick:()=>a(e.row.vendorVehicleId,e.row.settlementMonthlyRateGroupId)});return[{field:"__check__",sortable:!1,headerClassName:"height-wide-cell",headerAlign:"right",width:80,align:"right"},{field:"no",headerName:"No.",headerClassName:"height-wide-cell",align:"center",width:48,sortable:!1,filterable:!1,cellClassName:"readonly-cell",renderCell:e=>e.api.getRowIndexRelativeToVisibleRows(e.id)+1},{field:"plateNumber",headerName:"차량번호",headerClassName:"height-wide-cell",width:130,cellClassName:"readonly-cell"},{field:"isSalesConfirmed",headerName:"매출",headerClassName:"height-wide-cell",width:74,cellClassName:"readonly-cell",renderCell:e=>(0,l.jsx)("div",{className:"".concat(e.value&&"text-success"),children:e.value?"확정":"미확정"})},{field:"isPurchaseConfirmed",headerName:"매입",headerClassName:"height-wide-cell",width:74,cellClassName:"readonly-cell",renderCell:e=>(0,l.jsx)("div",{className:"".concat(e.value&&"text-success"),children:e.value?"확정":"미확정"})},{field:"isSendBill",headerName:"발송",headerClassName:"height-wide-cell",cellClassName:"readonly-cell items-center flex ",width:48,renderCell:e=>null===e.value?(0,l.jsx)(l.Fragment,{}):(0,l.jsx)("div",{className:"bg-grey90 flex h-[20px] w-[20px] items-center justify-center rounded-full p-[2px]",children:e.value?"Y":"N"})},{field:"billUrl",headerName:"다운로드",headerClassName:"height-wide-cell",width:70,type:"actions",getActions:e=>[s(e)]},{field:"vehicleTypeName",headerName:"차종",headerClassName:"height-wide-cell",cellClassName:"readonly-cell"},{field:"mdmTonCodeName",headerName:"톤급",headerClassName:"height-wide-cell",cellClassName:"readonly-cell"},{field:"totalSalesAmount",headerName:"총 매출 운임",headerClassName:"height-wide-cell",cellClassName:"readonly-cell",type:"number"},{field:"totalPurchaseAmount",headerName:"총 매입 운임",headerClassName:"height-wide-cell",cellClassName:"readonly-cell",type:"number"},{field:"totalLastPurchaseAmount",headerName:"총 매입 운임(전월)",headerClassName:"height-wide-cell",cellClassName:"readonly-cell",type:"number"},{field:"lastPurchaseDifferanceAmount",headerName:"총 매입(전월비)",headerClassName:"height-wide-cell",cellClassName:"readonly-cell",type:"number"},{field:"monthlyRateGroupName",headerName:"월대 운임명",headerClassName:"height-wide-cell",cellClassName:"readonly-cell"},{field:"vendorTypeName",headerName:"차주 유형",headerClassName:"height-wide-cell",cellClassName:"readonly-cell"},{field:"vendorName",headerName:"파트너명",headerClassName:"height-wide-cell",cellClassName:"readonly-cell"},{field:"vehicleGroupName",headerName:"그룹",headerClassName:"height-wide-cell",cellClassName:"readonly-cell"},{field:"baseAmount",headerName:"기본 운송료",headerClassName:"height-wide-cell",cellClassName:"readonly-cell",type:"number"},...t]},hE=e=>{let{columnField:t}=e;return[{field:"__check__",sortable:!1,headerClassName:0===t.length?"":"height-wide-cell",headerAlign:"right",width:80,align:"right"},{field:"no",headerName:"No.",headerClassName:0===t.length?"":"height-wide-cell",align:"center",width:48,sortable:!1,filterable:!1,type:da._.VIEW_MODE_ID},{field:"settlementMonth",headerName:"정산월",headerClassName:0===t.length?"":"height-wide-cell",width:113},{field:"plateNumber",headerName:"차량번호",headerClassName:0===t.length?"":"height-wide-cell",width:113,required:!0,editable:!0,defaultEditable:!0},{field:"vendorMdmCode",headerName:"차량MDM",headerClassName:0===t.length?"":"height-wide-cell",width:113,required:!0,editable:!0,defaultEditable:!0},{field:"monthlyRateGroupName",headerName:"월대 운임명",headerClassName:0===t.length?"":"height-wide-cell",width:113,required:!0,editable:!0,defaultEditable:!0},...t]},fE=()=>[{groupId:"isUsed",headerName:"사용여부",children:[{field:"isSalesUsed"},{field:"isPurchaseUsed"},{field:"purchaseGlAccountType"},{field:"bizCode"},{field:"serviceCode"},{field:"serviceCode2"}]}],CE=e=>{let{purchaseGlAccountCustomerOptions:t,serviceOptions:a,handleChangeService:r}=e;return[{field:"__check__",sortable:!1,headerWideCell:!0,width:80,align:"center"},{field:"no",headerName:"No.",headerWideCell:!0,align:"center",width:48,sortable:!1,filterable:!1,type:da._.VIEW_MODE_ID},{field:"name",headerName:"추가 운임명",headerWideCell:!0,width:205,cellClassName:"wide-cell basic-dataGrid-none-editable",renderCell:e=>(0,ua.A)({defaultReadonly:!e.row._isNew,readonly:!e.row._isNew,params:e})},{field:"isSalesUsed",headerName:"매출",type:"boolean",width:80,cellClassName:"readonly-cell-editable",editable:!0,defaultEditable:!1,renderCell:e=>(0,l.jsx)(Ia,{checked:e.value,handleChange:(t,a)=>e.api.updateRows([{...e.row,isDirty:!0,isSalesUsed:a}]),disabled:!e.row._isNew})},{field:"isPurchaseUsed",headerName:"매입",type:"boolean",width:80,cellClassName:"readonly-cell-editable",editable:!0,defaultEditable:!1,renderCell:e=>(0,l.jsx)(Ia,{checked:e.value,handleChange:(t,a)=>{e.api.updateRows([{...e.row,isDirty:!0,isPurchaseUsed:a,purchaseGlAccountType:a?e.row.purchaseGlAccountType:null}])},disabled:!e.row._isNew})},{field:"purchaseGlAccountType",headerName:"매입 전표계정",width:210,cellClassName:"wide-cell",editable:!0,defaultEditable:!1,renderCell:e=>Xt({firstOptionType:null,options:null!=t?t:[],params:e,readonly:!e.row._isNew||!e.row.isPurchaseUsed,optionsBoxWidth:360})},{field:"bizCode",headerName:"사업",width:210,editable:!0,defaultEditable:!1,type:da._.CUSTOM_SELECT,metaKey:Ze.k.INDUSTRY_CODE},{field:"serviceCode",headerName:"서비스",width:210,editable:!0,defaultEditable:!1,cellClassName:"wide-cell",renderCell:e=>Xt({firstOptionType:null,options:null!=a?a:[],params:e,onChangeProps:t=>r(t,e),readonly:!e.row._isNew})},{field:"serviceCode2",headerName:"서비스2",width:210,editable:!0,defaultEditable:!1,cellClassName:"wide-cell",renderCell:e=>{var t,l;return Xt({firstOptionType:null,options:null!==(l=null===(t=a.find((t=>t.id===e.row.serviceCode)))||void 0===t?void 0:t.children.map((e=>({id:e.mdmCode,label:e.value}))))&&void 0!==l?l:[{id:"",label:""}],params:e,onChangeProps:t=>e.api.updateRows([{...e.row,isDirty:!0,serviceCode2Name:t.id,serviceCode2:t.id}]),readonly:!e.row._isNew})}}]},xE=()=>[{field:"__check__",sortable:!1,headerAlign:"right",width:48},{field:"no",headerName:"No.",align:"center",width:48,sortable:!1,filterable:!1,type:da._.VIEW_MODE_ID},{field:"name",headerName:"추가 운임명",width:205,cellClassName:"readonly-cell-editable",editable:!0,defaultEditable:!1}];function NE(e){let{searchParams:t,handleSearchProps:a,setIsOpenedExtraCostSettingModal:s,purchaseGlAccountCustomerOptions:n,settlementMonth:o}=e;const i=(0,$e.P9)(),d=(0,D.bBi)(),c=(0,r.useRef)(null);var u;const{rows:m,setInitData:p,addRowToFirst:h,getAllRows:f,removeSelectedRow:C}=null!==(u=null==c?void 0:c.current)&&void 0!==u?u:{},x=(0,D.bBi)(),y=(0,r.useRef)(null),{commonServiceInfoOption:E}=(0,Je.X)(),[v,A]=(0,r.useState)(!1);var g;const{rows:T,setInitData:I,addRowToFirst:b,getAllRows:R,removeSelectedRow:S}=null!==(g=null==y?void 0:y.current)&&void 0!==g?g:{},{mutateAsync:_,isSuccess:w,data:O}=Zy(),{mutateAsync:M,isSuccess:j,data:P}=Qy();return(0,r.useEffect)((()=>{(async()=>{await _({customerId:null==t?void 0:t.customerId,settlementMonth:o})})()}),[]),(0,r.useEffect)((()=>{var e,t;w&&(p(null!==(e=O.normalConfigs)&&void 0!==e?e:[]),I(null!==(t=O.consignmentConfigs)&&void 0!==t?t:[]))}),[O]),(0,r.useEffect)((()=>{j&&(s(!1),i({message:"추가 운임 항목이 저장되었습니다."}),a())}),[P]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(Pe.A,{title:"추가 운임 항목 설정",modalWidth:1720,modalContentHeight:520,confirmButtonLabel:"저장하기",onClickConfirmButton:()=>A(!0),onClickCloseButton:()=>s(!1),"data-sentry-element":"TmsBasicModal","data-sentry-source-file":"ExtraCostSettingModal.tsx",children:(0,l.jsxs)("div",{className:"flex gap-[40px]",children:[(0,l.jsxs)("div",{className:"flex w-[1330px] flex-col",children:[(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("div",{className:"Body4_B text-grey40",children:"일반 항목"}),(0,l.jsxs)("div",{className:"ml-auto flex gap-[8px]",children:[(0,l.jsx)(St.A,{handleAddRow:h,"data-sentry-element":"TmsDataGridAddRowBtn","data-sentry-source-file":"ExtraCostSettingModal.tsx"}),(0,l.jsx)(Rt,{label:"삭제",handleDeleteRow:()=>C(!0),"data-sentry-element":"TmsDataGridDeleteRowBtn","data-sentry-source-file":"ExtraCostSettingModal.tsx"})]})]}),(0,l.jsx)("div",{className:"mt-[12px] h-[448px]",children:(0,l.jsx)(Fa.A,{editMode:"cell",ref:c,gridApiRef:d,columns:CE({purchaseGlAccountCustomerOptions:n,serviceOptions:E,handleChangeService:async(e,t)=>{t.api.updateRows([{...t.row,isDirty:!0,serviceCodeName:e.id,serviceCode:e.id}])}}),columnGroupingModel:fE(),checkboxSelection:!0,initialState:{pinnedColumns:{left:["__check__"]}},"data-sentry-element":"WrapperBasicDataGrid","data-sentry-source-file":"ExtraCostSettingModal.tsx"})})]}),(0,l.jsxs)("div",{className:"flex w-[302px] flex-col",children:[(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("div",{className:"Body4_B text-grey40",children:"위수탁 항목"}),(0,l.jsxs)("div",{className:"ml-auto flex gap-[8px]",children:[(0,l.jsx)(St.A,{handleAddRow:b,"data-sentry-element":"TmsDataGridAddRowBtn","data-sentry-source-file":"ExtraCostSettingModal.tsx"}),(0,l.jsx)(Rt,{label:"삭제",handleDeleteRow:()=>S(!0),"data-sentry-element":"TmsDataGridDeleteRowBtn","data-sentry-source-file":"ExtraCostSettingModal.tsx"})]})]}),(0,l.jsx)("div",{className:"mt-[12px] h-[448px] w-full",children:(0,l.jsx)(Fa.A,{editMode:"cell",ref:y,gridApiRef:x,columns:xE(),columnHeaderHeight:64,checkboxSelection:!0,initialState:{pinnedColumns:{left:["__check__"]}},"data-sentry-element":"WrapperBasicDataGrid","data-sentry-source-file":"ExtraCostSettingModal.tsx"})})]})]})}),v&&(0,l.jsx)(N,{title:"추가 운임 항목을 저장하시겠습니까?",description:"저장 시, 설정한 항목이 적용됩니다.",confirmButtonLabel:"저장하기",onClickCloseButton:()=>s(!1),onClickConfirmButton:async()=>{const e=f(),a=R(),l=[...m.map((t=>({...t,isDeleted:!e.some((e=>e.configId===t.configId))}))),...e.filter((e=>e._isNew)).map((e=>({...e,isDeleted:!1})))],r=[...T.map((e=>({...e,isDeleted:!a.some((t=>t.configId===e.configId))}))),...a.filter((e=>e._isNew)).map((e=>({...e,isDeleted:!1})))];await M({customerId:t.customerId,normalConfigs:l.map((e=>({configId:e.configId,customerId:e.customerId,name:e.name,purchaseGlAccountType:e.purchaseGlAccountType?e.purchaseGlAccountType:null,bizCode:e.bizCode?e.bizCode:null,serviceCode:e.serviceCode?e.serviceCode:null,serviceCode2:e.serviceCode2?e.serviceCode2:null,isPurchaseUsed:e.isPurchaseUsed,isSalesUsed:e.isSalesUsed,isDeleted:e.isDeleted}))),consignmentConfigs:r.map((e=>({configId:e.configId,name:e.name,isDeleted:e.isDeleted})))})}})]})}function yE(e){let{searchParams:t,handleSearchProps:a,setIsOpenedExtraCostSettingBatchModal:s,settlementMonth:n,selectedRows:o}=e;const i=(0,$e.P9)(),d=(0,D.bBi)(),c=(0,r.useRef)(null);var u;const{setInitData:m,getAllRows:p,getSelectedRows:h}=null!==(u=null==c?void 0:c.current)&&void 0!==u?u:{},{mutateAsync:f,isSuccess:C,data:x}=aE(),{mutateAsync:N,isSuccess:y,data:E}=lE();return(0,r.useEffect)((()=>{(async()=>{await f({customerId:null==t?void 0:t.customerId,settlementMonth:n})})()}),[]),(0,r.useEffect)((()=>{C&&m(x.configs)}),[x]),(0,r.useEffect)((()=>{y&&(s(!1),i({message:"총 ".concat(h().length,"건의 추가 운임이 일괄 적용되었습니다.")}),a())}),[E]),(0,l.jsx)(Pe.A,{title:"추가 운임 일괄 적용",modalWidth:612,modalContentHeight:520,confirmButtonLabel:"저장하기",onClickConfirmButton:async()=>{const e=p(),t=Array.from(e.values()),a=t.filter((e=>e.isPurchaseUsed)).map((e=>{var t,a;return{extraCostConfigId:null!==(t=e.extraCostConfigId)&&void 0!==t?t:0,amount:null!==(a=e.purchaseAmount)&&void 0!==a?a:0}})),l=t.filter((e=>e.isSalesUsed)).map((e=>{var t,a;return{extraCostConfigId:null!==(t=e.extraCostConfigId)&&void 0!==t?t:0,amount:null!==(a=e.salesAmount)&&void 0!==a?a:0}}));await N({settlementMonth:n,data:{vehicleInfoList:o.map((e=>({settlementMonthlyRateGroupId:e.settlementMonthlyRateGroupId,vendorVehicleId:e.vendorVehicleId}))),item:{purchaseItems:a,salesItems:l}}})},onClickCloseButton:()=>s(!1),"data-sentry-element":"TmsBasicModal","data-sentry-component":"ExtraCostBatchSettingModal","data-sentry-source-file":"ExtraCostBatchSettingModal.tsx",children:(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsxs)("ul",{className:"text-grey60 Body4_M ml-[24px] list-disc",children:[(0,l.jsxs)("li",{children:["기존 운임이 있는 차량은 ",(0,l.jsx)("span",{className:"Body4_EX",children:"입력 금액이 기존 금액에 더하거나 빼는 방식"}),"으로 반영됩니다."]}),(0,l.jsxs)("li",{children:["확정된 매출/매입은 표시만 되고 수정할 수 없으며,",(0,l.jsx)("span",{className:"Body4_EX",children:"미확정 건만 금액 수정이 가능"}),"합니다."]})]}),(0,l.jsx)("div",{className:"mt-[12px] h-[360px]",children:(0,l.jsx)(Fa.A,{editMode:"cell",ref:c,gridApiRef:d,columns:[{field:"no",headerName:"No.",align:"center",width:48,sortable:!1,filterable:!1,type:da._.VIEW_MODE_ID},{field:"name",headerName:"추가 운임명",flex:1},{field:"salesAmount",headerName:"매출 금액",width:172,cellClassName:"wide-cell",renderCell:e=>(0,ua.A)({type:"number",params:e,readonly:e.row.isConsignment||!e.row.isSalesUsed,value:e.row.isConsignment?"0":0})},{field:"purchaseAmount",headerName:"매입 금액",width:172,type:"number",cellClassName:"wide-cell",renderCell:e=>(0,ua.A)({type:"number",params:e,readonly:e.row.isConsignment||!e.row.isPurchaseUsed,value:e.row.isConsignment?"0":0})}],initialState:{pinnedColumns:{left:["__check__"]}},"data-sentry-element":"WrapperBasicDataGrid","data-sentry-source-file":"ExtraCostBatchSettingModal.tsx"})})]})})}function EE(e){let{searchParams:t,handleSearch:a,settlementMonth:s,allRows:n,columnField:o,columnGroupingHeaders:i,detailTitle:d}=e;const c=(0,$e.P9)(),p=(0,ya.c5)(),[h,f]=(0,r.useState)(!1),[C,x]=(0,r.useState)(!1),[y,E]=(0,r.useState)({isOpened:!1,title:"",description:"",confirmButtonLabel:"확인",confirmButtonType:"normal",confirmClick:()=>null}),{sampleFile:v,handleClickSampleExcelFileDown:A,isSuccessSampleFile:g,handleFileUpload:T,resetUploadList:I,isSuccessExcelResponseList:b,handleValidation:R,isSuccessValidation:S,handleUploadListRegister:_,validationResponseData:w,isSuccessExcelSave:O,dataExcelSave:M,excelResponseList:D}=nE({searchParams:t,settlementMonth:s,handleSearch:a}),{purchaseGlAccountCustomerOptions:j}=Tf({mutationKey:"ExtraCostSettingModal",isActived:h}),{mutateAsync:P,isSuccess:L,data:B}=Wy(),{mutateAsync:U,...V}=Jy(),{mutateAsync:F,...G}=$y(),{mutateAsync:k,...Y}=eE(),q=()=>t.customerId?!!t.settlementMonthlyCustomerCostCenterId||(c({message:"코스트센터를 선택해 주세요.",type:"caution"}),!1):(c({message:"화주를 선택해 주세요.",type:"caution"}),!1),W=async()=>{const e=n.getSelectedRows(),a=Array.from(n.getRowModels().entries()),l=Array.from(e.values());await k({settlementMonth:s,request:{customerId:t.customerId,monthlyVehicleInfos:l.map((e=>{const t=a.findIndex((t=>{let[,a]=t;return a._id_===e._id_}));return{rowNum:t+1,vendorVehicleId:e.vendorVehicleId,monthlyRateGroupId:e.settlementMonthlyRateGroupId}}))}})},H=async()=>{const e=n.getRowModels(),t=Array.from(e.values()),a=t.map(((e,t)=>{const a={rowNum:t+1,settlementMonthlyRateGroupId:e.settlementMonthlyRateGroupId,vendorVehicleId:e.vendorVehicleId,purchaseItems:[],salesItems:[],consignmentItems:[]};return Object.entries(e).forEach((e=>{let[t,l]=e;if(""===l||null==l)return;const r=t.match(/(purchase|sales|consignment)(\d+)/);if(!r)return;const[,s,n]=r;a["".concat(s,"Items")].push({extraCostConfigId:Number(n),amount:Number(l)})})),a}));await U({settlementMonth:s,request:a})};return $h({toast:c,tmsAlert:p,apiRest:V,successMsg:"월대 정산 추가 운임 저장되었습니다.",successFunction:()=>{E({isOpened:!1}),a()},errorTitle:"월대 정산 추가 운임 저장에 실패했습니다."}),$h({toast:c,tmsAlert:p,apiRest:G,successMsg:"월대 정산 추가 운임 삭제되었습니다.",successFunction:()=>{E({isOpened:!1}),a()},errorTitle:"월대 정산 추가 운임 삭제에 실패했습니다."}),$h({toast:c,tmsAlert:p,apiRest:Y,successMsg:"거래명세서 발송이 완료되었습니다.",successFunction:()=>{E({isOpened:!1}),a()},errorTitle:"거래명세서 발송에 실패했습니다."}),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"border-grey90 absolute bottom-0 ml-auto flex w-full min-w-[900px] items-center justify-end gap-[8px] border-t-[1px] bg-white px-[40px] py-[12px]",children:[(0,l.jsx)(MC,{label:"거래명세서 발송",handleInvite:()=>{if(!q())return;const e=n.getSelectedRows(),t=Array.from(e.values());0!==t.length?E({isOpened:!0,title:"총 ".concat(t.length,"명에게 거래명세서를 발송하시겠습니까?"),description:"위수탁 / 개별 차주에게 거래명세서가 전송됩니다.</br>(협력사는 제외됩니다)",confirmButtonLabel:"발송하기",confirmClick:W}):c({message:"항목을 선택해주세요",type:"caution"})},"data-sentry-element":"TmsDataGridInviteRowBtn","data-sentry-source-file":"VehicleMonthlyFooter.tsx"}),(0,l.jsx)(u.A,{label:"추가 운임 항목 설정",level:m.V.level_5,size:m.M.Small,leftIcon:(0,l.jsx)(ga,{width:16,height:16,className:"text-warmGrey50"}),onClick:()=>{q()&&f(!0)},"data-sentry-element":"TmsBasicButton","data-sentry-source-file":"VehicleMonthlyFooter.tsx"}),(0,l.jsx)(u.A,{label:"추가 운임 일괄 적용",level:m.V.level_5,size:m.M.Small,leftIcon:(0,l.jsx)(Pt.A,{widht:16,height:16,className:"text-warmGrey50"}),onClick:()=>{if(!q())return;const e=n.getSelectedRows();0!==Array.from(e.values()).length?x(!0):c({message:"항목을 선택해주세요",type:"caution"})},"data-sentry-element":"TmsBasicButton","data-sentry-source-file":"VehicleMonthlyFooter.tsx"}),(0,l.jsx)("div",{className:"bg-grey90 h-[12px] w-[1px]"}),(0,l.jsx)(al,{title:(0,l.jsxs)("div",{className:"flex gap-[8px]",children:["엑셀 업로드",(0,l.jsxs)("div",{className:"Body5_M text-grey50 flex items-center gap-[8px]",children:[(0,l.jsxs)("div",{children:[d.customerName," ",d.customerMdmCode]}),(0,l.jsx)("div",{className:"bg-grey90 h-[12px] w-[1px]"}),(0,l.jsxs)("div",{className:"flex items-center gap-[4px]",children:[(0,l.jsx)("span",{className:"text-secondary50",children:"매입"})," ",d.purchaseMdmCostCenterName,(0,l.jsx)("div",{className:"bg-grey50 h-[4px] w-[4px] rounded-full"}),(0,l.jsx)("span",{className:"text-tertiary50",children:"매출"})," ",d.salesMdmCostCenterName]})]})]}),editMode:"cell",columnGroupingModel:i,columns:hE({columnField:o}),excelDownload:{excelData:v,handleExcelDownload:A,fileName:"(양식)월대 차량 정산(Admin)",isSuccess:g},excelUpload:{isValidUploadClick:()=>!!q(),setExcelFile:T,excelResponseList:D,resetList:I,isSuccess:b},excelValidation:{checkValidation:R,isSuccess:S,excelValidationResponseList:null==w?void 0:w.validationResultList},uploadListRegister:{setExcelUploadList:_,isSuccess:O,successMessage:{dataName:"월대 차량 정산",successCount:null==M?void 0:M.successCount}},"data-sentry-element":"ExcelUploadModal","data-sentry-source-file":"VehicleMonthlyFooter.tsx"}),(0,l.jsx)(We,{label:"엑셀 다운로드",excelFileName:"월대 차량 정산",excelData:B,isSuccessExcel:L,handleExcelDownload:async()=>{q()&&await P({settlementMonth:s,request:{customerId:Number(t.customerId),settlementMonthlyCustomerCostCenterId:t.settlementMonthlyCustomerCostCenterId,plateNumber:t.plateNumber,vehicleGroupName:t.vehicleGroupName}})},"data-sentry-element":"TmsBasicDataGridExcelDownload","data-sentry-source-file":"VehicleMonthlyFooter.tsx"}),(0,l.jsx)("div",{className:"bg-grey90 h-[12px] w-[1px]"}),(0,l.jsx)(ja,{handleDeleteComplete:async()=>{if(!q())return;const e=n.getSelectedRows();if(0===Array.from(e.keys()).length)return void c({message:"삭제할 항목을 선택해주세요",type:"caution"});const t=Array.from(n.getRowModels().entries()),a=Array.from(e.values());await F({settlementMonth:s,request:a.map((e=>{const a=t.findIndex((t=>{let[,a]=t;return a._id_===e._id_}));return{rowNum:a+1,settlementMonthlyRateGroupId:e.settlementMonthlyRateGroupId,vendorVehicleId:e.vendorVehicleId}}))})},"data-sentry-element":"TmsDataGridDeleteCompleteBtn","data-sentry-source-file":"VehicleMonthlyFooter.tsx"}),(0,l.jsx)(_t.A,{handleSave:()=>{q()&&E({isOpened:!0,title:"월대 차량 정산 내역을 저장하시겠습니까?",description:"입력한 내용이 저장됩니다. 정산 확정 전까지는 수정 가능합니다.",confirmButtonLabel:"저장",confirmClick:H})},"data-sentry-element":"TmsDataGridSaveBtn","data-sentry-source-file":"VehicleMonthlyFooter.tsx"})]}),h&&(0,l.jsx)(NE,{searchParams:t,handleSearchProps:a,setIsOpenedExtraCostSettingModal:f,purchaseGlAccountCustomerOptions:j,settlementMonth:s}),C&&(0,l.jsx)(yE,{searchParams:t,handleSearchProps:a,setIsOpenedExtraCostSettingBatchModal:x,settlementMonth:s,selectedRows:Array.from(n.getSelectedRows().values())}),y.isOpened&&(0,l.jsx)(N,{title:y.title,description:y.description,confirmButtonLabel:y.confirmButtonLabel,onClickCloseButton:()=>E({isOpened:!1}),onClickConfirmButton:y.confirmClick,confirmButtonType:y.confirmButtonType})]})}oE.KQ.register({family:"NotoSansKR",src:"/fonts/NotoSansKR-VariableFont_wght.ttf"}),oE.KQ.register({family:"NotoSansKR",src:"/fonts/static/NotoSansKR-Bold.ttf",fontWeight:"bold"}),oE.KQ.register({family:"NotoSansKR",src:"/fonts/static/NotoSansKR-Light.ttf",fontWeight:"light"});const vE=oE.vv.create({page:{padding:24,fontSize:12,fontFamily:"NotoSansKR",fontWeight:"light"},section:{marginBottom:16},title:{fontSize:22,fontWeight:700,marginBottom:4,fontFamily:"NotoSansKR"},subtitle:{fontSize:14,fontWeight:600,marginBottom:8,fontFamily:"NotoSansKR"},table:{borderStyle:"solid",borderWidth:1.5,borderColor:"#2065CC",marginBottom:5,paddingBottom:"25px",fontFamily:"NotoSansKR",minHeight:"390px",maxHeight:"auto"},tableRed:{borderStyle:"solid",borderWidth:1.5,borderColor:"#B0200A",marginBottom:5,paddingBottom:"25px",fontFamily:"NotoSansKR",minHeight:"390px",maxHeight:"auto"},tableGray:{width:"100%",borderColor:"#6b7280",fontFamily:"NotoSansKR"},tableRow:{flexDirection:"row"},tableCellHeader:{borderStyle:"solid",borderBottom:1.5,borderColor:"#2065CC",fontWeight:"bold",backgroundColor:"#D4E5FF",flex:1,textAlign:"center",fontFamily:"NotoSansKR",color:"#2065CC",padding:2,fontSize:10},tableCellSubHeader:{borderStyle:"solid",borderRight:1.5,borderRightColor:"#2065CC",borderBottom:1.5,borderBottomColor:"#2065CC",fontWeight:"bold",backgroundColor:"#F0F6FF",flex:1,textAlign:"center",fontFamily:"NotoSansKR",color:"#2065CC",padding:2,fontSize:9},tableCellSubHeaderLast:{fontWeight:"bold",backgroundColor:"#F0F6FF",borderBottom:1.5,borderBottomColor:"#2065CC",flex:1,textAlign:"center",fontFamily:"NotoSansKR",color:"#2065CC",padding:2,fontSize:9},tableCellHeaderRed:{borderBottom:1.5,borderBottomColor:"#B0200A",fontWeight:"bold",backgroundColor:"#FCE1DE",flex:1,textAlign:"center",fontFamily:"NotoSansKR",color:"#B0200A",padding:2,fontSize:9},tableCellSubHeaderRed:{borderBottom:1.5,borderBottomColor:"#B0200A",fontWeight:"bold",backgroundColor:"#FFF0F0",flex:1,textAlign:"center",fontFamily:"NotoSansKR",color:"#B0200A",padding:2,fontSize:9},tableCellHeaderRedLast:{borderRight:1.5,borderRightColor:"#B0200A",borderBottom:1.5,borderBottomColor:"#B0200A",fontWeight:"bold",backgroundColor:"#FFF0F0",flex:1,textAlign:"center",fontFamily:"NotoSansKR",color:"#B0200A",padding:2,fontSize:9},lastTableCell:{borderColor:"#d1d5db",flex:1,textAlign:"right",fontFamily:"NotoSansKR",padding:2,fontSize:8},lastTableCellTitle:{borderColor:"#d1d5db",flex:1,textAlign:"left",fontFamily:"NotoSansKR",padding:2,fontSize:8},tableCell:{borderStyle:"solid",borderBottom:1,borderBottomColor:"#d1d5db",borderRight:1,borderRightColor:"#d1d5db",flex:1,textAlign:"right",fontFamily:"NotoSansKR",padding:2,fontSize:8},tableCellTitle:{borderStyle:"solid",borderBottom:1,borderBottomColor:"#d1d5db",borderRight:1,borderRightColor:"#d1d5db",flex:1,textAlign:"left",fontFamily:"NotoSansKR",padding:2,fontSize:8},infoTable:{width:"100%",marginBottom:16,fontFamily:"NotoSansKR"},infoRow:{flexDirection:"row"},infoLabel:{width:60,fontWeight:"bold",fontFamily:"NotoSansKR",padding:2,fontSize:9},infoValue:{flex:1,fontFamily:"NotoSansKR",padding:2,fontSize:9},infoRowContainer:{flexDirection:"row",width:"100%",marginBottom:16,gap:10},infoLeft:{flex:1,justifyContent:"flex-start"},infoRight:{flex:1,justifyContent:"flex-start"},dividerBold:{borderBottomWidth:1.5,borderBottomColor:"#111827",width:"100%"},amountBorder:{borderBottomWidth:.5,borderBottomColor:"#111827",width:"100%"},footerRow:{flexDirection:"row",alignItems:"center",margin:5,fontSize:12},footerRowHighlight:{flexDirection:"row",alignItems:"center",padding:5,backgroundColor:"#DEE1E8",fontSize:14},footerLabel:{textAlign:"left",flex:1,fontFamily:"NotoSansKR",fontSize:8},footerAmount:{textAlign:"right",flex:1,fontFamily:"NotoSansKR",fontSize:8},footerLabelBold:{textAlign:"left",flex:1,fontFamily:"NotoSansKR",fontWeight:800,fontSize:14},footerAmountBold:{textAlign:"right",flex:1,fontFamily:"NotoSansKR",fontWeight:800,fontSize:14},noticeRow:{flexDirection:"row",alignItems:"flex-start",width:"100%",marginTop:16,backgroundColor:"#EDEFF5",padding:5},noticeLabel:{width:100,fontWeight:"bold",fontFamily:"NotoSansKR",fontSize:10,marginRight:16},noticeContent:{flex:1,fontFamily:"NotoSansKR",fontSize:8,lineHeight:1.2},noticeItem:{marginBottom:4},thankYouRow:{alignItems:"center",marginTop:15},thankYouText:{fontWeight:"bold",fontFamily:"NotoSansKR",fontSize:10}}),AE=["구분","공급가","부가세"],gE=["구분","금액"],TE=e=>{let{isSuccess:t,data:a}=e;return t?(0,l.jsx)(oE.yo,{"data-sentry-element":"Document","data-sentry-component":"MyPDFDocument","data-sentry-source-file":"index.tsx",children:(0,l.jsxs)(oE.YW,{size:"A4",style:vE.page,"data-sentry-element":"Page","data-sentry-source-file":"index.tsx",children:[(0,l.jsxs)(oE.Ss,{"data-sentry-element":"View","data-sentry-source-file":"index.tsx",children:[(0,l.jsxs)(oE.Ss,{style:vE.infoRowContainer,"data-sentry-element":"View","data-sentry-source-file":"index.tsx",children:[(0,l.jsxs)(oE.Ss,{style:vE.infoLeft,"data-sentry-element":"View","data-sentry-source-file":"index.tsx",children:[(0,l.jsx)(oE.EY,{style:vE.title,"data-sentry-element":"Text","data-sentry-source-file":"index.tsx",children:"운송료 내역서"}),(0,l.jsx)(oE.EY,{style:vE.subtitle,"data-sentry-element":"Text","data-sentry-source-file":"index.tsx",children:je()(a.settlementMonth,"YYYYMM").format("YYYY년 MM월")})]}),(0,l.jsxs)(oE.Ss,{style:vE.infoRight,"data-sentry-element":"View","data-sentry-source-file":"index.tsx",children:[(0,l.jsxs)(oE.Ss,{style:[vE.infoRow,{borderTop:1,borderTopColor:"#d1d5db"}],"data-sentry-element":"View","data-sentry-source-file":"index.tsx",children:[(0,l.jsx)(oE.EY,{style:vE.infoLabel,"data-sentry-element":"Text","data-sentry-source-file":"index.tsx",children:"성명"}),(0,l.jsx)(oE.EY,{style:vE.infoValue,"data-sentry-element":"Text","data-sentry-source-file":"index.tsx",children:a.driverName})]}),(0,l.jsxs)(oE.Ss,{style:[vE.infoRow,{borderTop:1,borderTopColor:"#d1d5db"}],"data-sentry-element":"View","data-sentry-source-file":"index.tsx",children:[(0,l.jsx)(oE.EY,{style:vE.infoLabel,"data-sentry-element":"Text","data-sentry-source-file":"index.tsx",children:"차량번호"}),(0,l.jsx)(oE.EY,{style:vE.infoValue,"data-sentry-element":"Text","data-sentry-source-file":"index.tsx",children:a.plateNumber})]}),(0,l.jsxs)(oE.Ss,{style:[vE.infoRow,{borderTop:1,borderTopColor:"#d1d5db"}],"data-sentry-element":"View","data-sentry-source-file":"index.tsx",children:[(0,l.jsx)(oE.EY,{style:vE.infoLabel,"data-sentry-element":"Text","data-sentry-source-file":"index.tsx",children:"소속"}),(0,l.jsx)(oE.EY,{style:vE.infoValue,"data-sentry-element":"Text","data-sentry-source-file":"index.tsx",children:a.affiliateName})]}),(0,l.jsxs)(oE.Ss,{style:[vE.infoRow,{borderTop:1,borderTopColor:"#d1d5db"}],"data-sentry-element":"View","data-sentry-source-file":"index.tsx",children:[(0,l.jsx)(oE.EY,{style:vE.infoLabel,"data-sentry-element":"Text","data-sentry-source-file":"index.tsx",children:"근무처"}),(0,l.jsx)(oE.EY,{style:vE.infoValue,"data-sentry-element":"Text","data-sentry-source-file":"index.tsx",children:a.customerName})]})]})]}),(0,l.jsxs)(oE.Ss,{style:vE.infoRowContainer,"data-sentry-element":"View","data-sentry-source-file":"index.tsx",children:[(0,l.jsx)(oE.Ss,{style:vE.infoLeft,"data-sentry-element":"View","data-sentry-source-file":"index.tsx",children:(0,l.jsxs)(oE.Ss,{style:vE.table,"data-sentry-element":"View","data-sentry-source-file":"index.tsx",children:[(0,l.jsx)(oE.Ss,{style:vE.tableRow,"data-sentry-element":"View","data-sentry-source-file":"index.tsx",children:(0,l.jsx)(oE.EY,{style:vE.tableCellHeader,"data-sentry-element":"Text","data-sentry-source-file":"index.tsx",children:"운송비 내역"})}),(0,l.jsx)(oE.Ss,{style:vE.tableRow,"data-sentry-element":"View","data-sentry-source-file":"index.tsx",children:AE.map(((e,t)=>(0,l.jsx)(oE.EY,{style:AE.length===t+1?vE.tableCellSubHeaderLast:vE.tableCellSubHeader,children:e},e)))}),a.purchaseItems.map(((e,t)=>{const r=t===a.purchaseItems.length-1;return(0,l.jsxs)(oE.Ss,{style:[vE.tableRow,r&&{borderTopWidth:1,borderTopColor:"#000000",position:"absolute",bottom:0,width:"100%",padding:2}],children:[(0,l.jsx)(oE.EY,{style:[r?vE.lastTableCellTitle:vE.tableCellTitle],children:e.extraCostName}),(0,l.jsx)(oE.EY,{style:[r?vE.lastTableCell:vE.tableCell],children:e.amount.toLocaleString()}),(0,l.jsx)(oE.EY,{style:[r?vE.lastTableCell:vE.tableCell],children:e.vatAmount.toLocaleString()})]},t)}))]})}),(0,l.jsx)(oE.Ss,{style:vE.infoRight,"data-sentry-element":"View","data-sentry-source-file":"index.tsx",children:(0,l.jsxs)(oE.Ss,{style:vE.tableRed,"data-sentry-element":"View","data-sentry-source-file":"index.tsx",children:[(0,l.jsx)(oE.Ss,{style:vE.tableRow,"data-sentry-element":"View","data-sentry-source-file":"index.tsx",children:(0,l.jsx)(oE.EY,{style:vE.tableCellHeaderRed,"data-sentry-element":"Text","data-sentry-source-file":"index.tsx",children:"공제 내역"})}),(0,l.jsx)(oE.Ss,{style:vE.tableRow,"data-sentry-element":"View","data-sentry-source-file":"index.tsx",children:gE.map(((e,t)=>(0,l.jsx)(oE.EY,{style:0===t?vE.tableCellHeaderRedLast:vE.tableCellSubHeaderRed,children:e},e)))}),a.consignmentItems.map(((e,t)=>{const r=t===a.consignmentItems.length-1;return(0,l.jsxs)(oE.Ss,{style:[vE.tableRow,r&&{borderTopWidth:1,borderTopColor:"#000000",position:"absolute",bottom:0,width:"100%",padding:4}],children:[(0,l.jsx)(oE.EY,{style:[r?vE.lastTableCellTitle:vE.tableCellTitle],children:e.extraCostName}),(0,l.jsx)(oE.EY,{style:[r?vE.lastTableCell:vE.tableCell],children:e.amount.toLocaleString()})]},t)}))]})})]})]}),(0,l.jsx)(oE.Ss,{style:vE.dividerBold,"data-sentry-element":"View","data-sentry-source-file":"index.tsx"}),(0,l.jsxs)(oE.Ss,{id:"footer","data-sentry-element":"View","data-sentry-source-file":"index.tsx",children:[(0,l.jsxs)(oE.Ss,{id:"sales",style:vE.footerRow,"data-sentry-element":"View","data-sentry-source-file":"index.tsx",children:[(0,l.jsx)(oE.EY,{id:"label",style:vE.footerLabel,"data-sentry-element":"Text","data-sentry-source-file":"index.tsx",children:"운송비 내역 (A)"}),(0,l.jsx)(oE.EY,{id:"amount",style:vE.footerAmount,"data-sentry-element":"Text","data-sentry-source-file":"index.tsx",children:a.totalPurchaseAmount.toLocaleString()})]}),(0,l.jsx)(oE.Ss,{style:vE.amountBorder,"data-sentry-element":"View","data-sentry-source-file":"index.tsx"}),(0,l.jsxs)(oE.Ss,{id:"purchases",style:vE.footerRow,"data-sentry-element":"View","data-sentry-source-file":"index.tsx",children:[(0,l.jsx)(oE.EY,{id:"label",style:vE.footerLabel,"data-sentry-element":"Text","data-sentry-source-file":"index.tsx",children:"공제 내역 (B)"}),(0,l.jsx)(oE.EY,{id:"amount",style:vE.footerAmount,"data-sentry-element":"Text","data-sentry-source-file":"index.tsx",children:a.totalConsignmentAmount.toLocaleString()})]}),(0,l.jsxs)(oE.Ss,{id:"totalAmount",style:vE.footerRowHighlight,"data-sentry-element":"View","data-sentry-source-file":"index.tsx",children:[(0,l.jsx)(oE.EY,{id:"label",style:vE.footerLabel,"data-sentry-element":"Text","data-sentry-source-file":"index.tsx",children:(0,l.jsx)(oE.EY,{style:vE.footerLabelBold,"data-sentry-element":"Text","data-sentry-source-file":"index.tsx",children:"실 지급액(A-B)"})}),(0,l.jsxs)(oE.EY,{id:"amount",style:vE.footerAmount,"data-sentry-element":"Text","data-sentry-source-file":"index.tsx",children:[(0,l.jsx)(oE.EY,{style:[{display:"flex",fontSize:9,justifyContent:"center"}],"data-sentry-element":"Text","data-sentry-source-file":"index.tsx",children:"VAT 포함"}),(0,l.jsxs)(oE.EY,{style:vE.footerAmountBold,"data-sentry-element":"Text","data-sentry-source-file":"index.tsx",children:["₩",a.totalActualAmount.toLocaleString()]})]})]}),(0,l.jsxs)(oE.Ss,{style:vE.noticeRow,"data-sentry-element":"View","data-sentry-source-file":"index.tsx",children:[(0,l.jsx)(oE.EY,{id:"label",style:vE.noticeLabel,"data-sentry-element":"Text","data-sentry-source-file":"index.tsx",children:"공지사항"}),(0,l.jsxs)(oE.Ss,{id:"content",style:vE.noticeContent,"data-sentry-element":"View","data-sentry-source-file":"index.tsx",children:[(0,l.jsx)(oE.EY,{style:vE.noticeItem,"data-sentry-element":"Text","data-sentry-source-file":"index.tsx",children:"1. 차량 사고 시, 시간 상관없이 담당자에게 즉시 보고바랍니다."}),(0,l.jsx)(oE.EY,{style:vE.noticeItem,"data-sentry-element":"Text","data-sentry-source-file":"index.tsx",children:"2. 자동차정기검사기간 자체 확인 및 기간 내 검사 요청드립니다."}),(0,l.jsx)(oE.EY,{style:vE.noticeItem,"data-sentry-element":"Text","data-sentry-source-file":"index.tsx",children:"3. 과태료 체납방지 위해 기관(시/구청 교통정책과 등)에 주기적 문의바랍니다."})]})]}),(0,l.jsx)(oE.Ss,{style:vE.thankYouRow,"data-sentry-element":"View","data-sentry-source-file":"index.tsx",children:(0,l.jsx)(oE.EY,{style:vE.thankYouText,"data-sentry-element":"Text","data-sentry-source-file":"index.tsx",children:"귀하의 노고에 감사드립니다."})})]})]})}):null};var IE=function(){const e=tE();return(0,r.useEffect)((()=>{e.mutateAsync({settlementMonth:"202510",data:{customerId:17145,vendorVehicleId:625077,monthlyRateGroupId:1}})}),[]),(0,l.jsxs)("div",{className:"pdf-container","data-sentry-component":"PDFTemplate","data-sentry-source-file":"index.tsx",children:[(0,l.jsx)("div",{style:{marginBottom:16},children:(0,l.jsx)(oE.XP,{document:(0,l.jsx)(TE,{isSuccess:e.isSuccess,data:e.data}),fileName:"운송료 내역서.pdf","data-sentry-element":"PDFDownloadLink","data-sentry-source-file":"index.tsx",children:e=>{let{loading:t}=e;return t?"PDF 생성 중...":"PDF 다운로드 버튼 Click!!"}})}),(0,l.jsx)("div",{style:{height:600,border:"1px solid #e5e7eb",marginBottom:16},children:(0,l.jsx)(oE.TO,{width:"100%",height:"100%","data-sentry-element":"PDFViewer","data-sentry-source-file":"index.tsx",children:(0,l.jsx)(TE,{isSuccess:e.isSuccess,data:{settlementMonth:"202510",driverName:"삼일",plateNumber:"인천85아2935",affiliateName:"CJ대한통운",customerName:"(주)제이엠씨",totalPurchaseAmount:5500,totalConsignmentAmount:0,totalActualAmount:5500,purchaseItems:[{extraCostName:"기본운송료",amount:5e3,vatAmount:500},{extraCostName:"기본운송료",amount:5e3,vatAmount:500},{extraCostName:"기본운송료",amount:5e3,vatAmount:500},{extraCostName:"기본운송료",amount:5e3,vatAmount:500},{extraCostName:"기본운송료",amount:5e3,vatAmount:500},{extraCostName:"기본운송료",amount:5e3,vatAmount:500},{extraCostName:"기본운송료",amount:5e3,vatAmount:500},{extraCostName:"기본운송료",amount:5e3,vatAmount:500},{extraCostName:"기본운송료",amount:5e3,vatAmount:500},{extraCostName:"기본운송료",amount:5e3,vatAmount:500},{extraCostName:"기본운송료",amount:5e3,vatAmount:500},{extraCostName:"기본운송료",amount:5e3,vatAmount:500},{extraCostName:"기본운송료",amount:5e3,vatAmount:500},{extraCostName:"기본운송료",amount:5e3,vatAmount:500},{extraCostName:"기본운송료",amount:5e3,vatAmount:500},{extraCostName:"기본운송료",amount:5e3,vatAmount:500},{extraCostName:"기본운송료",amount:5e3,vatAmount:500},{extraCostName:"기본운송료",amount:5e3,vatAmount:500},{extraCostName:"기본운송료",amount:5e3,vatAmount:500},{extraCostName:"기본운송료",amount:5e3,vatAmount:500},{extraCostName:"기본운송료",amount:5e3,vatAmount:500},{extraCostName:"기본운송료",amount:5e3,vatAmount:500},{extraCostName:"기본운송료",amount:5e3,vatAmount:500},{extraCostName:"기본운송료",amount:5e3,vatAmount:500},{extraCostName:"합계(A)",amount:5e3,vatAmount:500}],consignmentItems:[{extraCostName:"기본운송료",amount:5e3,vatAmount:500},{extraCostName:"기본운송료",amount:5e3,vatAmount:500},{extraCostName:"기본운송료",amount:5e3,vatAmount:500},{extraCostName:"기본운송료",amount:5e3,vatAmount:500},{extraCostName:"기본운송료",amount:5e3,vatAmount:500},{extraCostName:"기본운송료",amount:66e3,vatAmount:566600},{extraCostName:"4324",amount:66e3,vatAmount:566600},{extraCostName:"합계(B)",amount:0,vatAmount:0}]},"data-sentry-element":"MyPDFDocument","data-sentry-source-file":"index.tsx"})})})]})};var bE=function(){return(0,l.jsxs)(xt.A,{"data-sentry-element":"SearchContainer","data-sentry-component":"VisibilityRealTimeFilter","data-sentry-source-file":"VisibilityRealTimeFilter.tsx",children:[(0,l.jsx)(Ve.A.AllMetaAutocompleteSearch,{allMetaType:Ze.k.COMMON_MDM_CORPORATION_CODE,label:"인사조직",className:"!w-[274px]","data-sentry-element":"SearchFilter.AllMetaAutocompleteSearch","data-sentry-source-file":"VisibilityRealTimeFilter.tsx"}),(0,l.jsx)(Ve.A.SearchMultiAutocomplete,{label:"운행 상태",fieldName:"visibilityStatusTypeList",options:[{id:"DRIVING",label:"운행중",tag:"운행중"},{id:"NON_DRIVING",label:"미운행",tag:"미운행"},{id:"HOLDING",label:"장기정차",tag:"장기정차"},{id:"DISCONNECTING",label:"통신단절",tag:"통신단절"}],className:"!w-[274px]",limitTags:2,"data-sentry-element":"SearchFilter.SearchMultiAutocomplete","data-sentry-source-file":"VisibilityRealTimeFilter.tsx"}),(0,l.jsx)(Ve.A.SearchText,{label:"차량번호",placeholder:"차량번호 입력",fieldName:"searchPlateNumber",className:"!w-[274px]","data-sentry-element":"SearchFilter.SearchText","data-sentry-source-file":"VisibilityRealTimeFilter.tsx"}),(0,l.jsx)(Ve.A.AllMetaAutocompleteSearch,{allMetaType:Ze.k.VENDOR_TYPE,label:"차주 유형",className:"!w-[274px]",isUseAllOption:!1,"data-sentry-element":"SearchFilter.AllMetaAutocompleteSearch","data-sentry-source-file":"VisibilityRealTimeFilter.tsx"}),(0,l.jsx)(Ve.A.AllMetaMultiAutocompleteSearch,{allMetaType:Ze.k.VEHICLE_TYPE,label:"차종",className:"!w-[127px]","data-sentry-element":"SearchFilter.AllMetaMultiAutocompleteSearch","data-sentry-source-file":"VisibilityRealTimeFilter.tsx"}),(0,l.jsx)(Ve.A.AllMetaMultiAutocompleteSearch,{allMetaType:Ze.k.VEHICLE_TON_CODE,label:"톤급",className:"!w-[127px]","data-sentry-element":"SearchFilter.AllMetaMultiAutocompleteSearch","data-sentry-source-file":"VisibilityRealTimeFilter.tsx"})]})};var RE,SE;function _E(){return _E=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},_E.apply(null,arguments)}var wE,OE,ME=function(e){return r.createElement("svg",_E({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},e),RE||(RE=r.createElement("g",{clipPath:"url(#icon-visibility-on_svg__a)"},r.createElement("path",{fill:"#16171B",fillRule:"evenodd",d:"M.01 11.91C.37 11.04 3.55 4 12 4h-.01c8.44 0 11.63 7.04 11.99 7.91q.03.09 0 .18c-.36.87-3.55 7.91-11.99 7.91S.37 12.96.01 12.09a.28.28 0 0 1 0-.18m1.73.09c.84 1.68 3.78 6.4 10.26 6.4 6.49 0 9.43-4.72 10.27-6.4-.84-1.68-3.79-6.4-10.27-6.4S2.58 10.32 1.74 12M7 12c0-2.76 2.24-5 5-5s5 2.24 5 5-2.24 5-5 5-5-2.24-5-5m1.6 0c0 1.87 1.53 3.4 3.4 3.4s3.4-1.53 3.4-3.4-1.53-3.4-3.4-3.4A3.41 3.41 0 0 0 8.6 12",clipRule:"evenodd"}))),SE||(SE=r.createElement("defs",null,r.createElement("clipPath",{id:"icon-visibility-on_svg__a"},r.createElement("path",{fill:"#fff",d:"M0 0h24v24H0z"})))))};function DE(){return DE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},DE.apply(null,arguments)}var jE=function(e){return r.createElement("svg",DE({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},e),r.createElement("mask",{id:"icon-visibility-off_svg__a",width:24,height:24,x:0,y:0,maskUnits:"userSpaceOnUse",style:{maskType:"alpha"}},wE||(wE=r.createElement("path",{fill:"#D9D9D9",d:"M0 0h24v24H0z"}))),OE||(OE=r.createElement("g",{mask:"url(#icon-visibility-off_svg__a)"},r.createElement("path",{fill:"#16171B",fillRule:"evenodd",d:"M20.357 7.028c-.39-.34-.83-.66-1.29-.971l2.849-2.851c.1-.1.1-.26 0-.36l-.77-.771c-.1-.1-.26-.1-.36 0L2.074 20.795c-.1.1-.1.26 0 .36l.77.77c.1.1.26.1.36 0l3.168-3.172c.51.24 1.04.47 1.62.64 1.18.38 2.509.601 4.008.601 8.436 0 11.625-7.043 11.985-7.914q.03-.09 0-.18c-.2-.48-1.27-2.871-3.628-4.882zm-4.958 4.962c0 1.88-1.53 3.412-3.399 3.412h-.01c-.65 0-1.24-.19-1.76-.51l4.659-4.663c.32.51.51 1.1.51 1.751zM12 18.403c-.98 0-1.88-.11-2.709-.3-.61-.14-1.17-.34-1.7-.56l1.49-1.491c.45.33.96.59 1.52.75A5.002 5.002 0 0 0 17.008 12c0-.49-.07-.96-.2-1.41-.16-.551-.42-1.061-.75-1.511l1.85-1.851c.48.29.93.6 1.329.94 1.66 1.39 2.609 3.002 3.039 3.842-.85 1.68-3.789 6.403-10.266 6.403zm-8.367-1.43 1.13-1.131C3.113 14.452 2.164 12.84 1.734 12 2.584 10.32 5.523 5.597 12 5.597c.98 0 1.88.11 2.699.3l1.3-1.3c-1.18-.38-2.51-.601-3.999-.601C3.554 3.996.375 11.04.015 11.91q-.03.09 0 .18c.2.48 1.27 2.861 3.618 4.883M7.202 13.4a4.996 4.996 0 0 1 6.197-6.203L12 8.598A3.404 3.404 0 0 0 8.601 12z",clipRule:"evenodd"}))))};const PE={CARGO:"카고",CARGO_WING:"카고+윙바디",CARGO_TRACTOR:"카고+트렉터",WING_BODY:"윙바디",REFRIGERATED:"냉장탑",FREEZER:"냉동탑",DUMP:"덤프",TRACTOR:"트랙터",TANK_LORRY:"탱크로리",ALL_TYPES:"전차종(기타)",MULTIPLE_TYPES:"복수차종"},LE={DRIVING:"운행중",NON_DRIVING:"미운행",HOLDING:"장기정차",DISCONNECTING:"통신단절"},BE={"0003":"0.3톤","0005":"0.5톤","0010":"1톤","0014":"1.4톤","0025":"2.5톤","0035":"3.5톤","0040":"3.5톤 광폭","0045":"4.5톤","0050":"5톤","0060":"5톤축","0080":"8톤","0085":"8톤축","0095":"9.5톤","0110":"11톤","0140":"14톤","0145":"14.5톤","0150":"15톤","0165":"16.5톤","0180":"18톤","0190":"19톤","0210":"21톤","0225":"22.5톤","0230":"23톤","0240":"24톤","0245":"24.5톤","0250":"25톤","0255":"25.5톤"},UE={DRIVER:"개인 차주",PARTNER:"파트너(13코드)",NORMAL_PARTNER:"파트너(10코드)",CONSIGNMENT:"위수탁"};var VE=function(e){let{index:t,plateNumber:a,driverPhoneNumber:s,vendorDriverId:n,driverName:o,tonCode:i,visibilityStatusType:d,vendorVehicleId:c,vehicleType:p,vendorType:h,address:f,handleMaskingClick:C,handleDetailClick:x,isSelected:N,isMasking:y}=e;const[E,v]=r.useState(y),A=async e=>{e.stopPropagation(),v(!1),C(n)},g=N?"bg-[#F0F6FF]":"";return(0,l.jsx)("li",{className:"{h-[96px] border-b-[1px] border-[#16171B14] pb-[12px] pl-[16px] pr-[16px] pt-[12px] ".concat(g),onClick:()=>{x(c)},"data-sentry-component":"VisibilityRealTImeListItem","data-sentry-source-file":"VisibilityRealTImeListItem.tsx",children:(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"mr-[4px] text-[15px] font-bold",children:a}),(0,l.jsxs)("span",{className:"text-[12px] text-[#868C98]",children:[PE[p]," ",BE[i]]}),(0,l.jsx)("span",{className:"text-[#868C98]"})]}),(0,l.jsxs)("div",{className:"flex items-center gap-[4px]",children:[(0,l.jsx)("div",{className:"h-[6px] w-[6px] rounded-lg ".concat({DRIVING:"bg-[#287EFF]",NON_DRIVING:"bg-[#868C98]",HOLDING:"bg-[#F1A107]",DISCONNECTING:"bg-[#DC2F0C]"}[d])}),(0,l.jsx)("span",{className:"text-[14px] font-bold ".concat({DRIVING:"text-[#287EFF]",NON_DRIVING:"text-[#868C98]",HOLDING:"text-[#F1A107]",DISCONNECTING:"text-[#DC2F0C]"}[d]),children:LE[d]})]})]}),(0,l.jsxs)("div",{className:"flex items-center text-[13px] text-[#636874]",children:[(0,l.jsx)("span",{className:"mr-[4px] text-[13px] font-bold",children:UE[h]}),(0,l.jsxs)("div",{className:"flex items-center rounded-[100px] bg-[#EDEFF5] pl-[6px] pr-[2px]",children:[(0,l.jsx)("span",{children:o}),(0,l.jsxs)("span",{children:["(",s,")"]}),E?(0,l.jsx)(u.A,{level:m.V.level_6,size:m.M.Xsmall,leftIcon:(0,l.jsx)(jE,{width:16,height:16}),onClick:A}):(0,l.jsx)(u.A,{level:m.V.level_6,size:m.M.Xsmall,leftIcon:(0,l.jsx)(ME,{width:16,height:16}),onClick:A})]})]}),(0,l.jsxs)("div",{className:"flex items-center text-[13px]",children:[(0,l.jsx)("div",{className:"flex h-[14px] w-[14px] items-center justify-center rounded-lg border-blue-500 bg-[#287EFF33] bg-blue-500",children:(0,l.jsx)("div",{className:"h-[6px] w-[6px] rounded-lg bg-[#287EFF]"})}),(0,l.jsx)("span",{className:"m-[4px] text-[#287EFF]",children:"현위치"}),(0,l.jsx)("span",{children:f})]})]})},t)};var FE=function(e){let{orderTransferInfoList:t}=e;return(0,l.jsx)(l.Fragment,{children:null==t?void 0:t.map((e=>"DEPARTURE"===e.placeType?(0,l.jsx)(r.Fragment,{children:(0,l.jsxs)("div",{className:"flex gap-[12px]",children:[(0,l.jsxs)("div",{className:"flex flex-col items-center",children:[(0,l.jsx)("span",{className:"h-[15px] w-[1.5px] bg-[#BBC3FF]"}),(0,l.jsx)("span",{className:"h-[24px] w-[40px] rounded-xl border border-[#122699] p-[2px] text-center text-[13px] font-bold text-[#122699]",children:"상차"}),(0,l.jsx)("span",{className:"h-[37px] w-[1.5px] bg-[#BBC3FF]"})]}),(0,l.jsxs)("div",{className:"flex flex-col pt-[16px] text-[#16171B]",children:[(0,l.jsx)("span",{className:"text-[15px] font-bold",children:e.placeName}),(0,l.jsx)("span",{className:"text-[13px]",children:e.placeAddress}),(0,l.jsxs)("span",{className:"text-[11px] text-[#868C98]",children:["상차 요청 ",e.arrivalRequestAt]})]})]})},e.sequence):"ARRIVAL"===e.placeType?(0,l.jsx)(r.Fragment,{children:(0,l.jsxs)("div",{className:"flex gap-[12px]",children:[(0,l.jsxs)("div",{className:"flex flex-col items-center",children:[(0,l.jsx)("span",{className:"absolute h-[11px] w-[1.5px] bg-[#BBC3FF]"}),(0,l.jsx)("div",{className:"mb-[5px] h-[10px] w-[10px] rotate-[-45deg] border-b-[1.5px] border-l-[1.5px] border-b-[#BBC3FF] border-l-[#BBC3FF]"}),(0,l.jsx)("span",{className:"h-[24px] w-[40px] rounded-xl bg-[#122699] p-[2px] text-center text-[13px] font-bold text-[#fff]",children:"하차"})]}),(0,l.jsxs)("div",{className:"flex flex-col pt-[16px] text-[#16171B]",children:[(0,l.jsx)("span",{className:"text-[15px] font-bold",children:e.placeName}),(0,l.jsx)("span",{className:"text-[13px]",children:e.placeAddress}),(0,l.jsxs)("span",{className:"text-[11px] text-[#868C98]",children:["하차 요청 ",e.arrivalRequestAt]})]})]})},e.sequence):(0,l.jsx)(r.Fragment,{children:(0,l.jsxs)("div",{className:"flex gap-[12px]",children:[(0,l.jsxs)("div",{className:"flex flex-col items-center",children:[(0,l.jsx)("span",{className:"h-[15px] w-[1.5px] bg-[#BBC3FF]"}),(0,l.jsx)("span",{className:"h-[24px] w-[40px] rounded-xl border border-[#122699] bg-[#EEEDFF] p-[2px] text-center text-[13px] font-bold text-[#122699]",children:"경유1"}),(0,l.jsx)("span",{className:"h-[19px] w-[1.5px] bg-[#BBC3FF]"})]}),(0,l.jsxs)("div",{className:"flex flex-col pt-[16px] text-[#16171B]",children:[(0,l.jsx)("span",{className:"text-[15px] font-bold",children:"인천 1센터"}),(0,l.jsx)("span",{className:"text-[13px]",children:"인천 부평구 부개2동 1139번길"})]})]})},e.sequence)))})};var GE=function(e){let{detail:t,order:a,selectedOrder:r,setSelectedOrder:s,setOpen:n}=e;var o;return(0,l.jsxs)("div",{className:"border-blue50 absolute left-[380px] top-[95px] z-50 flex h-[calc(100vh-200px)] w-[372px] flex-col rounded-2xl border-2 bg-white","data-sentry-component":"VisibilityRealTimeDetail","data-sentry-source-file":"VisibilityRealTimeDetail.tsx",children:[(0,l.jsxs)("div",{className:"flex justify-between p-[20px]",children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex items-center gap-2 text-center",children:[(0,l.jsx)("span",{className:"text-lg font-bold",children:null==t?void 0:t.plateNumber}),(0,l.jsxs)("span",{className:"text-[13px] text-[#868C98]",children:[PE[null==t?void 0:t.vehicleType]," ",BE[null==t?void 0:t.tonCode]]})]}),(0,l.jsx)("div",{className:"text-[13px] text-[#444855]",children:(0,l.jsx)("span",{children:"".concat(UE[null==t?void 0:t.vendorType]," - ").concat(null==t?void 0:t.driverName,"(").concat(null==t?void 0:t.driverPhoneNumber,")")})})]}),(0,l.jsx)("div",{children:(0,l.jsx)("button",{onClick:()=>{n(!1),s(null)},children:(0,l.jsx)(ie.A,{width:24,height:24,"data-sentry-element":"CloseIcon","data-sentry-source-file":"VisibilityRealTimeDetail.tsx"})})})]}),(0,l.jsxs)("div",{className:"flex h-[64px] items-center bg-[#EDEFF5] p-[20px]",children:[(0,l.jsx)("div",{className:"flex h-[14px] w-[14px] items-center justify-center rounded-lg border-blue-500 bg-[#287EFF33] bg-blue-500",children:(0,l.jsx)("div",{className:"h-[6px] w-[6px] rounded-lg bg-[#287EFF]"})}),(0,l.jsx)("span",{className:"text-[13px] text-[#287EFF]",children:"현위치"}),(0,l.jsx)("span",{className:"ml-[8px] font-bold",children:null==t?void 0:t.address})]}),c().isEmpty(null==t?void 0:t.orderTransferInfoList)?(0,l.jsxs)("div",{className:"flex flex-1 flex-col items-center justify-center",children:[(0,l.jsx)(Wi.A,{className:"mb-[10px] h-[24px] w-[24px] fill-[#868C98]"}),(0,l.jsx)("span",{className:"text-[14px] font-bold text-[#868C98]",children:"당일 상차 주문이 없습니다."})]}):(0,l.jsxs)("div",{className:"flex flex-col p-[20px]",children:[(0,l.jsxs)("div",{className:"color-[#868C98] flex items-center justify-between border-b-[1.5px] border-[#BBC3FF] pb-[20px]",children:[(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsxs)("span",{className:"text-[16px] font-bold",children:[null==t||null===(o=t.orderTransferInfoList.find((e=>e.orderTransferId===r)))||void 0===o?void 0:o.orderTransferNo,(0,l.jsxs)("span",{className:"ml-[4px] rounded-md bg-[#EDEFF5] pl-[4px] pr-[4px] text-[13px] text-[#287EFF]",children:[null==t?void 0:t.orderCompletedCount,"/",null==t?void 0:t.orderTotalCount]})]}),(0,l.jsx)("span",{className:"text-[13px] text-[#868C98]",children:null==t?void 0:t.orderTransferInfoList[0].customerName})]}),(null==t?void 0:t.orderTransferInfoList.length)>1?(0,l.jsx)(xi.A,{optionsBoxWidth:100,options:null==t?void 0:t.orderOptions,onChange:e=>{s(e.target.value)},defaultValue:null==t?void 0:t.orderOptions[0].id}):(0,l.jsxs)("span",{className:"text-[13px] font-bold",children:["상차 ",(0,l.jsx)("span",{className:"text-[#287EFF]",children:"".concat(null==t?void 0:t.orderTransferInfoList.length,"건")})]})]}),(0,l.jsx)(FE,{orderTransferInfoList:null==a?void 0:a.orderTransferInfoList})]})]})};var kE=function(e){let{vehicleList:t,selectedDetail:a,selectedOrder:s,open:n,setSelectedOrder:o,setSelectedDetail:i,setOpen:d,detail:u,order:m}=e;const p=(0,Ex.jE)(),{params:h,setParams:f}=(0,di.W)(),[C,x]=(0,r.useState)(!1),N=je()().subtract(1,"year"),{mutateAsync:y}=(e=>{let{onSuccess:t}=e;return(0,T.n)((async e=>(await I.q.api((t=>t.ApiVisibilityV1DriverInfo(e)))).data.result),{onSuccess:t})})({onSuccess:(e,t)=>{const a=["getVehicleList",h.departureAt];p.setQueryData(a,(a=>{if(!a)return;const l=a.vehicleList.map((a=>a.vendorDriverId===t.vendorDriverId?{...a,driverName:e.driverName,driverPhoneNumber:e.driverPhoneNumber}:a));return{...a,vehicleList:l}}))}}),E=async e=>{await y({vendorDriverId:e})},v=e=>{i({vendorVehicleId:e,departureAt:h.departureAt}),d(!0)};return(0,l.jsxs)("div",{className:"flex flex-col","data-sentry-component":"VisibilityRealTimeList","data-sentry-source-file":"VisibilityRealTimeList.tsx",children:[(0,l.jsxs)("div",{className:"flex h-[44px] justify-between bg-[#F5F7FC] pl-[16px] pr-[16px]",children:[(0,l.jsx)(Ve.A.SearchDateSingle,{dateFiled:"departureAt",minDate:N,placeholder:"상차 일정 설정",disabled:C,onAccept:()=>{n&&(d(!1),o(null))},sx:{"& .MuiOutlinedInput-root .Mui-disabled::placeholder":{WebkitTextFillColor:"#16171B",opacity:1},"& .MuiOutlinedInput-root":{color:"#287EFF"},"& .MuiOutlinedInput-notchedOutline":{border:0}},"data-sentry-element":"SearchFilter.SearchDateSingle","data-sentry-source-file":"VisibilityRealTimeList.tsx"}),(0,l.jsx)(Ia,{label:"전체 차량 보기",checked:C,handleChange:(e,t)=>{n&&d(!1),f(t?{...h,departureAt:null}:{...h,departureAt:je()().format("YYYY-MM-DD")}),x(t),o(null)},"data-sentry-element":"TmsBasicSwitch","data-sentry-source-file":"VisibilityRealTimeList.tsx"})]}),c().isEmpty(null==t?void 0:t.vehicleList)?(0,l.jsx)("div",{className:"flex h-[calc(100vh-193px)] w-[360px]",children:(0,l.jsxs)("div",{className:"flex flex-1 flex-col items-center justify-center",children:[(0,l.jsx)(Wi.A,{className:"mb-[10px] h-[24px] w-[24px] fill-[#868C98]"}),(0,l.jsx)("span",{className:"text-[14px] font-bold text-[#868C98]",children:"조회된 차량 정보가 없습니다."}),(0,l.jsx)("span",{className:"text-[13px] text-[#868C98]",children:"조회 조건을 입력하거나, 조건을 다시 확인해 주세요."})]})}):(0,l.jsx)("ul",{className:"h-[calc(100vh-193px)] w-[360px] overflow-y-auto",children:null==t?void 0:t.vehicleList.map(((e,t)=>(0,l.jsx)(VE,{index:t,handleMaskingClick:E,handleDetailClick:v,isSelected:(null==a?void 0:a.vendorVehicleId)===e.vendorVehicleId,isMasking:e.isMasking,...e})))}),n?(0,l.jsx)(GE,{detail:u,order:m,selectedOrder:s,setSelectedOrder:o,setOpen:d}):(0,l.jsxs)("div",{className:"border-blackOpacity25 Body5_B absolute left-[370px] top-[90px] z-50 w-[134px] rounded-2xl border bg-white px-4 py-3 text-[13px] font-bold [box-shadow:0_0_8px_0_rgba(0,0,0,0.08)]",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex w-full items-center gap-1",children:[(0,l.jsx)("div",{className:"bg-blue50 h-[6px] w-[6px] rounded-full"}),(0,l.jsx)("div",{className:"text-blue50",children:"운행중"})]}),(0,l.jsx)("div",{className:"text-grey30",children:null==t?void 0:t.drivingCount.toLocaleString()})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex w-full items-center gap-1",children:[(0,l.jsx)("div",{className:"bg-grey50 h-[6px] w-[6px] rounded-full"}),(0,l.jsx)("div",{className:"text-grey50",children:"미운행"})]}),(0,l.jsx)("div",{className:"text-grey30",children:null==t?void 0:t.nonDrivingCount.toLocaleString()})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex w-full items-center gap-1",children:[(0,l.jsx)("div",{className:"bg-yellow50 h-[6px] w-[6px] rounded-full"}),(0,l.jsx)("div",{className:"text-yellow50",children:"장기정차"})]}),(0,l.jsx)("div",{className:"text-grey30",children:null==t?void 0:t.holdingCount.toLocaleString()})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex w-full items-center gap-1",children:[(0,l.jsx)("div",{className:"bg-red50 h-[6px] w-[6px] rounded-full"}),(0,l.jsx)("div",{className:"text-red50",children:"통신단절"})]}),(0,l.jsx)("div",{className:"text-grey30",children:null==t?void 0:t.disconnectingCount.toLocaleString()})]})]})]})},YE=a(18959);var qE,WE,HE=e=>{let{children:t,minClusterSize:a=2,maxZoom:s=13,gridSize:n=500,icons:o,indexGenerator:i=[10,50,100,1e3,1e4],disableClickZoom:d=!1,averageCenter:c=!0,stylingFunction:u,onClusterClick:m,onClusterMouseover:p,onClusterMouseout:h}=e;const f=(0,r.useContext)(ap),C=(0,r.useRef)([]),[x,N]=(0,r.useState)([]),y=(0,r.useRef)(null),[E,v]=(0,r.useState)(0),A=(0,r.useRef)(!0),g=r.Children.count(t),T=(0,r.useMemo)((()=>r.Children.map(t,((e,t)=>r.isValidElement(e)?(C.current[t]||(C.current[t]=r.createRef()),(0,r.cloneElement)(e,{ref:C.current[t]})):e))),[t,g,E]),I=(0,r.useCallback)((()=>{const e=C.current.map((e=>null==e?void 0:e.current)).filter(Boolean);e.length,N((t=>{if(t.length!==e.length)return e;return e.some(((e,a)=>e!==t[a]))?e:t}))}),[g]);(0,r.useEffect)((()=>{let e=null;return A.current&&g>0&&(A.current=!1,e=setTimeout((()=>{v((e=>e+1))}),100)),()=>{e&&clearTimeout(e)}}),[g]),(0,r.useEffect)((()=>{let e=null;return E>0?I():e=setTimeout(I,0),()=>{e&&clearTimeout(e)}}),[T,I,E]);const b=(0,r.useCallback)((e=>{null==m||m(e)}),[m]),R=(0,r.useCallback)((e=>{null==p||p(e)}),[p]),S=(0,r.useCallback)((e=>{null==h||h(e)}),[h]);return(0,r.useEffect)((()=>{if(!f||0===x.length)return void x.length;x.length,y.current&&(y.current.setMap(null),y.current=null);const e=new MarkerClustering({map:f,markers:x,minClusterSize:a,maxZoom:s,gridSize:n,icons:o,indexGenerator:i,disableClickZoom:d,averageCenter:c,stylingFunction:u});let t,l,r;return m&&(t=naver.maps.Event.addListener(e,"click",b)),p&&(l=naver.maps.Event.addListener(e,"mouseover",R)),h&&(r=naver.maps.Event.addListener(e,"mouseout",S)),y.current=e,v((e=>e+1)),()=>{y.current&&(t&&naver.maps.Event.removeListener(t),l&&naver.maps.Event.removeListener(l),r&&naver.maps.Event.removeListener(r),y.current.setMap(null),y.current=null)}}),[f,x,a,s,n,o,i,d,c,u,b,R,S]),(0,l.jsx)(l.Fragment,{children:T})};function KE(){return KE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},KE.apply(null,arguments)}var zE,XE,QE=function(e){return r.createElement("svg",KE({xmlns:"http://www.w3.org/2000/svg",width:56,height:60,fill:"none"},e),qE||(qE=r.createElement("g",{filter:"url(#drop_svg__a)"},r.createElement("mask",{id:"drop_svg__b",fill:"#fff"},r.createElement("path",{d:"M28 8c11.046 0 20 8.954 20 20 0 9.874-7.156 18.075-16.564 19.704L28 52l-3.436-4.296C15.155 46.074 8 37.874 8 28 8 16.954 16.954 8 28 8"})),r.createElement("path",{fill:"#122699",d:"M28 8c11.046 0 20 8.954 20 20 0 9.874-7.156 18.075-16.564 19.704L28 52l-3.436-4.296C15.155 46.074 8 37.874 8 28 8 16.954 16.954 8 28 8"}),r.createElement("path",{fill:"#fff",d:"m31.436 47.704-.171-.985-.374.064-.236.297zM28 52l-.78.625.78.976.781-.976zm-3.436-4.296.78-.625-.236-.296-.374-.064zM28 8v1c10.493 0 19 8.507 19 19h2c0-11.598-9.402-21-21-21zm20 20h-1c0 9.38-6.797 17.171-15.735 18.719l.17.985.171.985C41.486 46.98 49 38.37 49 28zM31.436 47.704l-.781-.624-3.436 4.295L28 52l.781.625 3.436-4.296zM28 52l.78-.625-3.436-4.296-.78.625-.781.625 3.436 4.296zm-3.436-4.296.17-.985C15.797 45.17 9 37.379 9 28H7c0 10.369 7.514 18.978 17.393 20.69zM8 28h1C9 17.507 17.507 9 28 9V7C16.402 7 7 16.402 7 28z",mask:"url(#drop_svg__b)"}),r.createElement("path",{fill:"#fff",d:"M26.082 21.604v12.6H24.22v-12.6zm1.792 4.886v1.54h-2.212v-1.54zm-4.41-3.052v1.484h-7.35v-1.484zm-3.668 2.17q.924 0 1.652.392.741.378 1.148 1.064.42.686.42 1.554 0 .881-.42 1.568-.407.672-1.148 1.064a3.5 3.5 0 0 1-1.638.378 3.6 3.6 0 0 1-1.652-.378 2.97 2.97 0 0 1-1.148-1.078 3 3 0 0 1-.406-1.554q0-.855.406-1.54.42-.7 1.148-1.078a3.4 3.4 0 0 1 1.638-.392m.014 1.512q-.42 0-.742.182a1.3 1.3 0 0 0-.504.518 1.8 1.8 0 0 0-.168.812q0 .462.168.798.181.336.504.518.321.168.742.168.405 0 .728-.168.321-.182.504-.518.182-.336.182-.798 0-.476-.182-.812a1.3 1.3 0 0 0-.504-.518 1.45 1.45 0 0 0-.728-.182m.938-5.306v2.198h-1.89v-2.198zm11.844 3.066v.63q0 1.372-.378 2.646a6.7 6.7 0 0 1-1.148 2.24 4.96 4.96 0 0 1-1.89 1.484l-.994-1.428a4.9 4.9 0 0 0 1.652-1.246q.672-.798.994-1.75a6.1 6.1 0 0 0 .322-1.946v-.63zm.406 0v.63q0 .924.308 1.834a5.3 5.3 0 0 0 .938 1.68q.644.756 1.596 1.218l-.994 1.414a4.8 4.8 0 0 1-1.82-1.442 6.9 6.9 0 0 1-1.092-2.184 8.8 8.8 0 0 1-.364-2.52v-.63zm2.492-1.246v1.47h-6.888v-1.47zm-2.492-1.75v2.506H31.15v-2.506zm5.306-.28v12.6h-1.876v-12.6zm1.806 4.858v1.54h-2.226v-1.54z"}))),WE||(WE=r.createElement("defs",null,r.createElement("filter",{id:"drop_svg__a",width:56,height:60,x:0,y:0,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse"},r.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),r.createElement("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),r.createElement("feOffset",null),r.createElement("feGaussianBlur",{stdDeviation:4}),r.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),r.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.12 0"}),r.createElement("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_429_9230"}),r.createElement("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_429_9230",result:"shape"})))))};function ZE(){return ZE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},ZE.apply(null,arguments)}var JE,$E,ev=function(e){return r.createElement("svg",ZE({xmlns:"http://www.w3.org/2000/svg",width:56,height:60,fill:"none"},e),zE||(zE=r.createElement("g",{filter:"url(#pickup_svg__a)"},r.createElement("mask",{id:"pickup_svg__b",fill:"#fff"},r.createElement("path",{d:"M28 8c11.046 0 20 8.954 20 20 0 9.874-7.156 18.075-16.564 19.704L28 52l-3.436-4.296C15.155 46.074 8 37.874 8 28 8 16.954 16.954 8 28 8"})),r.createElement("path",{fill:"#fff",d:"M28 8c11.046 0 20 8.954 20 20 0 9.874-7.156 18.075-16.564 19.704L28 52l-3.436-4.296C15.155 46.074 8 37.874 8 28 8 16.954 16.954 8 28 8"}),r.createElement("path",{fill:"#122699",d:"m31.436 47.704-.171-.985-.374.064-.236.297zM28 52l-.78.625.78.976.781-.976zm-3.436-4.296.78-.625-.236-.296-.374-.064zM28 8v1c10.493 0 19 8.507 19 19h2c0-11.598-9.402-21-21-21zm20 20h-1c0 9.38-6.797 17.171-15.735 18.719l.17.985.171.985C41.486 46.98 49 38.37 49 28zM31.436 47.704l-.781-.624-3.436 4.295L28 52l.781.625 3.436-4.296zM28 52l.78-.625-3.436-4.296-.78.625-.781.625 3.436 4.296zm-3.436-4.296.17-.985C15.797 45.17 9 37.379 9 28H7c0 10.369 7.514 18.978 17.393 20.69zM8 28h1C9 17.507 17.507 9 28 9V7C16.402 7 7 16.402 7 28z",mask:"url(#pickup_svg__b)"}),r.createElement("path",{fill:"#122699",d:"M20.44 22.276v1.106q0 1.288-.378 2.408a5.1 5.1 0 0 1-1.148 1.932q-.784.812-1.96 1.218l-.994-1.47q1.022-.336 1.68-.966.671-.63.98-1.428a4.7 4.7 0 0 0 .308-1.694v-1.106zm.364 0v1.288q0 .784.28 1.484.294.686.924 1.246.63.546 1.596.84l-.966 1.442q-1.12-.377-1.876-1.106a4.7 4.7 0 0 1-1.106-1.736 6.5 6.5 0 0 1-.35-2.17v-1.288zm5.292-.672v7.42h-1.862v-7.42zm1.666 2.884v1.526h-2.17v-1.526zm-5.768 4.816q1.974 0 3.108.658 1.148.645 1.148 1.792 0 .77-.518 1.316t-1.484.84q-.952.294-2.254.294-1.317 0-2.282-.294-.966-.293-1.484-.854a1.83 1.83 0 0 1-.518-1.302q0-.756.518-1.302.518-.56 1.484-.854.965-.294 2.282-.294m0 1.442q-1.205 0-1.82.252-.616.252-.616.756t.616.756q.615.252 1.82.252 1.19 0 1.806-.252t.616-.756-.616-.756-1.806-.252m10.598-5.866v.63q0 1.372-.378 2.646a6.7 6.7 0 0 1-1.148 2.24 4.96 4.96 0 0 1-1.89 1.484l-.994-1.428a4.9 4.9 0 0 0 1.652-1.246q.672-.798.994-1.75a6.1 6.1 0 0 0 .322-1.946v-.63zm.406 0v.63q0 .924.308 1.834a5.3 5.3 0 0 0 .938 1.68q.644.756 1.596 1.218l-.994 1.414a4.8 4.8 0 0 1-1.82-1.442 6.9 6.9 0 0 1-1.092-2.184 8.8 8.8 0 0 1-.364-2.52v-.63zm2.492-1.246v1.47h-6.888v-1.47zm-2.492-1.75v2.506H31.15v-2.506zm5.306-.28v12.6h-1.876v-12.6zm1.806 4.858v1.54h-2.226v-1.54z"}))),XE||(XE=r.createElement("defs",null,r.createElement("filter",{id:"pickup_svg__a",width:56,height:60,x:0,y:0,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse"},r.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),r.createElement("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),r.createElement("feOffset",null),r.createElement("feGaussianBlur",{stdDeviation:4}),r.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),r.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.12 0"}),r.createElement("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_429_9225"}),r.createElement("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_429_9225",result:"shape"})))))};function tv(){return tv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},tv.apply(null,arguments)}var av,lv,rv=function(e){return r.createElement("svg",tv({xmlns:"http://www.w3.org/2000/svg",width:56,height:60,fill:"none"},e),JE||(JE=r.createElement("g",{filter:"url(#waypoint_svg__a)"},r.createElement("mask",{id:"waypoint_svg__b",fill:"#fff"},r.createElement("path",{d:"M28 8c11.046 0 20 8.954 20 20 0 9.874-7.156 18.075-16.564 19.704L28 52l-3.436-4.296C15.155 46.074 8 37.874 8 28 8 16.954 16.954 8 28 8"})),r.createElement("path",{fill:"#EEEDFF",d:"M28 8c11.046 0 20 8.954 20 20 0 9.874-7.156 18.075-16.564 19.704L28 52l-3.436-4.296C15.155 46.074 8 37.874 8 28 8 16.954 16.954 8 28 8"}),r.createElement("path",{fill:"#122699",d:"m31.436 47.704-.171-.985-.374.064-.236.297zM28 52l-.78.625.78.976.781-.976zm-3.436-4.296.78-.625-.236-.296-.374-.064zM28 8v1c10.493 0 19 8.507 19 19h2c0-11.598-9.402-21-21-21zm20 20h-1c0 9.38-6.797 17.171-15.735 18.719l.17.985.171.985C41.486 46.98 49 38.37 49 28zM31.436 47.704l-.781-.624-3.436 4.295L28 52l.781.625 3.436-4.296zM28 52l.78-.625-3.436-4.296-.78.625-.781.625 3.436 4.296zm-3.436-4.296.17-.985C15.797 45.17 9 37.379 9 28H7c0 10.369 7.514 18.978 17.393 20.69zM8 28h1C9 17.507 17.507 9 28 9V7C16.402 7 7 16.402 7 28z",mask:"url(#waypoint_svg__b)"}))),$E||($E=r.createElement("defs",null,r.createElement("filter",{id:"waypoint_svg__a",width:56,height:60,x:0,y:0,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse"},r.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),r.createElement("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),r.createElement("feOffset",null),r.createElement("feGaussianBlur",{stdDeviation:4}),r.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),r.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.12 0"}),r.createElement("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_509_9975"}),r.createElement("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_509_9975",result:"shape"})))))};function sv(){return sv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},sv.apply(null,arguments)}var nv,ov,iv=function(e){return r.createElement("svg",sv({xmlns:"http://www.w3.org/2000/svg",width:56,height:60,fill:"none"},e),av||(av=r.createElement("g",{filter:"url(#disconnect-active_svg__a)"},r.createElement("mask",{id:"disconnect-active_svg__b",fill:"#fff"},r.createElement("path",{d:"M28 8c11.046 0 20 8.92 20 19.925 0 9.767-7.055 17.891-16.364 19.595L28 52l-3.635-4.48C15.056 45.817 8 37.692 8 27.925 8 16.92 16.954 8 28 8"})),r.createElement("path",{fill:"#DC2F0C",d:"M28 8c11.046 0 20 8.92 20 19.925 0 9.767-7.055 17.891-16.364 19.595L28 52l-3.635-4.48C15.056 45.817 8 37.692 8 27.925 8 16.92 16.954 8 28 8"}),r.createElement("path",{fill:"#5C1C05",d:"M48 27.925h1zM31.636 47.52l-.18-.984-.364.066-.233.288zM28 52l-.777.63.777.957.777-.957zm-3.635-4.48.777-.63-.233-.288-.364-.066zM8 27.925H7zM28 8v1c10.497 0 19 8.477 19 18.925h2C49 16.365 39.594 7 28 7zm20 19.925h-1c0 9.272-6.698 16.992-15.544 18.61l.18.985.18.983C41.589 46.715 49 38.186 49 27.925zM31.636 47.52l-.777-.63-3.635 4.48.777.63.777.63 3.634-4.48zM28 52l.777-.63-3.635-4.48-.777.63-.776.63 3.634 4.48zm-3.635-4.48.18-.984C15.7 44.918 9 37.198 9 27.925H7c0 10.262 7.412 18.79 17.186 20.578zM8 27.925h1C9 17.477 17.503 9 28 9V7C16.406 7 7 16.365 7 27.925z",mask:"url(#disconnect-active_svg__b)"}),r.createElement("path",{fill:"#fff",d:"M23 32.203c1.1 0 2 .93 2 2.066s-.9 2.064-2 2.064-2-.929-2-2.064.9-2.066 2-2.066m7.5 0c1.1 0 2 .93 2 2.066s-.9 2.064-2 2.064-2-.929-2-2.064.9-2.066 2-2.066M32.167 20.5c.458 0 .833.387.833.86v4.303h3.408c.434 0 .791.336.833.774l.176 1.807h-2.75v2.582h3.024l.3 2.495c.05.508-.333.947-.824.948h-3.334c0-1.902-1.491-3.443-3.333-3.443s-3.333 1.54-3.333 3.443h-.834c0-1.902-1.491-3.443-3.333-3.443s-3.333 1.54-3.333 3.443h-.834c-.458 0-.833-.389-.833-.862V21.36c0-.473.375-.86.833-.86z"}))),lv||(lv=r.createElement("defs",null,r.createElement("filter",{id:"disconnect-active_svg__a",width:56,height:60,x:0,y:0,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse"},r.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),r.createElement("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),r.createElement("feOffset",null),r.createElement("feGaussianBlur",{stdDeviation:4}),r.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),r.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.12 0"}),r.createElement("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_429_9220"}),r.createElement("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_429_9220",result:"shape"})))))};function dv(){return dv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},dv.apply(null,arguments)}var cv,uv,mv=function(e){return r.createElement("svg",dv({xmlns:"http://www.w3.org/2000/svg",width:48,height:48,fill:"none"},e),nv||(nv=r.createElement("g",{filter:"url(#disconnect-defalut_svg__a)"},r.createElement("rect",{width:32,height:32,x:8,y:8,fill:"#DC2F0C",rx:16,shapeRendering:"crispEdges"}),r.createElement("rect",{width:31,height:31,x:8.5,y:8.5,stroke:"#5C1C05",rx:15.5,shapeRendering:"crispEdges"}),r.createElement("path",{fill:"#fff",d:"M20 27.362c.88 0 1.6.744 1.6 1.653 0 .908-.72 1.652-1.6 1.652s-1.6-.744-1.6-1.652c0-.909.72-1.653 1.6-1.653m6 0c.88 0 1.6.744 1.6 1.653 0 .908-.72 1.652-1.6 1.652s-1.6-.744-1.6-1.652c0-.909.72-1.653 1.6-1.653M27.333 18a.68.68 0 0 1 .667.689v3.442h2.727c.346 0 .633.268.667.619l.14 1.445h-2.201v2.066h2.42l.24 1.996c.04.406-.267.758-.66.758h-2.666c0-1.522-1.194-2.754-2.667-2.754s-2.667 1.232-2.667 2.754h-.666c0-1.522-1.194-2.754-2.667-2.754s-2.667 1.232-2.667 2.754h-.666a.68.68 0 0 1-.667-.689V18.69c0-.38.3-.689.667-.689z"}))),ov||(ov=r.createElement("defs",null,r.createElement("filter",{id:"disconnect-defalut_svg__a",width:48,height:48,x:0,y:0,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse"},r.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),r.createElement("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),r.createElement("feOffset",null),r.createElement("feGaussianBlur",{stdDeviation:4}),r.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),r.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.12 0"}),r.createElement("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_429_9203"}),r.createElement("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_429_9203",result:"shape"})))))};function pv(){return pv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},pv.apply(null,arguments)}var hv,fv,Cv=function(e){return r.createElement("svg",pv({xmlns:"http://www.w3.org/2000/svg",width:56,height:60,fill:"none"},e),cv||(cv=r.createElement("g",{filter:"url(#driving-active_svg__a)"},r.createElement("mask",{id:"driving-active_svg__b",fill:"#fff"},r.createElement("path",{d:"M28 8c11.046 0 20 8.92 20 19.925 0 9.767-7.055 17.891-16.364 19.595L28 52l-3.635-4.48C15.056 45.817 8 37.692 8 27.925 8 16.92 16.954 8 28 8"})),r.createElement("path",{fill:"#287EFF",d:"M28 8c11.046 0 20 8.92 20 19.925 0 9.767-7.055 17.891-16.364 19.595L28 52l-3.635-4.48C15.056 45.817 8 37.692 8 27.925 8 16.92 16.954 8 28 8"}),r.createElement("path",{fill:"#103266",d:"M48 27.925h1zM31.636 47.52l-.18-.984-.364.066-.233.288zM28 52l-.777.63.777.957.777-.957zm-3.635-4.48.777-.63-.233-.288-.364-.066zM8 27.925H7zM28 8v1c10.497 0 19 8.477 19 18.925h2C49 16.365 39.594 7 28 7zm20 19.925h-1c0 9.272-6.698 16.992-15.544 18.61l.18.985.18.983C41.589 46.715 49 38.186 49 27.925zM31.636 47.52l-.777-.63-3.635 4.48.777.63.777.63 3.634-4.48zM28 52l.777-.63-3.635-4.48-.777.63-.776.63 3.634 4.48zm-3.635-4.48.18-.984C15.7 44.918 9 37.198 9 27.925H7c0 10.262 7.412 18.79 17.186 20.578zM8 27.925h1C9 17.477 17.503 9 28 9V7C16.406 7 7 16.365 7 27.925z",mask:"url(#driving-active_svg__b)"}),r.createElement("path",{fill:"#fff",d:"M23 32.203c1.1 0 2 .93 2 2.066s-.9 2.064-2 2.064-2-.929-2-2.064.9-2.066 2-2.066m7.5 0c1.1 0 2 .93 2 2.066s-.9 2.064-2 2.064-2-.929-2-2.064.9-2.066 2-2.066M32.167 20.5c.458 0 .833.387.833.86v4.303h3.408c.434 0 .791.336.833.774l.176 1.807h-2.75v2.582h3.024l.3 2.495c.05.508-.333.947-.824.948h-3.334c0-1.902-1.491-3.443-3.333-3.443s-3.333 1.54-3.333 3.443h-.834c0-1.902-1.491-3.443-3.333-3.443s-3.333 1.54-3.333 3.443h-.834c-.458 0-.833-.389-.833-.862V21.36c0-.473.375-.86.833-.86z"}))),uv||(uv=r.createElement("defs",null,r.createElement("filter",{id:"driving-active_svg__a",width:56,height:60,x:0,y:0,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse"},r.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),r.createElement("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),r.createElement("feOffset",null),r.createElement("feGaussianBlur",{stdDeviation:4}),r.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),r.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.12 0"}),r.createElement("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_429_9205"}),r.createElement("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_429_9205",result:"shape"})))))};function xv(){return xv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},xv.apply(null,arguments)}var Nv,yv,Ev=function(e){return r.createElement("svg",xv({xmlns:"http://www.w3.org/2000/svg",width:48,height:48,fill:"none"},e),hv||(hv=r.createElement("g",{filter:"url(#driving-default_svg__a)"},r.createElement("rect",{width:32,height:32,x:8,y:8,fill:"#287EFF",rx:16,shapeRendering:"crispEdges"}),r.createElement("rect",{width:31,height:31,x:8.5,y:8.5,stroke:"#103266",rx:15.5,shapeRendering:"crispEdges"}),r.createElement("path",{fill:"#fff",d:"M20 27.362c.88 0 1.6.744 1.6 1.653 0 .908-.72 1.652-1.6 1.652s-1.6-.744-1.6-1.652c0-.909.72-1.653 1.6-1.653m6 0c.88 0 1.6.744 1.6 1.653 0 .908-.72 1.652-1.6 1.652s-1.6-.744-1.6-1.652c0-.909.72-1.653 1.6-1.653M27.333 18a.68.68 0 0 1 .667.689v3.442h2.727c.346 0 .633.268.667.619l.14 1.445h-2.201v2.066h2.42l.24 1.996c.04.406-.267.758-.66.758h-2.666c0-1.522-1.194-2.754-2.667-2.754s-2.667 1.232-2.667 2.754h-.666c0-1.522-1.194-2.754-2.667-2.754s-2.667 1.232-2.667 2.754h-.666a.68.68 0 0 1-.667-.689V18.69c0-.38.3-.689.667-.689z"}))),fv||(fv=r.createElement("defs",null,r.createElement("filter",{id:"driving-default_svg__a",width:48,height:48,x:0,y:0,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse"},r.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),r.createElement("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),r.createElement("feOffset",null),r.createElement("feGaussianBlur",{stdDeviation:4}),r.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),r.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.12 0"}),r.createElement("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_429_9197"}),r.createElement("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_429_9197",result:"shape"})))))};function vv(){return vv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},vv.apply(null,arguments)}var Av,gv,Tv=function(e){return r.createElement("svg",vv({xmlns:"http://www.w3.org/2000/svg",width:56,height:60,fill:"none"},e),Nv||(Nv=r.createElement("g",{filter:"url(#holding-active_svg__a)"},r.createElement("mask",{id:"holding-active_svg__b",fill:"#fff"},r.createElement("path",{d:"M28 8c11.046 0 20 8.92 20 19.925 0 9.767-7.055 17.891-16.364 19.595L28 52l-3.635-4.48C15.056 45.817 8 37.692 8 27.925 8 16.92 16.954 8 28 8"})),r.createElement("path",{fill:"#F1A107",d:"M28 8c11.046 0 20 8.92 20 19.925 0 9.767-7.055 17.891-16.364 19.595L28 52l-3.635-4.48C15.056 45.817 8 37.692 8 27.925 8 16.92 16.954 8 28 8"}),r.createElement("path",{fill:"#604003",d:"M48 27.925h1zM31.636 47.52l-.18-.984-.364.066-.233.288zM28 52l-.777.63.777.957.777-.957zm-3.635-4.48.777-.63-.233-.288-.364-.066zM8 27.925H7zM28 8v1c10.497 0 19 8.477 19 18.925h2C49 16.365 39.594 7 28 7zm20 19.925h-1c0 9.272-6.698 16.992-15.544 18.61l.18.985.18.983C41.589 46.715 49 38.186 49 27.925zM31.636 47.52l-.777-.63-3.635 4.48.777.63.777.63 3.634-4.48zM28 52l.777-.63-3.635-4.48-.777.63-.776.63 3.634 4.48zm-3.635-4.48.18-.984C15.7 44.918 9 37.198 9 27.925H7c0 10.262 7.412 18.79 17.186 20.578zM8 27.925h1C9 17.477 17.503 9 28 9V7C16.406 7 7 16.365 7 27.925z",mask:"url(#holding-active_svg__b)"}),r.createElement("path",{fill:"#fff",d:"M23 32.203c1.1 0 2 .93 2 2.066s-.9 2.064-2 2.064-2-.929-2-2.064.9-2.066 2-2.066m7.5 0c1.1 0 2 .93 2 2.066s-.9 2.064-2 2.064-2-.929-2-2.064.9-2.066 2-2.066M32.167 20.5c.458 0 .833.387.833.86v4.303h3.408c.434 0 .791.336.833.774l.176 1.807h-2.75v2.582h3.024l.3 2.495c.05.508-.333.947-.824.948h-3.334c0-1.902-1.491-3.443-3.333-3.443s-3.333 1.54-3.333 3.443h-.834c0-1.902-1.491-3.443-3.333-3.443s-3.333 1.54-3.333 3.443h-.834c-.458 0-.833-.389-.833-.862V21.36c0-.473.375-.86.833-.86z"}))),yv||(yv=r.createElement("defs",null,r.createElement("filter",{id:"holding-active_svg__a",width:56,height:60,x:0,y:0,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse"},r.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),r.createElement("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),r.createElement("feOffset",null),r.createElement("feGaussianBlur",{stdDeviation:4}),r.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),r.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.12 0"}),r.createElement("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_429_9215"}),r.createElement("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_429_9215",result:"shape"})))))};function Iv(){return Iv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},Iv.apply(null,arguments)}var bv,Rv,Sv=function(e){return r.createElement("svg",Iv({xmlns:"http://www.w3.org/2000/svg",width:48,height:48,fill:"none"},e),Av||(Av=r.createElement("g",{filter:"url(#holding-default_svg__a)"},r.createElement("rect",{width:32,height:32,x:8,y:8,fill:"#F1A107",rx:16,shapeRendering:"crispEdges"}),r.createElement("rect",{width:31,height:31,x:8.5,y:8.5,stroke:"#604003",rx:15.5,shapeRendering:"crispEdges"}),r.createElement("path",{fill:"#fff",d:"M20 27.362c.88 0 1.6.744 1.6 1.653 0 .908-.72 1.652-1.6 1.652s-1.6-.744-1.6-1.652c0-.909.72-1.653 1.6-1.653m6 0c.88 0 1.6.744 1.6 1.653 0 .908-.72 1.652-1.6 1.652s-1.6-.744-1.6-1.652c0-.909.72-1.653 1.6-1.653M27.333 18a.68.68 0 0 1 .667.689v3.442h2.727c.346 0 .633.268.667.619l.14 1.445h-2.201v2.066h2.42l.24 1.996c.04.406-.267.758-.66.758h-2.666c0-1.522-1.194-2.754-2.667-2.754s-2.667 1.232-2.667 2.754h-.666c0-1.522-1.194-2.754-2.667-2.754s-2.667 1.232-2.667 2.754h-.666a.68.68 0 0 1-.667-.689V18.69c0-.38.3-.689.667-.689z"}))),gv||(gv=r.createElement("defs",null,r.createElement("filter",{id:"holding-default_svg__a",width:48,height:48,x:0,y:0,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse"},r.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),r.createElement("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),r.createElement("feOffset",null),r.createElement("feGaussianBlur",{stdDeviation:4}),r.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),r.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.12 0"}),r.createElement("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_429_9201"}),r.createElement("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_429_9201",result:"shape"})))))};function _v(){return _v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},_v.apply(null,arguments)}var wv,Ov,Mv=function(e){return r.createElement("svg",_v({xmlns:"http://www.w3.org/2000/svg",width:56,height:60,fill:"none"},e),bv||(bv=r.createElement("g",{filter:"url(#non-active_svg__a)"},r.createElement("mask",{id:"non-active_svg__b",fill:"#fff"},r.createElement("path",{d:"M28 8c11.046 0 20 8.92 20 19.925 0 9.767-7.055 17.891-16.364 19.595L28 52l-3.635-4.48C15.056 45.817 8 37.692 8 27.925 8 16.92 16.954 8 28 8"})),r.createElement("path",{fill:"#868C98",d:"M28 8c11.046 0 20 8.92 20 19.925 0 9.767-7.055 17.891-16.364 19.595L28 52l-3.635-4.48C15.056 45.817 8 37.692 8 27.925 8 16.92 16.954 8 28 8"}),r.createElement("path",{fill:"#1E2025",d:"M48 27.925h1zM31.636 47.52l-.18-.984-.364.066-.233.288zM28 52l-.777.63.777.957.777-.957zm-3.635-4.48.777-.63-.233-.288-.364-.066zM8 27.925H7zM28 8v1c10.497 0 19 8.477 19 18.925h2C49 16.365 39.594 7 28 7zm20 19.925h-1c0 9.272-6.698 16.992-15.544 18.61l.18.985.18.983C41.589 46.715 49 38.186 49 27.925zM31.636 47.52l-.777-.63-3.635 4.48.777.63.777.63 3.634-4.48zM28 52l.777-.63-3.635-4.48-.777.63-.776.63 3.634 4.48zm-3.635-4.48.18-.984C15.7 44.918 9 37.198 9 27.925H7c0 10.262 7.412 18.79 17.186 20.578zM8 27.925h1C9 17.477 17.503 9 28 9V7C16.406 7 7 16.365 7 27.925z",mask:"url(#non-active_svg__b)"}),r.createElement("path",{fill:"#fff",d:"M23 32.203c1.1 0 2 .93 2 2.066s-.9 2.064-2 2.064-2-.929-2-2.064.9-2.066 2-2.066m7.5 0c1.1 0 2 .93 2 2.066s-.9 2.064-2 2.064-2-.929-2-2.064.9-2.066 2-2.066M32.167 20.5c.458 0 .833.387.833.86v4.303h3.408c.434 0 .791.336.833.774l.176 1.807h-2.75v2.582h3.024l.3 2.495c.05.508-.333.947-.824.948h-3.334c0-1.902-1.491-3.443-3.333-3.443s-3.333 1.54-3.333 3.443h-.834c0-1.902-1.491-3.443-3.333-3.443s-3.333 1.54-3.333 3.443h-.834c-.458 0-.833-.389-.833-.862V21.36c0-.473.375-.86.833-.86z"}))),Rv||(Rv=r.createElement("defs",null,r.createElement("filter",{id:"non-active_svg__a",width:56,height:60,x:0,y:0,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse"},r.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),r.createElement("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),r.createElement("feOffset",null),r.createElement("feGaussianBlur",{stdDeviation:4}),r.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),r.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.12 0"}),r.createElement("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_429_9210"}),r.createElement("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_429_9210",result:"shape"})))))};function Dv(){return Dv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},Dv.apply(null,arguments)}var jv=function(e){return r.createElement("svg",Dv({xmlns:"http://www.w3.org/2000/svg",width:48,height:48,fill:"none"},e),wv||(wv=r.createElement("g",{filter:"url(#non-default_svg__a)"},r.createElement("rect",{width:32,height:32,x:8,y:8,fill:"#868C98",rx:16,shapeRendering:"crispEdges"}),r.createElement("rect",{width:31,height:31,x:8.5,y:8.5,stroke:"#1E2025",rx:15.5,shapeRendering:"crispEdges"}),r.createElement("path",{fill:"#fff",d:"M20 27.362c.88 0 1.6.744 1.6 1.653 0 .908-.72 1.652-1.6 1.652s-1.6-.744-1.6-1.652c0-.909.72-1.653 1.6-1.653m6 0c.88 0 1.6.744 1.6 1.653 0 .908-.72 1.652-1.6 1.652s-1.6-.744-1.6-1.652c0-.909.72-1.653 1.6-1.653M27.333 18a.68.68 0 0 1 .667.689v3.442h2.727c.346 0 .633.268.667.619l.14 1.445h-2.201v2.066h2.42l.24 1.996c.04.406-.267.758-.66.758h-2.666c0-1.522-1.194-2.754-2.667-2.754s-2.667 1.232-2.667 2.754h-.666c0-1.522-1.194-2.754-2.667-2.754s-2.667 1.232-2.667 2.754h-.666a.68.68 0 0 1-.667-.689V18.69c0-.38.3-.689.667-.689z"}))),Ov||(Ov=r.createElement("defs",null,r.createElement("filter",{id:"non-default_svg__a",width:48,height:48,x:0,y:0,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse"},r.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),r.createElement("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),r.createElement("feOffset",null),r.createElement("feGaussianBlur",{stdDeviation:4}),r.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),r.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.12 0"}),r.createElement("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_429_9199"}),r.createElement("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_429_9199",result:"shape"})))))};const Pv={DRIVING:{default:(0,l.jsx)(Ev,{}),active:(0,l.jsx)(Cv,{})},NON_DRIVING:{default:(0,l.jsx)(jv,{}),active:(0,l.jsx)(Mv,{})},HOLDING:{default:(0,l.jsx)(Sv,{}),active:(0,l.jsx)(Tv,{})},DISCONNECTING:{default:(0,l.jsx)(mv,{}),active:(0,l.jsx)(iv,{})},DEPARTURE:{default:(0,l.jsx)(ev,{}),active:(0,l.jsx)(ev,{})},ARRIVAL:{default:(0,l.jsx)(QE,{}),active:(0,l.jsx)(QE,{})},WAYPOINT:{default:(0,l.jsx)(rv,{}),active:(0,l.jsx)(rv,{})}},Lv=(0,r.forwardRef)(((e,t)=>{let{vehicleInfo:a,isActive:s=!1,isOrderDetail:n=!1,orderDetail:o=null,onClick:i}=e;const d=(0,r.useMemo)((()=>{const e=n?o.placeType:null==a?void 0:a.visibilityStatusType;return n&&"WAYPOINT"===e?(0,l.jsxs)("div",{className:"relative inline-flex items-center",children:[(0,l.jsx)(rv,{}),(0,l.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,l.jsxs)("div",{className:"Body4_EX text-primary mb-[2px] px-1",children:["경유",o.sequence-1]})})]}):(e=>{const t=Pv[e]||Pv.DRIVING;return s?t.active:t.default})(e)}),[a,s,n]),c=(0,r.useMemo)((()=>{const e={x:28,y:50};return n||s?e:{x:24,y:24}}),[s,n]),u=(0,r.useMemo)((()=>n?o.placePoint:null==a?void 0:a.vehiclePoint),[a,n,o]);return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(_p,{ref:t,position:u,markerIcon:d,markerAnchor:c,onClick:()=>null==i?void 0:i(a)})})}));Lv.displayName="VisibilityRealTimeMapMarker";var Bv=Lv;var Uv=function(e){let{naverMap:t=null,orderDetail:a=null}=e;const s=(0,r.useMemo)((()=>{var e,t,l,r,s,n,o;return{orderTransferInfoList:null!==(s=null==a?void 0:a.orderTransferInfoList)&&void 0!==s?s:[],estimatePath:null!==(n=null==a||null===(t=a.estimatePath)||void 0===t||null===(e=t[0])||void 0===e?void 0:e.coords.map((e=>{let{x:t,y:a}=e;return{lng:t,lat:a}})))&&void 0!==n?n:[],realPath:null!==(o=null==a||null===(r=a.realPath)||void 0===r||null===(l=r[0])||void 0===l?void 0:l.coords.map((e=>{let{x:t,y:a}=e;return{lng:t,lat:a}})))&&void 0!==o?o:[]}}),[a]);return(0,r.useEffect)((()=>{t&&(s.estimatePath.length||s.realPath.length)&&t.fitBounds([...s.estimatePath,...s.realPath],{top:50,right:50,bottom:50,left:250})}),[s,t]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(wp,{path:s.estimatePath,strokeColor:"#636874",strokeWeight:8,"data-sentry-element":"NaverMapPolyLine","data-sentry-source-file":"VisibilityRealTimeMapOrderDetail.tsx"}),(0,l.jsx)(wp,{path:s.estimatePath,strokeColor:"#9EA4B1",strokeWeight:4,"data-sentry-element":"NaverMapPolyLine","data-sentry-source-file":"VisibilityRealTimeMapOrderDetail.tsx"})]}),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(wp,{path:s.realPath,strokeColor:"#4353C1",strokeWeight:8,"data-sentry-element":"NaverMapPolyLine","data-sentry-source-file":"VisibilityRealTimeMapOrderDetail.tsx"}),(0,l.jsx)(wp,{path:s.realPath,strokeColor:"#BBC3FF",strokeWeight:4,"data-sentry-element":"NaverMapPolyLine","data-sentry-source-file":"VisibilityRealTimeMapOrderDetail.tsx"})]}),(0,l.jsxs)(l.Fragment,{children:[s.orderTransferInfoList.map(((e,t)=>(0,l.jsx)(Bv,{orderDetail:e,isOrderDetail:!0},t))),(0,l.jsx)(Bv,{vehicleInfo:null==a?void 0:a.vehicleInfo,isActive:!0,"data-sentry-element":"VisibilityRealTimeMapMarker","data-sentry-source-file":"VisibilityRealTimeMapOrderDetail.tsx"})]})]})};var Vv,Fv=function(e){let{vehicleList:t=[],orderDetail:a=null,onActiveVehicle:s=()=>{}}=e;const[n,o]=(0,r.useState)(null),i=(0,r.useMemo)((()=>!!a),[a]),d=(0,r.useMemo)((()=>{var e;return null!==(e=null==t?void 0:t.filter((e=>{let{vehiclePoint:t}=e;return!!(null==t?void 0:t.lat)&&!!(null==t?void 0:t.lng)})))&&void 0!==e?e:[]}),[t]),c=(0,r.useMemo)((()=>{if(!n)return[];return[40,60,80,100].map((e=>({content:(0,YE.F0)((0,l.jsx)("div",{className:"Body4_B border-1 border-blackOpacity60 flex items-center justify-center rounded-full bg-[rgba(68,72,85,0.90)] text-white",style:{width:"".concat(e,"px"),height:"".concat(e,"px")}})),anchor:new naver.maps.Point(e/2,e/2)})))}),[n]),u=(0,r.useCallback)(((e,t)=>{const a=e.getElement();if(a){const e=a.querySelector("div:first-child");e&&(e.textContent="".concat(t,"대"))}}),[n]),m=e=>{s(e)};return(0,l.jsx)("div",{className:"h-full w-full","data-sentry-component":"VisibilityRealTimeMap","data-sentry-source-file":"VisibilityRealTimeMap.tsx",children:(0,l.jsx)(Sp,{zoom:10,useMarkerClustering:!0,onTilesLoaded:e=>o(e),"data-sentry-element":"NaverMap","data-sentry-source-file":"VisibilityRealTimeMap.tsx",children:(0,l.jsx)("div",{children:i?(0,l.jsx)(Uv,{naverMap:n,orderDetail:a}):d.length>0&&n&&(0,l.jsx)(HE,{stylingFunction:u,icons:c,indexGenerator:[10,50,100,1e3,1e4],gridSize:500,children:d.map((e=>(0,l.jsx)(Bv,{vehicleInfo:e,onClick:m},null==e?void 0:e.vendorVehicleId)))})})})})};function Gv(){return Gv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},Gv.apply(null,arguments)}var kv=function(e){return r.createElement("svg",Gv({xmlns:"http://www.w3.org/2000/svg",width:14,height:14,fill:"none"},e),Vv||(Vv=r.createElement("path",{fill:"currentColor",d:"M7.025.333c1.933 0 3.68.82 4.906 2.134V1.166c0-.093.074-.166.167-.166h.734c.093 0 .167.073.167.166v3a.166.166 0 0 1-.167.167h-3a.166.166 0 0 1-.167-.167v-.733c0-.093.074-.166.167-.166h1.373a5.58 5.58 0 0 0-4.18-1.868c-2.873 0-5.253 2.16-5.58 4.934a5.5 5.5 0 0 0 0 1.333c.327 2.773 2.707 4.934 5.58 4.934a5.59 5.59 0 0 0 5.567-4.793.155.155 0 0 1 .16-.141h.74c.106 0 .186.094.173.193-.42 3.274-3.24 5.807-6.64 5.807s-6.327-2.633-6.66-6Q.333 7.338.332 7q.002-.339.033-.667c.333-3.367 3.193-6 6.66-6m.349 3.333c.093 0 .166.074.166.167v2.873c0 .047.02.087.047.12L9.6 8.84c.067.066.067.173 0 .233l-.52.52a.16.16 0 0 1-.234 0H8.84l-2.32-2.32s-.046-.073-.047-.12v-3.32c0-.093.074-.167.167-.167z"})))};var Yv=function(){var e;const{user:t}=(0,i.o)(),[a,s]=(0,r.useState)({commonMdmCorporationCode:t.mdmCorporationCode,visibilityStatusTypeList:["DRIVING","NON_DRIVING","HOLDING"],departureAt:je()().format("YYYY-MM-DD")}),[n,o]=(0,r.useState)(null),[d,u]=(0,r.useState)(null),[m,p]=(0,r.useState)(!1),[h,f]=(0,r.useState)(je()().format("HH:mm")),{data:C,refetch:x}=((e,t)=>(0,Ul.I)(["getVehicleList",e.departureAt],(async()=>(await I.q.api((t=>t.ApiVisibilityV1VehicleList(e)))).data.result),{enabled:!t,select:e=>{const t=e.vehicleList.map((e=>({...e,isMasking:!0})));return{...e,vehicleList:t}},refetchInterval:!t&&3e5}))(a,m),{data:N}=(y=n,(0,Ul.I)(["useGetVehicleDetail",y],(async()=>(await I.q.api((e=>e.ApiVisibilityV1VehicleDetail(y)))).data.result),{enabled:!c().isEmpty(y),select:e=>({...e,orderOptions:[...e.orderTransferInfoList.map((e=>({id:e.orderTransferId,label:e.customerName})))]})}));var y;const{data:E,refetch:v}=(e=>(0,Ul.I)(["getOrderInfo",e],(async()=>e.orderTransferId?(await I.q.api((t=>t.ApiVisibilityV1OrderInfo(e)))).data.result:null),{enabled:!0}))({orderTransferId:d}),A=null==N||null===(e=N.orderTransferInfoList[0])||void 0===e?void 0:e.orderTransferId,[g,T]=(0,r.useState)(null),b=(0,r.useMemo)((()=>E?{...E,vehicleInfo:g}:null),[E,g]);(0,r.useEffect)((()=>{x()}),[]),(0,r.useEffect)((()=>{A&&u(A)}),[A]);const R=e=>{o({vendorVehicleId:e.vendorVehicleId,departureAt:a.departureAt}),u(A),p(!0),T(e)},S=async()=>{f(je()().format("HH:mm")),await v()};return(0,l.jsx)(Ve.A.Provider,{params:a,setParams:s,onSearch:async()=>{p(!1),u(null),o(null),await x()},"data-sentry-element":"SearchFilter.Provider","data-sentry-component":"VisibilityRealTime","data-sentry-source-file":"VisibilityRealTime.tsx",children:e=>{var t;return(0,l.jsxs)("div",{className:"flex h-screen flex-col",children:[(0,l.jsx)("div",{className:"flex-shrink-0",children:(0,l.jsx)(bE,{})}),(0,l.jsxs)("div",{className:"flex flex-1 overflow-hidden",children:[(0,l.jsx)(kE,{vehicleList:C,selectedDetail:n,setSelectedDetail:o,selectedOrder:d,setSelectedOrder:u,open:m,setOpen:p,detail:N,order:E}),(0,l.jsx)(Fv,{vehicleList:null!==(t=null==C?void 0:C.vehicleList)&&void 0!==t?t:[],orderDetail:b,onActiveVehicle:R}),(0,l.jsx)("div",{className:"border-blackOpacity25 Body5_B absolute right-[16px] z-[999] mt-4 h-[54px] w-[128px] rounded-2xl border bg-white [box-shadow:0_0_12px_0_rgba(0,0,0,0.08)]",children:(0,l.jsxs)("div",{className:"flex",children:[(0,l.jsxs)("div",{className:"border-blackOpacity8 w-[88px] border-r px-3 py-2",children:[(0,l.jsx)("div",{className:"Body5_B text-gtey30",children:"업데이트"}),(0,l.jsx)("div",{className:"Caption1_M text-grey50",children:"(".concat(h,"기준)")})]}),(0,l.jsx)("div",{className:"flex items-center justify-center p-3",children:(0,l.jsx)(kv,{onClick:S})})]})})]})]})}})};var qv=function(){return(0,l.jsx)("div",{className:"flex h-full flex-col bg-white","data-sentry-component":"VisibilityRealTimePanel","data-sentry-source-file":"VisibilityRealTimePanel.tsx",children:(0,l.jsx)(Yv,{"data-sentry-element":"VisibilityRealTime","data-sentry-source-file":"VisibilityRealTimePanel.tsx"})})};const Wv={"/contractManager/tradeContractsManager":Nl,[s.pA]:function(e){let{menuName:t}=e;var a;const{isDisabledCustomerDelete:r,searchParams:s,setSearchParams:n,isOpenedDeleteModal:o,setIsOpenedDeleteModal:i,handleSearch:d,handleRowSelectionModelChange:c,handleDeleteComplete:u,handleCustomerSave:m,handleAddRow:p,handleExcelDownload:h,wrapGridRef:f,gridApiRef:C,isSearchValidation:x,isSuccessCustomerPlaceListExcel:y,dataCustomerPlaceListExcel:E,addressCheckModal:v,setAddressCheckModal:A,handleCustomerOnlySave:g,mutateAsyncCustomerPlaceSave:T,isSuccessCustomerPlaceSave:I,setIsExcelUpload:b}=_l(),{sampleFile:S,handleClickSampleExcelFileDown:_,isSuccess:w,handleFileUpload:O,uploadedList:M,resetUploadList:D,isUploadSuccess:j,isUploadError:P,uploadError:L,handleValidation:B,isSuccessValidation:U,handleUploadListRegister:V,validationResponseData:F}=wl({mutateAsyncCustomerPlaceSave:T,setIsExcelUpload:b}),{personalizedGridColumns:G,personalizedColumnVisibilityModel:k,...Y}=Bl(Ol,Il());return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"w-full",children:[(0,l.jsx)("div",{className:"bg-grey98",children:(0,l.jsx)(xl,{title:t,"data-sentry-element":"ContentHeader","data-sentry-source-file":"CustomerMasterPanel.tsx"})}),(0,l.jsx)(Ve.A.Provider,{params:s,setParams:n,onSearch:d,"data-sentry-element":"SearchFilter.Provider","data-sentry-source-file":"CustomerMasterPanel.tsx",children:e=>(0,l.jsxs)(xt.A,{children:[(0,l.jsx)(Ve.A.CustomerNameAutocomplete,{required:!0,label:"화주",fieldName:"customerId",isNoValue:!0,isSearchValidation:x,className:"!w-[200px]",mdmStatusType:R.P7O.COMPLETE}),(0,l.jsx)(Ve.A.SearchText,{label:"거래처명",placeholder:"거래처명 입력",fieldName:"clientName",className:"max-w-[200px]"}),(0,l.jsx)(Ve.A.SearchAutocomplete,{label:"상/하차지 구분",fieldName:"locationType",options:[{id:R.iq8.PICKUP,label:"상차지"},{id:R.iq8.DROP,label:"하차지"}],autocompleteClassName:"!w-[200px]"}),(0,l.jsx)(Ve.A.SearchText,{label:"기본/상세 주소",placeholder:"기본 주소 또는 상세 주소 입력",fieldName:"searchAddress",className:"!max-w-[200px]"})]})}),(0,l.jsx)("div",{className:"h-[calc(100vh-276px)]",children:(0,l.jsx)(Fa.A,{...Y,ref:f,gridApiRef:C,columns:G,checkboxSelection:!0,columnHeaderHeight:32,editMode:"cell",initialState:{columns:{columnVisibilityModel:k}},columnGroupingModel:gl,onRowSelectionModelChange:c,"data-sentry-element":"WrapperBasicDataGrid","data-sentry-source-file":"CustomerMasterPanel.tsx"})}),(0,l.jsxs)("div",{className:"border-grey90 absolute bottom-0 ml-auto flex w-full min-w-[900px] items-center justify-end gap-[8px] border-t-[1px] bg-white px-[40px] py-[12px]",children:[(0,l.jsx)("div",{className:"mr-auto flex gap-[4px]",children:(0,l.jsx)(St.A,{label:"신규",handleAddRow:p,isDisabled:!s.customerId,"data-sentry-element":"TmsDataGridAddRowBtn","data-sentry-source-file":"CustomerMasterPanel.tsx"})}),(0,l.jsx)(al,{editMode:"cell",columnGroupingModel:Tl,columns:[{field:"__check__",headerName:"",headerClassName:"height-wide-cell",width:76,sortable:!1,disableColumnMenu:!0,align:"center",cellClassName:"wide-cell"},{field:"no",headerName:"No.",sortable:!1,align:"center",headerClassName:"height-wide-cell",width:48,type:da._.VIEW_MODE_ID},{field:"customerMdmCode",headerName:"MDM 코드(화주)",required:!0,hideable:!1,headerWideCell:!0,cellClassName:"basic-dataGrid-none-editable",width:120},{field:"name",headerName:"거래처명",required:!0,hideable:!1,editable:!0,defaultEditable:!0,headerClassName:"height-wide-cell",cellClassName:"required-cell",width:160,renderCell:e=>(0,Et.A)({isOpened:e.row.isError&&!e.row[e.field],title:"필수 정보를 입력해 주세요.",children:e.row.name,transitionTime:0,statusType:"error"})},{field:"nodeName",headerName:"상세노드명",required:!0,hideable:!1,headerWideCell:!0,editable:!0,defaultEditable:!0,width:160},{field:"basicAddress",required:!0,hideable:!1,headerName:"기본 주소",cellClassName:"wide-cell required-cell",headerClassName:"height-wide-cell",width:340,renderCell:e=>(0,vl.A)({params:e})},{field:"detailAddress",editable:!0,defaultEditable:!0,headerName:"상세 주소",headerClassName:"height-wide-cell",width:200},{field:"loadUnloadType",cellClassName:"wide-cell",headerClassName:"height-wide-cell",width:102,renderHeader:()=>(0,yl.A)({headerName:"상/하차지 구분",required:!0}),renderCell:e=>Xt({options:e.row.loadUnloadTypeStatus===R.yPk.PICKUP?[{id:R.yPk.PICKUP,label:"상차지"}]:e.row.loadUnloadTypeStatus===R.yPk.DROP?[{id:R.yPk.DROP,label:"하차지"}]:[{id:R.yPk.PICKUP,label:"상차지"},{id:R.yPk.DROP,label:"하차지"}],params:e})},{field:"managerName",editable:!0,defaultEditable:!0,headerName:"담당자명",width:92},{field:"phoneNumber",editable:!0,defaultEditable:!0,headerName:"대표전화",width:120},{field:"managerPhoneNumber",editable:!0,defaultEditable:!0,headerName:"휴대폰번호",width:120},{field:"smsReceiptStatus",headerName:"SMS 수신 여부",cellClassName:"wide-cell",headerClassName:"height-wide-cell",width:104,renderCell:e=>(0,Al.A)({params:e})},{field:"vehicleType",headerName:"차종",cellClassName:"wide-cell",headerClassName:"height-wide-cell",width:122,renderCell:e=>Qt({type:Ze.k.VEHICLE_TYPE,params:e})},{field:"tonLimitCode",headerName:"톤급",cellClassName:"wide-cell",width:92,renderCell:e=>Qt({type:Ze.k.VEHICLE_TON_CODE,params:e})},{field:"loadLimitType",headerName:"적재함",cellClassName:"wide-cell",width:169,renderCell:e=>Qt({type:Ze.k.LOAD_LIMIT_TYPE,params:e})},{field:"loadUnloadMethodType",sortable:!1,headerName:"조건",cellClassName:"wide-cell",width:120,renderCell:e=>Qt({type:Ze.k.LOAD_UNLOAD_METHOD_TYPE,params:e})},{field:"deliveryTimeFixed",sortable:!1,headerName:"납품 고정 여부",headerClassName:"height-wide-cell",cellClassName:"wide-cell",width:100,renderCell:e=>(0,Al.A)({params:e})},{field:"deliveryStartTime",sortable:!1,headerName:"From",cellClassName:"wide-cell",width:90,renderCell:e=>(0,El.A)({autocompleteBoxClassName:"w-full",componentType:"autocomplete-table",params:e})},{field:"deliveryEndTime",sortable:!1,headerName:"To",cellClassName:"wide-cell",width:90,renderCell:e=>(0,El.A)({autocompleteBoxClassName:"w-full",componentType:"autocomplete-table",params:e})},{field:"customerOperatingTime",sortable:!1,headerName:"거래처 운영",cellClassName:"wide-cell",headerClassName:"height-wide-cell",width:90,renderCell:e=>(0,El.A)({autocompleteBoxClassName:"w-full",componentType:"autocomplete-table",params:e})}],excelDownload:{excelData:S,handleExcelDownload:_,fileName:"(양식)거래처마스터(Admin)",isSuccess:w},excelUpload:{setExcelFile:O,excelResponseList:Rl.q.toList(M),resetList:D,isSuccess:j,maxUploadLength:1e3},excelValidation:{checkValidation:B,isSuccess:U,excelValidationResponseList:null==F?void 0:F.customerPlaceInfoList},uploadListRegister:{setExcelUploadList:V,isSuccess:I,successMessage:{dataName:"거래처 마스터",successCount:null==F||null===(a=F.customerPlaceInfoList)||void 0===a?void 0:a.length}},"data-sentry-element":"ExcelUploadModal","data-sentry-source-file":"CustomerMasterPanel.tsx"}),(0,l.jsx)(We,{label:"엑셀 다운로드",excelFileName:"거래처 마스터",excelData:E,isSuccessExcel:y,handleExcelDownload:h,"data-sentry-element":"TmsBasicDataGridExcelDownload","data-sentry-source-file":"CustomerMasterPanel.tsx"}),(0,l.jsx)("div",{className:"bg-grey90 flex h-[12px] w-[1px]"}),(0,l.jsx)(ja,{isDisabled:r,handleDeleteComplete:()=>i(!0),"data-sentry-element":"TmsDataGridDeleteCompleteBtn","data-sentry-source-file":"CustomerMasterPanel.tsx"}),(0,l.jsx)(_t.A,{handleSave:m,"data-sentry-element":"TmsDataGridSaveBtn","data-sentry-source-file":"CustomerMasterPanel.tsx"})]})]}),o&&(0,l.jsx)(N,{title:"거래처를 삭제하시겠어요?",description:"[삭제하기]를 클릭하면 거래처가 삭제됩니다.",onClickCloseButton:()=>i(!1),onClickConfirmButton:u,confirmButtonLabel:"삭제하기",confirmButtonType:"destructive"}),v.isOpened&&(0,l.jsxs)(N,{title:"노드와 기본 주소의 행정 구역이 다릅니다.",onClickCloseButton:()=>A({isOpened:!1,checkAddress:[]}),onClickConfirmButton:g,confirmButtonLabel:"저장하기",children:[(0,l.jsxs)("div",{className:"Body4_B text-grey40",children:[(0,l.jsx)("span",{className:"text-error",children:v.checkAddress.map((e=>e)).join(", ")}),"의 행정 구역이 일치하지 않음"]}),(0,l.jsx)("div",{className:"Body4_M text-grey50 mt-[20px]",children:"데이터 관리를 위해 일치하는 행정 구역 입력을 권장합니다. 저장하시겠어요?"})]})]})},[s.yZ]:Nt,[s.pN]:Cl,[s.eL]:Ji,[s.MC]:ad,[s.cg]:rd,[s.cC]:nd,[s.a2]:function(e){let{menuName:t}=e;const{user:a}=(0,i.o)(),{columns:s,excelUploadColumns:n,columnGroupingModel:o}=(0,Gy.Z)(),d=(0,r.useRef)(null),c=(0,D.bBi)(),{mutateAsync:u,isSuccess:m,data:p}=(0,ky.EY)(),{mutateAsync:h,isSuccess:f,data:C}=(0,ky.Fc)(),x=(0,$e.P9)(),[N,y]=(0,r.useState)(0),{mutateAsync:E,isSuccess:A,data:g,reset:T}=(0,ky.GV)(),{mutateAsync:I,isSuccess:b,data:R}=(0,ky.lE)(),{mutateAsync:S,isSuccess:_,data:w}=(0,ky.Q2)(),O=v(),M={instructionYearMonth:je()(new Date).startOf("day").format(),searchCreatedByName:null==a?void 0:a.userName,isUsed:"true"},[j,P]=(0,r.useState)(M),L=()=>{const e="true"===j.isUsed||"false"!==j.isUsed&&null;u({...j,isUsed:e})};return(0,r.useEffect)((()=>{var e,t,a;m&&(null===(e=d.current)||void 0===e||e.setInitData(null!==(a=(null!==(t=p.govGrainInstructionInfoList)&&void 0!==t?t:[]).map(((e,t)=>({...e,__No__:t+1}))))&&void 0!==a?a:[]))}),[p]),(0,r.useEffect)((()=>{f&&(x({message:"수송지시가 삭제되었습니다.",type:"success",delay:3e3}),L())}),[C]),(0,r.useEffect)((()=>{_&&(alert(w.message),y(w.successCount||0),L())}),[w]),(0,l.jsxs)("div",{className:"relative flex h-full w-full flex-col","data-sentry-component":"GovernmentInstructionPanel","data-sentry-source-file":"GovernmentInstructionPanel.tsx",children:[(0,l.jsx)("div",{className:"bg-grey98",children:(0,l.jsx)(xl,{title:t,"data-sentry-element":"ContentHeader","data-sentry-source-file":"GovernmentInstructionPanel.tsx"})}),(0,l.jsxs)("div",{className:"flex h-full flex-col",children:[(0,l.jsx)(Ve.A.Provider,{params:j,setParams:P,initialParams:M,onSearch:L,"data-sentry-element":"SearchFilter.Provider","data-sentry-source-file":"GovernmentInstructionPanel.tsx",children:e=>(0,l.jsxs)(xt.A,{children:[(0,l.jsxs)(Ct.A,{width:"w-[393px]",children:[(0,l.jsx)(Ve.A.SearchDateSingle,{label:"지시년월",dateFiled:"instructionYearMonth",datePickerClassName:"w-full",format:"YYYY-MM",views:["year","month"]}),(0,l.jsx)(Ve.A.DoubleSearchText,{label:"반출지",mainInput:{placeholder:"시/도 입력",fieldName:"departureProvince",className:"w-[100px]"},subInput:{placeholder:"시/군/구 입력",fieldName:"departureCity",className:"w-[100px]"}})]}),(0,l.jsxs)(Ct.A,{width:"w-[393px]",children:[(0,l.jsx)(Ve.A.SearchText,{label:"지시번호",placeholder:"지시번호 입력",fieldName:"instructionNo",className:"max-w-[200px]"}),(0,l.jsx)(Ve.A.DoubleSearchText,{label:"반입지",mainInput:{placeholder:"시/도 입력",fieldName:"arrivalProvince",className:"w-[100px]"},subInput:{placeholder:"시/군/구 입력",fieldName:"arrivalCity",className:"w-[100px]"}})]}),(0,l.jsxs)(Ct.A,{width:"w-[393px]",children:[(0,l.jsx)(Ve.A.SearchText,{label:"지자체명",placeholder:"지자체명 입력",fieldName:"customerName",className:"max-w-[200px]"}),(0,l.jsx)(Ve.A.SearchAutocomplete,{label:"사용 여부",options:[{id:"true",label:"사용"},{id:"false",label:"미사용"}],fieldName:"isUsed"})]}),(0,l.jsxs)(Ct.A,{width:"w-[393px]",children:[(0,l.jsx)(Ve.A.SearchText,{label:"품목",placeholder:"품목 입력",fieldName:"itemName",className:"max-w-[200px]"}),(0,l.jsx)(Ve.A.SearchText,{label:"등록자",placeholder:"등록자 입력",fieldName:"searchCreatedByName",className:"max-w-[200px]"})]}),(0,l.jsxs)(Ct.A,{width:"w-[393px]",children:[(0,l.jsx)(Ve.A.SearchText,{label:"곡종",placeholder:"곡종 입력",fieldName:"grainVarietyName",className:"max-w-[200px]"}),(0,l.jsx)(Ve.A.SearchText,{label:"수정자",placeholder:"수정자 입력",fieldName:"searchUpdatedByName",className:"max-w-[200px]"})]})]})}),(0,l.jsx)("div",{className:"grid-area flex-1 overflow-auto",children:(0,l.jsx)(Fa.A,{ref:d,gridApiRef:c,columns:s,columnGroupingModel:o,checkboxSelection:!0,initialState:{aggregation:{model:{__No__:"totalCount",totalQuantity:"sum",kg10:"sum",kg20:"sum",kg40:"sum",kg800:"sum",kg1000:"sum"}}},"data-sentry-element":"WrapperBasicDataGrid","data-sentry-source-file":"GovernmentInstructionPanel.tsx"})}),(0,l.jsxs)("div",{className:"border-grey90 flex items-center justify-end gap-[8px] border-t-[1px] px-[40px] py-[12px]",children:[(0,l.jsx)(al,{editMode:"cell",columnGroupingModel:o,columns:n,excelDownload:{excelData:null,handleExcelDownload:()=>{alert("나중에 준다고 함")},fileName:"(양식)거래처마스터(Admin)",isSuccess:null},excelUpload:{setExcelFile:e=>{E({file:e[0]}),y(0)},excelResponseList:Yy.toList(g),resetList:T,isSuccess:A},excelValidation:{checkValidation:e=>{I(qy.toList(e,"govGrainInstructionInfoList"))},isSuccess:b,excelValidationResponseList:null==R?void 0:R.govGrainInstructionInfoList},uploadListRegister:{setExcelUploadList:()=>{S(qy.toList(null==R?void 0:R.govGrainInstructionInfoList))},isSuccess:_,successMessage:{dataName:"양곡) 시/도 수송지시",successCount:N}},"data-sentry-element":"ExcelUploadModal","data-sentry-source-file":"GovernmentInstructionPanel.tsx"}),(0,l.jsx)(We,{label:"양식 다운로드",excelFileName:"거래처 마스터",excelData:null,isSuccessExcel:null,handleExcelDownload:()=>{alert("API 받으면 넣을께요^.^")},"data-sentry-element":"TmsBasicDataGridExcelDownload","data-sentry-source-file":"GovernmentInstructionPanel.tsx"}),(0,l.jsx)("div",{className:"bg-grey90 flex h-[12px] w-[1px]"}),(0,l.jsx)(ja,{isDisabled:null,handleDeleteComplete:()=>{const e=()=>Array.from(c.current.getSelectedRows().values());0!==e().length?O({title:"수송지시를 삭제하시겠어요?",description:"삭제 시, 해당 수송지시를 사용할 수 없습니다.",confirmButtonType:"destructive",confirmButtonLabel:"삭제하기",onClickConfirmButton:()=>{const t={itemList:e().map(((e,t)=>({rowNum:t+1,govGrainInstructionId:e.govGrainInstructionId})))};h(t)}}):x({message:"삭제할 행을 먼저 선택해 주세요.",type:"caution",delay:3e3})},"data-sentry-element":"TmsDataGridDeleteCompleteBtn","data-sentry-source-file":"GovernmentInstructionPanel.tsx"})]})]})]})},[s.tJ]:cd,[s.Zd]:hd,[s.DR]:Hh,[s.t1]:Id,[s.nE]:ou,[s.Kq]:tm,[s.yL]:Uu,[s.wW]:ym,[s.eo]:jm,[s.xi]:Wm,[s.oT]:Km,[s.ro]:function(){const[e,t]=(0,r.useState)(!0);return(0,l.jsx)("div",{className:"h-[calc(100vh-258px)] w-full","data-sentry-component":"NaverMapSample","data-sentry-source-file":"NaverMapSample.tsx",children:(0,l.jsxs)(Sp,{onClick:()=>{},"data-sentry-element":"NaverMap","data-sentry-source-file":"NaverMapSample.tsx",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)(_p,{position:{lat:37.573,lng:126.979},title:"종로구청",description:"종로구청 내용",markerIcon:(0,l.jsx)(ep,{}),markerAnchor:{x:20,y:40},"data-sentry-element":"NaverMapMarker","data-sentry-source-file":"NaverMapSample.tsx"}),(0,l.jsx)(_p,{position:{lat:37.5794,lng:126.9767},title:"경복궁",description:"조선 왕조의 정궁","data-sentry-element":"NaverMapMarker","data-sentry-source-file":"NaverMapSample.tsx"}),(0,l.jsx)(_p,{position:{lat:37.5665,lng:126.978},markerIcon:(0,l.jsx)(ep,{}),markerAnchor:{x:20,y:40},"data-sentry-element":"NaverMapMarker","data-sentry-source-file":"NaverMapSample.tsx"})]}),(0,l.jsx)(wp,{"data-sentry-element":"NaverMapPolyLine","data-sentry-source-file":"NaverMapSample.tsx"})]})})},[s.IL]:function(){const[e,t]=(0,r.useState)(null),{control:a,handleSubmit:s,setValue:n,formState:{errors:o,isSubmitting:i,isValid:d,isDirty:c},reset:p,trigger:h,watch:f}=(0,Hr.mN)({defaultValues:{name:"",phoneNumber:"",email:"",companyName:"",businessNumber:"",companyAddress:"",subUsers:[],etc:{jobGroup:"engineering",jobRole:""}},mode:"onChange",reValidateMode:"onChange"}),C=(0,Hr.FH)({control:a});return(0,r.useEffect)((()=>{JSON.stringify(C)}),[C]),(0,l.jsxs)("div",{className:"mx-auto mt-8 max-h-[calc(100vh-200px)] w-[50%] overflow-auto rounded-lg bg-white p-6 shadow-md","data-sentry-component":"ContactForm","data-sentry-source-file":"ContactForm.tsx",children:[(0,l.jsx)("h2",{className:"mb-4 text-xl font-bold",children:"연락처 정보"}),e&&(0,l.jsx)("div",{className:"border-red50 text-red70 mb-4 rounded border p-3",children:(0,l.jsx)("p",{children:e})}),(0,l.jsxs)("form",{onSubmit:s((e=>{const a={name:e.name,phoneNumber:e.phoneNumber,email:e.email,companyName:e.companyName,businessNumber:e.businessNumber,companyAddress:e.companyAddress,subUsers:e.subUsers,etc:e.etc};JSON.stringify(e),JSON.stringify(a),t(null)}),(e=>{t("입력 항목을 확인해주세요.")})),children:[(0,l.jsx)(Mp,{control:a,errors:o,"data-sentry-element":"BasicInfo","data-sentry-source-file":"ContactForm.tsx"}),(0,l.jsx)(Lp,{control:a,errors:o,"data-sentry-element":"BusinessLicense","data-sentry-source-file":"ContactForm.tsx"}),(0,l.jsx)(Dp,{control:a,errors:o,"data-sentry-element":"SubUserInfo","data-sentry-source-file":"ContactForm.tsx"}),(0,l.jsxs)("div",{className:"flex justify-between gap-4",children:[(0,l.jsx)(u.A,{type:"reset",level:m.V.level_2,buttonType:"destructive",label:"리셋",className:"w-full",onClick:()=>{t(null)},"data-sentry-element":"TmsBasicButton","data-sentry-source-file":"ContactForm.tsx"}),(0,l.jsx)(u.A,{type:"submit",level:m.V.level_2,buttonType:"normal",label:i?"처리 중...":"저장",className:"w-full","data-sentry-element":"TmsBasicButton","data-sentry-source-file":"ContactForm.tsx"})]})]})]})},[s.$Q]:Me,[s.qD]:function(){var e,t,a;const{user:s}=(0,i.o)(),[n,o]=(0,r.useState)(!1),d=(0,T.n)(["noticeBoard/useNoticeBoardListMutation"],(async()=>(await I.q.api((e=>e.ApiHomeAnnouncementV1List()))).data.result.list)),c=(0,T.n)(["noticeBoard/useNoticeBoardListDetailMutation"],(async e=>(await I.q.api((t=>t.ApiHomeAnnouncementV1Detail(e)))).data.result)),u=e=>{c.mutateAsync({announcementId:e})};return(0,r.useEffect)((()=>{c.isSuccess&&c.data&&(c.data,o(!0))}),[c.isSuccess]),(0,r.useEffect)((()=>{s.adminId&&d.mutateAsync().catch((()=>{}))}),[s.adminId]),(0,l.jsxs)("div",{className:"flex h-full w-full flex-col items-start gap-6 p-10","data-sentry-component":"NoticeBoard","data-sentry-source-file":"index.tsx",children:[(0,l.jsx)("div",{className:"h-[32px] w-full",children:d.isLoading||""===s.userName?(0,l.jsx)(D.mHZ,{variant:"rounded",className:"h-[30px] w-full bg-gradient-to-r from-[#EDEFF5] to-[#F5F7FC]",animation:"wave",height:30}):(0,l.jsxs)("div",{className:"text-2xl font-extrabold leading-loose text-[#16171b]",children:[s.userName,"님, 안녕하세요."]})}),(0,l.jsxs)("div",{className:"flex w-full flex-1 flex-col items-start overflow-auto rounded-xl bg-white p-6 shadow-[0px_0px_16px_0px_rgba(0,0,0,0.08)] outline outline-1 outline-offset-[-1px] outline-[#dee1e8]",children:[(0,l.jsx)("div",{className:"flex items-center gap-2.5 self-stretch pb-3",children:(0,l.jsx)("div",{className:"flex-1 text-xl font-extrabold leading-7 text-[#16171b]",children:"공지사항"})}),(0,l.jsx)("div",{className:"flex h-full w-full flex-col overflow-auto",children:d.isLoading?Array.from({length:10}).map(((e,t)=>(0,l.jsxs)("div",{className:"flex flex-col items-start gap-2 self-stretch border-b border-[#edeff4] p-6",children:[(0,l.jsxs)("div",{className:"flex w-full items-center gap-3",children:[(0,l.jsx)(D.mHZ,{variant:"rounded",className:"h-[20px] w-24 bg-gradient-to-r from-[#EDEFF5] to-[#F5F7FC]",animation:"wave",height:20}),(0,l.jsx)(D.mHZ,{variant:"rounded",className:"h-[20px] w-2/3 bg-gradient-to-r from-[#EDEFF5] to-[#F5F7FC]",animation:"wave",height:20})]}),(0,l.jsx)(D.mHZ,{variant:"rounded",className:"h-[16px] w-1/3 bg-gradient-to-r from-[#EDEFF5] to-[#F5F7FC]",animation:"wave",height:16})]},t))):0===(null===(e=d.data)||void 0===e?void 0:e.length)?(0,l.jsx)("div",{className:"flex flex-1 items-center justify-center p-6 text-sm font-medium text-[#868c98]",children:"등록된 공지사항이 없습니다."}):(0,l.jsx)(l.Fragment,{children:null===(t=d.data)||void 0===t?void 0:t.map((e=>e.isPinned?(0,l.jsxs)("div",{className:"flex cursor-pointer flex-col items-start gap-1 self-stretch border-b border-[#edeff4] p-6",onClick:()=>u(e.announcementId),children:[(0,l.jsxs)("div",{className:"flex items-center gap-1",children:[(0,l.jsx)("div",{className:"text-base font-extrabold leading-snug text-[#db085d]",children:"[중요]"}),(0,l.jsx)("div",{className:"text-base font-extrabold leading-snug text-[#444855]",children:e.title})]}),(0,l.jsxs)("div",{className:"text-sm font-medium leading-tight text-[#868c98]",children:[je()(e.startAt).format("YYYY년MM월DD일 HH:mm")," ~"," ",je()(e.endAt).format("YYYY년MM월DD일 HH:mm")]})]},e.announcementId):(0,l.jsxs)("div",{onClick:()=>u(e.announcementId),className:"flex cursor-pointer flex-col items-start gap-1 self-stretch border-b border-[#edeff4] p-6",children:[(0,l.jsx)("div",{className:"text-base font-extrabold leading-snug text-[#444855]",children:e.title}),(0,l.jsxs)("div",{className:"text-sm font-medium leading-tight text-[#868c98]",children:[je()(e.startAt).format("YYYY년MM월DD일 HH:mm")," ~"," ",je()(e.endAt).format("YYYY년MM월DD일 HH:mm")]})]},e.announcementId)))})})]}),n&&(0,l.jsx)(Pe.A,{onClickCloseButton:()=>o(!1),isShowedConfirmButton:!1,modalWidth:612,modalContentHeight:442,children:(0,l.jsxs)("div",{className:"w-hull flex h-full flex-col gap-[24px]",children:[(0,l.jsxs)("div",{className:"inline-flex flex-col items-start justify-start gap-1 self-stretch",children:[(0,l.jsxs)("div",{className:"inline-flex items-start justify-start gap-1 self-stretch",children:[c.data.isPinned&&(0,l.jsx)("div",{className:"justify-start text-xl font-extrabold leading-7 text-[#db085d]",children:"[중요]"}),(0,l.jsx)("div",{className:"flex-1 justify-start text-xl font-extrabold leading-7 text-[#16171b]",children:c.data.title})]}),(0,l.jsxs)("div",{className:"justify-start text-sm font-medium leading-tight text-[#868c98]",children:[je()(c.data.startAt).format("YYYY년 M월 D일 HH:mm")," ~"," ",je()(c.data.endAt).format("YYYY년 M월 D일 HH:mm")]})]}),(0,l.jsx)("div",{className:"pb-[10px] text-sm font-medium leading-tight text-[#16171b]",dangerouslySetInnerHTML:{__html:null===(a=c.data)||void 0===a?void 0:a.contents}})]})})]})},"/settlement/standardInformation/manualSettlementCriteria":Oh,"/standardInformation/commonCodeManagement":function(e){let{menuName:t}=e;const{mainColumns:a,subColumns:s}=(()=>{const{handleUpdateCommonCodeGroupIsUsed:e,handleUpdateCommonCodeModify:t}=yy();return{mainColumns:(0,r.useMemo)((()=>[{field:"__No__",headerName:"No.",sortable:!1,width:48,align:"center",type:da._.VIEW_MODE_ID},{field:"commonGroupCode",headerName:"대분류 코드",width:204},{field:"commonGroupCodeName",headerName:"대분류명",width:204,flex:1},{field:"isUsed",headerName:"사용 여부",sortable:!1,width:83,cellClassName:"wide-cell",renderCell:t=>(0,l.jsx)(Al.A,{params:t,onChange:a=>{e(t.row.commonGroupCodeId,"Y"===a)}})}]),[]),subColumns:(0,r.useMemo)((()=>[{field:"__No__",headerName:"No.",sortable:!1,width:48,align:"center",type:da._.VIEW_MODE_ID},{field:"commonCode",headerName:"소분류 코드",sortable:!1,width:148},{field:"commonCodeName",headerName:"소분류명",sortable:!1,width:148},{field:"commonCodeDescription",headerName:"소분류 코드 설명",sortable:!1,width:196,flex:1},{field:"seq",headerName:"순번",sortable:!1,width:73},{field:"attribute1",headerName:"속성1",sortable:!1,width:73},{field:"attribute2",headerName:"속성2",sortable:!1,width:73},{field:"attribute3",headerName:"속성3",sortable:!1,width:73},{field:"attribute4",headerName:"속성4",sortable:!1,width:73},{field:"attribute5",headerName:"속성5",sortable:!1,width:73},{field:"attribute6",headerName:"속성6",sortable:!1,width:73},{field:"mappingCode",headerName:"매핑 코드",sortable:!1,width:73},{field:"parentCode",headerName:"부모 코드",sortable:!1,width:73},{field:"isUsed",headerName:"사용 여부",sortable:!1,width:83,cellClassName:"wide-cell",renderCell:e=>(0,l.jsx)(Al.A,{params:e,onChange:a=>{t(e.row.commonCodeId,"Y"===a)}})}]),[])}})(),{wrapGridRef:n,gridApiRef:o,wrapGridRefDetail:i,gridApiRefDetail:d,searchParams:c,setSearchParams:u,handleSearch:m,handleClickRow:p,codeGroupCount:h,codeCount:f}=yy();return(0,l.jsxs)("div",{className:"relative w-full","data-sentry-component":"CommonCodeManagementPanel","data-sentry-source-file":"CommonCodeManagementPanel.tsx",children:[(0,l.jsx)("div",{className:"bg-grey98",children:(0,l.jsx)(xl,{title:t,"data-sentry-element":"ContentHeader","data-sentry-source-file":"CommonCodeManagementPanel.tsx"})}),(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsx)(Ve.A.Provider,{params:c,setParams:u,onSearch:m,"data-sentry-element":"SearchFilter.Provider","data-sentry-source-file":"CommonCodeManagementPanel.tsx",children:e=>(0,l.jsxs)(xt.A,{children:[(0,l.jsx)(Ve.A.SearchText,{label:"대분류 코드",placeholder:"대분류 코드 입력",fieldName:"searchCommonGroupCode",className:"w-[318px]"}),(0,l.jsx)(Ve.A.SearchText,{label:"대분류명",placeholder:"대분류명 입력",fieldName:"searchCommonGroupCodeName",className:"w-[318px]"})]})}),(0,l.jsxs)("div",{className:"border-grey90 flex gap-[24px] border-t-[1px] px-[40px]",children:[(0,l.jsxs)("div",{className:"flex w-[calc(35%-12px)] flex-col",children:[(0,l.jsx)("div",{className:"flex items-center gap-[8px] py-[21px]",children:(0,l.jsxs)("div",{className:"Body2_B",children:["대분류 관리",(0,l.jsxs)("span",{className:"Body4_M text-grey50 ml-[4px]",children:["(",h,"건)"]})]})}),(0,l.jsx)("div",{className:"h-[600px]",children:(0,l.jsx)(Fa.A,{ref:n,gridApiRef:o,columns:a,onRowDoubleClick:e=>{p(e.row.commonGroupCodeId)},"data-sentry-element":"WrapperBasicDataGrid","data-sentry-source-file":"CommonCodeManagementPanel.tsx"})})]}),(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsx)("div",{className:"flex items-center gap-[8px] py-[21px]",children:(0,l.jsxs)("div",{className:"Body2_B",children:["소분류 관리",(0,l.jsxs)("span",{className:"Body4_M text-grey50 ml-[4px]",children:["(",f,"건)"]})]})}),(0,l.jsx)("div",{className:"h-[600px]",children:(0,l.jsx)(Fa.A,{ref:i,gridApiRef:d,columns:s,"data-sentry-element":"WrapperBasicDataGrid","data-sentry-source-file":"CommonCodeManagementPanel.tsx"})})]})]})]})]})},"/settlement/standardInformation/indirectCostRulesManagement":Wp,[s.cp]:sh,"/settlement/standardInformation/allowedPaymentConditionsManagement":Fp,"/settlement/standardInformation/paymentConditionsBySupplierManagement":bh,[s.yH]:function(e){let{menuName:t}=e;const{searchParams:a,setSearchParams:s,handleSearch:n,gridApiRef:o,wrapGridRef:i,gridApiRefDetail:d,wrapGridRefDetail:c,gridApiRefSub:u,wrapGridRefSub:m,checkConfirmInfo:p,setCheckConfirmInfo:h,handleClickMainRow:f,handleClickSubRow:C,initialParams:x,handleMainSave:y,handleSubSave:E,handleDetailSave:v,rows:A,rowsDetail:g,rowsSub:T}=oN(),{mainColumns:I,subColumns:b,detailColumns:R}={mainColumns:(0,r.useMemo)((()=>[{field:"id",headerName:"No.",width:48,sortable:!1,filterable:!1,align:"center",type:da._.VIEW_MODE_ID},{field:"mainMenuName",headerName:"메뉴명",flex:1,editable:!0,defaultEditable:!0,type:da._.CUSTOM_INPUT_TEXT},{field:"mainMenuSeq",headerName:"메뉴 순번",editable:!0,defaultEditable:!0,type:da._.CUSTOM_INPUT_NUMBER},{field:"serviceType",headerName:"시스템 구분",readonly:!0},{field:"isUsed",headerName:"사용 여부",type:da._.CUSTOM_Y_OR_N}]),[]),subColumns:(0,r.useMemo)((()=>[{field:"id",headerName:"No.",width:48,sortable:!1,filterable:!1,align:"center",type:da._.VIEW_MODE_ID},{field:"subMenuName",headerName:"메뉴명",flex:1,editable:!0,defaultEditable:!0,type:da._.CUSTOM_INPUT_TEXT},{field:"subMenuSeq",headerName:"메뉴 순번",editable:!0,defaultEditable:!0,type:da._.CUSTOM_INPUT_NUMBER},{field:"isUsed",headerName:"사용 여부",type:da._.CUSTOM_Y_OR_N}]),[]),detailColumns:(0,r.useMemo)((()=>[{field:"id",headerName:"No.",width:48,sortable:!1,filterable:!1,align:"center",type:da._.VIEW_MODE_ID},{field:"subMenuName",headerName:"메뉴명",flex:1,editable:!0,defaultEditable:!0,type:da._.CUSTOM_INPUT_TEXT},{field:"subMenuSeq",headerName:"메뉴 순번",editable:!0,defaultEditable:!0,type:da._.CUSTOM_INPUT_NUMBER},{field:"isUsed",headerName:"사용 여부",type:da._.CUSTOM_Y_OR_N}]),[])};return(0,l.jsxs)("div",{className:"relative w-full","data-sentry-component":"MenuManagementPanel","data-sentry-source-file":"MenuManagementPanel.tsx",children:[(0,l.jsx)("div",{className:"bg-grey98",children:(0,l.jsx)(xl,{title:t,"data-sentry-element":"ContentHeader","data-sentry-source-file":"MenuManagementPanel.tsx"})}),(0,l.jsxs)("div",{className:"flex flex-1 flex-col",children:[(0,l.jsx)(Ve.A.Provider,{params:a,setParams:s,onSearch:n,initialParams:x,"data-sentry-element":"SearchFilter.Provider","data-sentry-source-file":"MenuManagementPanel.tsx",children:e=>(0,l.jsxs)(xt.A,{children:[(0,l.jsx)(Ve.A.AllMetaAutocompleteSearch,{label:"시스템 구분",allMetaType:Ze.k.SERVICE_TYPE,className:"!w-[250px]"}),(0,l.jsx)(Ve.A.SearchAutocomplete,{label:"사용 여부",options:[{id:"Y",label:"Y"},{id:"N",label:"N"}],fieldName:"isUsed",autocompleteClassName:"!w-[261px]"}),(0,l.jsx)(Ve.A.SearchText,{label:"메인 메뉴명",placeholder:"메인 메뉴명 입력",fieldName:"searchMenuName"})]})}),(0,l.jsxs)("div",{className:"border-grey90 flex gap-[24px] border-t-[1px] px-[40px]",children:[(0,l.jsxs)("div",{className:"flex min-w-0 flex-1 flex-col",children:[(0,l.jsx)("div",{className:"flex items-center gap-[8px] py-[21px]",children:(0,l.jsx)("div",{className:"Body2_B",children:"대분류 메뉴"})}),(0,l.jsx)("div",{className:"h-[600px] w-full overflow-hidden",children:(0,l.jsx)(Fa.A,{ref:i,gridApiRef:o,columns:I,onRowDoubleClick:(e,t,a)=>{f(e.row.mainMenuId)},"data-sentry-element":"WrapperBasicDataGrid","data-sentry-source-file":"MenuManagementPanel.tsx"})}),(0,l.jsx)("div",{className:"ml-auto mt-[16px] flex",children:(0,l.jsx)(_t.A,{handleSave:y,"data-sentry-element":"TmsDataGridSaveBtn","data-sentry-source-file":"MenuManagementPanel.tsx"})})]}),(0,l.jsxs)("div",{className:"flex min-w-0 flex-1 flex-col",children:[(0,l.jsx)("div",{className:"flex items-center gap-[8px] py-[21px]",children:(0,l.jsx)("div",{className:"Body2_B",children:"중분류 메뉴"})}),(0,l.jsx)("div",{className:"h-[600px] w-full overflow-hidden",children:(0,l.jsx)(Fa.A,{ref:c,gridApiRef:d,columns:b,onRowDoubleClick:(e,t,a)=>{C(e.row.subMenuId)},"data-sentry-element":"WrapperBasicDataGrid","data-sentry-source-file":"MenuManagementPanel.tsx"})}),(0,l.jsx)("div",{className:"ml-auto mt-[16px] flex",children:(0,l.jsx)(_t.A,{handleSave:E,"data-sentry-element":"TmsDataGridSaveBtn","data-sentry-source-file":"MenuManagementPanel.tsx"})})]}),(0,l.jsxs)("div",{className:"flex min-w-0 flex-1 flex-col",children:[(0,l.jsx)("div",{className:"flex items-center gap-[8px] py-[21px]",children:(0,l.jsx)("div",{className:"Body2_B",children:"소분류 메뉴"})}),(0,l.jsx)("div",{className:"h-[600px] w-full overflow-hidden",children:(0,l.jsx)(Fa.A,{ref:m,gridApiRef:u,columns:R,"data-sentry-element":"WrapperBasicDataGrid","data-sentry-source-file":"MenuManagementPanel.tsx"})}),(0,l.jsx)("div",{className:"ml-auto mt-[16px] flex",children:(0,l.jsx)(_t.A,{handleSave:v,"data-sentry-element":"TmsDataGridSaveBtn","data-sentry-source-file":"MenuManagementPanel.tsx"})})]})]})]}),p.isOpened&&(0,l.jsx)(N,{title:p.title,description:p.description,confirmButtonLabel:p.confirmButtonLabel,onClickCloseButton:()=>h({isOpened:!1}),onClickConfirmButton:p.confirmClick,confirmButtonType:p.confirmButtonType})]})},[s.J_]:function(e){let{menuName:t}=e;const[a,n]=(0,r.useState)(iN[0].path),[o,i]=(0,r.useState)(!1),[d,c]=(0,r.useState)(!1),{getAllMeta:p}=od({mutationKey:"ManualSettlementEnterPanel",requestAllMeta:[Ze.k.SALES_UN_BILLING_REASON_TYPE,Ze.k.PURCHASE_GL_ACCOUNT_TYPE]}),h=wf({currentTab:a,tabs:iN,isOpenedRightPanel:o,setIsOpenedRightPanel:i,isNewPanel:d,setIsNewPanel:c});return(0,r.useLayoutEffect)((()=>{p()}),[]),(0,l.jsxs)("div",{className:"bg-grey98 flex h-full flex-col","data-sentry-component":"MenuAccessPanel","data-sentry-source-file":"MenuAccessPanel.tsx",children:[(0,l.jsx)(xl,{title:t,"data-sentry-element":"ContentHeader","data-sentry-source-file":"MenuAccessPanel.tsx",children:a===s.T9&&(0,l.jsx)(u.A,{label:"새 권한 생성하기",level:m.V.level_1,leftIcon:(0,l.jsx)(Ce,{}),onClick:()=>{i(!0),c(!0)}})}),(0,l.jsx)("div",{className:"border-grey90 border-b",children:(0,l.jsx)(Dr,{className:"ml-10",tabList:iN,onChange:(e,t)=>{n(t),i(!1)},"data-sentry-element":"StaticTabs","data-sentry-source-file":"MenuAccessPanel.tsx"})}),(0,l.jsx)("div",{className:"relative flex flex-1 bg-white",children:h})]})},[s.T9]:function(e){let{type:t,currentTab:a,isOpenedRightPanel:s,setIsOpenedRightPanel:n,isNewPanel:o,setIsNewPanel:i}=e;const{searchParams:d,setSearchParams:c,handleSearch:u,wrapGridRef:m,gridApiRef:p,doubleClickRow:h,setDoubleClickRow:f,isCheckConfirm:C,setIsCheckConfirm:x}=ZN({type:t,currentTab:a,isOpenedRightPanel:s,setIsOpenedRightPanel:n}),{columns:y}={columns:(0,r.useMemo)((()=>[{field:"id",headerName:"No.",width:48,sortable:!1,filterable:!1,align:"center",type:da._.VIEW_MODE_ID},{field:"authorityRoleName",headerName:"권한명",width:630,flex:1},{field:"isUsed",headerName:"사용 여부",type:da._.VIEW_MODE_Y_OR_N},{field:"userCount",headerName:"권한 사용자",width:180},{field:"createdBy",headerName:"등록자",width:180},{field:"createdAt",headerName:"최초 등록 일시",width:115,type:da._.VIEW_MODE_YYYYMMDD_DDD}]),[])};return(0,l.jsxs)("div",{className:"flex h-full w-full flex-col","data-sentry-component":"MenuPanel","data-sentry-source-file":"MenuPanel.tsx",children:[(0,l.jsx)(nu,{isOpenRightPanel:s,rightPanelWidth:600,onClickCloseButton:()=>n(!1),leftSidePanel:(0,l.jsxs)("div",{className:"flex h-full w-full flex-col",children:[(0,l.jsx)(Ve.A.Provider,{params:d,setParams:c,onSearch:u,children:e=>(0,l.jsxs)(xt.A,{children:[(0,l.jsx)(Ve.A.SearchText,{label:"권한명",placeholder:"권한명 입력",fieldName:"searchAuthorityRoleName",className:"w-[155px]"}),(0,l.jsx)(Ve.A.SearchAutocomplete,{label:"사용 여부",options:[{id:"Y",label:"사용"},{id:"N",label:"미사용"}],fieldName:"isUsed"})]})}),(0,l.jsx)("div",{className:"grid-area flex-1 overflow-auto",children:(0,l.jsx)(Fa.A,{ref:m,gridApiRef:p,columns:y,checkboxSelection:!0,onRowDoubleClick:e=>{f(e.row),n(!0),i(!1)}})})]}),rightSidePanel:(0,l.jsx)(ty,{doubleClickRow:h,isNewPanel:o,setIsNewPanel:i,isOpenedRightPanel:s}),"data-sentry-element":"TmsBasicSlidePanel","data-sentry-source-file":"MenuPanel.tsx"}),C.isOpened&&(0,l.jsx)(N,{title:C.title,description:C.description,confirmButtonType:C.confirmButtonType,confirmButtonLabel:C.confirmButtonLabel,onClickCloseButton:()=>x({isOpened:!1}),onClickConfirmButton:()=>C.onClickConfirmButton()})]})},[s.qW]:uy,[s.v8]:sN,[s.KY]:Kx,[s.vd]:function(e){let{menuName:t}=e;const{activeTab:a,handleTabClick:n,activeSubTab:o,handleSubTabClick:i,tabInfoFix:d,tabInfoChargeFix:c,tabInfoAccount:u,tabInfoAccountCancel:m,isOpenedChangeInfoCheck:p,handleCloseModal:h,handleConfirmModal:f,salesSearchParams:x,setSalesSearchParams:y}=(()=>{const{getAllMeta:e}=od({mutationKey:"PurchaseSettlement",requestAllMeta:[Ze.k.COMMON_MDM_COST_CENTER_PURCHASE_CODE,Ze.k.COMMON_MDM_CORPORATION_CODE,Ze.k.SETTLEMENT_MANAGER_SEARCH_TYPE,Ze.k.SALES_UN_BILLING_REASON_TYPE,Ze.k.COMMON_MDM_COST_CENTER_CODE]}),{tabInfoFix:t,tabInfoChargeFix:a,tabInfoAccount:l,tabInfoAccountCancel:n,resetAllTab:o,isChangeInfoCheck:i,setIsChangeInfoCheck:d}=jC(),[c,u]=(0,r.useState)(s.Tb),[m,p]=(0,r.useState)(!1),[h,f]=(0,r.useState)(!1),[C,x]=(0,r.useState)(""),[N,y]=(0,r.useState)(!1),[E,v]=(0,r.useState)({startDate:je()(new Date).subtract(45,"day").startOf("day").format(),endDate:je()(new Date).endOf("day").format(),searchType:R.zji.PICKUP,commonMdmCorporationCode:[],managerUserIds:[],settlementManagerSearchType:"ORDER_CREATE"});return(0,r.useLayoutEffect)((()=>{e()}),[]),(0,r.useEffect)((()=>()=>{o()}),[]),{activeTab:c,handleTabClick:e=>{x(e),i?f(!0):u(e)},activeSubTab:m,handleSubTabClick:e=>{y(e),i||p(e)},tabInfoFix:t,tabInfoChargeFix:a,tabInfoAccount:l,tabInfoAccountCancel:n,isOpenedChangeInfoCheck:h,handleCloseModal:()=>{f(!1)},handleConfirmModal:()=>{u(C),d(!1),f(!1),p(N)},salesSearchParams:E,setSalesSearchParams:v}})(),E=[{name:"매출 정산 확정",path:s.Tb,title:"매출 정산 확정",subTitle1:"미확정",subTitle2:"확정",tabInfo:d},{name:"매출 청구 확정",path:s.uz,subTitle1:"미확정",subTitle2:"확정",tabInfo:c},{name:"매출 회계 전기",path:s.tx,subTitle1:"미처리",subTitle2:"처리 완료",tabInfo:u},{name:"매출 회계 전기 취소",path:s.II,subTitle1:"처리",subTitle2:"마이너스",tabInfo:m}];return(0,l.jsxs)("div",{className:"relative h-full w-full","data-sentry-component":"SalesManagementPanel","data-sentry-source-file":"SalesManagementPanel.tsx",children:[(0,l.jsxs)("div",{className:"bg-grey98 flex h-full flex-col",children:[(0,l.jsx)(xl,{title:t,"data-sentry-element":"ContentHeader","data-sentry-source-file":"SalesManagementPanel.tsx"}),(0,l.jsx)("div",{className:"flex gap-[22px] px-[40px] pb-[16px]",children:(0,l.jsx)(Qm,{activeTab:a,setActiveTab:n,activeSubTab:o,setActiveSubTab:i,tabsData:E,"data-sentry-element":"SettlementTab","data-sentry-source-file":"SalesManagementPanel.tsx"})}),(0,l.jsx)("div",{className:"relative flex flex-1 bg-white",children:E.map(((e,t)=>{const r=e.path===a;return(0,l.jsx)("div",{className:C()("cc-content-layout !overflow-x-hidden ".concat(!r&&"hidden"),{"is-visible":r}),children:(0,l.jsx)(Hv,{path:e.path,restComponentProps:{activeTab:a,activeSubTab:o,salesSearchParams:x,setSalesSearchParams:y}})},"".concat(e.path).concat(t))}))})]}),p&&(0,l.jsxs)(N,{title:"변경 사항이 저장되지 않습니다",confirmButtonType:"destructive",onClickCloseButton:h,onClickConfirmButton:f,children:[(0,l.jsx)("div",{children:"페이지를 이탈하면 변경한 정보는 저장되지 않으며, 매입 정산 확정을 해야 변경 내용이 적용됩니다."}),(0,l.jsx)("div",{children:"그래도 이동하시겠습니까?"})]})]})},[s.Tb]:function(e){let{activeTab:t,activeSubTab:a,salesSearchParams:s,setSalesSearchParams:n}=e;const{searchParams:o,handleSetParams:i,handleSearchChildren:d,gridApiRef:c,wrapGridRef:p,handleFixComplete:h,checkConfirmInfo:f,setCheckConfirmInfo:C,setRowSelectionModel:x,isValidationSearch:y,isCheckSelectedRow:E,rowSelectionModel:v,handleExcelDownload:A,isSuccessFixExcel:g,dataFixExcel:T}=FC({activeTab:t,activeSubTab:a,salesSearchParams:s,setSalesSearchParams:n}),{columns:I,columnGroupingModel:b}={columns:(0,r.useMemo)((()=>[{field:"__check__",sortable:!1,headerWideCell:!0,headerAlign:"right",width:80,align:"right"},{field:"pickupRequestAt",headerName:"상차일자",headerWideCell:!0,width:113},{field:"confirmResultAt",headerName:"운송실적확정일자",headerWideCell:!0,width:113,type:da._.VIEW_MODE_YYYYMMDD_DDD},{field:"customerMdmCode",headerName:"화주 MDM"},{field:"customerName",headerName:"화주",width:220},{field:"departureNodeName",headerName:"상차지명",width:140},{field:"arrivalNodeName",headerName:"하차지명",width:140},{field:"itemName",headerName:"품목"},{field:"salesRateQuantity",headerName:"작업물량",type:"number"},{field:"salesAmount",headerName:"청구금액",type:"number"},{field:"extraSalesAmount",headerName:"추가청구금액",type:"number"},{field:"totalSalesAmount",headerName:"청구계",type:"number"},{field:"vendorMdmCode",headerName:"파트너 코드"},{field:"vendorName",headerName:"파트너",width:182},{field:"equipmentMdmManageNoCode",headerName:"차량관리번호",width:114},{field:"vendorTypeName",headerName:"차량구분"},{field:"plateNumber",headerName:"배차차량"},{field:"driverName",headerName:"운전자명"},{field:"purchaseRateQuantity",headerName:"작업물량",type:"number"},{field:"purchaseAmount",headerName:"매입금액",type:"number"},{field:"extraPurchaseAmount",headerName:"추가지급금액",type:"number"},{field:"totalPurchaseAmount",headerName:"매입계",type:"number"},{field:"marginRate",headerName:"하불율",headerWideCell:!0},{field:"salesCostCenterName",headerName:"매출조직",headerWideCell:!0},{field:"purchaseCostCenterName",headerName:"매입조직",headerWideCell:!0},{field:"affiliateCostCenterCode",headerName:"소속조직",headerWideCell:!0},{field:"orderMdmCorporationCodeName",headerName:"인사조직",headerWideCell:!0},{field:"orderSalesNo",headerName:"주문오더번호",headerWideCell:!0,width:152},{field:"orderTransferDispatchNo",headerName:"배차번호",headerWideCell:!0,width:152},{field:"orderTransferNo",headerName:"운송가맹",headerWideCell:!0},{field:"isConsolidated",headerName:"혼적여부",headerWideCell:!0,type:da._.VIEW_MODE_Y_OR_N},{field:"isManual",headerName:"입력구분",headerWideCell:!0,valueGetter:e=>e?"M":"",width:70},{field:"remark",headerName:"요청사항",headerWideCell:!0},{field:"paymentConditionCode",headerName:"수금조건",headerWideCell:!0}]),[]),columnGroupingModel:[{groupId:"standardInfo",headerName:"기준정보",children:[{field:"wciTarget"}]},{groupId:"transportPerformance",headerName:"운송실적",children:[{field:"notAppliedWci"}]},{groupId:"sales",headerName:"매출",children:[{field:"customerMdmCode"},{field:"customerName"},{field:"departureNodeName"},{field:"arrivalNodeName"},{field:"itemName"},{field:"salesRateQuantity"},{field:"salesAmount"},{field:"extraSalesAmount"},{field:"totalSalesAmount"}]},{groupId:"purchase",headerName:"매입",children:[{field:"vendorMdmCode"},{field:"vendorName"},{field:"equipmentMdmManageNoCode"},{field:"vendorTypeName"},{field:"plateNumber"},{field:"driverName"},{field:"purchaseRateQuantity"},{field:"purchaseAmount"},{field:"extraPurchaseAmount"},{field:"totalPurchaseAmount"}]}]},{personalizedGridColumns:R,personalizedColumnVisibilityModel:S,..._}=Bl(Dl,I);return(0,l.jsxs)("div",{className:"flex h-full w-full flex-col","data-sentry-component":"FixSalesPanel","data-sentry-source-file":"FixSalesPanel.tsx",children:[(0,l.jsx)(PC,{initialParams:s,searchParams:o,setSearchParams:i,onSearch:d,isValidationSearch:y,"data-sentry-element":"FixSalesFilter","data-sentry-source-file":"FixSalesPanel.tsx"}),(0,l.jsxs)("div",{className:"flex items-center justify-end px-[40px] py-[12px]",children:[(0,l.jsx)("span",{className:"Body2_B flex-auto",children:a?"매출정산 확정 목록":"매출정산 미확정 목록"}),a?(0,l.jsx)(u.A,{label:"매출 정산 확정 취소",level:m.V.level_2,size:m.M.Medium,leftIcon:(0,l.jsx)(hh,{width:20}),onClick:()=>{E()&&C({isOpened:!0,title:"매출 정산 확정을 취소하시겠어요?",description:"선택한 실적의 매출 정산 확정을 취소합니다.",confirmButtonLabel:"확인",confirmButtonType:"destructive"})}}):(0,l.jsx)(u.A,{label:"매출 정산 확정",level:m.V.level_2,size:m.M.Medium,leftIcon:(0,l.jsx)(Pt.A,{width:20}),onClick:()=>{E()&&C({isOpened:!0,title:"매출 정산을 확정하시겠어요?",description:"선택한 실적의 매출 정산을 확정합니다.",confirmButtonLabel:"매출 정산 확정하기"})}})]}),(0,l.jsx)("div",{className:"grid-area flex-1 overflow-auto",children:(0,l.jsx)(Fa.A,{..._,ref:p,gridApiRef:c,columns:R,columnGroupingModel:b,checkboxSelection:!0,rowSelectionModel:v,onRowSelectionModelChange:x,initialState:{pinnedColumns:{left:["__check__"]},aggregation:{model:{pickupRequestAt:"totalCount",salesAmount:"sum",extraSalesAmount:"sum",totalSalesAmount:"sum",purchaseAmount:"sum",extraPurchaseAmount:"sum",totalPurchaseAmount:"sum"}},columns:{columnVisibilityModel:S}},"data-sentry-element":"WrapperBasicDataGrid","data-sentry-source-file":"FixSalesPanel.tsx"})}),(0,l.jsx)("div",{className:"border-grey90 ml-auto flex h-[52px] w-full items-center justify-end gap-[8px] border-t-[1px] bg-white px-[40px] py-[12px]",children:(0,l.jsx)(We,{excelFileName:"매출_정산_".concat(a?"확정":"미확정"),isSuccessExcel:g,excelData:T,handleExcelDownload:A,"data-sentry-element":"TmsBasicDataGridExcelDownload","data-sentry-source-file":"FixSalesPanel.tsx"})}),f.isOpened&&(0,l.jsx)(N,{title:f.title,description:f.description,confirmButtonLabel:f.confirmButtonLabel,onClickCloseButton:()=>C({isOpened:!1}),onClickConfirmButton:h,confirmButtonType:f.confirmButtonType})]})},[s.uz]:function(e){let{activeTab:t,activeSubTab:a,salesSearchParams:r,setSalesSearchParams:s}=e;const{searchParams:n,handleSetParams:o,handleSearchChildren:i,gridApiRef:d,wrapGridRef:c,checkConfirmInfo:u,setCheckConfirmInfo:m,rowSelectionModel:p,setRowSelectionModel:h,handleBillingCancelComplete:f,handleCustomerUpdateComplete:C,isValidationSearch:x,isCheckSelectedRow:y,handleExcelDownload:E,restSalesBillingConfirmationsExcel:v}=Cx({activeTab:t,activeSubTab:a,salesSearchParams:r,setSalesSearchParams:s});return(0,l.jsxs)("div",{className:"flex h-full w-full flex-col","data-sentry-component":"ChargeFixSalesPanel","data-sentry-source-file":"ChargeFixSalesPanel.tsx",children:[(0,l.jsx)(hx,{initialParams:r,searchParams:n,setSearchParams:o,onSearch:i,isValidationSearch:x,"data-sentry-element":"ChargeFixSalesFilter","data-sentry-source-file":"ChargeFixSalesPanel.tsx"}),(0,l.jsxs)("div",{className:"flex items-center px-[40px] py-[12px]",children:[(0,l.jsxs)("div",{className:"flex flex-row items-center gap-[16px]",children:[(0,l.jsx)("span",{className:"Body2_B flex",children:a?"매출청구확정 완료 목록":"매출청구확정 대상 목록"}),(0,l.jsx)("span",{className:"Caption2_R text-grey40 flex",children:"진행매출 청구실적은 청구구분 배경색이 노란색으로 표시됩니다. 일반 청구와 구분하여 확인해 주세요."})]}),(0,l.jsx)(fx,{activeSubTab:a,wrapGridRef:c,setCheckConfirmInfo:m,handleBillingCancelComplete:f,handleCustomerUpdateComplete:C,isCheckSelectedRow:y,rowSelectionModel:p,handleSearchChildren:i,"data-sentry-element":"ChargeFixButtons","data-sentry-source-file":"ChargeFixSalesPanel.tsx"})]}),(0,l.jsx)("div",{className:"grid-area flex-1 overflow-auto",children:(0,l.jsx)(Fa.A,{editMode:"cell",ref:c,gridApiRef:d,columns:px({isActived:a}),checkboxSelection:!0,rowSelectionModel:p,onRowSelectionModelChange:h,initialState:{pinnedColumns:{left:["__check__"]},aggregation:{model:{no:"totalCount",salesTotalAmount:"sumV2",billedTotalAmount:"sumV2",vatAmount:"sumV2"}}},"data-sentry-element":"WrapperBasicDataGrid","data-sentry-source-file":"ChargeFixSalesPanel.tsx"})}),(0,l.jsx)("div",{className:"border-grey90 ml-auto flex h-[52px] w-full items-center justify-end gap-[8px] border-t-[1px] bg-white px-[40px] py-[12px]",children:(0,l.jsx)(We,{excelFileName:"매출_청구_".concat(a?"확정":"미확정"),isSuccessExcel:v.isSuccess,excelData:v.data,handleExcelDownload:E,"data-sentry-element":"TmsBasicDataGridExcelDownload","data-sentry-source-file":"ChargeFixSalesPanel.tsx"})}),u.isOpened&&(0,l.jsx)(N,{title:u.title,description:u.description,confirmButtonLabel:u.confirmButtonLabel,onClickCloseButton:()=>m({isOpened:!1}),onClickConfirmButton:u.confirmClick,confirmButtonType:u.confirmButtonType})]})},[s.tx]:function(e){let{activeTab:t,activeSubTab:a,salesSearchParams:s,setSalesSearchParams:n}=e;const{searchParams:o,handleSetParams:i,handleSearchChildren:d,gridApiRef:c,wrapGridRef:p,checkConfirmInfo:h,setCheckConfirmInfo:f,isOpenedPostNegative:C,setIsOpenedPostNegative:x,postNegativeInfo:y,handleSetPostNegative:E,rowSelectionModel:v,handleUnBillingApprovals:A,handleRowSelection:g,isValidationSearch:T,isCheckSelectedRow:I,gridApiRefBottom:b,wrapGridRefBottom:R}=Qx({activeTab:t,activeSubTab:a,salesSearchParams:s,setSalesSearchParams:n}),S=[...zx(),{field:"originalTotalAmount",headerName:"원 발생금액",type:"number"}],_=(0,r.useRef)(null);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(cl.YZ,{autoSaveId:"purchaseSettlement",direction:"vertical",ref:_,"data-sentry-element":"PanelGroup","data-sentry-source-file":"AccountingSalesPanel.tsx",children:[(0,l.jsxs)(cl.Zk,{defaultSize:8,className:"overflow-hidden","data-sentry-element":"Panel","data-sentry-source-file":"AccountingSalesPanel.tsx",children:[(0,l.jsx)(Xx,{initialParams:s,searchParams:o,setSearchParams:i,onSearch:d,isValidationSearch:T,"data-sentry-element":"AccountingSalesFilter","data-sentry-source-file":"AccountingSalesPanel.tsx"}),(0,l.jsxs)("div",{className:"flex items-center justify-end px-[40px] py-[12px]",children:[(0,l.jsx)("span",{className:"Body2_B flex-auto",children:a?"매출회계전기 처리 완료 목록":"매출회계전기 미처리 목록"}),!a&&(0,l.jsx)(u.A,{label:"회계 전표 전송",level:m.V.level_2,size:m.M.Medium,leftIcon:(0,l.jsx)(Sc,{width:20,height:20,className:"text-white"}),onClick:()=>{I()&&x(!0)}})]}),(0,l.jsx)("div",{className:"h-[290px]",children:(0,l.jsx)(Fa.A,{ref:p,gridApiRef:c,columns:S,checkboxSelection:!0,rowSelectionModel:v,onRowSelectionModelChange:g,initialState:{pinnedColumns:{left:["__check__"]},aggregation:{model:{isBilled:"totalCount",salesTotalAmount:"sum",vatAmount:"sum"}}},"data-sentry-element":"WrapperBasicDataGrid","data-sentry-source-file":"AccountingSalesPanel.tsx"})})]}),(0,l.jsx)(pl,{handleIconClick:e=>{var t,a;e?null==_||null===(t=_.current)||void 0===t||t.setLayout([53,37]):null==_||null===(a=_.current)||void 0===a||a.setLayout([0,90])},"data-sentry-element":"TmsBasicPanelGroupHandleVertical","data-sentry-source-file":"AccountingSalesPanel.tsx"}),(0,l.jsxs)(cl.Zk,{defaultSize:10,className:"h-[214px] w-full overflow-hidden","data-sentry-element":"Panel","data-sentry-source-file":"AccountingSalesPanel.tsx",children:[(0,l.jsx)("div",{className:"Body2_B px-[24px] py-[16px]",children:"합산값"}),(0,l.jsx)(Fa.A,{ref:R,gridApiRef:b,columns:zx(),initialState:{aggregation:{model:{billingConfirmedAt:"totalCount",salesTotalAmount:"sum",vatAmount:"sum"}}},"data-sentry-element":"WrapperBasicDataGrid","data-sentry-source-file":"AccountingSalesPanel.tsx"})]})]}),h.isOpened&&(0,l.jsx)(N,{title:h.title,description:h.description,confirmButtonLabel:h.confirmButtonLabel,onClickCloseButton:()=>f({isOpened:!1}),onClickConfirmButton:h.confirmClick,confirmButtonType:h.confirmButtonType}),C&&(0,l.jsx)(ox,{title:"회계 전표 전송",setIsOpenedPostNegative:x,postNegativeInfo:y,handleSetPostNegative:E,onClickConfirmButton:A})]})},[s.II]:function(e){let{activeTab:t,activeSubTab:a,salesSearchParams:s,setSalesSearchParams:n}=e;const{searchParams:o,handleSetParams:i,handleSearchChildren:d,gridApiRef:c,wrapGridRef:p,checkConfirmInfo:h,setCheckConfirmInfo:f,handlePostNegativeAmount:C,isOpenedPostNegative:x,setIsOpenedPostNegative:y,postNegativeInfo:E,handleSetPostNegative:v,handleDocumentsCancel:A,rowSelectionModel:g,setRowSelectionModel:T,isValidationSearch:I,isCheckSelectedRow:b,handelPostNegativeAmount:R,handleExcelDownload:S,restSalesCancelableDocumentsExcel:_}=mx({activeTab:t,activeSubTab:a,salesSearchParams:s,setSalesSearchParams:n}),{columns:w}={columns:(0,r.useMemo)((()=>[{field:"__check__",sortable:!1,headerAlign:"right",width:80},{field:"tempDocumentId",headerName:"관리번호",width:150},{field:"documentId",headerName:"전표번호"},{field:"postingDate",headerName:"전표일",type:da._.VIEW_MODE_YYYYMMDD_DDD,width:115},{field:"documentDate",headerName:"증빙일",type:da._.VIEW_MODE_YYYYMMDD_DDD,width:115},{field:"previousTempDocumentId",headerName:"이전 관리번호",width:150},{field:"isBilled",headerName:"청구구분"},{field:"customerMdmCode",headerName:"청구 고객코드"},{field:"customerName",headerName:"화주"},{field:"salesTotalAmount",headerName:"발생금액",type:"number"},{field:"vatAmount",headerName:"부가세",type:"number"},{field:"vatCodeName",headerName:"세금유형"},{field:"paymentConditionCodeName",headerName:"수금조건",width:406},{field:"sapPurchaseMdmCostCenterCodeName",headerName:"전표부서"},{field:"salesMdmCostCenterCodeName",headerName:"채권관리부서"},{field:"remark",headerName:"적요",width:190},{field:"taxBillNo",headerName:"세금계산서번호",width:190},{field:"taxBillStatusTypeName",headerName:"국세청상태코드",width:190}]),[])};return(0,l.jsxs)("div",{className:"flex h-full w-full flex-col","data-sentry-component":"AccountingCancelSalesPanel","data-sentry-source-file":"AccountingCancelSalesPanel.tsx",children:[(0,l.jsx)(ux,{initialParams:s,searchParams:o,setSearchParams:i,onSearch:d,isValidationSearch:I,"data-sentry-element":"AccountingCancelSalesFilter","data-sentry-source-file":"AccountingCancelSalesPanel.tsx"}),(0,l.jsxs)("div",{className:"flex items-center justify-end px-[40px] py-[12px]",children:[(0,l.jsx)("span",{className:"Body2_B flex-auto",children:"매출 회계 전기 취소 대상 목록"}),a?(0,l.jsx)(u.A,{label:"마이너스 전기 취소",level:m.V.level_2,size:m.M.Medium,leftIcon:(0,l.jsx)(hh,{width:20}),onClick:R}):(0,l.jsxs)("div",{className:"flex gap-[8px]",children:[(0,l.jsx)(u.A,{label:"마이너스 전기",level:m.V.level_2,size:m.M.Medium,leftIcon:(0,l.jsx)(tt,{width:20}),onClick:()=>{b()&&y(!0)}}),(0,l.jsx)(u.A,{label:"회계 전표 취소",level:m.V.level_2,size:m.M.Medium,leftIcon:(0,l.jsx)(hh,{width:20}),onClick:A})]})]}),(0,l.jsx)("div",{className:"grid-area flex-1 overflow-auto",children:(0,l.jsx)(Fa.A,{ref:p,gridApiRef:c,columns:w,checkboxSelection:!0,rowSelectionModel:g,onRowSelectionModelChange:T,initialState:{pinnedColumns:{left:["__check__"]},aggregation:{model:{tempDocumentId:"totalCount",salesTotalAmount:"sum",vatAmount:"sum"}}},"data-sentry-element":"WrapperBasicDataGrid","data-sentry-source-file":"AccountingCancelSalesPanel.tsx"})}),(0,l.jsx)("div",{className:"border-grey90 ml-auto flex h-[52px] w-full items-center justify-end gap-[8px] border-t-[1px] bg-white px-[40px] py-[12px]",children:(0,l.jsx)(We,{excelFileName:"매출_회계_전기_취소",isSuccessExcel:_.isSuccess,excelData:_.data,handleExcelDownload:S,"data-sentry-element":"TmsBasicDataGridExcelDownload","data-sentry-source-file":"AccountingCancelSalesPanel.tsx"})}),h.isOpened&&(0,l.jsx)(N,{title:h.title,description:h.description,confirmButtonLabel:h.confirmButtonLabel,onClickCloseButton:()=>f({isOpened:!1}),onClickConfirmButton:h.confirmClick,confirmButtonType:h.confirmButtonType}),x&&(0,l.jsx)(ox,{title:"마이너스 전기",setIsOpenedPostNegative:y,postNegativeInfo:E,handleSetPostNegative:v,onClickConfirmButton:C})]})},[s.ig]:function(e){let{menuName:t}=e;const{activeTab:a,handleTabClick:n,activeSubTab:o,handleSubTabClick:d,tabInfoFix:c,tabInfoAccount:u,tabInfoAccountCancel:m,isOpenedChangeInfoCheck:p,handleCloseModal:h,handleConfirmModal:f,purchaseSearchParams:x,setPurchaseSearchParams:y}=(e=>{let{firstOption:t}=e;const{user:a}=(0,i.o)(),{getAllMeta:l}=od({mutationKey:"PurchaseSettlement",requestAllMeta:[Ze.k.COMMON_MDM_COST_CENTER_PURCHASE_CODE,Ze.k.VENDOR_TYPE,Ze.k.COMMON_MDM_CORPORATION_CODE,Ze.k.COMMON_MDM_COST_CENTER_CATEGORY_CODE]}),{tabInfoFix:s,tabInfoAccount:n,tabInfoAccountCancel:o,resetAllTab:d,isChangeInfoCheck:c,setIsChangeInfoCheck:u}=Xm(),[m,p]=(0,r.useState)(t),[h,f]=(0,r.useState)(!1),[C,x]=(0,r.useState)(!1),[N,y]=(0,r.useState)(""),[E,v]=(0,r.useState)({startDate:je()(new Date).subtract(45,"day").startOf("day").format(),endDate:je()(new Date).endOf("day").format(),searchType:R.mUs.PICKUP,commonMdmCostCenterPurchaseCode:[a.mdmPurchaseCostCenterCode]});return(0,r.useLayoutEffect)((()=>{l()}),[]),(0,r.useEffect)((()=>()=>{d()}),[]),{activeTab:m,handleTabClick:e=>{y(e),c?x(!0):p(e)},activeSubTab:h,handleSubTabClick:e=>{c||f(e)},tabInfoFix:s,tabInfoAccount:n,tabInfoAccountCancel:o,isOpenedChangeInfoCheck:C,handleCloseModal:()=>{x(!1)},handleConfirmModal:()=>{p(N),u(!1),x(!1)},purchaseSearchParams:E,setPurchaseSearchParams:v}})({firstOption:s.YT}),E=[{name:"매입 정산 확정",subTitle1:"미확정",subTitle2:"확정",path:s.YT,tabInfo:c},{name:"매입 회계 전기",subTitle1:"미처리",subTitle2:"처리 완료",path:s.c$,tabInfo:u},{name:"매입 회계 전기 취소",subTitle1:"취소 가능",subTitle2:null,path:s.hj,tabInfo:m}];return(0,l.jsxs)("div",{className:"relative h-full w-full","data-sentry-component":"PurchaseManagementPanel","data-sentry-source-file":"PurchaseManagementPanel.tsx",children:[(0,l.jsxs)("div",{className:"bg-grey98 flex h-full flex-col",children:[(0,l.jsx)(xl,{title:t,"data-sentry-element":"ContentHeader","data-sentry-source-file":"PurchaseManagementPanel.tsx"}),(0,l.jsx)("div",{className:"flex gap-[22px] px-[40px] pb-[16px]",children:(0,l.jsx)(Qm,{activeTab:a,setActiveTab:n,activeSubTab:o,setActiveSubTab:d,tabsData:E,"data-sentry-element":"SettlementTab","data-sentry-source-file":"PurchaseManagementPanel.tsx"})}),(0,l.jsx)("div",{className:"relative flex flex-1 bg-white",children:E.map(((e,t)=>{const r=e.path===a;return(0,l.jsx)("div",{className:C()("cc-content-layout !overflow-x-hidden ".concat(!r&&"hidden"),{"is-visible":r}),children:(0,l.jsx)(Hv,{path:e.path,restComponentProps:{activeTab:a,activeSubTab:o,purchaseSearchParams:x,setPurchaseSearchParams:y}})},"".concat(e.path).concat(t))}))})]}),p&&(0,l.jsxs)(N,{title:"변경 사항이 저장되지 않습니다",confirmButtonType:"destructive",onClickCloseButton:h,onClickConfirmButton:f,children:[(0,l.jsx)("div",{children:"페이지를 이탈하면 변경한 정보는 저장되지 않으며, 매입 정산 확정을 해야 변경 내용이 적용됩니다."}),(0,l.jsx)("div",{children:"그래도 이동하시겠습니까?"})]})]})},[s.YT]:function(e){let{activeTab:t,activeSubTab:a,purchaseSearchParams:s,setPurchaseSearchParams:n}=e;const{handleChangeGroup:o,handlePurchaseComplete:i,rowSelectionModel:d,setRowSelectionModel:c,gridApiRef:u,handleSearchChildren:m,isValidationSearch:p,wrapGridRefFix:h,searchParams:f,handleSetParams:C,isCheckSelectedRow:x,checkConfirmInfo:y,setCheckConfirmInfo:E,isSuccessPurchaseExcel:v,dataPurchaseExcel:A,handleExcelDownload:g}=HC({activeTab:t,activeSubTab:a,purchaseSearchParams:s,setPurchaseSearchParams:n}),{columns:T,columnGroupingModel:I}={columns:(0,r.useMemo)((()=>[{field:"__check__",sortable:!1,headerWideCell:!0,headerAlign:"right",width:80,align:"center"},{field:"departureRequestAt",headerName:"상차일자",headerWideCell:!0,width:113},{field:"transportConfirmAt",headerName:"운송실적확정일자",headerWideCell:!0,width:113,type:da._.VIEW_MODE_YYYYMMDD_DDD},{field:"wciTarget",headerName:"산재보험 대상여부",width:118},{field:"notAppliedWci",headerName:"산재보험 미적용대상",width:130},{field:"vendorTypeName",headerName:"회원유형",width:81},{field:"vendorMdmCode",headerName:"파트너사 MDM 코드",width:130},{field:"vendorName",headerName:"파트너사명",width:183},{field:"vehicleManageNo",headerName:"차량관리번호",width:114},{field:"equipmentClassificationCodeName",headerName:"차량구분",width:70},{field:"plateNumber",headerName:"영업번호",width:114},{field:"driverName",headerName:"운전원",width:60},{field:"purchaseRateQuantity",headerName:"수송량",width:64},{field:"unit",headerName:"단위",width:64},{field:"purchaseAmount",headerName:"매입금액",type:"number",width:95},{field:"extraPurchaseAmount",headerName:"추가지급금액",type:"number",width:114},{field:"totalPurchaseAmount",headerName:"매입계",type:"number",width:95},{field:"wciTargetAmount",headerName:"산재보험대상금액",type:"number",width:137},{field:"customerName",headerName:"고객",width:181},{field:"loadAddress",headerName:"상차지명",width:405},{field:"unloadAddress",headerName:"하차지명",width:405},{field:"itemName",headerName:"품목명",width:81},{field:"salesRateQuantity",headerName:"수송량",width:64},{field:"unitSales",headerName:"단위",width:48,renderCell:e=>e.row.unit},{field:"salesAmount",headerName:"청구금액",type:"number",width:87},{field:"extraSalesAmount",headerName:"추가청구금액",type:"number",width:100},{field:"totalSalesAmount",headerName:"청구계",type:"number",width:87},{field:"marginRate",headerName:"하불금액\n(%)",headerWideCell:!0,width:80},{field:"salesCostCenterName",headerName:"매출조직",headerWideCell:!0,width:100},{field:"purchaseCostCenterName",headerName:"매입조직",headerWideCell:!0,width:100},{field:"affiliateCostCenterCodeName",headerName:"소속조직",headerWideCell:!0,width:100},{field:"affiliateTeamCostCenterCodeName",headerName:"소속팀",headerWideCell:!0,width:80},{field:"orderMdmCorporationCodeName",headerName:"인사 조직",headerWideCell:!0,width:112},{field:"orderSalesNo",headerName:"주문오더번호",headerWideCell:!0,width:152},{field:"orderTransferDispatchNo",headerName:"배차계획번호",headerWideCell:!0,width:152},{field:"companyTypeCode",headerName:"시스템구분",headerWideCell:!0,width:80},{field:"isConsolidated",headerName:"혼적여부",headerWideCell:!0,width:70,type:da._.VIEW_MODE_Y_OR_N},{field:"orderTransferNo",headerName:"운송오더번호",headerWideCell:!0,width:152},{field:"orderTransferPlaceNo",headerName:"운송장번호",headerWideCell:!0,width:148},{field:"vesselName",headerName:"모선명",headerWideCell:!0,width:64},{field:"isManual",headerName:"입력구분",headerWideCell:!0,valueGetter:e=>e?"M":"",width:70},{field:"remark",headerName:"요청사항",headerWideCell:!0,width:150},{field:"excludedFromSettlement",headerName:"매입 정산제외",headerWideCell:!0,width:96}]),[]),columnGroupingModel:[{groupId:"standardInfo",headerName:"기준정보",children:[{field:"wciTarget"}]},{groupId:"transportPerformance",headerName:"운송실적",children:[{field:"notAppliedWci"}]},{groupId:"purchase",headerName:"매입",children:[{field:"vendorTypeName"},{field:"vendorMdmCode"},{field:"vendorName"},{field:"vendorType"},{field:"vehicleManageNo"},{field:"equipmentClassificationCodeName"},{field:"plateNumber"},{field:"driverName"},{field:"purchaseRateQuantity"},{field:"unit"},{field:"purchaseAmount"},{field:"extraPurchaseAmount"},{field:"totalPurchaseAmount"},{field:"wciTargetAmount"}]},{groupId:"sales",headerName:"매출",children:[{field:"customerName"},{field:"loadAddress"},{field:"unloadAddress"},{field:"itemName"},{field:"salesRateQuantity"},{field:"unitSales"},{field:"salesAmount"},{field:"extraSalesAmount"},{field:"totalSalesAmount"}]}]};return(0,l.jsxs)("div",{className:"flex h-full w-full flex-col","data-sentry-component":"FixPurchaseSettlementPanel","data-sentry-source-file":"FixPurchaseSettlementPanel.tsx",children:[(0,l.jsx)(GC,{initialParams:s,searchParams:f,setSearchParams:C,onSearch:m,isValidationSearch:p,"data-sentry-element":"FixPurchaseSettlementFilter","data-sentry-source-file":"FixPurchaseSettlementPanel.tsx"}),(0,l.jsxs)("div",{className:"flex items-center justify-end px-[40px] py-[12px]",children:[(0,l.jsx)("span",{className:"Body2_B flex-auto",children:"매입정산 확정대상"}),(0,l.jsx)(QC,{activeTab:t,activeSubTab:a,rowSelectionModel:d,gridApiRef:u,handleChangeGroup:o,handlePurchaseComplete:i,isCheckSelectedRow:x,setCheckConfirmInfo:E,handleSearchChildren:m,"data-sentry-element":"FixPurchaseSettlementButtons","data-sentry-source-file":"FixPurchaseSettlementPanel.tsx"})]}),(0,l.jsx)("div",{className:"grid-area flex-1 overflow-auto",children:(0,l.jsx)(Fa.A,{ref:h,gridApiRef:u,columns:T,columnGroupingModel:I,checkboxSelection:!0,rowSelectionModel:d,onRowSelectionModelChange:c,initialState:{pinnedColumns:{left:["__check__"]},aggregation:{model:{departureRequestAt:"totalCount",purchaseAmount:"sum",extraPurchaseAmount:"sum",totalPurchaseAmount:"sum",wciTargetAmount:"sum",salesAmount:"sum",extraSalesAmount:"sum",totalSalesAmount:"sum"}}},"data-sentry-element":"WrapperBasicDataGrid","data-sentry-source-file":"FixPurchaseSettlementPanel.tsx"})}),(0,l.jsx)("div",{className:"border-grey90 ml-auto flex h-[52px] w-full items-center justify-end gap-[8px] border-t-[1px] bg-white px-[40px] py-[12px]",children:(0,l.jsx)(We,{excelFileName:"매입정산_".concat(a?"확정":"미확정"),isSuccessExcel:v,excelData:A,handleExcelDownload:g,"data-sentry-element":"TmsBasicDataGridExcelDownload","data-sentry-source-file":"FixPurchaseSettlementPanel.tsx"})}),y.isOpened&&(0,l.jsx)(N,{title:y.title,description:y.description,confirmButtonLabel:y.confirmButtonLabel,onClickCloseButton:()=>E({isOpened:!1}),onClickConfirmButton:y.onClickConfirmButton,confirmButtonType:y.confirmButtonType})]})},[s.c$]:cx,[s.hj]:$C,[s.AN]:function(e){let{menuName:t}=e;const[a,n]=(0,r.useState)(Mh[0].path),[o,i]=(0,r.useState)(!1),[d,c]=(0,r.useState)(!1),{getAllMeta:p}=od({mutationKey:"ManualSettlementEnterPanel",requestAllMeta:[Ze.k.SALES_UN_BILLING_REASON_TYPE,Ze.k.PURCHASE_GL_ACCOUNT_TYPE]});return(0,r.useLayoutEffect)((()=>{p()}),[]),(0,l.jsxs)("div",{className:"bg-grey98 flex h-full flex-col","data-sentry-component":"ManualSettlementEnterPanel","data-sentry-source-file":"EnterPanel.tsx",children:[(0,l.jsx)(xl,{title:t,"data-sentry-element":"ContentHeader","data-sentry-source-file":"EnterPanel.tsx",children:(0,l.jsx)(u.A,{label:"".concat(a===s.R3?"새 매뉴얼 매출 만들기":"새 매뉴얼 매입 만들기"),level:m.V.level_1,leftIcon:(0,l.jsx)(Ce,{}),onClick:()=>{i(!0),c(!0)},"data-sentry-element":"TmsBasicButton","data-sentry-source-file":"EnterPanel.tsx"})}),(0,l.jsx)("div",{className:"border-grey90 border-b",children:(0,l.jsx)(Dr,{className:"ml-10",tabList:Mh,onChange:(e,t)=>{n(t),i(!1)},"data-sentry-element":"StaticTabs","data-sentry-source-file":"EnterPanel.tsx"})}),(0,l.jsx)("div",{className:"relative flex flex-1 bg-white",children:Mh.map(((e,t)=>{const r=e.path===a;return(0,l.jsx)("div",{className:C()("cc-content-layout !overflow-x-hidden",{"is-visible":r}),style:{height:"calc(100vh - 197px)"},children:(0,l.jsx)(Hv,{path:e.path,restComponentProps:{type:_h.ENTER,currentTab:a,isOpenedRightPanel:o,setIsOpenedRightPanel:i,isNewRightPanel:d,setIsNewRightPanel:c}})},"".concat(e.path).concat(t))}))})]})},[s.wL]:bf,[s.R3]:Ef,[s.XN]:function(e){let{menuName:t}=e;const[a,s]=(0,r.useState)(Kh[0].path),[n,o]=(0,r.useState)(!1);return(0,l.jsxs)("div",{className:"bg-grey98 flex h-full flex-col","data-sentry-component":"ApprovalPanel","data-sentry-source-file":"ApprovalPanel.tsx",children:[(0,l.jsx)(xl,{title:t,"data-sentry-element":"ContentHeader","data-sentry-source-file":"ApprovalPanel.tsx"}),(0,l.jsx)("div",{className:"border-grey90 border-b",children:(0,l.jsx)(Dr,{className:"ml-10",tabList:Kh,onChange:(e,t)=>{s(t)},"data-sentry-element":"StaticTabs","data-sentry-source-file":"ApprovalPanel.tsx"})}),(0,l.jsx)("div",{className:"relative flex flex-1 bg-white",children:Kh.map(((e,t)=>{const r=e.path===a;return(0,l.jsx)("div",{className:C()("cc-content-layout !overflow-x-hidden",{"is-visible":r}),style:{height:"calc(100vh - 197px)"},children:(0,l.jsx)(Hv,{path:e.path,restComponentProps:{type:_h.APPROVAL,currentTab:a,isOpenedRightPanel:n,setIsOpenedRightPanel:o}})},"".concat(e.path).concat(t))}))})]})},[s.B]:bf,[s.Mt]:Ef,[s.Qk]:function(e){let{menuName:t}=e;const{activeTab:a,handleTabClick:n,activeSubTab:o,handleSubTabClick:d,tabInfoFixFtOne:c,tabInfoAccountFtOne:u,tabInfoAccountCancelFtOne:m,isOpenedChangeInfoCheck:p,handleCloseModal:h,handleConfirmModal:f,purchaseSearchParams:x,setPurchaseSearchParams:y}=(e=>{let{firstOption:t}=e;const{user:a}=(0,i.o)(),{getAllMeta:l}=od({mutationKey:"PurchaseSettlement",requestAllMeta:[Ze.k.COMMON_MDM_COST_CENTER_PURCHASE_CODE,Ze.k.VENDOR_TYPE,Ze.k.COMMON_MDM_CORPORATION_CODE]}),{tabInfoFixFtOne:s,tabInfoAccountFtOne:n,tabInfoAccountCancelFtOne:o,resetAllTabFtOne:d,isChangeInfoCheck:c,setIsChangeInfoCheck:u}=Xm(),[m,p]=(0,r.useState)(t),[h,f]=(0,r.useState)(!1),[C,x]=(0,r.useState)(!1),[N,y]=(0,r.useState)(""),[E,v]=(0,r.useState)(!1),[A,g]=(0,r.useState)({startDate:je()(new Date).subtract(45,"day").startOf("day").format(),endDate:je()(new Date).endOf("day").format(),searchType:R.mUs.PICKUP,commonMdmCostCenterPurchaseCode:[a.mdmPurchaseCostCenterCode]});return(0,r.useLayoutEffect)((()=>{l()}),[]),(0,r.useEffect)((()=>()=>{d()}),[]),{activeTab:m,handleTabClick:e=>{y(e),c?x(!0):p(e)},activeSubTab:h,handleSubTabClick:e=>{v(e),c||f(e)},tabInfoFixFtOne:s,tabInfoAccountFtOne:n,tabInfoAccountCancelFtOne:o,isOpenedChangeInfoCheck:C,handleConfirmModal:()=>{p(N),u(!1),x(!1),f(E)},handleCloseModal:()=>{x(!1)},purchaseSearchParams:A,setPurchaseSearchParams:g}})({firstOption:s.sx}),E=[{name:"매입 정산 확정",subTitle1:"미확정",subTitle2:"확정",path:s.sx,tabInfo:c},{name:"매입 회계 전기",subTitle1:"미처리",subTitle2:"처리 완료",path:s.U3,tabInfo:u},{name:"매입 회계 전기 취소",subTitle1:"취소 가능",subTitle2:null,path:s.z8,tabInfo:m}];return(0,l.jsxs)("div",{className:"relative h-full w-full","data-sentry-component":"FtOnePurchaseManagementPanel","data-sentry-source-file":"FtOnePurchaseManagementPanel.tsx",children:[(0,l.jsxs)("div",{className:"bg-grey98 flex h-full flex-col",children:[(0,l.jsx)(xl,{title:t,"data-sentry-element":"ContentHeader","data-sentry-source-file":"FtOnePurchaseManagementPanel.tsx"}),(0,l.jsx)("div",{className:"flex gap-[22px] px-[40px] pb-[16px]",children:(0,l.jsx)(Qm,{activeTab:a,setActiveTab:n,activeSubTab:o,setActiveSubTab:d,tabsData:E,"data-sentry-element":"SettlementTab","data-sentry-source-file":"FtOnePurchaseManagementPanel.tsx"})}),(0,l.jsx)("div",{className:"relative flex flex-1 bg-white",children:E.map(((e,t)=>{const r=e.path===a;return(0,l.jsx)("div",{className:C()("cc-content-layout !overflow-x-hidden",{"is-visible":r}),children:(0,l.jsx)(Hv,{path:e.path,restComponentProps:{activeTab:a,activeSubTab:o,purchaseSearchParams:x,setPurchaseSearchParams:y}})},"".concat(e.path).concat(t))}))})]}),p&&(0,l.jsxs)(N,{title:"변경 사항이 저장되지 않습니다",confirmButtonType:"destructive",onClickCloseButton:h,onClickConfirmButton:f,children:[(0,l.jsx)("div",{children:"페이지를 이탈하면 변경한 정보는 저장되지 않으며, 매입 정산 확정을 해야 변경 내용이 적용됩니다."}),(0,l.jsx)("div",{children:"그래도 이동하시겠습니까?"})]})]})},[s.sx]:function(e){let{activeTab:t,activeSubTab:a,purchaseSearchParams:s,setPurchaseSearchParams:n}=e;const{handlePurchaseComplete:o,rowSelectionModel:i,setRowSelectionModel:d,gridApiRef:c,handleSearchChildren:u,isValidationSearch:m,wrapGridRefFix:p,searchParams:h,handleSetParams:f,isCheckSelectedRow:C,checkConfirmInfo:x,setCheckConfirmInfo:y,handleExcelDownload:E,isSuccessPurchaseConfirmationExcel:v,dataPurchaseConfirmationExcel:A}=Zx({activeTab:t,activeSubTab:a,purchaseSearchParams:s,setPurchaseSearchParams:n}),{columns:g,columnGroupingModel:T}={columns:(0,r.useMemo)((()=>[{field:"__check__",sortable:!1,headerWideCell:!0,headerAlign:"right",width:80,align:"center"},{field:"departureRequestAt",headerName:"상차일자",headerWideCell:!0,width:113},{field:"transportConfirmAt",headerName:"운송실적확정일자",headerWideCell:!0,width:113,type:da._.VIEW_MODE_YYYYMMDD_DDD},{field:"wciTarget",headerName:"산재보험 대상여부",headerWideCell:!0,width:118},{field:"notAppliedWci",headerName:"산재보험 미적용대상",headerWideCell:!0,width:130},{field:"vendorTypeName",headerName:"회원유형",width:81},{field:"vendorMdmCode",headerName:"파트너 MDM",width:130},{field:"vendorName",headerName:"파트너명",width:183},{field:"vehicleManageNo",headerName:"차량관리번호",width:114},{field:"equipmentClassificationCodeName",headerName:"차량구분",width:70},{field:"plateNumber",headerName:"배차차량",width:108},{field:"driverName",headerName:"운전자명",width:108},{field:"purchaseRateQuantity",headerName:"작업물량",width:108},{field:"unit",headerName:"작업단위",width:70},{field:"purchaseAmount",headerName:"매입금액",type:"number",width:95},{field:"extraPurchaseAmount",headerName:"추가지급금액",type:"number",width:114},{field:"totalPurchaseAmount",headerName:"매입계",type:"number",width:95},{field:"wciTargetAmount",headerName:"산재보험대상금액",type:"number",width:137},{field:"customerName",headerName:"화주",width:181},{field:"loadAddress",headerName:"상차지명",width:405},{field:"unloadAddress",headerName:"하차지명",width:405},{field:"itemName",headerName:"품목",width:81},{field:"salesRateQuantity",headerName:"작업물량",width:81},{field:"unitSales",headerName:"작업단위",width:81},{field:"salesAmount",headerName:"청구금액",type:"number",width:87},{field:"extraSalesAmount",headerName:"추가청구금액",type:"number",width:100},{field:"totalSalesAmount",headerName:"청구계",type:"number",width:87},{field:"marginRate",headerName:"하불율",headerWideCell:!0,width:80},{field:"salesCostCenterName",headerName:"매출조직",headerWideCell:!0,width:100},{field:"purchaseCostCenterName",headerName:"매입조직",headerWideCell:!0,width:100},{field:"affiliateCostCenterCodeName",headerName:"소속조직",headerWideCell:!0,width:100},{field:"orderMdmCorporationCodeName",headerName:"인사 조직",headerWideCell:!0,width:112},{field:"orderSalesNo",headerName:"주문오더번호",headerWideCell:!0,width:152},{field:"orderTransferDispatchNo",headerName:"배차계획번호",headerWideCell:!0,width:152},{field:"isConsolidated",headerName:"혼적여부",headerWideCell:!0,width:70,type:da._.VIEW_MODE_Y_OR_N},{field:"orderTransferNo",headerName:"운송오더번호",headerWideCell:!0,width:152},{field:"orderTransferPlaceNo",headerName:"운송장번호",headerWideCell:!0,width:148},{field:"vesselName",headerName:"모선명",headerWideCell:!0,width:64},{field:"companyTypeCode",headerName:"시스템구분",headerWideCell:!0,width:127},{field:"remark",headerName:"요청사항",headerWideCell:!0,width:150},{field:"bizCodeName",headerName:"사업",headerWideCell:!0,width:108},{field:"serviceCodeName",headerName:"서비스",headerWideCell:!0,width:164},{field:"serviceCode2Name",headerName:"서비스2",headerWideCell:!0,width:164},{field:"glAccountTypeName",headerName:"계정과목",headerWideCell:!0,width:192},{field:"materialCodeName",headerName:"대표물자",headerWideCell:!0,width:192},{field:"wndPurchaseMdmCostCenterCodeName",headerName:"코스트센터",width:192},{field:"wndBizCodeName",headerName:"사업",width:192},{field:"wndServiceCodeName",headerName:"서비스",width:192},{field:"wndServiceCode2Name",headerName:"서비스2",width:192},{field:"wndGlAccountTypeName",headerName:"계정과목",width:192},{field:"wndMaterialCodeName",headerName:"대표물자",width:192}]),[]),columnGroupingModel:[{groupId:"purchase",headerName:"매입",children:[{field:"vendorTypeName"},{field:"vendorMdmCode"},{field:"vendorName"},{field:"vehicleManageNo"},{field:"equipmentClassificationCodeName"},{field:"plateNumber"},{field:"driverName"},{field:"purchaseRateQuantity"},{field:"unit"},{field:"purchaseAmount"},{field:"extraPurchaseAmount"},{field:"totalPurchaseAmount"},{field:"wciTargetAmount"}]},{groupId:"sales",headerName:"매출",children:[{field:"customerName"},{field:"loadAddress"},{field:"unloadAddress"},{field:"itemName"},{field:"salesRateQuantity"},{field:"unitSales"},{field:"salesAmount"},{field:"extraSalesAmount"},{field:"totalSalesAmount"}]},{groupId:"registerInfo",headerName:"직접비화룰 등록정보",children:[{field:"wndPurchaseMdmCostCenterCodeName"},{field:"wndBizCodeName"},{field:"wndServiceCodeName"},{field:"wndServiceCode2Name"},{field:"wndGlAccountTypeName"},{field:"wndMaterialCodeName"}]}]};return(0,l.jsxs)("div",{className:"flex h-full w-full flex-col","data-sentry-component":"FtOneFixPurchaseSettlementPanel","data-sentry-source-file":"FtOneFixPurchaseSettlementPanel.tsx",children:[(0,l.jsx)(GC,{initialParams:s,searchParams:h,setSearchParams:f,onSearch:u,isValidationSearch:m,"data-sentry-element":"FixPurchaseSettlementFilter","data-sentry-source-file":"FtOneFixPurchaseSettlementPanel.tsx"}),(0,l.jsxs)("div",{className:"flex items-center justify-end px-[40px] py-[12px]",children:[(0,l.jsx)("span",{className:"Body2_B flex-auto",children:"매입정산 확정대상"}),(0,l.jsx)(QC,{activeTab:t,activeSubTab:a,rowSelectionModel:i,gridApiRef:c,handlePurchaseComplete:o,isCheckSelectedRow:C,handleSearchChildren:u,setCheckConfirmInfo:y,"data-sentry-element":"FixPurchaseSettlementButtons","data-sentry-source-file":"FtOneFixPurchaseSettlementPanel.tsx"})]}),(0,l.jsx)("div",{className:"grid-area flex-1 overflow-auto",children:(0,l.jsx)(Fa.A,{ref:p,gridApiRef:c,columns:g,columnGroupingModel:T,checkboxSelection:!0,rowSelectionModel:i,onRowSelectionModelChange:d,initialState:{pinnedColumns:{left:["__check__"]},aggregation:{model:{departureRequestAt:"totalCount",purchaseAmount:"sum",extraPurchaseAmount:"sum",totalPurchaseAmount:"sum",wciTargetAmount:"sum",salesAmount:"sum",extraSalesAmount:"sum",totalSalesAmount:"sum"}}},"data-sentry-element":"WrapperBasicDataGrid","data-sentry-source-file":"FtOneFixPurchaseSettlementPanel.tsx"})}),(0,l.jsx)("div",{className:"flex justify-end px-[40px] py-[12px]",children:(0,l.jsx)(We,{excelFileName:"FT/O-NE 매입 정산",isSuccessExcel:v,excelData:A,handleExcelDownload:E,"data-sentry-element":"TmsBasicDataGridExcelDownload","data-sentry-source-file":"FtOneFixPurchaseSettlementPanel.tsx"})}),x.isOpened&&(0,l.jsx)(N,{title:x.title,description:x.description,confirmButtonLabel:x.confirmButtonLabel,onClickCloseButton:()=>y({isOpened:!1}),onClickConfirmButton:x.onClickConfirmButton,confirmButtonType:x.confirmButtonType})]})},[s.U3]:cx,[s.z8]:$C,[s.mZ]:function(e){let{menuName:t}=e;const{searchParams:a,setSearchParams:s,handleSearch:n,gridApiRef:o,wrapGridRef:i,gridApiRefDetail:d,wrapGridRefDetail:c,checkConfirmInfo:p,setCheckConfirmInfo:h,rowSelectionModel:f,setRowSelectionModel:C,isCheckSelectedRow:x,handleApprovalsComplete:y,handleApprovalsReject:E,handleApprovalsDelete:v,handleClickRow:A,initialParams:g,handleCustomerMemberCode:T,isOpened:I,setIsOpened:b,customerMemberCode:S}=$x(),{columns:_}=(e=>{let{handleCustomerMemberCode:t}=e;return{columns:(0,r.useMemo)((()=>[{field:"__check__",sortable:!1,headerAlign:"right",width:48,align:"right"},{field:"id",headerName:"No.",width:60,sortable:!1,filterable:!1},{field:"approvalStatusType",headerName:"결재상태",align:"center",renderCell:e=>{let t=null;switch(e.row.approvalStatusType){case R.cZF.NONE:t=zh.FILL_GREY;break;case R.cZF.WAITING:t=zh.FILL_BLUE;break;case R.cZF.COMPLETE:t=zh.FILL_GREEN;break;case R.cZF.RETURN:t=zh.FILL_RED}return Xh({colorType:t,label:e.row.approvalStatusTypeName})}},{field:"customerMemberCode",headerName:"화주 코드",type:"actions",getActions:e=>[(0,l.jsx)(u.A,{level:m.V.level_5,size:m.M.Xsmall,label:e.row.customerMemberCode,onClick:()=>t(e.row.customerMemberCode)})]},{field:"customerName",headerName:"화주"},{field:"changedCustomerMemberCode",headerName:"청구 화주코드"},{field:"changedCustomerName",headerName:"청구고객명"},{field:"salesDocumentTypeName",headerName:"결재유형"},{field:"localAmount",headerName:"금액",type:"number"},{field:"createUserId",headerName:"기안자 사번"},{field:"createUserName",headerName:"기안자명"},{field:"createdAt",headerName:"기안일",type:da._.VIEW_MODE_YYYYMMDD_DDD,width:115},{field:"createUserMdmCorporationCode",headerName:"기안자부서"},{field:"title",headerName:"결재내용",width:284},{field:"approvalUserId",headerName:"결재자사번"},{field:"approvalUserMdmCorporationCode",headerName:"결재자부서"}]),[])}})({handleCustomerMemberCode:T}),{columns:w}={columns:(0,r.useMemo)((()=>[{field:"id",headerName:"No.",width:48,sortable:!1,filterable:!1},{field:"confirmedAt",headerName:"매출확정일",type:da._.VIEW_MODE_YYYYMMDD_DDD,width:115},{field:"customerMemberCode",headerName:"화주 코드"},{field:"customerName",headerName:"화주"},{field:"changedCustomerName",headerName:"청구고객"},{field:"changedCustomerMemberCode",headerName:"청구 고객코드"},{field:"originalBillingDate",headerName:"원청구계획월",type:da._.VIEW_MODE_YYYYMMDD_DDD,width:115},{field:"changedBillingDate",headerName:"변경청구계획월",type:da._.VIEW_MODE_YYYYMMDD_DDD,width:115},{field:"unBillingReasonTypeName",headerName:"진행매출사유",width:284},{field:"departureAddressName",headerName:"상차지명"},{field:"itemName",headerName:"품목"},{field:"salesCostTypeName",headerName:"매출항목"},{field:"localAmount",headerName:"금액",type:"number"},{field:"changedPurchaseMdmCostCenterCodeName",headerName:"코스트센터"},{field:"salesMdmCostCenterName",headerName:"매출조직"},{field:"purchaseMdmCostCenterCodeName",headerName:"매입조직"},{field:"mdmCorporationCodeName",headerName:"인사조직"}]),[])};return(0,l.jsxs)("div",{className:"relative flex h-full w-full flex-col","data-sentry-component":"SalesPaymentManagementPanel","data-sentry-source-file":"SalesPaymentManagementPanel.tsx",children:[(0,l.jsx)("div",{className:"bg-grey98",children:(0,l.jsx)(xl,{title:t,"data-sentry-element":"ContentHeader","data-sentry-source-file":"SalesPaymentManagementPanel.tsx"})}),(0,l.jsxs)("div",{className:"flex h-full flex-col",children:[(0,l.jsx)(Ve.A.Provider,{params:a,setParams:s,onSearch:n,initialParams:g,"data-sentry-element":"SearchFilter.Provider","data-sentry-source-file":"SalesPaymentManagementPanel.tsx",children:e=>(0,l.jsxs)(xt.A,{children:[(0,l.jsx)(Ct.A,{width:"w-[327px]",children:(0,l.jsx)(Ve.A.SearchDate,{label:"매출확정일"})}),(0,l.jsx)(Ct.A,{children:(0,l.jsx)(Ve.A.AllMetaAutocompleteSearch,{label:"결재유형",allMetaType:Ze.k.SALES_DOCUMENT_TYPE,className:"!max-w-[242px]"})}),(0,l.jsx)(Ct.A,{children:(0,l.jsx)(Ve.A.CustomerNameMultiAutocomplete,{label:"고객사",className:"!max-w-[248px]"})}),(0,l.jsx)(Ct.A,{children:(0,l.jsx)(Ve.A.AllMetaMultiAutocompleteSearch,{label:"인사조직",allMetaType:Ze.k.COMMON_MDM_CORPORATION_CODE,className:"!max-w-[242px]"})}),(0,l.jsx)(Ct.A,{children:(0,l.jsx)(Ve.A.MdmAdminMultiAutocomplete,{label:"입력자명",className:"max-w-[200px]"})})]})}),(0,l.jsxs)("div",{className:"flex h-full flex-row gap-[24px] px-[40px]",children:[(0,l.jsxs)("div",{className:"flex h-full flex-1 flex-col overflow-auto",children:[(0,l.jsxs)("div",{className:"flex items-center gap-[8px] py-[16px]",children:[(0,l.jsx)("div",{className:"Body2_B",children:"결재 목록"}),(0,l.jsx)("div",{className:"Caption2_R text-grey40",children:"진행매출 고객 잔액은 고객코드란의 고객코드를 클릭하시면 확인하실 수 있습니다."}),(0,l.jsxs)("div",{className:"ml-auto flex gap-[8px]",children:[(0,l.jsx)(ja,{handleDeleteComplete:()=>{x()&&h({isOpened:!0,title:"선택한 진행매출 건을 삭제하시겠어요?",description:"삭제된 진행매출 건은 복구할 수 없습니다.",confirmButtonType:"destructive",confirmButtonLabel:"삭제하기",confirmClick:v})},"data-sentry-element":"TmsDataGridDeleteCompleteBtn","data-sentry-source-file":"SalesPaymentManagementPanel.tsx"}),(0,l.jsx)(u.A,{label:"반려",level:m.V.level_5,size:m.M.Small,leftIcon:(0,l.jsx)(sf,{widht:16,height:16,className:"text-error"}),onClick:()=>{x()&&h({isOpened:!0,title:"선택한 진행매출 건을 반려하시겠어요?",description:"해당 진행매출 건이 반려되며, 이후에는 취소할 수 없습니다.",confirmButtonType:"destructive",confirmButtonLabel:"반려하기",confirmClick:E})},"data-sentry-element":"TmsBasicButton","data-sentry-source-file":"SalesPaymentManagementPanel.tsx"}),(0,l.jsx)(ui,{label:"승인",handleRegister:()=>{x()&&h({isOpened:!0,title:"선택한 진행매출 건을 승인하시겠어요?",description:"해당 진행매출 건이 승인되며, 이후에는 수정할 수 없습니다.",confirmButtonLabel:"승인하기",confirmClick:y})},"data-sentry-element":"TmsDataGridRegisterBtn","data-sentry-source-file":"SalesPaymentManagementPanel.tsx"})]})]}),(0,l.jsx)("div",{className:"grid-area flex-1 overflow-auto",children:(0,l.jsx)(Fa.A,{ref:i,gridApiRef:o,columns:_,checkboxSelection:!0,rowSelectionModel:f,onRowSelectionModelChange:C,initialState:{pinnedColumns:{left:["__check__"]},aggregation:{model:{id:"totalCount",localAmount:"sum"}}},onRowDoubleClick:(e,t,a)=>{A(e.row.approvalId)},"data-sentry-element":"WrapperBasicDataGrid","data-sentry-source-file":"SalesPaymentManagementPanel.tsx"})})]}),(0,l.jsxs)("div",{className:"flex h-full flex-1 flex-col overflow-auto",children:[(0,l.jsxs)("div",{className:"flex items-center gap-[8px] py-[21px]",children:[(0,l.jsx)("div",{className:"Body2_B",children:"결재 상세 실적"}),(0,l.jsx)("div",{className:"Caption2_R text-grey40",children:"진행매출 상세실적은 진행매출 결재 목록에서 결재요청 건을 더블클릭하면 조회할 수 있습니다."})]}),(0,l.jsx)("div",{className:"grid-area flex-1 overflow-auto",children:(0,l.jsx)(Fa.A,{ref:c,gridApiRef:d,columns:w,initialState:{aggregation:{model:{id:"totalCount",localAmount:"sum"}}},"data-sentry-element":"WrapperBasicDataGrid","data-sentry-source-file":"SalesPaymentManagementPanel.tsx"})})]})]})]}),p.isOpened&&(0,l.jsx)(N,{title:p.title,description:p.description,confirmButtonLabel:p.confirmButtonLabel,onClickCloseButton:()=>h({isOpened:!1}),onClickConfirmButton:p.confirmClick,confirmButtonType:p.confirmButtonType}),I&&(0,l.jsx)(eN,{customerMemberCode:S,setIsOpened:b})]})},[s.dN]:function(e){let{menuName:t}=e;const{searchParams:a,setSearchParams:s,handleSearch:n,gridApiRef:o,wrapGridRef:i,gridApiRefDetail:d,wrapGridRefDetail:c,checkConfirmInfo:p,setCheckConfirmInfo:h,rowSelectionModel:f,setRowSelectionModel:C,isCheckSelectedRow:x,handleApprovalsComplete:y,handleApprovalsReject:E,handleApprovalsDelete:v,handleClickRow:A,initialParams:g}=tN(),{columns:T}={columns:(0,r.useMemo)((()=>[{field:"__check__",sortable:!1,headerAlign:"right",width:48,align:"right"},{field:"id",headerName:"No.",width:48,sortable:!1,filterable:!1},{field:"approvalStatusType",headerName:"결재상태",renderCell:e=>{let t=null;switch(e.row.approvalStatusType){case R.cZF.NONE:t=zh.FILL_GREY;break;case R.cZF.WAITING:t=zh.FILL_BLUE;break;case R.cZF.COMPLETE:t=zh.FILL_GREEN;break;case R.cZF.RETURN:t=zh.FILL_RED}return Xh({colorType:t,label:e.row.approvalStatusTypeName})}},{field:"vendorMdmCode",headerName:"변경전 매입처코드"},{field:"vendorName",headerName:"변경 전 매입처",width:182},{field:"changedVendorMdmCode",headerName:"변경후 매입처코드"},{field:"changedVendorName",headerName:"변경 후 매입처"},{field:"approvalTypeName",headerName:"결재유형"},{field:"localAmount",headerName:"금액",type:"number"},{field:"createUserId",headerName:"기안자 사번"},{field:"createUserName",headerName:"기안자명"},{field:"createdAt",headerName:"기안일",type:da._.VIEW_MODE_YYYYMMDD_DDD,width:115},{field:"createUserMdmCorporationName",headerName:"기안자부서"},{field:"1",headerName:"결재내용",width:284},{field:"approvalUserId",headerName:"결재자사번"},{field:"approvalUserMdmCorporationName",headerName:"결재자부서"}]),[])},{columns:I}={columns:(0,r.useMemo)((()=>[{field:"id",headerName:"No.",width:48,sortable:!1,filterable:!1},{field:"purchaseConfirmedAt",headerName:"매입확정일",type:da._.VIEW_MODE_YYYYMMDD_DDD,width:115},{field:"vendorMdmCode",headerName:"변경전 매입처코드"},{field:"vendorName",headerName:"변경 전 매입처",width:182},{field:"changedVendorMdmCode",headerName:"변경후 매입처코드"},{field:"changedVendorName",headerName:"변경 후 매입처"},{field:"departureAddressName",headerName:"상차지명"},{field:"arrivalAddressName",headerName:"하차지명"},{field:"itemName",headerName:"품목"},{field:"purchaseCostTypeName",headerName:"매출입항목"},{field:"localAmount",headerName:"금액",type:"number"},{field:"purchaseTeamMdmCostCenterCodeName",headerName:"코스트센터"},{field:"salesMdmCostCenterCodeName",headerName:"매출조직"},{field:"purchaseMdmCostCenterCodeName",headerName:"매입조직"},{field:"mdmCorporationCodeName",headerName:"인사조직"}]),[])};return(0,l.jsxs)("div",{className:"relative w-full","data-sentry-component":"ChangePlacePurchasePanel","data-sentry-source-file":"ChangePlacePurchasePanel.tsx",children:[(0,l.jsx)("div",{className:"bg-grey98",children:(0,l.jsx)(xl,{title:t,"data-sentry-element":"ContentHeader","data-sentry-source-file":"ChangePlacePurchasePanel.tsx"})}),(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsx)(Ve.A.Provider,{params:a,setParams:s,onSearch:n,initialParams:g,"data-sentry-element":"SearchFilter.Provider","data-sentry-source-file":"ChangePlacePurchasePanel.tsx",children:e=>(0,l.jsxs)(xt.A,{children:[(0,l.jsx)(Ct.A,{width:"w-[320px]",children:(0,l.jsx)(Ve.A.SearchDate,{label:"매입확정일"})}),(0,l.jsx)(Ct.A,{width:"w-[340px]",children:(0,l.jsx)(Ve.A.AllMetaMultiAutocompleteSearch,{label:"변경 전 매입처",allMetaType:Ze.k.COMMON_VENDOR_CODE,className:"!max-w-[310px]"})}),(0,l.jsx)(Ct.A,{children:(0,l.jsx)(Ve.A.AllMetaMultiAutocompleteSearch,{label:"인사조직",allMetaType:Ze.k.COMMON_MDM_CORPORATION_CODE,className:"!max-w-[242px]"})}),(0,l.jsx)(Ct.A,{children:(0,l.jsx)(Ve.A.MdmAdminMultiAutocomplete,{label:"기안자명",className:"!max-w-[200px]"})})]})}),(0,l.jsxs)("div",{className:"flex gap-[24px] px-[40px]",children:[(0,l.jsxs)("div",{className:"flex w-[calc(50%-12px)] flex-col",children:[(0,l.jsxs)("div",{className:"flex items-center gap-[8px] py-[16px]",children:[(0,l.jsx)("div",{className:"Body2_B",children:"결재 목록"}),(0,l.jsxs)("div",{className:"ml-auto flex gap-[8px]",children:[(0,l.jsx)(ja,{handleDeleteComplete:()=>{x()&&h({isOpened:!0,title:"선택한 매입처 변경 건을 삭제하시겠어요?",description:"삭제된 매입처 변경 건은 복구할 수 없습니다.",confirmButtonType:"destructive",confirmButtonLabel:"삭제하기",confirmClick:v})},"data-sentry-element":"TmsDataGridDeleteCompleteBtn","data-sentry-source-file":"ChangePlacePurchasePanel.tsx"}),(0,l.jsx)(u.A,{label:"반려",level:m.V.level_5,size:m.M.Small,leftIcon:(0,l.jsx)(sf,{widht:16,height:16,className:"text-error"}),onClick:()=>{x()&&h({isOpened:!0,title:"선택한 매입처 변경 건을 반려하시겠어요?",description:"해당 매입처 변경 건이 반려되며, 이후에는 취소할 수 없습니다.",confirmButtonType:"destructive",confirmButtonLabel:"반려하기",confirmClick:E})},"data-sentry-element":"TmsBasicButton","data-sentry-source-file":"ChangePlacePurchasePanel.tsx"}),(0,l.jsx)(ui,{label:"승인",handleRegister:()=>{x()&&h({isOpened:!0,title:"선택한 매입처 변경 건을 승인하시겠어요?",description:"해당 매입처 변경 건이 승인되며, 이후에는 수정할 수 없습니다.",confirmButtonLabel:"승인하기",confirmClick:y})},"data-sentry-element":"TmsDataGridRegisterBtn","data-sentry-source-file":"ChangePlacePurchasePanel.tsx"})]})]}),(0,l.jsx)("div",{className:"h-[600px]",children:(0,l.jsx)(Fa.A,{ref:i,gridApiRef:o,columns:T,checkboxSelection:!0,rowSelectionModel:f,onRowSelectionModelChange:C,initialState:{pinnedColumns:{left:["__check__"]},aggregation:{model:{id:"totalCount",localAmount:"sum"}}},onRowDoubleClick:(e,t,a)=>{A(e.row.approvalId)},"data-sentry-element":"WrapperBasicDataGrid","data-sentry-source-file":"ChangePlacePurchasePanel.tsx"})})]}),(0,l.jsxs)("div",{className:"flex w-[calc(50%-12px)] flex-col",children:[(0,l.jsx)("div",{className:"flex items-center gap-[8px] py-[21px]",children:(0,l.jsx)("div",{className:"Body2_B",children:"결재 상세 실적"})}),(0,l.jsx)("div",{className:"h-[600px]",children:(0,l.jsx)(Fa.A,{ref:c,gridApiRef:d,columns:I,initialState:{aggregation:{model:{id:"totalCount",localAmount:"sum"}}},"data-sentry-element":"WrapperBasicDataGrid","data-sentry-source-file":"ChangePlacePurchasePanel.tsx"})})]})]})]}),p.isOpened&&(0,l.jsx)(N,{title:p.title,description:p.description,confirmButtonLabel:p.confirmButtonLabel,onClickCloseButton:()=>h({isOpened:!1}),onClickConfirmButton:p.confirmClick,confirmButtonType:p.confirmButtonType})]})},[s.JJ]:function(e){let{menuName:t}=e;const{searchParams:a,setSearchParams:s,handleSearch:n,gridApiRef:o,wrapGridRef:i,rowSelectionModel:d,setRowSelectionModel:c,isCheckSelectedRow:p,initialParams:h,isOpenedEditModal:f,setIsOpenedEditModal:C}=lN(),{columns:x}={columns:(0,r.useMemo)((()=>[{field:"__check__",sortable:!1,headerAlign:"right",width:48,align:"right"},{field:"id",headerName:"No.",width:48,sortable:!1,filterable:!1,align:"center",type:da._.VIEW_MODE_ID},{field:"departureRequestAt",headerName:"상차 요청 일시",type:da._.VIEW_MODE_YYYYMMDD_DDD,width:115},{field:"transportConfirmAt",headerName:"운송실적확정일자",type:da._.VIEW_MODE_YYYYMMDD_DDD,width:115},{field:"customerName",headerName:"화주"},{field:"departureAddress",headerName:"상차지",width:160},{field:"arrivalAddress",headerName:"하차지",width:160},{field:"itemName",headerName:"품목"},{field:"equipmentMdmManageNoCode",headerName:"차량관리번호"},{field:"salesAmount",headerName:"청구금액",type:"number"},{field:"purchaseAmount",headerName:"매입금액",type:"number"},{field:"salesCostCenterName",headerName:"매출조직",width:168},{field:"purchaseCostCenterName",headerName:"매입조직",width:168},{field:"mdmCorporationCode",headerName:"인사조직"},{field:"orderSalesNo",headerName:"주문오더번호",width:152},{field:"orderTransferDispatchNo",headerName:"배차계획번호",width:152},{field:"isConsolidated",headerName:"혼적여부",type:da._.VIEW_MODE_Y_OR_N},{field:"bizCodeName",headerName:"사업명"},{field:"serviceCodeName",headerName:"서비스명"},{field:"serviceCode2Name",headerName:"서비스명2"}]),[])};return(0,l.jsxs)("div",{className:"relative w-full","data-sentry-component":"ChangeSettlementGroupPanel","data-sentry-source-file":"ChangeSettlementGroupPanel.tsx",children:[(0,l.jsx)("div",{className:"bg-grey98 flex h-full flex-col pb-[16px]",children:(0,l.jsx)(xl,{title:t,"data-sentry-element":"ContentHeader","data-sentry-source-file":"ChangeSettlementGroupPanel.tsx"})}),(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsx)(Ve.A.Provider,{params:a,setParams:s,onSearch:n,initialParams:h,"data-sentry-element":"SearchFilter.Provider","data-sentry-source-file":"ChangeSettlementGroupPanel.tsx",children:e=>(0,l.jsxs)("div",{className:"flex gap-[12px] px-[40px] py-[16px]",children:[(0,l.jsx)(Ve.A.SearchDate,{label:"상차일자"}),(0,l.jsx)(Ve.A.CustomerNameMultiAutocomplete,{label:"화주",className:"!w-[246px]"}),(0,l.jsx)(Ve.A.SearchText,{label:"배차번호",placeholder:"배차번호 입력",fieldName:"dispatchNo",className:"w-[246px]"}),(0,l.jsx)(Ve.A.AllMetaMultiAutocompleteSearch,{label:"인사조직",allMetaType:Ze.k.COMMON_MDM_CORPORATION_CODE,className:"!w-[246px]"}),(0,l.jsxs)("div",{className:"ml-auto flex gap-[8px]",children:[(0,l.jsx)(Ve.A.ResetButton,{}),(0,l.jsx)(Ve.A.SearchButton,{})]})]})}),(0,l.jsxs)("div",{className:"flex flex-col px-[40px]",children:[(0,l.jsxs)("div",{className:"flex items-center py-[12px]",children:[(0,l.jsx)("div",{className:"Body2_B",children:"정산조직 목록"}),(0,l.jsx)("div",{className:"ml-auto flex gap-[8px]",children:(0,l.jsx)(u.A,{label:"조직 정보 변경",level:m.V.level_4,size:m.M.Medium,leftIcon:(0,l.jsx)(Os,{width:20,height:20}),onClick:()=>{p()&&C(!0)},"data-sentry-element":"TmsBasicButton","data-sentry-source-file":"ChangeSettlementGroupPanel.tsx"})})]}),(0,l.jsx)("div",{className:"h-[600px]",children:(0,l.jsx)(Fa.A,{ref:i,gridApiRef:o,columns:x,checkboxSelection:!0,rowSelectionModel:d,onRowSelectionModelChange:c,initialState:{pinnedColumns:{left:["__check__"]}},"data-sentry-element":"WrapperBasicDataGrid","data-sentry-source-file":"ChangeSettlementGroupPanel.tsx"})})]}),f&&(0,l.jsx)(rN,{rowSelectionModel:d,gridApiRefProps:o,setIsOpenedEditModal:C,handleSearch:n})]})]})},[s.qK]:function(e){let{menuName:t}=e;const{searchParams:a,setSearchParams:s,handleSearch:n,gridApiRef:o,wrapGridRef:i,initialParams:d,handleExcelDownload:c,restReportsDriversPaymentsExcel:u}=nN(),{columns:m}={columns:(0,r.useMemo)((()=>[{field:"__check__",sortable:!1,headerAlign:"right",width:48,align:"right"},{field:"id",headerName:"No.",width:48,sortable:!1,filterable:!1,align:"center",type:da._.VIEW_MODE_ID},{field:"departureRequestAt",headerName:"상차일자",type:da._.VIEW_MODE_YYYYMMDD_DDD,width:115},{field:"payedAt",headerName:"출금일자",type:da._.VIEW_MODE_YYYYMMDD_DDD,width:115},{field:"isPayed",headerName:"출금처리",valueFormatter:e=>e?"완료":"미완료"},{field:"documentId",headerName:"회계전표번호"},{field:"documentDate",headerName:"회계증빙일",type:da._.VIEW_MODE_YYYYMMDD_DDD,width:115},{field:"postingDate",headerName:"전표생성일",type:da._.VIEW_MODE_YYYYMMDD_DDD,width:115},{field:"paymentExpectedAt",headerName:"출금예정일",type:da._.VIEW_MODE_YYYYMMDD_DDD,width:115},{field:"vendorName",headerName:"파트너"},{field:"plateNumber",headerName:"차량번호"},{field:"bankName",headerName:"은행"},{field:"bankAccountNumber",headerName:"입금계좌"},{field:"purchaseAmount",headerName:"공급가액",type:"number"},{field:"vatAmount",headerName:"부가세",type:"number"},{field:"purchaseTotalAmount",headerName:"최종 지급금액",type:"number"},{field:"mdmPaymentConditionCodeName",headerName:"지급조건",width:320},{field:"adminName",headerName:"입력자"}]),[])};return(0,l.jsxs)("div",{className:"flex h-full w-full flex-col","data-sentry-component":"IndividualDriverPaymentPanel","data-sentry-source-file":"IndividualDriverPaymentPanel.tsx",children:[(0,l.jsx)("div",{className:"bg-grey98",children:(0,l.jsx)(xl,{title:t,"data-sentry-element":"ContentHeader","data-sentry-source-file":"IndividualDriverPaymentPanel.tsx"})}),(0,l.jsxs)("div",{className:"flex h-full flex-col",children:[(0,l.jsx)(Ve.A.Provider,{params:a,setParams:s,onSearch:n,initialParams:d,"data-sentry-element":"SearchFilter.Provider","data-sentry-source-file":"IndividualDriverPaymentPanel.tsx",children:e=>(0,l.jsxs)(xt.A,{children:[(0,l.jsxs)(Ct.A,{width:"w-[480px]",children:[(0,l.jsx)(Ve.A.SearchDate,{label:"기간구분",optionsFiled:"settlementSearchPaymentType",optionsClassName:"!w-[140px]",options:[{id:R.zMr.PICKUP,label:"상차일자"},{id:R.zMr.PAYMENT,label:"출금일자"}],datePickerClassName:"!w-[120px]"}),(0,l.jsx)(Ve.A.AllMetaMultiAutocompleteSearch,{label:"인사조직",allMetaType:Ze.k.COMMON_MDM_CORPORATION_CODE,className:"!max-w-[426px]"})]}),(0,l.jsxs)(Ct.A,{children:[(0,l.jsx)(Ve.A.AllMetaMultiAutocompleteSearch,{label:"파트너",allMetaType:Ze.k.COMMON_VENDOR_CODE,className:"!max-w-[190px]"}),(0,l.jsx)(Ve.A.MdmAdminMultiAutocomplete,{label:"입력자명",className:"max-w-[190px]"})]}),(0,l.jsx)(Ct.A,{children:(0,l.jsx)(Ve.A.SearchAutocomplete,{isUseAll:!0,label:"출금처리 상태",options:[{id:"Y",label:"완료"},{id:"N",label:"미완료"}],fieldName:"isPayed",autocompleteClassName:"!w-[160px]"})}),(0,l.jsx)(Ct.A,{children:(0,l.jsx)(Ve.A.SearchText,{label:"차량번호",placeholder:"차량번호 입력",fieldName:"vehicleNumber",className:"max-w-[190px]"})}),(0,l.jsx)(Ct.A,{children:(0,l.jsx)(Ve.A.SearchText,{label:"전표번호",placeholder:"전표번호 입력",fieldName:"documentId",className:"max-w-[190px]"})})]})}),(0,l.jsxs)("div",{className:"flex h-full flex-col",children:[(0,l.jsx)("div",{className:"flex items-center px-[40px] py-[16px]",children:(0,l.jsx)("div",{className:"Body2_B",children:"개별차주 지급내역"})}),(0,l.jsx)("div",{className:"grid-area flex-1 overflow-auto",children:(0,l.jsx)(Fa.A,{ref:i,gridApiRef:o,columns:m,"data-sentry-element":"WrapperBasicDataGrid","data-sentry-source-file":"IndividualDriverPaymentPanel.tsx"})}),(0,l.jsx)("div",{className:"border-grey90 absolute bottom-0 ml-auto flex h-[52px] w-full items-center justify-end gap-[8px] border-t-[1px] bg-white px-[40px] py-[12px]",children:(0,l.jsx)(We,{excelFileName:"차주_지급내역",isSuccessExcel:null==u?void 0:u.isSuccess,excelData:null==u?void 0:u.data,handleExcelDownload:c,"data-sentry-element":"TmsBasicDataGridExcelDownload","data-sentry-source-file":"IndividualDriverPaymentPanel.tsx"})})]})]})]})},[s.bl]:function(e){let{menuName:t}=e;const{columns:a,detailColumns:s}={columns:(0,r.useMemo)((()=>[{field:"id",headerName:"No.",sortable:!1,width:48,type:da._.VIEW_MODE_ID},{field:"xnegp",headerName:"구분자",sortable:!1,width:74,renderCell:e=>{let t="",a="";switch(e.row.xnegp){case"O":t="일반",a="";break;case"C":t="역분개",a="text-primary50";break;case"X":t="마이너스",a="text-error";break;default:var r;t=null!==(r=e.row.xnegp)&&void 0!==r?r:"",a=""}return(0,l.jsx)("span",{className:a,children:t})}},{field:"isBilled",headerName:"청구구분",sortable:!1,width:74,renderCell:e=>{let t="",a="";switch(e.row.isBilled){case!0:t="청구",a="";break;case!1:t="진행매출",a="text-primary50";break;default:var r;t=null!==(r=e.row.isBilled)&&void 0!==r?r:"",a=""}return(0,l.jsx)("span",{className:a,children:t})}},{field:"documentId",headerName:"전표번호",sortable:!1,width:109},{field:"taxBillNo",headerName:"세금계산서번호",sortable:!1,width:107},{field:"tempDocumentId",headerName:"정산번호",sortable:!1,width:141},{field:"postingDate",headerName:"회계전기일",sortable:!1,width:115,type:da._.VIEW_MODE_YYYYMMDD_DDD},{field:"customerMdmCode",headerName:"화주 MDM",sortable:!1,width:100},{field:"customerName",headerName:"화주명",sortable:!1,width:100},{field:"vendorTypeName",headerName:"거래처구분",sortable:!1,width:100},{field:"localAmount",headerName:"공급가액",type:"number",sortable:!1,width:115},{field:"vatAmount",headerName:"부가세",type:"number",sortable:!1,width:118},{field:"rateCodeName",headerName:"세금유형명",sortable:!1,width:130},{field:"totalAmount",type:"number",headerName:"합계금액",sortable:!1,width:128},{field:"sapMdmCostCenterCodeName",headerName:"전표부서",sortable:!1,width:128},{field:"mdmPaymentConditionCodeName",headerName:"지급조건",sortable:!1,width:406},{field:"adminName",headerName:"입력자명",sortable:!1,width:128},{field:"sgtxt",headerName:"적요",sortable:!1,width:107},{field:"ifMessage",headerName:"전표 메시지",sortable:!1,width:264}]),[]),detailColumns:(0,r.useMemo)((()=>[{field:"id",headerName:"No.",sortable:!1,width:48,type:da._.VIEW_MODE_ID},{field:"xnegp",headerName:"구분자",sortable:!1,width:74,renderCell:e=>{let t="",a="";switch(e.row.xnegp){case"O":t="일반",a="";break;case"C":t="역분개",a="text-primary50";break;case"X":t="마이너스",a="text-error";break;default:var r;t=null!==(r=e.row.xnegp)&&void 0!==r?r:"",a=""}return(0,l.jsx)("span",{className:a,children:t})}},{field:"glAccountTypeCode",headerName:"계정과목 코드",sortable:!1,width:130},{field:"glAccountTypeName",headerName:"계정과목",sortable:!1,width:93},{field:"localAmount",headerName:"공급가액",type:"number",width:88},{field:"purchaseCostCenterCodeName",headerName:"코스트센터명",sortable:!1,width:204},{field:"prctr",headerName:"손익센터",sortable:!1,width:100},{field:"bizCodeName",headerName:"사업",sortable:!1,width:100},{field:"serviceCodeName",headerName:"서비스",sortable:!1,width:118},{field:"serviceCode2Name",headerName:"서비스2",sortable:!1,width:118},{field:"materialCodeName",headerName:"대표물자",sortable:!1,width:130},{field:"salesCostCenterCodeName",headerName:"계약조직",sortable:!1,width:205},{field:"customerName",headerName:"화주명",sortable:!1,width:318},{field:"plateNumber",headerName:"차량번호",sortable:!1,width:100}]),[])},n=(0,r.useRef)(null),o=(0,D.bBi)(),i=(0,r.useRef)(null),d=(0,D.bBi)(),{mutateAsync:c,isSuccess:u,data:m}=(0,T.n)(["useSettlementReportsDocumentListMutation"],(async e=>(await I.q.api((t=>t.ApiV1SettlementReportsDocuments(e)))).data.result)),{mutateAsync:p,isSuccess:h,data:f}=(0,T.n)(["useSettlementReportsDocumentDetailMutation"],(async e=>{let{tempDocumentId:t,xnegp:a}=e;return(await I.q.api((e=>e.ApiV1SettlementReportsDocumentsTempDocumentIdXnegp(t,a)))).data.result})),{mutateAsync:x,...N}=(0,T.n)(["useSettlementReportsDocumentsExcelMutation"],(async e=>(await I.q.api((t=>t.ApiV1SettlementReportsDocumentsExcel(e,{format:"blob"})))).data)),{getAllMeta:y}=od({mutationKey:"IndirectCostRulesManagement",requestAllMeta:[Ze.k.COMMON_MDM_COST_CENTER_CODE]}),E={startDate:je()(new Date).subtract(1,"month").startOf("day").format(),endDate:je()(new Date).endOf("day").format()},[v,A]=(0,r.useState)(E),g=(0,r.useRef)(null),b={fromDate:v.startDate,toDate:v.endDate,sapMdmCostCenterCodes:v.sapMdmCostCenterCodes,vendorIds:v.vendorIds,customerIds:v.customerIds,documentType:v.documentType,documentId:v.documentId,adminUserIds:v.adminUserIdsMdmEmpNo};return(0,r.useLayoutEffect)((()=>{y()}),[]),(0,r.useEffect)((()=>{var e;h&&(null===(e=i.current)||void 0===e||e.setInitData(null!=f?f:[]))}),[f]),(0,r.useEffect)((()=>{var e;u&&(null===(e=n.current)||void 0===e||e.setInitData(null!=m?m:[]))}),[m]),(0,l.jsxs)("div",{className:"relative w-full","data-sentry-component":"SettlementReportManagementPanel","data-sentry-source-file":"SettlementReportManagementPanel.tsx",children:[(0,l.jsx)("div",{className:"bg-grey98",children:(0,l.jsx)(xl,{title:t,"data-sentry-element":"ContentHeader","data-sentry-source-file":"SettlementReportManagementPanel.tsx"})}),(0,l.jsx)("div",{className:"relative flex flex-1 bg-white",children:(0,l.jsxs)("div",{className:C()("cc-content-layout !overflow-x-hidden",{"is-visible":!0}),style:{height:"calc(100vh - 160px)"},children:[(0,l.jsxs)(cl.YZ,{direction:"vertical",ref:g,"data-sentry-element":"PanelGroup","data-sentry-source-file":"SettlementReportManagementPanel.tsx",children:[(0,l.jsxs)(cl.Zk,{defaultSize:6,className:"w-full overflow-hidden","data-sentry-element":"Panel","data-sentry-source-file":"SettlementReportManagementPanel.tsx",children:[(0,l.jsx)(my,{initialParams:E,searchParams:v,setSearchParams:A,onSearch:()=>{var e;null===(e=i.current)||void 0===e||e.setInitData([]),c(b)},"data-sentry-element":"SettlementReportFilter","data-sentry-source-file":"SettlementReportManagementPanel.tsx"}),(0,l.jsx)("div",{className:"h-[290px]",children:(0,l.jsx)(Fa.A,{ref:n,gridApiRef:o,columns:a,initialState:{aggregation:{model:{id:"totalCount",localAmount:"sumV2",vatAmount:"sumV2",totalAmount:"sumV2"}}},onRowDoubleClick:e=>{return t=e.row,void p({tempDocumentId:t.tempDocumentId,xnegp:t.xnegp});var t},"data-sentry-element":"WrapperBasicDataGrid","data-sentry-source-file":"SettlementReportManagementPanel.tsx"})})]}),(0,l.jsx)(pl,{handleIconClick:e=>{var t,a;e?null==g||null===(t=g.current)||void 0===t||t.setLayout([53,37]):null==g||null===(a=g.current)||void 0===a||a.setLayout([10,80])},"data-sentry-element":"TmsBasicPanelGroupHandleVertical","data-sentry-source-file":"SettlementReportManagementPanel.tsx"}),(0,l.jsxs)(cl.Zk,{defaultSize:4,className:"w-full overflow-hidden","data-sentry-element":"Panel","data-sentry-source-file":"SettlementReportManagementPanel.tsx",children:[(0,l.jsx)("div",{className:"Body4_B px-[24px] py-[12px]",children:"상세"}),(0,l.jsx)("div",{className:"h-[280px]",children:(0,l.jsx)(Fa.A,{ref:i,gridApiRef:d,columns:s,initialState:{aggregation:{model:{id:"totalCount",localAmount:"sumV2"}}},"data-sentry-element":"WrapperBasicDataGrid","data-sentry-source-file":"SettlementReportManagementPanel.tsx"})})]})]}),(0,l.jsx)("div",{className:"border-grey90 absolute bottom-0 ml-auto flex h-[52px] w-full items-center justify-end gap-[8px] border-t-[1px] bg-white px-[40px] py-[12px]",children:(0,l.jsx)(We,{excelFileName:"회계전표현황",isSuccessExcel:null==N?void 0:N.isSuccess,excelData:null==N?void 0:N.data,handleExcelDownload:async()=>{await x(b)},"data-sentry-element":"TmsBasicDataGridExcelDownload","data-sentry-source-file":"SettlementReportManagementPanel.tsx"})})]})})]})},[s.VO]:function(e){let{menuName:t}=e;const a=(0,$e.P9)(),{columns:s,columnGroupingModel:n}={columns:(0,r.useMemo)((()=>[{field:"__No__",headerName:"No.",sortable:!1,width:48,align:"center",headerWideCell:!0},{field:"mdmCorporationsCode",headerName:"코드",sortable:!1,width:100},{field:"mdmCorporationCodeName",headerName:"이름",sortable:!1,width:128},{field:"customerMemberCode",headerName:"ID",sortable:!1,width:100},{field:"customerMdmCode",headerName:"MDM",sortable:!1,width:100},{field:"customerName",headerName:"이름",sortable:!1,width:118},{field:"orderStatusTypeName",headerName:"배차상태",sortable:!1,width:95,headerWideCell:!0},{field:"orderTransferDispatchNo",headerName:"배차번호",sortable:!1,width:150,headerWideCell:!0},{field:"orderSalesNo",headerName:"주문오더번호",sortable:!1,width:141,headerWideCell:!0},{field:"departureName",headerName:"상차지",sortable:!1,width:110},{field:"departureNodeName",headerName:"노드",sortable:!1,width:110},{field:"departureNodeCode",headerName:"노드ID",sortable:!1,width:100},{field:"arrivalName",headerName:"하차지",sortable:!1,width:159},{field:"arrivalNodeName",headerName:"노드",sortable:!1,width:110},{field:"arrivalNodeCode",headerName:"노드ID",sortable:!1,width:100},{field:"isContractMaster",headerName:"마스터 여부",sortable:!1,width:100,type:da._.VIEW_MODE_Y_OR_N,headerWideCell:!0},{field:"itemName",headerName:"품목",sortable:!1,width:100,headerWideCell:!0},{field:"salesRateAmount",headerName:"매출요율",sortable:!1,width:100,headerWideCell:!0},{field:"salesAmount",headerName:"청구금액",sortable:!1,width:100,type:"number",headerWideCell:!0},{field:"salesExtraAmount",headerName:"추가청구금액",sortable:!1,width:100,type:"number",headerWideCell:!0},{field:"salesTotalAmount",headerName:"매출합",sortable:!1,width:100,type:"number",headerWideCell:!0},{field:"salesConfirmedAmount",headerName:"청구확정금액",sortable:!1,width:100,type:"number",headerWideCell:!0},{field:"salesQuantity",headerName:"매출수송량",sortable:!1,width:100,type:"number",headerWideCell:!0},{field:"itemWeight",headerName:"중량",sortable:!1,width:100,type:"number",headerWideCell:!0},{field:"vendorName",headerName:"파트너명",sortable:!1,width:100,headerWideCell:!0},{field:"purchaseRateCodeName",headerName:"매입 요율 구분",sortable:!1,width:100,headerWideCell:!0},{field:"purchaseQuantity",headerName:"매입 수송량",sortable:!1,type:"number",width:100,headerWideCell:!0},{field:"purchaseRateAmount",headerName:"매입 요율 금액",sortable:!1,type:"number",width:100,headerWideCell:!0},{field:"purchaseAmount",headerName:"매입금액",sortable:!1,width:100,type:"number",headerWideCell:!0},{field:"purchaseExtraAmount",headerName:"추가하물",sortable:!1,width:100,type:"number",headerWideCell:!0},{field:"purchaseTotalAmount",headerName:"매입합",sortable:!1,width:100,type:"number",headerWideCell:!0},{field:"purchaseConfirmedAmount",headerName:"매입확정금액",sortable:!1,width:100,type:"number",headerWideCell:!0},{field:"departureRequestAt",headerName:"상차 요청 일시",width:156,headerWideCell:!0,type:da._.VIEW_MODE_YYYYMMDD_HH_MM_SS},{field:"arrivalRequestAt",headerName:"하차 요청 일시",width:156,headerWideCell:!0,type:da._.VIEW_MODE_YYYYMMDD_HH_MM_SS},{field:"orderCreatedAt",headerName:"주문일시",width:156,headerWideCell:!0,type:da._.VIEW_MODE_YYYYMMDD_HH_MM_SS},{field:"vendorTypeName",headerName:"차량구분",sortable:!1,width:100,headerWideCell:!0},{field:"plateNumber",headerName:"차량번호",sortable:!1,width:100,headerWideCell:!0},{field:"equipmentManageNo",headerName:"차량 관리번호",sortable:!1,width:100,headerWideCell:!0},{field:"vehicleTypeName",headerName:"차종",sortable:!1,width:100,headerWideCell:!0},{field:"tonName",headerName:"톤급",sortable:!1,width:100,headerWideCell:!0},{field:"salesCostCenterCodeName",headerName:"매출조직",sortable:!1,width:109,headerWideCell:!0},{field:"purchaseCostCenterCodeName",headerName:"매입조직",sortable:!1,width:70,headerWideCell:!0},{field:"vendorMdmCode",headerName:"매입처",sortable:!1,width:100,headerWideCell:!0},{field:"assignedAt",headerName:"배정일시",width:156,headerWideCell:!0,type:da._.VIEW_MODE_YYYYMMDD_HH_MM_SS},{field:"dispatchedAt",headerName:"배차일시",width:156,headerWideCell:!0,type:da._.VIEW_MODE_YYYYMMDD_HH_MM_SS},{field:"transportConfirmedAt",headerName:"운송실적확정일시",width:156,headerWideCell:!0,type:da._.VIEW_MODE_YYYYMMDD_HH_MM_SS},{field:"isExcelUpload",headerName:"엑셀업로드",align:"center",sortable:!1,width:100,type:da._.VIEW_MODE_Y_OR_N,headerWideCell:!0},{field:"isSplit",headerName:"분할",align:"center",sortable:!1,width:100,type:da._.VIEW_MODE_Y_OR_N,headerWideCell:!0},{field:"requestVehicleTonCode",headerName:"요청 차량 톤급",sortable:!1,width:100,headerWideCell:!0},{field:"salesDocumentId",headerName:"전표번호",sortable:!1,width:100},{field:"salesSettlementMonth",headerName:"정산월",sortable:!1,width:100},{field:"purchaseDocumentId",headerName:"전표번호",sortable:!1,width:100},{field:"purchaseSettlementMonth",headerName:"정산월",sortable:!1,width:100},{field:"orderCreateUserId",headerName:"ID",sortable:!1,width:100},{field:"orderCreateUserName",headerName:"이름",sortable:!1,width:100},{field:"updateUserId",headerName:"ID",sortable:!1,width:100},{field:"updateUserName",headerName:"이름",sortable:!1,width:100},{field:"dispatchUserId",headerName:"ID",sortable:!1,width:100},{field:"dispatchUserName",headerName:"이름",sortable:!1,width:100},{field:"dispatchUpdateUserId",headerName:"ID",sortable:!1,width:100},{field:"dispatchUpdateUserName",headerName:"이름",sortable:!1,width:100},{field:"assignmentUserId",headerName:"ID",sortable:!1,width:100},{field:"assignmentUserName",headerName:"이름",sortable:!1,width:100},{field:"salesContractNo",headerName:"매출",sortable:!1,width:157},{field:"purchaseContractNo",headerName:"매입",sortable:!1,width:157},{field:"orderCreationOwnerTypeName",headerName:"주문채널",sortable:!1,width:118,headerWideCell:!0},{field:"dispatchConfirmOwnerTypeName",headerName:"배차채널",sortable:!1,width:118,headerWideCell:!0},{field:"salesContractStartAt",headerName:"시작일",width:115,type:da._.VIEW_MODE_YYYYMMDD_DDD},{field:"salesContractEndAt",headerName:"종료일",width:115,type:da._.VIEW_MODE_YYYYMMDD_DDD},{field:"purchaseContractStartAt",headerName:"시작일",width:115,type:da._.VIEW_MODE_YYYYMMDD_DDD},{field:"purchaseContractEndAt",headerName:"종료일",width:115,type:da._.VIEW_MODE_YYYYMMDD_DDD},{field:"driverPhoneNumber",headerName:"차주연락처",sortable:!1,width:102,headerWideCell:!0},{field:"purchaseTotalRateAmount",headerName:"매입요율금액(계)",sortable:!1,width:118,type:"number",headerWideCell:!0},{field:"baseUnitPrice",headerName:"기준단가",sortable:!1,width:118,type:"number",headerWideCell:!0},{field:"extraAmountDifference",headerName:"추가금액 차액",sortable:!1,width:118,type:"number",headerWideCell:!0},{field:"expectedEffectPi",headerName:"기대효과(PI)",sortable:!1,width:118,type:"number",headerWideCell:!0},{field:"affiliateMdmCostCenterCodeName",headerName:"소속조직명",sortable:!1,width:118,headerWideCell:!0},{field:"remark",headerName:"요청사항",sortable:!1,width:118,headerWideCell:!0}]),[]),columnGroupingModel:[{groupId:"mdmCorporationGroup",headerName:"인사조직",children:[{field:"mdmCorporationsCode"},{field:"mdmCorporationCodeName"}]},{groupId:"customerMdmGroup",headerName:"화주",children:[{field:"customerMemberCode"},{field:"customerMdmCode"},{field:"customerName"}]},{groupId:"departureGroup",headerName:"상차",children:[{field:"departureName"},{field:"departureNodeName"},{field:"departureNodeCode"}]},{groupId:"arrivalGroup",headerName:"하차",children:[{field:"arrivalName"},{field:"arrivalNodeName"},{field:"arrivalNodeCode"}]},{groupId:"salesGroup",headerName:"매출",children:[{field:"salesDocumentId"},{field:"salesSettlementMonth"}]},{groupId:"purchaseGroup",headerName:"매입",children:[{field:"purchaseDocumentId"},{field:"purchaseSettlementMonth"}]},{groupId:"orderCreateUserGroup",headerName:"주문등록자",children:[{field:"orderCreateUserId"},{field:"orderCreateUserName"}]},{groupId:"updateUserGroup",headerName:"최종수정자",children:[{field:"updateUserId"},{field:"updateUserName"}]},{groupId:"dispatchUserGroup",headerName:"배차등록자",children:[{field:"dispatchUserId"},{field:"dispatchUserName"}]},{groupId:"dispatchUpdateUserGroup",headerName:"배차수정자",children:[{field:"dispatchUpdateUserId"},{field:"dispatchUpdateUserName"}]},{groupId:"assignmentUserGroup",headerName:"배정등록자",children:[{field:"assignmentUserId"},{field:"assignmentUserName"}]},{groupId:"contractNoGroup",headerName:"계약번호",children:[{field:"salesContractNo"},{field:"purchaseContractNo"}]},{groupId:"salesContractGroup",headerName:"매출계약",children:[{field:"salesContractStartAt"},{field:"salesContractEndAt"}]},{groupId:"purchaseContractGroup",headerName:"매입계약",children:[{field:"purchaseContractStartAt"},{field:"purchaseContractEndAt"}]}]},o=(0,r.useRef)(null),i=(0,D.bBi)(),{mutateAsync:d,isSuccess:c,data:u}=(0,T.n)(["useSettlementReportsPerformanceDetailsMutation"],(async e=>(await I.q.api((t=>t.ApiV1SettlementReportsPerformanceDetails(e)))).data.result)),{data:m,mutateAsync:p,isSuccess:h}=(0,T.n)(["useSettlementReportsPerformanceDetailsExcelDownloadMutation"],(async e=>(await I.q.api((t=>t.ApiV1SettlementReportsPerformanceDetailsExcel(e,{format:"blob"})))).data)),f={fromDate:je()(new Date).subtract(7,"day").startOf("day").format(),toDate:je()(new Date).endOf("day").format(),settlementFromMonth:je()(new Date).subtract(1,"month").startOf("day").format(),settlementToMonth:je()(new Date).endOf("day").format()},[C,x]=(0,r.useState)(f),N={fromDate:C.fromDate,toDate:C.toDate,mdmCorporationsCodes:C.mdmCorporationsCodes,customerIds:C.customerIds,vendorIds:C.vendorIds,orderStatusType:C.orderStatusType,documentType:C.documentType,settlementFromMonth:je()(C.settlementFromMonth).format("YYYYMM"),settlementToMonth:je()(C.settlementToMonth).format("YYYYMM"),documentIssueUserIds:C.documentIssueUserIdsMdmEmpNo,orderCreateUserIds:C.orderCreateUserIdsMdmEmpNo,purchaseCostCenterCodes:C.purchaseCostCenterCodes},y=()=>{const e=je()(C.fromDate);return!(je()(C.toDate).diff(e,"day")>31)||(a({message:"조회기간은 31일을 넘길 수 없습니다.",type:"caution"}),!1)};return(0,r.useEffect)((()=>{var e,t;c&&(null===(e=o.current)||void 0===e||e.setInitData(null!==(t=u.map(((e,t)=>({...e,__No__:t+1}))))&&void 0!==t?t:[]))}),[u]),(0,l.jsxs)("div",{className:"relative w-full","data-sentry-component":"SalesAndPurchaseResultManagementPanel","data-sentry-source-file":"SalesAndPurchaseResultManagementPanel.tsx",children:[(0,l.jsx)("div",{className:"bg-grey98",children:(0,l.jsx)(xl,{title:t,"data-sentry-element":"ContentHeader","data-sentry-source-file":"SalesAndPurchaseResultManagementPanel.tsx"})}),(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsx)(Ve.A.Provider,{params:C,setParams:x,initialParams:f,onSearch:()=>{y()&&d(N)},"data-sentry-element":"SearchFilter.Provider","data-sentry-source-file":"SalesAndPurchaseResultManagementPanel.tsx",children:e=>(0,l.jsxs)(ah,{children:[(0,l.jsx)(Ve.A.SearchDate,{label:"상차일자",startDateFiled:"fromDate",endDateFiled:"toDate",datePickerClassName:"w-[128px]"}),(0,l.jsx)(Ve.A.AllMetaMultiAutocompleteSearch,{label:"인사조직",allMetaType:Ze.k.COMMON_MDM_CORPORATION_CODE,className:"!max-w-[248px]",fieldName:"mdmCorporationsCodes"}),(0,l.jsx)(Ve.A.AllMetaMultiAutocompleteSearch,{label:"화주명",allMetaType:Ze.k.COMMON_CUSTOMER_CODE,className:"!max-w-[210px]",fieldName:"customerIds"}),(0,l.jsx)(Ve.A.AllMetaMultiAutocompleteSearch,{label:"파트너명",allMetaType:Ze.k.COMMON_VENDOR_CODE,className:"max-w-[220px]",fieldName:"vendorIds"}),(0,l.jsx)(Ve.A.AllMetaAutocompleteSearch,{label:"주문상태",allMetaType:Ze.k.ORDER_STATUS_TYPE,className:"!max-w-[248px]",optionsBoxWidth:248}),(0,l.jsx)(Ve.A.AllMetaAutocompleteSearch,{label:"전표구분",allMetaType:Ze.k.DOCUMENT_TYPE,className:"!max-w-[248px]"}),(0,l.jsx)(Ve.A.SearchDate,{label:"정산월",startDateFiled:"settlementFromMonth",startDateFormat:"YYYY-MM",startDateViews:["month","year"],endDateFiled:"settlementToMonth",endDateFormat:"YYYY-MM",endDateViews:["month","year"],datePickerClassName:"!max-w-[248px]"}),(0,l.jsx)(Ve.A.MdmAdminMultiAutocomplete,{label:"매입전표 등록자",fieldName:"documentIssueUserIds",className:"!max-w-[210px]"}),(0,l.jsx)(Ve.A.MdmAdminMultiAutocomplete,{label:"주문등록자",fieldName:"orderCreateUserIds",className:"max-w-[220px]"}),(0,l.jsx)(Ve.A.AllMetaMultiAutocompleteSearch,{label:"매입조직",allMetaType:Ze.k.COMMON_MDM_COST_CENTER_PURCHASE_CODE,className:"!max-w-[248px]",fieldName:"purchaseCostCenterCodes"})]})}),(0,l.jsx)("div",{className:"h-[calc(100vh-264px)]",children:(0,l.jsx)(Fa.A,{ref:o,gridApiRef:i,columns:s,columnGroupingModel:n,initialState:{aggregation:{model:{mdmCorporationsCode:"totalCount",salesRateAmount:"sum",salesAmount:"sum",salesExtraAmount:"sum",salesTotalAmount:"sum",salesConfirmedAmount:"sum",salesQuantity:"sum",itemWeight:"sum",purchaseQuantity:"sum",purchaseRateAmount:"sum",purchaseAmount:"sum",purchaseExtraAmount:"sum",purchaseTotalAmount:"sum",purchaseConfirmedAmount:"sum",purchaseTotalRateAmount:"sum",baseUnitPrice:"sum",extraAmountDifference:"sum",expectedEffectPi:"sum"}}},"data-sentry-element":"WrapperBasicDataGrid","data-sentry-source-file":"SalesAndPurchaseResultManagementPanel.tsx"})}),(0,l.jsx)("div",{className:"border-grey90 absolute bottom-0 ml-auto flex h-[52px] w-full items-center justify-end gap-[8px] border-t-[1px] bg-white px-[40px] py-[12px]",children:(0,l.jsx)(We,{excelFileName:"매입매출실적상세",isSuccessExcel:h,excelData:m,handleExcelDownload:async()=>{y()&&await p(N)},"data-sentry-element":"TmsBasicDataGridExcelDownload","data-sentry-source-file":"SalesAndPurchaseResultManagementPanel.tsx"})})]})]})},[s.im]:function(e){let{menuName:t}=e;const{initialParams:a,searchParams:r,setSearchParams:s,wrapGridRef:n,gridApiRef:o,handleSave:i,handleDelete:d,handleSearch:c,clickedEdmsExecuteRows:p,setClickedEdmsExecuteRows:h,handleEdmsButtonClick:f}=py(),{columns:C,columnGroupingModel:x}=(e=>{let{clickedEdmsExecuteRows:t,setClickedEdmsExecuteRows:a,handleEdmsButtonClick:r}=e;return{columns:[{field:"__check__",sortable:!1,headerWideCell:!0,width:80},{field:"sourceSystemTypeName",headerName:"Legacy 시스템",sortable:!1,width:103,headerWideCell:!0},{field:"documentId",headerName:"회계전표번호",sortable:!1,width:99,headerWideCell:!0},{field:"bizCodeName",headerName:"작업범위",sortable:!1,width:73,headerWideCell:!0},{field:"materialCodeName",headerName:"취급물자",sortable:!1,width:73,headerWideCell:!0},{field:"customerMdmCode",headerName:"고객코드",sortable:!1,width:100,headerWideCell:!0},{field:"customerName",headerName:"화주명",sortable:!1,width:118,headerWideCell:!0},{field:"unBillingAmount",headerName:"미청구금액",sortable:!1,width:100,type:"number",headerWideCell:!0},{field:"postingDate",headerName:"회계전기일",sortable:!1,width:110,type:da._.VIEW_MODE_YYYYMMDD_DDD,headerWideCell:!0},{field:"documentDate",headerName:"회계증빙일",sortable:!1,width:110,type:da._.VIEW_MODE_YYYYMMDD_DDD,headerWideCell:!0},{field:"unBillingDate",headerName:"최초발생월",sortable:!1,width:110,type:da._.VIEW_MODE_YYYYMMDD_DDD,headerWideCell:!0},{field:"userId",headerName:"전표작성자사번",sortable:!1,width:104,headerWideCell:!0},{field:"userName",headerName:"전표작성자",sortable:!1,width:81,headerWideCell:!0},{field:"currencyCode",headerName:"통화코드",sortable:!1,width:70,headerWideCell:!0},{field:"previousUnBillingStatus",headerName:"미청구발생구분",sortable:!1,width:104,headerWideCell:!0,renderCell:e=>"true"===e.row.previousUnBillingStatus?"이전미청구":"당월미청구"},{field:"purchaseCostCenterCode",headerName:"코스트센터코드",sortable:!1,width:100,headerWideCell:!0},{field:"purchaseCostCenterCodeName",headerName:"코스트센터명",sortable:!1,width:105,headerWideCell:!0},{field:"sapMdmCostCenterCode",headerName:"전표부서 코드",sortable:!1,width:99,headerWideCell:!0},{field:"sapMdmCostCenterCodeName",headerName:"전표부서명",sortable:!1,width:109,headerWideCell:!0},{field:"isExistsContract",headerName:"계약서 유무",sortable:!1,width:87,headerWideCell:!0,required:!0,editable:!0,defaultEditable:!0,type:da._.CUSTOM_SELECT,options:[{id:"true",label:"Y"},{id:"false",label:"SPOT"}]},{field:"contractFromDate",headerName:"계약 기간 시작",required:!0,sortable:!1,width:125,headerWideCell:!0,editable:!0,defaultEditable:!0,dynamicOption:!0,type:da._.CUSTOM_DATE},{field:"contractToDate",headerName:"계약 기간 종료",required:!0,sortable:!1,width:125,headerWideCell:!0,editable:!0,defaultEditable:!0,dynamicOption:!0,type:da._.CUSTOM_DATE},{field:"checkEdms",sortable:!1,width:125,headerWideCell:!0,renderHeader:()=>(0,yl.A)({headerName:"계약서 및 기타 첨부",required:!0}),renderCell:e=>{const s=t.has(e.row.tempDocumentId);return(0,l.jsx)(u.A,{label:"EDMS 실행",size:m.M.Small,level:m.V.level_5,leftIcon:s?(0,l.jsx)(Pt.A,{width:16,height:16,className:"text-progress"}):(0,l.jsx)(dh,{width:16,height:16}),onClick:()=>{r(e.row.tempDocumentId),a((t=>new Set([...t,String(e.row.tempDocumentId)])))}})}},{field:"tempDocumentId",headerName:"관리번호",sortable:!1,width:154,headerWideCell:!0},{field:"standardType",required:!0,headerName:"유형(1)",sortable:!1,width:223,headerWideCell:!0,editable:!0,defaultEditable:!0,type:da._.CUSTOM_SELECT,metaKey:Ze.k.UN_BILLING_STANDARD_TYPE},{field:"standardDetailType",required:!0,headerName:"세부유형(1-1)",sortable:!1,width:160,headerWideCell:!0,editable:!0,defaultEditable:!0,type:da._.CUSTOM_SELECT,metaKey:Ze.k.UN_BILLING_STANDARD_DETAIL_TYPE},{field:"standardReasonType",headerName:"금액 산출근기(2) 코드",required:!0,sortable:!1,width:167,headerWideCell:!0,editable:!0,defaultEditable:!0,type:da._.CUSTOM_SELECT,metaKey:Ze.k.UN_BILLING_STANDARD_REASON_TYPE},{field:"edms",sortable:!1,width:125,headerWideCell:!0,renderHeader:()=>(0,yl.A)({headerName:"금액 산출근기(2-1)",required:!0}),renderCell:e=>(0,l.jsx)(u.A,{label:"EDMS",size:m.M.Small,level:m.V.level_5,onClick:()=>r(e.row.tempDocumentId)})},{field:"reasonDocumentId",headerName:"원가전표번호",required:!0,sortable:!1,width:118,editable:!0,defaultEditable:!0,renderCell:e=>(0,l.jsx)(ua.A,{params:e,defaultReadonly:!1})},{field:"reasonDocumentMonth",headerName:"원가발생월",sortable:!1,required:!0,width:143,editable:!0,defaultEditable:!0,dynamicOption:!0,type:da._.CUSTOM_DATE},{field:"reasonAmount",headerName:"원가금액",sortable:!1,required:!0,width:88,editable:!0,defaultEditable:!0,type:da._.CUSTOM_INPUT_NUMBER},{field:"reasonCostTypeName",headerName:"원가항목(인건비,수송비,운송비 등)",required:!0,sortable:!1,width:204,editable:!0,defaultEditable:!0,type:da._.CUSTOM_INPUT_TEXT},{field:"reasonProfitRate",headerName:"직접이익률",required:!0,sortable:!1,width:131,editable:!0,defaultEditable:!0,type:da._.CUSTOM_INPUT_NUMBER_DEMICAL},{field:"billingExpectedMonth",headerName:"청구예정일",required:!0,sortable:!1,width:160,editable:!0,defaultEditable:!0,dynamicOption:!0,type:da._.CUSTOM_DATE},{field:"unBillingReason",headerName:"청구예정일 미준수 사유",sortable:!1,width:160,editable:!0,defaultEditable:!0,renderCell:e=>(0,l.jsx)(ua.A,{params:e,defaultReadonly:!1})}],columnGroupingModel:[{groupId:"reasonCost2",headerName:"금액 산출근기",children:[{field:"reasonDocumentId"},{field:"reasonDocumentMonth"},{field:"reasonAmount"},{field:"reasonCostTypeName"},{field:"reasonProfitRate"},{field:"billingExpectedMonth"},{field:"unBillingReason"}]}]}})({clickedEdmsExecuteRows:p,setClickedEdmsExecuteRows:h,handleEdmsButtonClick:f});return(0,l.jsxs)("div",{className:"relative flex h-full flex-col","data-sentry-component":"SalesUnbillingStandardManagementPanel","data-sentry-source-file":"SalesUnbillingStandardManagementPanel.tsx",children:[(0,l.jsx)("div",{className:"bg-grey98",children:(0,l.jsx)(xl,{title:t,"data-sentry-element":"ContentHeader","data-sentry-source-file":"SalesUnbillingStandardManagementPanel.tsx"})}),(0,l.jsxs)("div",{className:"flex h-full flex-col",children:[(0,l.jsx)(Ve.A.Provider,{params:r,setParams:s,initialParams:a,onSearch:c,"data-sentry-element":"SearchFilter.Provider","data-sentry-source-file":"SalesUnbillingStandardManagementPanel.tsx",children:e=>(0,l.jsxs)("div",{className:"flex justify-between px-[40px] py-[16px]",children:[(0,l.jsx)("div",{className:"flex flex-wrap gap-4",children:(0,l.jsx)(Ve.A.SearchDate,{label:"전표일자",datePickerClassName:"w-[128px]"})}),(0,l.jsxs)("div",{className:"flex flex-none items-start gap-2",children:[(0,l.jsx)(Ve.A.ResetButton,{}),(0,l.jsx)(Ve.A.SearchButton,{})]})]})}),(0,l.jsxs)("div",{className:"flex items-center justify-end px-[40px] py-[12px]",children:[(0,l.jsx)("span",{className:"Body2_B flex-auto",children:"진행매출표준화"}),(0,l.jsxs)("div",{className:"flex gap-[8px]",children:[(0,l.jsx)(ja,{handleDeleteComplete:d,"data-sentry-element":"TmsDataGridDeleteCompleteBtn","data-sentry-source-file":"SalesUnbillingStandardManagementPanel.tsx"}),(0,l.jsx)(u.A,{type:"submit",label:"저장",level:m.V.level_2,leftIcon:(0,l.jsx)(yt.A,{width:20,height:20,className:"text-white"}),onClick:i,"data-sentry-element":"TmsBasicButton","data-sentry-source-file":"SalesUnbillingStandardManagementPanel.tsx"})]})]}),(0,l.jsx)("div",{className:"grid-area flex-1 overflow-auto",children:(0,l.jsx)(Fa.A,{ref:n,gridApiRef:o,columns:C,columnGroupingModel:x,checkboxSelection:!0,initialState:{pinnedColumns:{left:["__check__"]}},"data-sentry-element":"WrapperBasicDataGrid","data-sentry-source-file":"SalesUnbillingStandardManagementPanel.tsx"})}),(0,l.jsx)("div",{className:"border-grey90 flex justify-end border-t-[1px] px-[40px] py-[12px]",children:(0,l.jsx)(We,{"data-sentry-element":"TmsBasicDataGridExcelDownload","data-sentry-source-file":"SalesUnbillingStandardManagementPanel.tsx"})})]})]})},[s.Fn]:function(e){let{menuName:t}=e;const{initialParams:a,searchParams:r,setSearchParams:s,handleSearch:n,gridApiRef:o,monthlyCustomerOptions:i,monthlyCostCenterOptions:d,columnField:c,columnGroupingHeaders:u,rows:m,createDownLink:p,settlementMonth:h,pdfDownloadMutation:f,detailTitle:C}=rE();return(0,l.jsxs)("div",{className:"bg-grey98 flex h-full flex-col","data-sentry-component":"VehicleMonthlyPanel","data-sentry-source-file":"VehicleMonthlyPanel.tsx",children:[(0,l.jsx)(xl,{title:t,"data-sentry-element":"ContentHeader","data-sentry-source-file":"VehicleMonthlyPanel.tsx"}),(0,l.jsxs)("div",{className:"flex flex-col bg-white",children:[(0,l.jsx)(Ve.A.Provider,{initialParams:a,params:r,setParams:s,onSearch:n,"data-sentry-element":"SearchFilter.Provider","data-sentry-source-file":"VehicleMonthlyPanel.tsx",children:e=>(0,l.jsxs)(ah,{children:[(0,l.jsx)(Ve.A.SearchDateSingle,{label:"조회월",dateFiled:"settlementMonth",format:"YYYY-MM",views:["month","year"],datePickerClassName:"!w-full"}),(0,l.jsx)(Ve.A.SearchAutocomplete,{required:!0,isUseAll:!1,label:"화주",fieldName:"customerId",options:i,optionsBoxWidth:420}),(0,l.jsx)(Ve.A.SearchAutocomplete,{required:!0,isUseAll:!1,label:"코스트 센터",fieldName:"settlementMonthlyCustomerCostCenterId",options:d,optionsBoxWidth:420}),(0,l.jsx)(Ve.A.SearchText,{label:"차량번호",placeholder:"차량번호 입력",fieldName:"plateNumber"}),(0,l.jsx)(Ve.A.SearchText,{label:"월대운임그룹",placeholder:"월대운임그룹 입력",fieldName:"vehicleGroupName"})]})}),(0,l.jsxs)("div",{className:"flex px-[40px] py-[12px]",children:[(0,l.jsx)("div",{className:"Body2_B",children:"소속 월대 차량"}),(0,l.jsx)(sE,{searchParams:r,settlementMonth:h,onSearch:n,allRows:null==o?void 0:o.current,"data-sentry-element":"VehicleMonthlyButtons","data-sentry-source-file":"VehicleMonthlyPanel.tsx"})]}),(0,l.jsx)("div",{className:"h-[calc(100vh-330px)]",children:(0,l.jsx)(Fe.A,{rows:m,editMode:"cell",apiRef:o,getRowId:e=>e._id_,columnGroupingModel:mE({columnGroupingHeaders:u}),columns:pE({columnField:c,createDownLink:p,pdfDownloadMutation:f}),checkboxSelection:!0,initialState:{pinnedColumns:{left:["__check__"]},aggregation:{model:{tempDocumentId:"totalCount",salesTotalAmount:"sum",vatAmount:"sum"}}},"data-sentry-element":"TmsBasicDataGrid","data-sentry-source-file":"VehicleMonthlyPanel.tsx"})}),(0,l.jsx)(EE,{searchParams:r,handleSearch:n,settlementMonth:h,allRows:null==o?void 0:o.current,columnField:c,columnGroupingHeaders:u,detailTitle:C,"data-sentry-element":"VehicleMonthlyFooter","data-sentry-source-file":"VehicleMonthlyPanel.tsx"})]})]})},[s.ve]:Mf,[s.EM]:function(e){let{isActive:t,isRegister:a,setIsRegister:s,isOpenModal:n,setIsOpenModal:o}=e;const i=(0,r.useRef)(null),{gridApiRef:d,params:c,setParams:p,rowDetail:h,setRowDetail:f,detailKey:C,setDetailKey:x,rowSelectionModel:N,setRowSelectionModel:y,vehicleVendorListQuery:E,vehicleExcelDownLoadMutation:A,handleSearch:g,handleDoubleClickRow:T,handleDeleteComplete:I,handleDriverInvite:b,handleExcelDownload:S,onRegisterComplete:_}=function(e){let{isRegister:t,setIsRegister:a,wrapGridRef:l}=e;const s=(0,$e.P9)(),n=(0,D.bBi)(),o=v(),[i,d]=((0,r.useRef)(!0),(0,r.useState)(null)),[c,u]=(0,r.useState)({}),[m,p]=(0,r.useState)(null),[h,f]=(0,r.useState)([]),C=Bf(),x=Pf(),N=Lf(),y=Gf(),E=lC(),A=kf(),g=async e=>{const t={mdmCorporationCode:e.commonMdmCorporationCode,vendorId:e.commonVendorCode,searchPlateNumber:e.searchPlateNumber,vehicleType:e.vehicleType,vehicleTon:e.vehicleTonCode,searchDriverName:e.searchDriverName};x.mutateAsync(t)};return(0,r.useEffect)((()=>{A.isSuccess&&(s({type:"success",message:"더 운반 앱 초대 링크가 발송되었습니다."}),f([]))}),[A.isSuccess]),(0,r.useEffect)((()=>{y.isSuccess&&g(c)}),[y.isSuccess]),(0,r.useEffect)((()=>{C.refetch()}),[]),(0,r.useEffect)((()=>{if(x.isSuccess){var e;const t=null===(e=x.data)||void 0===e?void 0:e[0];p(null==t?void 0:t.vendorVehicleId)}}),[x.isSuccess]),(0,r.useEffect)((()=>{x.mutateAsync({})}),[]),(0,r.useEffect)((()=>{var e;if(!x.data)return;const t=x.data.map((e=>({...e,isDetailRow:e.vendorVehicleId===m})));null==l||null===(e=l.current)||void 0===e||e.setInitData(t)}),[x.data,m]),(0,r.useEffect)((()=>{N.isSuccess&&d(N.data)}),[N.isSuccess]),(0,r.useEffect)((()=>{m&&N.mutateAsync({vendorVehicleId:m})}),[m]),{gridApiRef:n,params:c,setParams:u,rowDetail:i,setRowDetail:d,detailKey:m,setDetailKey:p,rowSelectionModel:h,setRowSelectionModel:f,vehicleVendorListQuery:C,handleSearch:g,handleDoubleClickRow:e=>{t?o({title:"작성 중인 정보가 있습니다.",description:"화면을 나가면 작성된 정보가 삭제됩니다.",confirmButtonLabel:"나가기",onClickConfirmButton(){p(e.row.vendorVehicleId),a(!1)}}):(p(e.row.vendorVehicleId),a(!1))},handleDeleteComplete:()=>{const e={vendorVehicleIdList:h};o({title:"차량을 삭제하시겠어요?",description:"삭제 시, 더 이상 이 차량으로 배차를 진행할 수 없습니다.",confirmButtonType:"destructive",confirmButtonLabel:"삭제하기",onClickConfirmButton:async()=>y.mutateAsync(e)})},handleDriverInvite:()=>{o({title:"더운반 앱 초대 링크를 발송하시겠어요?",description:"더운반 차주앱 가입 링크가 활성 운전자 알림톡으로 발송됩니다.",confirmButtonLabel:"발송하기",onClickConfirmButton:async()=>{const e={vendorVehicleIdList:h};A.mutateAsync(e)}})},handleExcelDownload:()=>{const e={mdmCorporationCode:c.commonMdmCorporationCode,vendorId:c.commonVendorCode,searchPlateNumber:c.searchPlateNumber,vehicleType:c.vehicleType,vehicleTon:c.vehicleTonCode,searchDriverName:c.searchDriverName};E.mutateAsync(e)},onRegisterComplete:()=>{a(!1)},vehicleListMutation:x,vehicleDetailMutation:N,vehicleExcelDownLoadMutation:E}}({isRegister:a,setIsRegister:s,wrapGridRef:i}),{handleFileUpload:w,handleValidation:O,handleUploadListRegister:M,excelUploadMutation:j,excelUploadValidateMutation:P,excelUploadSaveMutation:L}=mC(),{commonMetaV2List:B}=(0,Je.X)();return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(nu,{isOpenRightPanel:h||a,rightPanelWidth:448,onClickCloseButton:()=>{x(0),f(null),s(!1)},leftSidePanel:(0,l.jsx)(Ve.A.Provider,{params:c,setParams:p,onSearch:g,children:e=>{var t;return(0,l.jsxs)("div",{className:"flex h-full w-full flex-col",children:[(0,l.jsxs)(ah,{children:[(0,l.jsx)(Ve.A.AllMetaAutocompleteSearch,{label:"인사조직",allMetaType:Ze.k.COMMON_MDM_CORPORATION_CODE,className:"w-full",labelContainerClassName:"!min-w-0"}),(0,l.jsx)(Ve.A.AllMetaAutocompleteSearch,{label:"파트너",allMetaType:Ze.k.COMMON_VENDOR_CODE,className:"w-full",labelContainerClassName:"!min-w-0"}),(0,l.jsx)(Ve.A.SearchText,{label:"차량번호",placeholder:"차량번호 입력",fieldName:"searchPlateNumber",className:"w-full",labelContainerClassName:"!min-w-0"}),(0,l.jsx)(Ve.A.AllMetaAutocompleteSearch,{label:"차종",allMetaType:Ze.k.VEHICLE_TYPE,className:"w-full",labelContainerClassName:"!min-w-0"}),(0,l.jsx)(Ve.A.AllMetaAutocompleteSearch,{label:"톤급",allMetaType:Ze.k.VEHICLE_TON_CODE,className:"w-full",labelContainerClassName:"!min-w-0"}),(0,l.jsx)(Ve.A.SearchText,{label:"운전자",placeholder:"운전자 입력",fieldName:"searchDriverName",className:"w-full",labelContainerClassName:"!min-w-0"})]}),(0,l.jsx)("div",{className:"grid-area flex-1 overflow-auto",children:(0,l.jsx)(Fa.A,{ref:i,gridApiRef:d,getRowId:e=>e.vendorVehicleId,rowSelectionModel:N,onRowSelectionModelChange:y,columns:Df,checkboxSelection:!0,initialState:{pinnedColumns:{left:["__check__","id","No"]}},onRowClick:T})}),(0,l.jsxs)("div",{className:"footer-area flex h-[60px] justify-end gap-[8px] px-[40px] py-[16px]",children:[(0,l.jsx)(u.A,{label:"더운반 앱 초대",level:m.V.level_5,size:m.M.Small,leftIcon:(0,l.jsx)(Sc,{width:16,height:16,className:"text-grey50"}),onClick:b}),(0,l.jsx)(al,{editMode:"cell",columns:jf,excelDownload:{fileName:"(양식)차량관리_파트너(Admin)",isUsedExcelTemplateCommon:!0,serviceType:R.MFT.ADMIN_PORTAL,excelTemplateDownloadType:R.wSo.VEHICLE_REGISTRATION},excelUpload:{setExcelFile:w,excelResponseList:cC.toList(j.data),resetList:j.reset,isSuccess:j.isSuccess},excelValidation:{checkValidation:O,isSuccess:P.isSuccess,excelValidationResponseList:(null===(t=P.data)||void 0===t?void 0:t.list)||[]},uploadListRegister:{setExcelUploadList:M,isSuccess:L.isSuccess,successMessage:{dataName:"차량관리",successCount:0}}}),(0,l.jsx)(We,{excelFileName:"파트너 차량",isSuccessExcel:A.isSuccess,excelData:A.data,handleExcelDownload:S}),(0,l.jsx)(ja,{isDisabled:0===N.length,handleDeleteComplete:I})]})]})}}),rightSidePanel:(0,l.jsx)(aC,{vendorVehicleId:C,isActive:t,isRegister:a,setIsRegister:s,detailData:h,vehicleVendorListQuery:E,onRegisterComplete:_,onSearch:()=>g(c)}),"data-sentry-element":"TmsBasicSlidePanel","data-sentry-source-file":"VehicleVendor.tsx"}),t&&n&&(0,l.jsx)(dC,{onClose:()=>o(!1)})]})},[s.cL]:function(e){let{isActive:t,isRegister:a,setIsRegister:s,isBranchModalOpen:n,setIsBranchModalOpen:o}=e;const i=(0,r.useRef)(null),{gridApiRef:d,params:c,setParams:p,rowDetail:h,setRowDetail:f,detailKey:C,setDetailKey:x,rowSelectionModel:N,setRowSelectionModel:y,vehicleVendorListQuery:E,vehicleExcelDownLoadMutation:A,handleSearch:g,handleDoubleClickRow:T,handleDeleteComplete:I,handleDriverInvite:b,handleExcelDownload:S,onRegisterComplete:_}=function(e){let{isRegister:t,setIsRegister:a,wrapGridRef:l}=e;const s=(0,$e.P9)(),n=(0,D.bBi)(),o=v(),[i,d]=((0,r.useRef)(!0),(0,r.useState)(null)),[c,u]=(0,r.useState)({}),[m,p]=(0,r.useState)(null),[h,f]=(0,r.useState)([]),C=Wf(),x=Yf(),N=qf(),y=Xf(),E=AC(),A=Qf(),g=async e=>{const t={mdmCorporationCode:e.commonMdmCorporationCode,vendorId:e.commonVendorCode,searchPlateNumber:e.searchPlateNumber,vehicleType:e.vehicleType,vehicleTon:e.vehicleTonCode,searchDriverName:e.searchDriverName};x.mutateAsync(t)};return(0,r.useEffect)((()=>{A.isSuccess&&(s({type:"success",message:"더 운반 앱 초대 링크가 발송되었습니다."}),f([]))}),[A.isSuccess]),(0,r.useEffect)((()=>{y.isSuccess&&g(c)}),[y.isSuccess]),(0,r.useEffect)((()=>{C.refetch()}),[]),(0,r.useEffect)((()=>{if(x.isSuccess){var e;const t=null===(e=x.data)||void 0===e?void 0:e[0];p(null==t?void 0:t.vendorVehicleId)}}),[x.isSuccess]),(0,r.useEffect)((()=>{x.mutateAsync({})}),[]),(0,r.useEffect)((()=>{var e;x.data&&(null==l||null===(e=l.current)||void 0===e||e.setInitData(x.data))}),[x.data]),(0,r.useEffect)((()=>{N.isSuccess&&d(N.data)}),[N.isSuccess]),(0,r.useEffect)((()=>{m&&N.mutateAsync({vendorVehicleId:m})}),[m]),{gridApiRef:n,params:c,setParams:u,rowDetail:i,setRowDetail:d,detailKey:m,setDetailKey:p,rowSelectionModel:h,setRowSelectionModel:f,vehicleVendorListQuery:C,handleSearch:g,handleDoubleClickRow:e=>{t?o({title:"작성 중인 정보가 있습니다.",description:"화면을 나가면 작성된 정보가 삭제됩니다.",confirmButtonLabel:"나가기",onClickConfirmButton:()=>{a(!1),p(e.row.vendorVehicleId)}}):(p(e.row.vendorVehicleId),a(!1))},handleDeleteComplete:()=>{const e={vendorVehicleIdList:h};o({title:"차량을 삭제하시겠어요?",description:"삭제 시, 더 이상 이 차량으로 배차를 진행할 수 없습니다.",confirmButtonType:"destructive",confirmButtonLabel:"삭제하기",onClickConfirmButton:async()=>y.mutateAsync(e)})},handleDriverInvite:()=>{o({title:"더운반 앱 초대 링크를 발송하시겠어요?",description:"더운반 차주앱 가입 링크가 활성 운전자 알림톡으로 발송됩니다.",confirmButtonLabel:"발송하기",onClickConfirmButton:async()=>{const e={vendorVehicleIdList:h};A.mutateAsync(e)}})},handleExcelDownload:()=>{const e={mdmCorporationCode:c.commonMdmCorporationCode,vendorId:c.commonVendorCode,searchPlateNumber:c.searchPlateNumber,vehicleType:c.vehicleType,vehicleTon:c.vehicleTonCode,searchDriverName:c.searchDriverName};E.mutateAsync(e)},onRegisterComplete:()=>{a(!1)},vehicleListMutation:x,vehicleDetailMutation:N,vehicleExcelDownLoadMutation:E}}({isRegister:a,setIsRegister:s,wrapGridRef:i}),{handleFileUpload:w,handleValidation:O,handleUploadListRegister:M,excelUploadMutation:j,excelUploadValidateMutation:P,excelUploadSaveMutation:L}=gC(),{commonMetaV2List:B}=(0,Je.X)();return(0,r.useMemo)((()=>B[Ze.k.VEHICLE_TYPE]),[]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(nu,{isOpenRightPanel:h||a,rightPanelWidth:448,onClickCloseButton:()=>{x(0),f(null),s(!1)},leftSidePanel:(0,l.jsx)(Ve.A.Provider,{params:c,setParams:p,onSearch:g,children:e=>{var t;return(0,l.jsxs)("div",{className:"flex h-full w-full flex-col",children:[(0,l.jsxs)(ah,{children:[(0,l.jsx)(Ve.A.AllMetaAutocompleteSearch,{label:"인사조직",allMetaType:Ze.k.COMMON_MDM_CORPORATION_CODE,className:"w-full",labelContainerClassName:"!min-w-0"}),(0,l.jsx)(Ve.A.AllMetaAutocompleteSearch,{label:"출장소",allMetaType:Ze.k.COMMON_VENDOR_CODE,className:"w-full",labelContainerClassName:"!min-w-0"}),(0,l.jsx)(Ve.A.SearchText,{label:"차량번호",placeholder:"차량번호 입력",fieldName:"searchPlateNumber",className:"w-full",labelContainerClassName:"!min-w-0"}),(0,l.jsx)(Ve.A.AllMetaAutocompleteSearch,{label:"차종",allMetaType:Ze.k.VEHICLE_TYPE,className:"w-full",labelContainerClassName:"!min-w-0"}),(0,l.jsx)(Ve.A.AllMetaAutocompleteSearch,{label:"톤급",allMetaType:Ze.k.VEHICLE_TON_CODE,className:"w-full",labelContainerClassName:"!min-w-0"}),(0,l.jsx)(Ve.A.SearchText,{label:"운전자",placeholder:"운전자 입력",fieldName:"searchDriverName",className:"w-full",labelContainerClassName:"!min-w-0"})]}),(0,l.jsx)("div",{className:"grid-area flex-1 overflow-auto",children:(0,l.jsx)(Fa.A,{ref:i,gridApiRef:d,getRowId:e=>e.vendorVehicleId,rowSelectionModel:N,onRowSelectionModelChange:y,columns:pC,checkboxSelection:!0,initialState:{pinnedColumns:{left:["__check__","id"]}},onRowDoubleClick:T})}),(0,l.jsxs)("div",{className:"footer-area flex h-[60px] justify-end gap-[8px] px-[40px] py-[16px]",children:[(0,l.jsx)(u.A,{label:"더운반 앱 초대",level:m.V.level_5,size:m.M.Small,leftIcon:(0,l.jsx)(Sc,{width:16,height:16,className:"text-grey50"}),onClick:b}),(0,l.jsx)(al,{editMode:"cell",columns:hC,excelDownload:{fileName:"(양식)차량관리_출장소(Admin)",isUsedExcelTemplateCommon:!0,serviceType:R.MFT.ADMIN_PORTAL,excelTemplateDownloadType:R.wSo.VEHICLE_REGISTRATION_BRANCH},excelUpload:{setExcelFile:w,excelResponseList:cC.toList(j.data),resetList:j.reset,isSuccess:j.isSuccess},excelValidation:{checkValidation:O,isSuccess:P.isSuccess,excelValidationResponseList:(null===(t=P.data)||void 0===t?void 0:t.list)||[]},uploadListRegister:{setExcelUploadList:M,isSuccess:L.isSuccess,successMessage:{dataName:"차량관리",successCount:0}}}),(0,l.jsx)(We,{excelFileName:"출장소 차량",isSuccessExcel:A.isSuccess,excelData:A.data,handleExcelDownload:S}),(0,l.jsx)(ja,{isDisabled:0===N.length,handleDeleteComplete:I})]})]})}}),rightSidePanel:(0,l.jsx)(xC,{vendorVehicleId:C,isActive:t,isRegister:a,setIsRegister:s,detailData:h,vehicleVendorListQuery:E,onRegisterComplete:_,onSearch:()=>g(c)}),"data-sentry-element":"TmsBasicSlidePanel","data-sentry-source-file":"VehicleBranch.tsx"}),t&&n&&(0,l.jsx)(vC,{onClose:()=>o(!1)})]})},[s.$t]:function(e){let{isActive:t}=e;const a=(0,r.useRef)(null),s=(0,D.bBi)(),n=v(),[o,i]=(0,r.useState)(!1),[d,c]=(0,r.useState)(null),[u,m]=(0,r.useState)({}),[p,h]=(0,r.useState)(null),[f,C]=(0,r.useState)([]),x=(0,T.n)(["VehicleConsignmentListMutation"],(async e=>(await I.q.api((t=>t.ApiVendorVehicleV1ConsignmentList(e)))).data.result.vendorVehicleList)),N=(0,T.n)(["vehicleConsignment/useVehicleConsignmentDetailMutation"],(async e=>(await I.q.api((t=>t.ApiVendorVehicleV1ConsignmentDetail(e)))).data.result)),y=(0,T.n)(["vehicleConsignment/VehicleConsignmentExcelDownloadMutation"],(async e=>(await I.q.api((t=>t.ApiVendorVehicleV1ConsignmentListExcel(e,{format:"blob"})))).data)),E=(0,T.n)(["vehicleConsignment/VehicleConsignmentDriverInviteMutation"],(async e=>(await I.q.api((t=>t.ApiVendorVehicleV1ConsignmentDriverInvite(e)))).data.result)),A=(0,$e.P9)(),g=async e=>{const t={mdmCorporationCode:e.commonMdmCorporationCode,mdmCostCenterCode:e.commonMdmCostCenterPurchaseCode,searchPlateNumber:e.searchPlateNumber,vehicleType:e.vehicleType,vehicleTon:e.vehicleTonCode,searchDriverName:e.searchDriverName};x.mutateAsync(t)},b=(e,t,a)=>{o?n({title:"작성 중인 정보가 있습니다.",description:"화면을 나가면 작성된 정보가 삭제됩니다.",confirmButtonLabel:"나가기"}):(h(e.row.vendorVehicleId),i(!1))},R=async()=>{n({title:"더운반 앱 초대 링크를 발송하시겠어요?",description:"더운반 차주앱 가입 링크가 활성 운전자 알림톡으로 발송됩니다.",confirmButtonLabel:"발송하기",onClickConfirmButton:async()=>{var e;const t={vendorVehicleIdList:((null==a||null===(e=a.current)||void 0===e?void 0:e.getSelectedRows())||[]).map((e=>e.vendorVehicleId))};E.mutateAsync(t)}})},S=()=>{const e={mdmCorporationCode:null==u?void 0:u.commonMdmCorporationCode,mdmCostCenterCode:u.commonMdmCostCenterPurchaseCode,searchPlateNumber:u.searchPlateNumber,vehicleType:u.vehicleType,vehicleTon:u.vehicleTonCode,searchDriverName:u.searchDriverName};y.mutateAsync(e)};return(0,r.useEffect)((()=>{E.isSuccess&&(A({type:"success",message:"앱 초대 링크가 발송되었습니다."}),C([]))}),[E.isSuccess]),(0,r.useEffect)((()=>{p&&N.mutateAsync({vendorVehicleId:p})}),[p]),(0,r.useEffect)((()=>{N.data&&c(N.data)}),[N.isSuccess]),(0,r.useEffect)((()=>{var e;x.data&&a.current&&(a.current.setInitData(x.data),h((null===(e=x.data[0])||void 0===e?void 0:e.vendorVehicleId)||null))}),[x.isSuccess]),(0,r.useEffect)((()=>{x.mutateAsync({})}),[]),(0,l.jsx)(nu,{isOpenRightPanel:o||!!d,rightPanelWidth:448,onClickCloseButton:()=>{c(null),i(!1)},leftSidePanel:(0,l.jsx)(Ve.A.Provider,{params:u,setParams:m,onSearch:g,children:e=>(0,l.jsxs)("div",{className:"flex h-full w-full flex-col",children:[(0,l.jsxs)(ah,{children:[(0,l.jsx)(Ve.A.AllMetaAutocompleteSearch,{label:"인사 조직",allMetaType:Ze.k.COMMON_MDM_CORPORATION_CODE,className:"w-full",labelContainerClassName:"!min-w-0"}),(0,l.jsx)(Ve.A.AllMetaAutocompleteSearch,{label:"코스트 센터",allMetaType:Ze.k.COMMON_MDM_COST_CENTER_PURCHASE_CODE,className:"w-full",labelContainerClassName:"!min-w-0"}),(0,l.jsx)(Ve.A.SearchText,{label:"차량번호",placeholder:"차량번호 입력",fieldName:"searchPlateNumber",className:"w-full",labelContainerClassName:"!min-w-0"}),(0,l.jsx)(Ve.A.AllMetaAutocompleteSearch,{label:"차종",allMetaType:Ze.k.VEHICLE_TYPE,className:"w-full",labelContainerClassName:"!min-w-0"}),(0,l.jsx)(Ve.A.AllMetaAutocompleteSearch,{label:"톤급",allMetaType:Ze.k.VEHICLE_TON_CODE,className:"w-full",labelContainerClassName:"!min-w-0"}),(0,l.jsx)(Ve.A.SearchText,{label:"운전자",placeholder:"운전자 입력",fieldName:"searchDriverName",className:"w-full",labelContainerClassName:"!min-w-0"})]}),(0,l.jsx)("div",{className:"h-[calc(100vh-363px)]",children:(0,l.jsx)(Fa.A,{ref:a,gridApiRef:s,rowSelectionModel:f,onRowSelectionModelChange:C,checkboxSelection:!0,columns:IC,initialState:{pinnedColumns:{left:["__check__","No"]}},onRowDoubleClick:b})}),(0,l.jsxs)("div",{className:"flex justify-end gap-[8px] px-[40px] py-[16px]",children:[(0,l.jsx)(MC,{handleInvite:R}),(0,l.jsx)(We,{excelFileName:"위수탁 차량",isSuccessExcel:y.isSuccess,excelData:y.data,handleExcelDownload:S})]})]})}),rightSidePanel:(0,l.jsx)(RC,{isRegister:o,detailData:{...d,vendorVehicleId:p},onSearch:()=>g(u)}),"data-sentry-element":"TmsBasicSlidePanel","data-sentry-component":"VehicleConsignment","data-sentry-source-file":"VehicleConsignment.tsx"})},[s.T$]:function(e){let{isActive:t,isRegister:a,setIsRegister:s,isOpenModal:n,setIsOpenModal:o}=e;const{params:i,setParams:d,wrapGridRef:c,gridApiRef:u,handleSearch:m,monthlyCustomerOptions:p,monthlyCostCenterOptions:h,mutateAsyncExcelSave:f,isSuccessExcelSave:C,detailTitle:x,settlementMonthlyRateGroupId:N,setSettlementMonthlyRateGroupId:y,handleExcelDownload:E,isSuccessExcelDownload:v,dataExcelDownload:A,isValid:g,vehicleCount:T,setVehicleCount:I,getCustomerIdCostCenter:b}=Uy({isActive:t}),{handleExcelUpload:S,handleFileUpload:_,uploadedList:w,resetUploadList:O,isUploadSuccess:M,handleValidation:D,isSuccessValidation:j,handleUploadListRegister:P,validationResponseData:L}=Fy({mutateAsyncExcelSave:f,params:i,isValid:g}),{monthlyVendorOptions:B}=function(e){let{mutationKey:t,isActive:a=!0}=e;const{mutateAsync:l,isSuccess:s,data:n}=(0,Wt.cJ)(t),o=(0,r.useMemo)((()=>s&&n.vendorVehicles?((null==n?void 0:n.vendorVehicles)||[]).map((e=>({id:e.vendorVehicleId,label:"".concat(e.plateNumber,"(").concat(e.vehicleTypeName,"/").concat(e.mdmTonCodeName,"/").concat(e.vendorTypeName,"/").concat(e.displayVendorTypeName,")"),vehicleTypeName:e.vehicleTypeName,mdmTonCodeName:e.mdmTonCodeName,vendorTypeName:e.vendorTypeName,displayVendorTypeName:e.displayVendorTypeName}))):[]),[n]),i=async()=>{await l({})};return(0,r.useLayoutEffect)((()=>{a&&i()}),[]),{monthlyVendorOptions:o,handleSearch:i}}({mutationKey:"monthlyDetailColumns",isActive:t});return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(nu,{isOpenRightPanel:a||N,rightPanelWidth:704,onClickCloseButton:()=>{s(!1),y(null)},leftSidePanel:(0,l.jsx)(Ve.A.Provider,{params:i,setParams:d,onSearch:m,children:e=>{var t;return(0,l.jsxs)("div",{className:"flex h-full w-full flex-col",children:[(0,l.jsxs)(ah,{children:[(0,l.jsx)(Ve.A.SearchAutocomplete,{required:!0,isUseAll:!1,label:"화주",fieldName:"customerId",options:p,autocompleteBoxClassName:"w-full",labelContainerClassName:"!min-w-0",optionsBoxWidth:420}),(0,l.jsx)(Ve.A.SearchAutocomplete,{required:!0,isUseAll:!1,label:"코스트 센터",fieldName:"settlementMonthlyCustomerCostCenterId",options:h,autocompleteBoxClassName:"w-full",labelContainerClassName:"!min-w-0",optionsBoxWidth:420}),(0,l.jsx)(Ve.A.SearchText,{label:"차량번호",placeholder:"차량번호 입력",fieldName:"plateNumber",className:"w-full",labelContainerClassName:"!min-w-0"})]}),(0,l.jsx)("div",{className:"grid-area flex-1 overflow-auto",children:(0,l.jsx)(Fa.A,{ref:c,gridApiRef:u,columns:Ey,onRowDoubleClick:(e,t,a)=>{y(e.row.settlementMonthlyRateGroupId),I(e.row.vehicleCount),s(!1)}})}),(0,l.jsxs)("div",{className:"flex justify-end gap-[8px] px-[40px] py-[16px]",children:[(0,l.jsx)(al,{title:(0,l.jsxs)("div",{className:"flex gap-[8px]",children:["엑셀 업로드",(0,l.jsxs)("div",{className:"Body5_M text-grey50 flex items-center gap-[8px]",children:[(0,l.jsxs)("div",{children:[x.customerName," ",x.customerMdmCode]}),(0,l.jsx)("div",{className:"bg-grey90 h-[12px] w-[1px]"}),(0,l.jsxs)("div",{className:"flex items-center gap-[4px]",children:[(0,l.jsx)("span",{className:"text-secondary50",children:"매입"})," ",x.purchaseMdmCostCenterName,(0,l.jsx)("div",{className:"bg-grey50 h-[4px] w-[4px] rounded-full"}),(0,l.jsx)("span",{className:"text-tertiary50",children:"매출"})," ",x.salesMdmCostCenterName]})]})]}),editMode:"cell",columns:vy,excelDownload:{fileName:"(양식)차량관리_월대차량(Admin)",isUsedExcelTemplateCommon:!0,serviceType:R.MFT.ADMIN_PORTAL,excelTemplateDownloadType:R.wSo.MONTHLY_VEHICLE},excelUpload:{isValidUploadClick:S,setExcelFile:_,excelResponseList:null!==(t=null==w?void 0:w.validationResultList)&&void 0!==t?t:[],resetList:O,isSuccess:M},excelValidation:{checkValidation:D,isSuccess:j,excelValidationResponseList:null==L?void 0:L.validationResultList},uploadListRegister:{setExcelUploadList:P,isSuccess:C,successMessage:{dataName:"차량관리_월대차량",successCount:null==L?void 0:L.validationResultList.length}}}),(0,l.jsx)(We,{excelFileName:"월대차량_".concat(x.customerName),isSuccessExcel:v,excelData:A,handleExcelDownload:E})]})]})}}),rightSidePanel:(0,l.jsx)(Py,{settlementMonthlyRateGroupIdProps:N,detailTitle:x,handleSearch:m,monthlyVendorOptions:B,isNew:a,vehicleCount:a?0:T}),"data-sentry-element":"TmsBasicSlidePanel","data-sentry-source-file":"VehicleMonthly.tsx"}),t&&n&&(0,l.jsx)(Vy,{onClose:()=>o(!1),monthlyCustomerOptions:p,customerId:null==i?void 0:i.customerId,getCustomerIdCostCenter:b})]})},[s.XH]:pN,[s.gS]:QN,[s.G$]:TN,[s.tf]:function(e){let{menuName:t}=e;const{mainColumns:a,subColumns:s}={mainColumns:(0,r.useMemo)((()=>[{field:"__No__",headerName:"No.",sortable:!1,width:48,align:"center",type:da._.VIEW_MODE_ID},{field:"mdmMaterialCode",headerName:"물자코드",sortable:!1,width:106},{field:"mdmMaterialName",headerName:"물자명",sortable:!1,width:564,flex:1},{field:"itemCount",headerName:"소속 품목(개)",sortable:!1,width:160}]),[]),subColumns:(0,r.useMemo)((()=>[{field:"__No__",headerName:"No.",sortable:!1,width:48,align:"center",type:da._.VIEW_MODE_ID},{field:"mdmItemCode",headerName:"품목 코드",sortable:!1,width:106},{field:"mdmItemName",headerName:"품목 명",sortable:!1,width:724,flex:1}]),[])},n=(0,r.useRef)(null),o=(0,D.bBi)(),i=(0,r.useRef)(null),d=(0,D.bBi)(),{mutateAsync:c,isSuccess:u,data:m}=(0,T.n)(["useMdmItemManagementListMutation"],(async e=>(await I.q.api((t=>t.ApiCommonV1MdmItemManagementList(e)))).data.result)),[p,h]=(0,r.useState)({}),[f,C]=(0,r.useState)(0),[x,N]=(0,r.useState)(0);return(0,r.useEffect)((()=>{var e,t,a;u&&(null===(e=n.current)||void 0===e||e.setInitData(null!==(a=m.materialList)&&void 0!==a?a:[]),null===(t=i.current)||void 0===t||t.setInitData([]),C(m.materialList.length),N(0))}),[m]),(0,l.jsxs)("div",{className:"relative flex h-full w-full flex-col","data-sentry-component":"MdmItemManagementPanel","data-sentry-source-file":"MdmItemManagementPanel.tsx",children:[(0,l.jsx)("div",{className:"bg-grey98",children:(0,l.jsx)(xl,{title:t,"data-sentry-element":"ContentHeader","data-sentry-source-file":"MdmItemManagementPanel.tsx"})}),(0,l.jsxs)("div",{className:"flex h-full flex-col overflow-auto",children:[(0,l.jsx)(Ve.A.Provider,{params:p,setParams:h,onSearch:async e=>{await c(e)},"data-sentry-element":"SearchFilter.Provider","data-sentry-source-file":"MdmItemManagementPanel.tsx",children:e=>(0,l.jsxs)(xt.A,{children:[(0,l.jsx)(Ve.A.SearchText,{label:"물자명",placeholder:"물자명 입력",fieldName:"searchMaterialName",className:"w-[318]"}),(0,l.jsx)(Ve.A.SearchText,{label:"품목명",placeholder:"품목명 입력",fieldName:"searchItemName",className:"w-[275px]"})]})}),(0,l.jsxs)("div",{className:"border-grey90 flex min-h-0 flex-1 flex-row gap-[24px] overflow-scroll border-t-[1px] px-[40px]",children:[(0,l.jsxs)("div",{className:"flex min-h-0 flex-1 flex-col overflow-auto",children:[(0,l.jsx)("div",{className:"flex items-center gap-[8px] py-[21px]",children:(0,l.jsxs)("div",{className:"Body2_B",children:["메인 메뉴",(0,l.jsxs)("span",{className:"Body4_M text-grey50 ml-[4px]",children:["(",f,"건)"]})]})}),(0,l.jsx)("div",{className:"grid-area min-h-0 flex-1 overflow-auto",children:(0,l.jsx)(Fa.A,{ref:n,gridApiRef:o,columns:a,initialState:{aggregation:{model:{id:"totalCount",localAmount:"sum"}}},onRowDoubleClick:e=>{var t,a;(t=e.row.itemList)&&(null===(a=i.current)||void 0===a||a.setInitData(null!=t?t:[]),N(t.length))},"data-sentry-element":"WrapperBasicDataGrid","data-sentry-source-file":"MdmItemManagementPanel.tsx"})})]}),(0,l.jsxs)("div",{className:"flex min-h-0 flex-1 flex-col overflow-auto",children:[(0,l.jsx)("div",{className:"flex items-center gap-[8px] py-[21px]",children:(0,l.jsxs)("div",{className:"Body2_B",children:["서브 메뉴",(0,l.jsxs)("span",{className:"Body4_M text-grey50 ml-[4px]",children:["(",x,"건)"]})]})}),(0,l.jsx)("div",{className:"grid-area min-h-0 flex-1 overflow-auto",children:(0,l.jsx)(Fa.A,{ref:i,gridApiRef:d,columns:s,initialState:{aggregation:{model:{id:"totalCount",localAmount:"sum"}}},"data-sentry-element":"WrapperBasicDataGrid","data-sentry-source-file":"MdmItemManagementPanel.tsx"})})]})]})]})]})},[s._y]:function(e){let{menuName:t}=e;const{columns:a}={columns:(0,r.useMemo)((()=>[{field:"__No__",headerName:"No.",sortable:!1,width:48,align:"center",type:da._.VIEW_MODE_ID},{field:"mdmNodeCode",headerName:"노드 ID",sortable:!1,width:120},{field:"name",headerName:"노드명",sortable:!1,width:270},{field:"level1",sortable:!1,width:100,renderHeader:()=>(0,l.jsxs)("div",{style:{whiteSpace:"pre-line",textAlign:"center"},children:["1Level","\n","(시/도)"]})},{field:"level2",sortable:!1,width:120,renderHeader:()=>(0,l.jsxs)("div",{style:{whiteSpace:"pre-line",textAlign:"center"},children:["2Level","\n","(시/군/구)"]})},{field:"level3",sortable:!1,width:120,renderHeader:()=>(0,l.jsxs)("div",{style:{whiteSpace:"pre-line",textAlign:"center"},children:["3Level","\n","(구/읍/면/동/로/가)"]})},{field:"level4",sortable:!1,width:120,renderHeader:()=>(0,l.jsxs)("div",{style:{whiteSpace:"pre-line",textAlign:"center"},children:["4Level","\n","(읍/면/동)"]})},{field:"admCode",headerName:"법정동 코드",sortable:!1,width:160},{field:"lat",headerName:"위도",sortable:!1,width:85},{field:"lng",headerName:"경도",sortable:!1,width:85},{field:"zipcode",headerName:"우편번호",sortable:!1,width:85},{field:"customerPlaceCount",headerName:"거래처 마스터 등록(건)",sortable:!1,width:143},{field:"createdBy",headerName:"등록자",sortable:!1,width:70},{field:"createdAt",headerName:"등록일",sortable:!1,width:132,type:da._.VIEW_MODE_YYYYMMDD}]),[])},s=(0,r.useRef)(null),n=(0,D.bBi)(),{mutateAsync:o,isSuccess:i,data:d}=(0,T.n)(["useMdmNodeManagementListMutation"],(async e=>(await I.q.api((t=>t.ApiCommonV1MdmNodeManagementList(e)))).data.result)),{mutateAsync:c,data:u,isSuccess:m}=(0,T.n)(["useMdmNodeManagementListExcelMutation"],(async e=>(await I.q.api((t=>t.ApiCommonV1MdmNodeManagementListExcel(e,{format:"blob"})))).data)),[p,h]=(0,r.useState)({});var f;const C=null!==(f=null==p?void 0:p.level1)&&void 0!==f?f:"";var x;const N=null!==(x=null==p?void 0:p.level2)&&void 0!==x?x:"";var y;const E=null!==(y=null==p?void 0:p.level3)&&void 0!==y?y:"",{mdmNodeLevel1Options:v,mdmNodeLevel2Options:A,mdmNodeLevel3Options:g,mdmNodeLevel4Options:b}=Ny(C,N,E);return(0,r.useEffect)((()=>{h((e=>({...e,level2:null,level3:null,level4:null})))}),[C]),(0,r.useEffect)((()=>{h((e=>({...e,level3:null,level4:null})))}),[N]),(0,r.useEffect)((()=>{h((e=>({...e,level4:null})))}),[E]),(0,r.useEffect)((()=>{var e,t;i&&(null===(e=s.current)||void 0===e||e.setInitData(null!==(t=d.nodeList)&&void 0!==t?t:[]))}),[d]),(0,l.jsxs)("div",{className:"relative w-full","data-sentry-component":"MdmNodeManagementPanel","data-sentry-source-file":"MdmNodeManagementPanel.tsx",children:[(0,l.jsx)("div",{className:"bg-grey98",children:(0,l.jsx)(xl,{title:t,"data-sentry-element":"ContentHeader","data-sentry-source-file":"MdmNodeManagementPanel.tsx"})}),(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsx)(Ve.A.Provider,{params:p,setParams:h,onSearch:async e=>{await o(e)},"data-sentry-element":"SearchFilter.Provider","data-sentry-source-file":"MdmNodeManagementPanel.tsx",children:e=>(0,l.jsxs)(xt.A,{children:[(0,l.jsx)(Ve.A.SearchText,{label:"노드명",placeholder:"노드명 입력",fieldName:"searchNodeName",className:"!max-w-[250]"}),(0,l.jsx)(Ve.A.SearchAutocomplete,{label:"1Level",fieldName:"level1",options:v,autocompleteClassName:"!w-[251px]"}),(0,l.jsx)(Ve.A.SearchAutocomplete,{label:"2Level",fieldName:"level2",options:A,autocompleteClassName:"!w-[251px]"}),(0,l.jsx)(Ve.A.SearchAutocomplete,{label:"3Level",fieldName:"level3",options:g,autocompleteClassName:"!w-[251px]"}),(0,l.jsx)(Ve.A.SearchAutocomplete,{label:"4Level",fieldName:"level4",options:b,autocompleteClassName:"!w-[251px]"})]})}),(0,l.jsx)("div",{className:"h-[calc(100vh-225px)]",children:(0,l.jsx)(Fa.A,{ref:s,gridApiRef:n,columns:a,"data-sentry-element":"WrapperBasicDataGrid","data-sentry-source-file":"MdmNodeManagementPanel.tsx"})}),(0,l.jsx)("div",{className:"border-grey90 absolute bottom-0 ml-auto flex h-[52px] w-full items-center justify-end gap-[8px] border-t-[1px] bg-white px-[40px] py-[12px]",children:(0,l.jsx)(We,{excelFileName:"노드관리",isSuccessExcel:m,excelData:u,handleExcelDownload:async()=>{await c(p)},"data-sentry-element":"TmsBasicDataGridExcelDownload","data-sentry-source-file":"MdmNodeManagementPanel.tsx"})})]})]})},[s.vi]:qv,"/pdf-table":IE,None:zi};function Hv(e){let{path:t="None",restComponentProps:a}=e;const r=Wv[t];return r?(0,l.jsx)(r,{...a,"data-sentry-element":"ContentComponent","data-sentry-component":"ContentContainer","data-sentry-source-file":"ContentContainer.tsx"}):(0,l.jsx)(Wv.None,{})}var Kv=a(78598);var zv=new class{convertMenuData(e){return e.map((e=>{var t,a,l,r;return{name:e.menuName,path:null!==(a=e.menuUrl)&&void 0!==a?a:"",icon:null!==(l=e.iconUrl)&&void 0!==l?l:"",children:null!==(r=null===(t=e.children)||void 0===t?void 0:t.map((e=>{var t,a,l;return{name:e.menuName,path:null!==(a=e.menuUrl)&&void 0!==a?a:"",icon:null!==(l=e.iconUrl)&&void 0!==l?l:"",children:(null===(t=e.children)||void 0===t?void 0:t.length)?this.convertMenuData(e.children):[]}})))&&void 0!==r?r:[]}}))}generateMenu(e){return this.convertMenuData(e)}};const Xv={name:"공지사항",path:s.qD};s.$Q;var Qv=function(){const{resetTabs:e}=ft(),[t,a]=(0,r.useState)([]),[n,o]=(0,r.useState)(Xv),{data:d,isSuccess:c,refetch:u}=(0,Wt.Tr)(),{isSuccess:m,data:p,mutateAsync:h}=(0,T.n)(["userInfo"],(async()=>(await I.q.api((e=>e.ApiAuthV1UserInfo()))).data.result)),{data:f,isSuccess:C,mutateAsync:x}=(0,Wt.fu)({}),[N,y]=(0,r.useState)([]),{data:E,isSuccess:v,mutateAsync:A}=(0,T.n)(["userMenu"],(async()=>(await I.q.api((e=>e.ApiAuthV1UserMenu()))).data.result.menuByAuthorityRoleList)),{setCommonMetaV2List:g}=(0,Je.X)(),{setUser:b}=(0,i.o)(),_=(0,S.useRouter)(),{isAuthenticated:w}=(0,Kv.A)(),O=()=>{o(Xv)};return(0,r.useEffect)((()=>{0}),[_,C]),(0,r.useEffect)((()=>{w&&u()}),[w]),(0,r.useEffect)((()=>{c&&w&&(async()=>{await x([Ze.k.CONTRACT_STATUS_CODE,Ze.k.ROUND_UP_DOWN_CODE,Ze.k.TAX_TYPE_CODE,Ze.k.ITEM_CODE,Ze.k.GL_CATEGORY_CODE,Ze.k.PAYMENT_CONDITION_CODE,Ze.k.NODE_CODE,Ze.k.RATE_CATEGORY_CODE,Ze.k.VEHICLE_TON_CODE,Ze.k.CONTRACT_TERMINATION_REASON_CODE,Ze.k.CONTRACT_CANCEL_TERMINATION_REASON_CODE,Ze.k.VAT_ROUND_UP_DOWN_CODE,Ze.k.DAY_CODE,Ze.k.MATERIAL_CODE,Ze.k.APPROVAL_SECTOR_CODE,Ze.k.SETTLEMENT_WND_REFERENCE_CODE,Ze.k.INDUSTRY_CODE,Ze.k.COMMON_MDM_CORPORATION_CODE,Ze.k.COMMON_MDM_PAYMENT_CONDITION_SALES_CODE,Ze.k.COMMON_MDM_PAYMENT_CONDITION_PURCHASE_CODE,Ze.k.CONTRACT_CATEGORY_CODE,Ze.k.OPERATION_CLASSIFICATION_CODE,Ze.k.EQUIPMENT_CLASSIFICATION_CODE,Ze.k.APPROVAL_STATUS_TYPE,Ze.k.BUSINESS_SIZE_TYPE,Ze.k.LOAD_LIMIT_TYPE,Ze.k.COMMON_GROUP_CODE_TYPE,Ze.k.CUSTOMER_TYPE,Ze.k.FSC_STATUS_TYPE,Ze.k.TAX_TYPE,Ze.k.MDM_STATUS_TYPE,Ze.k.LOAD_UNLOAD_TYPE,Ze.k.LOAD_UNLOAD_METHOD_TYPE,Ze.k.VENDOR_TYPE,Ze.k.BUSINESS_TYPE,Ze.k.HISTORY_CRUD_TYPE,Ze.k.CUSTOMER_ID,Ze.k.VENDOR_ID,Ze.k.CONTRACT_CATEGORY_TYPE,Ze.k.COMMON_MDM_COST_CENTER_SALES_CODE,Ze.k.COMMON_MDM_COST_CENTER_PURCHASE_CODE,Ze.k.COMMON_VENDOR_CODE,Ze.k.COMMON_CUSTOMER_CODE,Ze.k.SALES_COST_TYPE,Ze.k.PURCHASE_COST_TYPE,Ze.k.ORDER_STATUS_TYPE,Ze.k.MANUAL_APPROVAL_STATUS_TYPE,Ze.k.BANK_TYPE_CODE,Ze.k.VENDOR_FI_TYPE,Ze.k.CUSTOMER_FI_TYPE,Ze.k.SALES_VAT_TYPE,Ze.k.PURCHASE_VAT_TYPE,Ze.k.VEHICLE_TYPE,Ze.k.DOCUMENT_TYPE,Ze.k.GOV_GRAIN_ITEM_DETAIL_TYPE,Ze.k.GOV_GRAIN_REGION_TYPE,Ze.k.GOV_GRAIN_PACKAGE_UNIT_TYPE,Ze.k.GOV_GRAIN_TRANSPORT_TYPE,Ze.k.GOV_GRAIN_USAGE_TYPE,Ze.k.GOV_GRAIN_REGION_SUB_TYPE,Ze.k.GOV_GRAIN_CREATION_CHANNEL_TYPE,Ze.k.CUSTOMER_AND_VENDOR_TYPE])})()}),[d,w]),(0,r.useEffect)((()=>{C&&g(f)}),[f]),(0,r.useEffect)((()=>{m&&b(p)}),[m]),(0,r.useEffect)((()=>{if(v&&E){const e=zv.generateMenu(E);y(e)}}),[v]),(0,r.useEffect)((()=>{w&&(h(),A())}),[w]),(e=>{const{setCommonVendorInfoOption:t,setCommonCustomerAllInfoOption:a,setCommonCustomerInfoOption:l,setCommonServiceInfoOption:s,setCommonMdmItemInfoOption:n}=(0,Je.X)(),o=(0,Wt.NN)("useVendorPartnerListMutation"),i=(0,Wt.Ui)({mdmStatusTypes:[R.LRS.COMPLETE,R.LRS.RE_REQUEST,R.LRS.RE_RETURN]}),d=(0,Wt.a$)(),c=(0,Wt.Gc)("useMdmItemListMutation");(0,r.useEffect)((()=>{i.isSuccess?(a(i.data.itemList.map((e=>({id:e.customerId,label:"".concat(e.name,"(").concat(e.mdmCode,"/").concat(e.representativeName,"/").concat(e.registrationNumber,")")})))),l(i.data.itemList.filter((e=>e.mdmStatusType===R.v3K.COMPLETE)).map((e=>({id:e.customerId,label:"".concat(e.name,"(").concat(e.mdmCode,"/").concat(e.representativeName,"/").concat(e.registrationNumber,")")}))))):(a([]),l([]))}),[i.isSuccess]),(0,r.useEffect)((()=>{o.isSuccess?t(o.data.itemList.map(((e,t)=>({...e,id:e.vendorId,label:"".concat(e.name,"/(").concat(e.mdmCode,"/").concat(e.representativeName,"/").concat(e.registrationNumber,")")})))):t([])}),[o.isSuccess]),(0,r.useEffect)((()=>{var e,a;d.isSuccess?s(null!==(a=null===(e=d.data)||void 0===e?void 0:e.map((e=>({id:e.mdmCode,label:e.value,children:e.children}))))&&void 0!==a?a:[]):t([])}),[d.isSuccess]),(0,r.useEffect)((()=>{var e,a;c.isSuccess?n(null!==(a=null===(e=c.data)||void 0===e?void 0:e.itemList.map((e=>({id:e.mdmItemCode,label:e.mdmItemName,tag:e.mdmItemName,mdmMaterialCode:e.mdmMaterialCode,materialName:e.materialName}))))&&void 0!==a?a:[]):t([])}),[c.isSuccess]),(0,r.useEffect)((()=>{e&&(o.mutateAsync({mdmStatusType:R.LAR.COMPLETE}),c.mutateAsync({}))}),[e])})(w),(0,l.jsxs)("main",{className:"relative h-screen overflow-hidden","data-sentry-component":"AuthContainer","data-sentry-source-file":"index.tsx",children:[(0,l.jsx)(M,{onClickTitle:O,"data-sentry-element":"Header","data-sentry-source-file":"index.tsx"}),(0,l.jsx)(oe,{menuData:N,activeTab:n,onClickMenu:e=>{t.find((t=>t.path===e.path))||a([...t,e]),o(e)},"data-sentry-element":"Sidebar","data-sentry-source-file":"index.tsx"}),(0,l.jsx)("div",{className:"fixed left-[68px] top-[52px] z-30",children:(0,l.jsx)(me,{onClickTitle:O,onClickTab:e=>{o(e)},onClickCloseTab:(l,r)=>{l.stopPropagation();const i=t.filter((e=>e.path!==r.path));if(a(i),r.path===s.ps&&e(),(null==n?void 0:n.path)===r.path){let e=Xv;if(i.length>0){const a=t.findIndex((e=>e.path===r.path));e=i[Math.min(a,i.length-1)]}o(e)}},currentTab:n,tabs:t,onClickAllCloseTab:()=>{a([]),o(Xv)},"data-sentry-element":"TabContainer","data-sentry-source-file":"index.tsx"})}),(0,l.jsx)("div",{className:"h-full pl-[68px] pt-[88px]",children:(0,l.jsx)("div",{className:"relative",children:[...t,Xv].map((e=>(0,l.jsx)("div",{className:"cc-content-layout is-parent-content ".concat(e.path===(null==n?void 0:n.path)&&"is-visible"),children:(0,l.jsx)(Hv,{path:e.path,restComponentProps:{menuName:(null==e?void 0:e.name)||""}})},e.path)))})})]})}},5061:function(e,t,a){"use strict";a.r(t);var l=a(63159),r=a(66555),s=a(11855),n=a(54897);t.default=function(e){let{checkedId:t="",options:a=[],isOpened:o=!1,isChecked:i=!1,renderer:d,onSelected:c,className:u,style:m,onClickClose:p}=e;const h=(0,s.useRef)(null);return(0,l.jsxs)("div",{className:"flex flex-row gap-2","data-sentry-component":"DropdownMenu","data-sentry-source-file":"DropdownMenu.tsx",children:[(0,l.jsx)("div",{ref:h,className:"inline-block",children:d}),(0,l.jsx)(r.dxi,{open:o,anchorEl:h.current,role:void 0,placement:"bottom-start",transition:!0,className:u,style:m,onClickOutside:e=>{h.current&&h.current.contains(e.target)||p()},"data-sentry-element":"BasicPopper","data-sentry-source-file":"DropdownMenu.tsx",children:(0,l.jsx)(r.a3i,{autoFocusItem:o,id:"composition-menu","aria-labelledby":"composition-button",className:"border-grey80 rounded-[6px] border-[1px] !p-[4px]",onKeyDown:e=>{"Tab"===e.key?(e.preventDefault(),p()):"Escape"===e.key&&p()},"data-sentry-element":"BasicMenuList","data-sentry-source-file":"DropdownMenu.tsx",children:a.map((e=>{return(0,l.jsxs)(r.Plv,{className:"!px-[8px] !py-[6px]",disabled:!!e.disabled,onClick:(a=String(e.id),e=>{c(a),p()}),children:[(0,l.jsx)("div",{className:"Body5_M text-black",children:e.label}),i&&e.id==t&&(0,l.jsx)("div",{className:"ml-auto",children:(0,l.jsx)(n.A,{width:20,height:20,className:"text-progress"})})]},e.id);var a}))})})]})}},63689:function(e,t,a){"use strict";a.d(t,{A:function(){return x}});var l=a(63159),r=a(11855),s=a(66555),n=a(30395),o=a.n(n),i=a(35293),d=a(19131),c=a(31627),u=a(87881),m=a(56901),p=a(92556),h=a(29447),f=a(97141);const C=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const a=new Map;e.forEach((e=>{e.groupTitle&&(a.has(e.groupTitle)||a.set(e.groupTitle,[]),a.get(e.groupTitle).push(e))}));const l=[];return t.forEach((e=>{const t=a.get(e);t&&t.length>0&&(l.push({id:e,label:e,groupTitle:e,isGroupTitle:!0}),l.push(...t))})),l};function x(e){let{label:t,options:a=[],autocompleteBoxClassName:n,autocompleteBoxSize:x=i.A.Medium,autocompleteClassName:N,autocompleteSize:y=i.A.Medium,componentType:E="autocomplete-filter",selectedId:v,onChange:A=()=>null,onKeyDown:g,required:T=!1,isValidation:I=!1,optionsBoxWidth:b,optionHeight:R=32,firstOptionType:S=null,readOnly:_=!1,disabled:w,placeholder:O="",labelContainerClassName:M="",groupTitleList:D=[],fieldRef:j,...P}=e;const[L,B]=(0,r.useState)(!1),U=(0,r.useMemo)((()=>{let e={id:"",label:""};return null===S?a:("all"===S&&(e={id:"ALL",label:"전체"}),"select"===S&&(e={id:"SELECT",label:"선택"}),[e,...a])}),[a]),V=(0,r.useMemo)((()=>{if(null!=v&&!L){var e;const t=U.find((e=>{var t;return(null===(t=e.id)||void 0===t?void 0:t.toString())===(null==v?void 0:v.toString())}))||{id:"",label:""};return{...t,id:null===(e=t.id)||void 0===e?void 0:e.toString()}}return{id:"",label:""}}),[v,U,L]),F=(0,r.useMemo)((()=>(0,r.forwardRef)((function(e,t){const{children:a,...s}=e,n=(0,r.useRef)(null),o=(0,r.useRef)({});(0,r.useEffect)((()=>{n.current&&n.current.resetAfterIndex(0)}),[a]);return(0,l.jsx)("div",{ref:t,...s,children:(0,l.jsx)(h._m,{ref:n,height:Math.min(8,r.Children.count(a))*R,itemCount:r.Children.count(a),itemSize:function(e){return o.current[e]||R},width:"max content",children:e=>{let{index:t,style:s}=e;const i=(0,r.useRef)(null);return(0,r.useEffect)((()=>{if(i.current){const a=i.current.getBoundingClientRect().height;var e;if(o.current[t]!==a)o.current[t]=a,null===(e=n.current)||void 0===e||e.resetAfterIndex(t)}}),[t,a]),(0,l.jsx)("div",{style:{...s,height:"auto"},"data-sentry-component":"Row","data-sentry-source-file":"TmsBasicAutocomplete.tsx",children:(0,l.jsx)("div",{ref:i,style:{whiteSpace:"normal",wordBreak:"normal"},children:a[t]})})}})})}))),[R]);return(0,l.jsxs)("div",{className:o()("basic-autocomplete-box flex items-center gap-[8px]",n,x),"data-sentry-component":"TmsBasicAutocomplete","data-sentry-source-file":"TmsBasicAutocomplete.tsx",children:[t&&(0,l.jsx)(d.A,{label:t,required:T,labelContainerClassName:M}),(0,l.jsx)(s.dYn,{value:V,options:U,renderInput:e=>{var t;return(0,l.jsx)(f.A,{...e,placeholder:O,inputProps:{...e.inputProps,className:o()(null===(t=e.inputProps)||void 0===t?void 0:t.className,{"!p-4":w})},inputRef:j})},filterOptions:(e,t)=>{if(!t.inputValue)return U;const a=e.filter((e=>{var a;return(null===(a=e.label)||void 0===a?void 0:a.toLowerCase().includes(t.inputValue.toLowerCase()))&&!e.isGroupTitle}));return(null==D?void 0:D.length)&&(null==D?void 0:D.length)&&a.length?C(a,D):a},ListboxComponent:P.groupBy?void 0:F,getOptionKey:e=>e.id,className:o()("basic-autocomplete basic-autocomplete-css",N,y,E),onKeyDown:e=>{"ArrowUp"!==e.key&&"ArrowDown"!==e.key&&" "!==e.key||e.stopPropagation()},onChange:(e,t,a,l)=>{const r=t||{id:null,label:null};if("clear"===a)return A(e,{id:null,label:null},a,l),void B(!0);A(e,r,a,l),B(!1)},popupIcon:!w&&(0,l.jsx)(c.A,{width:"16",height:"16",className:"text-grey60"}),clearIcon:(0,l.jsx)(u.A,{width:"16",height:"16",className:"text-grey60"}),renderOption:(e,t,a)=>{let{selected:r}=a;var s,n;const{className:i,...d}=e;if(t.isGroupTitle)return(0,l.jsx)("li",{...e,className:"Caption2_B text-grey70 pointer-events-none my-2 px-2",children:t.label});const c=(null===(s=t.id)||void 0===s?void 0:s.toString())===(null===(n=V.id)||void 0===n?void 0:n.toString());return(0,l.jsxs)("li",{className:o()("m-0 !mx-[4px] flex cursor-pointer gap-[8px] px-[8px] py-[6px]",i),...d,children:[(0,l.jsx)("span",{className:"Body5_M",children:t.label}),c&&(0,l.jsx)(m.A,{width:20,className:"text-blue50 ml-auto"})]})},slotProps:{popper:{modifiers:[{name:"offset",options:{offset:[0,4]}}],sx:{width:b?"".concat(b,"px!important"):"autocomplete-table"===E?"!w-full":"",maxWidth:"452px",border:"1px solid #C9CDD7",borderRadius:"6px",padding:"0",boxShadow:"0 0 12px 0 #0000001A","& .MuiAutocomplete-listbox":{padding:"4px 0",overflowY:"auto",listStyle:"none","&::-webkit-scrollbar":{display:"none"},scrollbarWidth:"none",margin:0,"& div > div > div":{}}}}},noOptionsText:(0,l.jsx)(p.A,{type:"select",description_1:"조회 결과가 없습니다.",description_2:"검색어를 확인해 주세요."}),readOnly:_,disabled:w,...P,"data-sentry-element":"BasicAutocomplete","data-sentry-source-file":"TmsBasicAutocomplete.tsx"})]})}},78976:function(e,t,a){"use strict";a.d(t,{A:function(){return g}});var l,r=a(63159),s=a(11855),n=a(66555);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},o.apply(null,arguments)}var i,d=function(e){return s.createElement("svg",o({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},e),l||(l=s.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M18 3h2c.55 0 1 .45 1 1v16c0 .55-.45 1-1 1H4c-.55 0-1-.45-1-1V4c0-.55.45-1 1-1h2V1.25c0-.14.11-.25.25-.25h1.1c.14 0 .25.11.25.25V3h8.8V1.25c0-.14.11-.25.25-.25h1.1c.14 0 .25.11.25.25zm1.4 1.6H4.6v2.8h14.8zM4.6 19.4h14.8V9H4.6zM7.25 12h1.1a.25.25 0 0 1 .25.25v1.1a.25.25 0 0 1-.25.25h-1.1a.25.25 0 0 1-.25-.25v-1.1a.25.25 0 0 1 .25-.25m5.5 0h-1.1a.25.25 0 0 0-.25.25v1.1c0 .138.112.25.25.25h1.1a.25.25 0 0 0 .25-.25v-1.1a.25.25 0 0 0-.25-.25m2.9 0h1.1a.25.25 0 0 1 .25.25v1.1a.25.25 0 0 1-.25.25h-1.1a.25.25 0 0 1-.25-.25v-1.1a.25.25 0 0 1 .25-.25",clipRule:"evenodd"})))};function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},c.apply(null,arguments)}var u,m=function(e){return s.createElement("svg",c({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none"},e),i||(i=s.createElement("path",{fill:"#868C98",d:"m13.2 16.623-4.483-4.5a.17.17 0 0 1 0-.24l4.483-4.5a.17.17 0 0 1 .239 0l.511.514a.17.17 0 0 1 0 .24l-3.892 3.906 3.892 3.82a.17.17 0 0 1 0 .24l-.511.514a.17.17 0 0 1-.24 0z"})))};function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},p.apply(null,arguments)}var h,f=function(e){return s.createElement("svg",p({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none"},e),u||(u=s.createElement("path",{fill:"#868C98",d:"m10.8 16.623 4.483-4.5a.17.17 0 0 0 0-.24l-4.483-4.5a.17.17 0 0 0-.239 0l-.511.514a.17.17 0 0 0 0 .24l3.892 3.906-3.892 3.82a.17.17 0 0 0 0 .24l.511.514a.17.17 0 0 0 .24 0z"})))};function C(){return C=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},C.apply(null,arguments)}var x=function(e){return s.createElement("svg",C({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},e),h||(h=s.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"m17.65 14.46-5.46-6.37a.246.246 0 0 0-.38 0l-5.46 6.37c-.14.16-.02.41.19.41h10.93c.21 0 .32-.25.19-.41z",clipRule:"evenodd"})))},N=a(31627),y=a(30395),E=a.n(y),v=a(59300),A=a.n(v);var g=function(e){let{value:t,format:a="YYYY-MM-DD",datePickerClassName:l,componentType:s="date-picker-filter",placeholder:o,...i}=e;const c=A()(t).isValid()?t:null;return(0,r.jsx)(n.Zrh,{value:c,datePickerClassName:E()("basic-datepicker",l,s),openPickerIcon:(0,r.jsx)(d,{className:"".concat(i.readOnly?"text-grey80":"text-red")}),chevronLeftIcon:(0,r.jsx)(m,{}),chevronRight:(0,r.jsx)(f,{}),arrowUpIcon:(0,r.jsx)(x,{}),arrowDownIcon:(0,r.jsx)(N.A,{}),format:a,slotProps:{textField:{placeholder:null!=o?o:a}},...i,"data-sentry-element":"BasicDatePicker","data-sentry-component":"TmsBasicDatePicker","data-sentry-source-file":"TmsBasicDatePicker.tsx"})}},41437:function(e,t,a){"use strict";var l=a(63159),r=a(30395),s=a.n(r),n=a(11855),o=a(35293),i=a(19131);const d=n.forwardRef(((e,t)=>{const{label:a,labelContainerClassName:r,className:n,classNameInput:d="common-ui-box",sizeType:c=o.A.Medium,componentType:u="input-filter",rightIcon:m,isValidation:p=!1,value:h,...f}=e;return(0,l.jsxs)("div",{className:s()("flex items-center gap-[8px]",n),children:[a&&(0,l.jsx)(i.A,{label:a,labelContainerClassName:r}),(0,l.jsxs)("div",{className:s()("tms-basic-input-box",d),children:[(0,l.jsx)("input",{ref:t,className:s()("tms-basic-input",c,u,{"input-filled":!!h,"input-right-icon":m,"input-validation":p}),...f,value:h}),m]})]})}));t.A=d},46706:function(e,t,a){"use strict";a.d(t,{A:function(){return o}});var l=a(63159),r=(a(11855),a(66555)),s=a(30395),n=a.n(s);function o(e){let{value:t,placeholder:a,onChange:s,slotProps:o,className:i,...d}=e;return(0,l.jsx)(r.L2u,{className:n()("tms-basic-input-mui",i),value:0===t?void 0:t,placeholder:a,onChange:s,slotProps:o,...d,"data-sentry-element":"BasicInput","data-sentry-component":"TmsBasicInputMui","data-sentry-source-file":"TmsBasicInputMui.tsx"})}},22034:function(e,t,a){"use strict";a.d(t,{A:function(){return p}});var l,r=a(63159),s=a(11855);function n(){return n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},n.apply(null,arguments)}var o=function(e){return s.createElement("svg",n({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},e),l||(l=s.createElement("path",{fill:"currentColor",d:"M17.93 16.79c.09.1.09.26 0 .36l-.78.78c-.1.09-.26.09-.36 0L12 13.14l-4.79 4.79c-.1.09-.26.09-.36 0l-.78-.78a.274.274 0 0 1 0-.36L10.86 12 6.07 7.21a.274.274 0 0 1 0-.36l.78-.78c.1-.09.26-.09.36 0L12 10.86l4.79-4.79c.1-.09.26-.09.36 0l.78.78c.09.1.09.26 0 .36L13.14 12z"})))},i=a(51409),d=a(66555),c=a(86073),u=a(30395),m=a.n(u);var p=function(e){let{title:t,children:a,modalWidth:l=648,modalContentHeight:s=520,confirmButtonLabel:n="확인",confirmButtonClassName:u,confirmButtonDisabled:p=!1,isShowedBottomButton:h=!1,isShowedConfirmButton:f=!0,contentClassName:C="",bottomButtonLabel:x="취소",bottomButtonClassName:N,bottomButtonDisabled:y,onClickConfirmButton:E,onClickCloseButton:v,onClickBottomButton:A,containerClassName:g,closeButtonClassName:T}=e;return(0,r.jsx)(d.Iy4,{isOpened:!0,modalWidth:l,onClickCloseButton:v,"data-sentry-element":"BasicModal","data-sentry-component":"TmsBasicModal","data-sentry-source-file":"TmsBasicModal.tsx",children:(0,r.jsxs)("div",{className:m()("relative rounded-lg",g),children:[(0,r.jsxs)("div",{className:"flex items-end justify-end gap-[16px] rounded-tl-lg rounded-tr-lg px-[24px] pt-[24px]",children:[(0,r.jsx)("div",{className:"Title3_EX flex w-full",children:t}),(0,r.jsx)(o,{className:m()("ml-auto cursor-pointer",T),onClick:v,width:"24",height:"24","data-sentry-element":"ModalCloseIcon","data-sentry-source-file":"TmsBasicModal.tsx"})]}),(0,r.jsx)("div",{className:m()("box-content h-[calc(100vh-200px)] overflow-y-auto px-[24px] pt-[24px] ".concat(f?"pb-[64px]":"pb-[24px]"),C),style:{height:"".concat(s,"px")},children:a}),(h||f)&&(0,r.jsx)("div",{className:"absolute bottom-0 flex w-full items-center rounded-bl-lg rounded-br-lg bg-white px-[24px] pb-[24px]",children:(0,r.jsxs)("div",{className:"flex w-full flex-row items-center justify-between gap-[8px]",children:[h&&(0,r.jsx)(c.A,{label:x,className:N,disabled:y,level:i.V.level_4,size:i.M.Large,onClick:A}),f&&(0,r.jsx)(c.A,{type:"submit",className:"ml-auto self-end ".concat(u),size:i.M.Large,level:i.V.level_2,label:n,onClick:E,disabled:p})]})})]})})}},10346:function(e,t,a){"use strict";a.d(t,{A:function(){return c}});var l=a(63159),r=a(11855),s=a(30395),n=a.n(s),o=a(19131),i=a(66555),d=a(35293);function c(e){let{label:t,value:a,options:s=[],componentType:c="selectBox-filter",required:u=!1,isValidation:m=!1,optionsBoxWidth:p=200,optionHeight:h=32,firstOptionType:f=null,placeholder:C="",labelContainerClassName:x="",handleChange:N=()=>null,selectBoxSize:y=d.A.Medium,readOnly:E=!1,disabled:v,...A}=e;const[g,T]=(0,r.useState)(void 0);return(0,r.useEffect)((()=>{T(a)}),[a]),(0,l.jsxs)("div",{className:n()("basic-selectBox-box flex items-center gap-[8px]",y),"data-sentry-component":"TmsBasicSelectBox","data-sentry-source-file":"TmsBasicSelectBox.tsx",children:[t&&(0,l.jsx)(o.A,{label:t,required:u,labelContainerClassName:x}),(0,l.jsx)(i.I_U,{value:g,options:s,className:n()("basic-selectBox",c),onChange:e=>{N(e.target.value),T(e.target.value)},sx:{width:p,height:y===d.A.Large?32:y===d.A.Medium?30:28,"&.MuiList-root":{padding:0}},readOnly:E,disabled:v,...A,"data-sentry-element":"BasicSelectBox","data-sentry-source-file":"TmsBasicSelectBox.tsx"})]})}},50196:function(e,t,a){"use strict";a.d(t,{W:function(){return l}});var l,r=a(63159);a(11855);!function(e){e.Large="large",e.Medium="medium"}(l||(l={})),t.A=function(e){let{leftItem:t,rightItem:a,switchClassName:l,switchSize:s="large",selectedItemValue:n,setSelectedItem:o}=e;const i="border-grey90 border-[1px] bg-white px-[8px] py-[3px] rounded-[7px] text-black transition-opacity duration-500";return(0,r.jsxs)("div",{className:"border-grey90 text-grey60 bg-grey95 flex h-[".concat("medium"===s?28:32,"px] w-full cursor-pointer items-center rounded-[8px] border-[1px] ").concat(l),"data-sentry-component":"TmsBasicTextSwitch","data-sentry-source-file":"TmsBasicTextSwitch.tsx",children:[(0,r.jsx)("span",{className:"Body5_B flex flex-1 items-center justify-center px-[7px] ".concat(n===t.value&&i),onClick:()=>o(t),children:t.label}),(0,r.jsx)("span",{className:"Body5_B flex flex-1 items-center justify-center px-[7px] ".concat(n===a.value&&i),onClick:()=>o(a),children:a.label})]})}},15072:function(e,t,a){"use strict";var l=a(63159),r=(a(11855),a(66555)),s=a(30395),n=a.n(s);t.A=function(e){let{isOpened:t,title:a,children:s,statusType:o="normal",transitionTime:i,arrowPosition:d="right",className:c="",...u}=e;return(0,l.jsx)(r.GK2,{isOpened:t,title:a,transitionTime:i,toolTipBoxClassName:"basic-tooltip-box",toolTipClassName:n()("basic-tooltip",o,c,{"left-arrow":"left"===d,"top-right-arrow":"top-right"===d}),...u,"data-sentry-element":"BasicTooltip","data-sentry-component":"TmsBasicTooltip","data-sentry-source-file":"TmsBasicTooltip.tsx",children:s})}},92556:function(e,t,a){"use strict";a.d(t,{A:function(){return i}});var l,r=a(63159),s=a(11855);function n(){return n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},n.apply(null,arguments)}var o=function(e){return s.createElement("svg",n({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},e),l||(l=s.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18.4c-4.63 0-8.4-3.77-8.4-8.4S7.37 3.6 12 3.6s8.4 3.77 8.4 8.4-3.77 8.4-8.4 8.4M12.55 7h-1.1a.25.25 0 0 0-.25.25v1.1c0 .138.112.25.25.25h1.1a.25.25 0 0 0 .25-.25v-1.1a.25.25 0 0 0-.25-.25m-1.1 3h1.1a.25.25 0 0 1 .25.25v6.5a.25.25 0 0 1-.25.25h-1.1a.25.25 0 0 1-.25-.25v-6.5a.25.25 0 0 1 .25-.25",clipRule:"evenodd"})))};function i(e){let{type:t="table",description_1:a="조회된 내용이 없습니다.",description_2:l}=e;return(0,r.jsxs)("div",{className:"flex h-full flex-col items-center justify-center ".concat("table"===t?"p-[24px]":""),"data-sentry-component":"TmsBasicDataGridNoRows","data-sentry-source-file":"TmsBasicDataGridNoRows.tsx",children:[(0,r.jsx)("span",{className:"flex",children:(0,r.jsx)(o,{width:20,height:20,className:"text-grey50","data-sentry-element":"IconInfoLine","data-sentry-source-file":"TmsBasicDataGridNoRows.tsx"})}),(0,r.jsx)("span",{className:"Body4_B text-grey50 mt-[8px]",children:a}),l&&(0,r.jsx)("span",{className:"Body5_M text-grey60 mt-[2px]",children:l})]})}},3403:function(e,t,a){"use strict";a.d(t,{A:function(){return c}});var l,r=a(63159),s=a(11855),n=a(86073),o=a(51409);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},i.apply(null,arguments)}var d=function(e){return s.createElement("svg",i({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},e),l||(l=s.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M4 3h16c.55 0 1 .45 1 1v16c0 .55-.45 1-1 1H4c-.55 0-1-.45-1-1V4c0-.55.45-1 1-1m.6 16.4h14.8V4.6H4.6zm6.6-6.6H7.25c-.14 0-.25-.11-.25-.25v-1.1c0-.14.11-.25.25-.25h3.95V7.25c0-.14.11-.25.25-.25h1.1c.14 0 .25.11.25.25v3.95h3.95c.14 0 .25.11.25.25v1.1c0 .14-.11.25-.25.25H12.8v3.95c0 .14-.11.25-.25.25h-1.1c-.14 0-.25-.11-.25-.25z",clipRule:"evenodd"})))};function c(e){let{label:t="행 추가",isDisabled:a,handleAddRow:l}=e;return(0,r.jsx)(n.A,{label:t,level:o.V.level_5,size:o.M.Small,leftIcon:(0,r.jsx)(d,{width:16,height:16,className:" ".concat(a?"text-primaryDisabled":"text-progress")}),onClick:l,disabled:a,"data-sentry-element":"TmsBasicButton","data-sentry-component":"TmsDataGridAddRowBtn","data-sentry-source-file":"TmsDataGridAddRowBtn.tsx"})}},89559:function(e,t,a){"use strict";a.d(t,{A:function(){return c}});var l,r=a(63159),s=a(11855),n=a(86073),o=a(51409);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},i.apply(null,arguments)}var d=function(e){return s.createElement("svg",i({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},e),l||(l=s.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M16.283 3.29 20.7 7.707l.01.01c.19.18.29.44.29.7v11.584c0 .55-.45.999-1 .999H4c-.55 0-1-.45-1-1V4c0-.55.45-1 1-1h11.583c.26 0 .51.1.7.29m-2.889 4.108V4.599H8.597v2.799zM4.6 19.39h14.792V8.657l-4.058-4.058h-.34v3.398c0 .55-.45 1-1 1H7.998c-.55 0-1-.45-1-1V4.6H4.6zm4.398-5.397c0-1.66 1.339-2.998 2.998-2.998s2.998 1.339 2.998 2.998-1.339 2.998-2.998 2.998a2.994 2.994 0 0 1-2.998-2.998m1.599 0c0 .77.63 1.4 1.399 1.4.77 0 1.4-.63 1.4-1.4s-.63-1.4-1.4-1.4-1.4.63-1.4 1.4",clipRule:"evenodd"})))};function c(e){let{type:t="button",isDisabled:a,className:l,handleSave:s=()=>null}=e;return(0,r.jsx)(n.A,{type:t,label:"저장",level:o.V.level_2,size:o.M.Small,leftIcon:(0,r.jsx)(d,{width:16,height:16,className:"text-white"}),onClick:s,disabled:a,className:l,"data-sentry-element":"TmsBasicButton","data-sentry-component":"TmsDataGridSaveBtn","data-sentry-source-file":"TmsDataGridSaveBtn.tsx"})}},31132:function(e,t,a){"use strict";a.d(t,{JSq:function(){return G},M5I:function(){return f.A},Plv:function(){return p.A},SB3:function(){return o.A},TJY:function(){return C.A},_Zh:function(){return oe},bBi:function(){return y.bBi},bsB:function(){return y.bsB},h5D:function(){return y.h5D},iRd:function(){return i.A},iXB:function(){return u.A},kXN:function(){return Q},kkW:function(){return y.kkW},l9X:function(){return y.l9X},mHZ:function(){return h.A},p6M:function(){return d.A},qVc:function(){return y.qVc},qXc:function(){return m.A},rbL:function(){return y.rbL},s3G:function(){return y.s3G},uBe:function(){return c.Ay}});var l=a(11855),r=a(63159),s=a(10576),n=a(4419),o=a(5476),i=a(43803),d=a(99427),c=a(1059),u=a(62335),m=a(81329),p=a(60445),h=a(93005),f=a(74412),C=a(28553),x=a(18900),N=a(74766),y=a(45641),E=a(97141),v=a(32491),A=a(30395),g=a.n(A),T=a(67327),I=a(55709),b=a(50349),R=a(72564),S=a(28372),_=a(51946),w=a(29447);function O(e,t){for(var a=0;a<t.length;a++){var l=t[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}function M(e){return M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},M(e)}function D(e,t){return!t||"object"!=((a=t)&&"undefined"!=typeof Symbol&&a.constructor===Symbol?"symbol":typeof a)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t;var a}function j(e,t){return j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},j(e,t)}function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,l=M(e);if(t){var r=M(this).constructor;a=Reflect.construct(l,arguments,r)}else a=l.apply(this,arguments);return D(this,a)}}var L,B,U;l.Component;function V(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function F(e,t){if(null==e)return{};var a,l,r=function(e,t){if(null==e)return{};var a,l,r={},s=Object.keys(e);for(l=0;l<s.length;l++)a=s[l],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(l=0;l<s.length;l++)a=s[l],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function G(e){var t=e.rows,a=e.columns,l=F(e,["rows","columns"]);return(0,r.jsx)(N._,function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},l=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(l=l.concat(Object.getOwnPropertySymbols(a).filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})))),l.forEach((function(t){V(e,t,a[t])}))}return e}({getRowId:function(e){return e.id},rows:t,columns:a},l))}function k(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Y(e,t){if(null==e)return{};var a,l,r=function(e,t){if(null==e)return{};var a,l,r={},s=Object.keys(e);for(l=0;l<s.length;l++)a=s[l],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(l=0;l<s.length;l++)a=s[l],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function q(e){var t=e.value,a=e.className,l=e.options,n=void 0===l?[]:l;e.placeholder;var o=e.onChange,i=e.onKeyDown,d=Y(e,["value","className","options","placeholder","onChange","onKeyDown"]);return(0,r.jsx)(s.A,function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},l=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(l=l.concat(Object.getOwnPropertySymbols(a).filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})))),l.forEach((function(t){k(e,t,a[t])}))}return e}({value:t,className:a,options:n,onChange:o,onKeyDown:i},d))}function W(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function H(e,t){if(null==e)return{};var a,l,r=function(e,t){if(null==e)return{};var a,l,r={},s=Object.keys(e);for(l=0;l<s.length;l++)a=s[l],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(l=0;l<s.length;l++)a=s[l],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function K(e){var t=e.className,a=e.value,l=e.onChange,s=e.placeholder,n=H(e,["className","value","onChange","placeholder"]);return(0,r.jsx)(E.A,function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},l=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(l=l.concat(Object.getOwnPropertySymbols(a).filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})))),l.forEach((function(t){W(e,t,a[t])}))}return e}({variant:"outlined",className:t,value:a,placeholder:s,onChange:l},n))}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,l=new Array(t);a<t;a++)l[a]=e[a];return l}function X(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var l,r,s=[],n=!0,o=!1;try{for(a=a.call(e);!(n=(l=a.next()).done)&&(s.push(l.value),!t||s.length!==t);n=!0);}catch(e){o=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw r}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return z(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(a);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return z(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(e){var t=e.option,a=e.isLoading,s=void 0!==a&&a,n=e.className,o=e.style,i=void 0===o?{width:"100%",height:"100%"}:o,d=(0,l.useRef)(null),c=(0,l.useRef)(!1),u=X((0,l.useState)(null),2),m=u[0],p=u[1];return(0,l.useEffect)((function(){return function(){if(d.current&&!m&&!c.current){var e=v.Ts(d.current);c.current=!0,e.setOption(t),p(e)}}(),window.addEventListener("resize",(function(){null==m||m.resize()})),function(){null==m||m.dispose()}}),[m]),(0,l.useEffect)((function(){s?null==m||m.showLoading():null==m||m.hideLoading()}),[s,m]),(0,l.useEffect)((function(){m&&m.setOption(t)}),[t]),(0,r.jsx)("div",{ref:d,className:n,style:i})}function Z(e){var t=e.label,a=e.className,l=e.required,s=void 0!==l&&l,n=e.requiredClassName,o=e.labelContainerClassName;return(0,r.jsx)("div",{className:g()("flex min-w-[56px] flex-1",o),children:(0,r.jsxs)("span",{className:g()("Body5_M text-grey30 relative flex-none",a),children:[t,s&&(0,r.jsx)("span",{className:"bg-decide absolute right-[-4px] top-[4px] h-[3px] w-[3px] flex-none rounded-[3px] ".concat(n)})]})})}function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,l=new Array(t);a<t;a++)l[a]=e[a];return l}function $(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function ee(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},l=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(l=l.concat(Object.getOwnPropertySymbols(a).filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})))),l.forEach((function(t){$(e,t,a[t])}))}return e}function te(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})),e}function ae(e,t){if(null==e)return{};var a,l,r=function(e,t){if(null==e)return{};var a,l,r={},s=Object.keys(e);for(l=0;l<s.length;l++)a=s[l],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(l=0;l<s.length;l++)a=s[l],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function le(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var l,r,s=[],n=!0,o=!1;try{for(a=a.call(e);!(n=(l=a.next()).done)&&(s.push(l.value),!t||s.length!==t);n=!0);}catch(e){o=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw r}}return s}}(e,t)||se(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function re(e){return function(e){if(Array.isArray(e))return J(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||se(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function se(e,t){if(e){if("string"==typeof e)return J(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(a):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?J(e,t):void 0}}function ne(){return(0,r.jsxs)("div",{className:"flex h-full flex-col items-center justify-center",children:[(0,r.jsx)("span",{className:"flex",children:(0,r.jsx)(_.A,{width:20,height:20,className:"text-grey50"})}),(0,r.jsx)("span",{className:"Body4_B text-grey50 mt-[8px]",children:"조회 결과가 없습니다."}),(0,r.jsx)("span",{className:"Body5_M text-grey60 mt-[2px]",children:"검색어를 확인해 주세요."})]})}function oe(e){var t=e.label,a=e.options,s=void 0===a?[]:a,o=e.autocompleteBoxClassName,i=e.autocompleteBoxSize,d=void 0===i?L.Medium:i,c=e.autocompleteClassName,u=e.autocompleteSize,m=void 0===u?L.Medium:u,p=e.componentType,h=void 0===p?"autocomplete-filter":p,f=e.selectedOptionsProps,C=void 0===f?null:f,x=e.onChange,N=void 0===x?function(){return null}:x;e.onKeyDown;var y=e.required,E=void 0!==y&&y,v=e.isValidation,A=void 0!==v&&v,_=e.optionsBoxWidth,O=void 0===_?172:_,M=e.isShowAllOption,D=void 0===M||M,j=e.isShowDefaultOption,P=void 0===j||j,B=e.maxDisplayOptions,U=void 0===B?1e3:B,V=e.enableSearch,F=void 0===V||V,G=e.labelContainerClassName,k=ae(e,["label","options","autocompleteBoxClassName","autocompleteBoxSize","autocompleteClassName","autocompleteSize","componentType","selectedOptionsProps","onChange","onKeyDown","required","isValidation","optionsBoxWidth","isShowAllOption","isShowDefaultOption","maxDisplayOptions","enableSearch","labelContainerClassName"]),Y=le((0,l.useState)(D?s:[]),2),W=Y[0],H=Y[1],z=le((0,l.useState)(!1),2),X=z[0],Q=z[1],J=le((0,l.useState)(""),2),$=J[0],se=J[1],oe=(0,n.Z)(),ie=(0,l.useCallback)((function(e){return H(e)}),[]),de=(0,l.useCallback)((function(e){H(e?s:[])}),[s]),ce=s.length===W.length,ue=function(){N(null,P?[]:null,"clear"),Q(!0),H([]),se("")},me=(0,l.useCallback)((function(e,t,a){if("clear"!==a)if(t.find((function(e){return"ALL"===e.id})))de(!ce),N(null,[],"clear"),Q(!0);else{if("Backspace"===e.key)return void ue();ie&&ie(t),N(e,t,a),Q(!1)}else ue()}),[P,N,de,ce,ie]),pe=(0,l.useCallback)((function(e,t,a){"selectOption"===a||"removeOption"===a||"reset"===a&&W.length>0||("reset"===a&&Q(!0),se(t))}),[W]),he=(0,l.useCallback)((function(e,t){return e.id===t.id}),[]),fe=(0,l.useMemo)((function(){if(!F||!$.trim())return s;var e=$.toLowerCase();return s.filter((function(t){var a,l;return(null===(a=String(t.label))||void 0===a?void 0:a.toLowerCase().includes(e))||(null===(l=t.tag)||void 0===l?void 0:l.toLowerCase().includes(e))}))}),[s,$,F]),Ce=(0,l.useMemo)((function(){var e=fe.slice(0,U);return D?[{id:"ALL",label:"전체",tag:"전체"}].concat(re(e)):e}),[fe,U,D]),xe=(0,l.useCallback)((function(){D&&P&&de(!0),P||(H([]),N(null,null,"clear"))}),[D,P,de,N]),Ne=function(){D&&0===W.length&&(de(!0),N(null,[],"clear"))};return(0,l.useEffect)((function(){if(!X)if(0!==(C||[]).length){var e=s.filter((function(e){return null==C?void 0:C.includes(e.id)}));H(e)}else xe()}),[C]),(0,r.jsxs)("div",{className:g()("basic-autocomplete-multi-box flex items-center gap-[8px]",o,d),children:[t&&(0,r.jsx)(Z,{label:t,required:E,labelContainerClassName:G}),(0,r.jsx)(q,ee({disablePortal:!0,multiple:!0,limitTags:1,value:W,options:Ce,getOptionKey:function(e){return e.id},className:g()("basic-autocomplete-multi",c,m,h,{"autocomplete-validation":A}),disableCloseOnSelect:!0,inputClassName:g()("Body5_M"),onChange:me,onInputChange:pe,inputValue:$,getOptionLabel:function(e){return e.label},getOptionSelected:he,filterOptions:function(e,t){var a=oe(e,t);return t.inputValue?a.filter((function(e){return"ALL"!==e.id})):re(a)},ListboxComponent:(0,l.forwardRef)((function(e,t){var a=e.children,s=ae(e,["children"]),n=l.Children.count(a);if(n<=8)return(0,r.jsx)("div",te(ee({ref:t},s),{children:a}));var o=(0,l.useCallback)((function(e){var t=e.index,l=e.style;return(0,r.jsx)("div",{style:l,children:a[t]})}),[a]);return(0,r.jsx)("div",te(ee({ref:t},s),{children:(0,r.jsx)(w.Y1,{height:256,itemCount:n,itemSize:32,width:"100%",overscanCount:5,children:o})}))})),renderInput:function(e){return(0,r.jsx)(K,te(ee({},e),{onBlur:Ne}))},renderOption:(0,l.useCallback)((function(e,t,a){var l=a.selected,s=e.className,n=ae(e,["className"]);return(0,r.jsxs)("li",te(ee({className:g()("flex cursor-pointer gap-[8px] !px-[6px] py-[4px]",s)},n),{children:[l||ce?(0,r.jsx)(S.A,{width:16,height:16}):(0,r.jsx)(R.A,{width:16,height:16}),(0,r.jsx)("span",{className:"Body5_M",children:t.label})]}))}),[ce]),renderTags:(0,l.useCallback)((function(e,t){return e.length===s.length?(0,r.jsx)("span",{className:"Body5_M",children:"전체"}):e.length>50?(0,r.jsxs)("span",{className:"Body5_M",children:[e.length,"개 선택됨"]}):e.map((function(e,a){var l=t({index:a}),s=l.onDelete,n=l.className,o=ae(l,["onDelete","className"]);return(0,r.jsxs)("div",te(ee({className:g()(n,"max-w-[100px]")},o),{children:[(0,r.jsx)("span",{className:"Caption2_M max-w-[80px] truncate",children:e.tag||e.label||""}),(0,r.jsx)(b.A,{width:12,height:12,className:"text-grey60 cursor-pointer",onClick:s})]}),e.id)}))}),[s.length]),popupIcon:(0,r.jsx)(T.A,{width:"16",height:"16",className:"text-grey60"}),clearIcon:(0,r.jsx)(I.A,{width:"16",height:"16",className:"text-grey60"}),slotProps:{popper:{modifiers:[{name:"offset",options:{offset:[0,4]}}],sx:{minWidth:O,maxHeight:408,border:"1px solid #C9CDD7",borderRadius:"6px",boxShadow:"0 0 12px 0 #0000001A","& .MuiAutocomplete-listbox":{padding:"4px 0",overflowY:"auto",listStyle:"none","&::-webkit-scrollbar":{display:"none"},scrollbarWidth:"none",margin:0,"& div > div > div":{height:"32px!important"}}}}},noOptionsText:(0,r.jsx)(ne,{})},k))]})}x.K.setLicenseKey("23a4af03264bb53257a52ebb3097705eTz0xMTI5MDgsRT0xNzY2NzA3MTk5MDAwLFM9cHJlbWl1bSxMTT1zdWJzY3JpcHRpb24sUFY9aW5pdGlhbCxLVj0y"),function(e){e.Large="large",e.Medium="medium",e.Small="small"}(L||(L={})),function(e){e.level_1="level-1",e.level_2="level-2",e.level_3="level-3",e.level_4="level-4",e.level_5="level-5",e.level_6="level-6"}(B||(B={})),function(e){e.Large="large",e.Medium="medium",e.Small="small",e.Xsmall="Xsmall"}(U||(U={}));var ie;!function(e){e.CUSTOM_DATE="customDate",e.CUSTOM_SELECT="customSelect",e.CUSTOM_SELECT_TIME="customSelectTime",e.CUSTOM_NODE_MODAL="customNodeModal",e.CUSTOM_ADDRESS="customAddress",e.CUSTOM_CUSTOMER="customCustomer",e.CUSTOM_Y_OR_N="customYorN",e.CUSTOM_INPUT_TEXT="customInputText",e.CUSTOM_INPUT_NUMBER="customInputNumber",e.VIEW_MODE_DATE="viewModeDate",e.VIEW_MODE_PHONE_NUMBER="viewModePhoneNumber",e.VIEW_MODE_YYYYMMDD="viewModeYYYYMMDD",e.VIEW_MODE_YYYYMMDDHHMM="viewModeYYYYMMDDHHMM",e.VIEW_MODE_YYYYMMDD_DDD="VIEW_MODE_YYYYMMDD_DDD",e.VIEW_MODE_Y_OR_N="viewModeYorN",e.VIEW_MODE_ALL_META="viewModeAllMeta",e.VIEW_MODE_VEHICLE_TON="viewModeVehicleTon",e.VIEW_MODE_ID="viewModeId"}(ie||(ie={}))},57167:function(){}},function(e){e.O(0,[593,561,998,348,604,280,889,20,636,792],(function(){return t=48825,e(e.s=t);var t}));var t=e.O();_N_E=t}]);